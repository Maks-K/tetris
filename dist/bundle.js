/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={187:t=>{"use strict";function e(t,e,o){o=o||2;var s,a,h,c,d,f,v,m=e&&e.length,y=m?e[0]*o:t.length,g=r(t,0,y,o,!0),_=[];if(!g||g.next===g.prev)return _;if(m&&(g=function(t,e,n,o){var s,a,h,c=[];for(s=0,a=e.length;s<a;s++)(h=r(t,e[s]*o,s<a-1?e[s+1]*o:t.length,o,!1))===h.next&&(h.steiner=!0),c.push(p(h));for(c.sort(u),s=0;s<c.length;s++)l(c[s],n),n=i(n,n.next);return n}(t,e,g,o)),t.length>80*o){s=h=t[0],a=c=t[1];for(var x=o;x<y;x+=o)(d=t[x])<s&&(s=d),(f=t[x+1])<a&&(a=f),d>h&&(h=d),f>c&&(c=f);v=0!==(v=Math.max(h-s,c-a))?1/v:0}return n(g,_,o,s,a,v),_}function r(t,e,r,i,n){var o,s;if(n===O(t,e,r,i)>0)for(o=e;o<r;o+=i)s=E(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=E(o,t[o],t[o+1],s);return s&&y(s,s.next)&&(w(s),s=s.next),s}function i(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!y(i,i.next)&&0!==m(i.prev,i,i.next))i=i.next;else{if(w(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function n(t,e,r,u,l,c,p){if(t){!p&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=d(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1)}(n)}(t,u,l,c);for(var f,v,m=t;t.prev!==t.next;)if(f=t.prev,v=t.next,c?s(t,u,l,c):o(t))e.push(f.i/r),e.push(t.i/r),e.push(v.i/r),w(t),t=v.next,m=v.next;else if((t=v)===m){p?1===p?n(t=a(i(t),e,r),e,r,u,l,c,2):2===p&&h(t,e,r,u,l,c):n(i(t),e,r,u,l,c,1);break}}}function o(t){var e=t.prev,r=t,i=t.next;if(m(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(f(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&m(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function s(t,e,r,i){var n=t.prev,o=t,s=t.next;if(m(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=d(a,h,e,r,i),p=d(u,l,e,r,i),v=t.prevZ,y=t.nextZ;v&&v.z>=c&&y&&y.z<=p;){if(v!==t.prev&&v!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,y!==t.prev&&y!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,y.x,y.y)&&m(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;v&&v.z>=c;){if(v!==t.prev&&v!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;y&&y.z<=p;){if(y!==t.prev&&y!==t.next&&f(n.x,n.y,o.x,o.y,s.x,s.y,y.x,y.y)&&m(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function a(t,e,r){var n=t;do{var o=n.prev,s=n.next.next;!y(o,s)&&g(o,n,n.next,s)&&b(o,s)&&b(s,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(s.i/r),w(n),w(n.next),n=t=s),n=n.next}while(n!==t);return i(n)}function h(t,e,r,o,s,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&v(h,u)){var l=T(h,u);return h=i(h,h.next),l=i(l,l.next),n(h,e,r,o,s,a),void n(l,e,r,o,s,a)}u=u.next}h=h.next}while(h!==t)}function u(t,e){return t.x-e.x}function l(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var h,u=r,l=r.x,d=r.y,p=1/0;i=r;do{n>=i.x&&i.x>=l&&n!==i.x&&f(o<d?n:s,o,l,d,o<d?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),b(i,t)&&(h<p||h===p&&(i.x>r.x||i.x===r.x&&c(r,i)))&&(r=i,p=h)),i=i.next}while(i!==u);return r}(t,e)){var r=T(e,t);i(e,e.next),i(r,r.next)}}function c(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function d(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function f(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&g(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(b(t,e)&&b(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||y(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function g(t,e,r,i){var n=x(m(t,e,r)),o=x(m(t,e,i)),s=x(m(r,i,t)),a=x(m(r,i,e));return n!==o&&s!==a||!(0!==n||!_(t,r,e))||!(0!==o||!_(t,i,e))||!(0!==s||!_(r,t,i))||!(0!==a||!_(r,e,i))}function _(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function x(t){return t>0?1:t<0?-1:0}function b(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function T(t,e){var r=new A(t.i,t.x,t.y),i=new A(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function E(t,e,r,i){var n=new A(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(O(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(O(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},713:function(t,e,r){var i;!function(n){var o=n.Promise,s=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var t;return new o((function(e){t=e})),"function"==typeof t}();e?(e.Promise=s?o:O,e.Polyfill=O):void 0===(i=function(){return s?o:O}.call(e,r,e,t))||(t.exports=i);var a="pending",h="sealed",u="fulfilled",l="rejected",c=function(){};function d(t){return"[object Array]"===Object.prototype.toString.call(t)}var p,f="undefined"!=typeof setImmediate?setImmediate:setTimeout,v=[];function m(){for(var t=0;t<v.length;t++)v[t][0](v[t][1]);v=[],p=!1}function y(t,e){v.push([t,e]),p||(p=!0,f(m,0))}function g(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],o=t.then;if("function"==typeof n){r=u;try{i=n(i)}catch(t){T(o,t)}}_(o,i)||(r===u&&x(o,i),r===l&&T(o,i))}function _(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,(function(i){r||(r=!0,e!==i?x(t,i):b(t,i))}),(function(e){r||(r=!0,T(t,e))})),!0}}catch(e){return r||T(t,e),!0}return!1}function x(t,e){t!==e&&_(t,e)||b(t,e)}function b(t,e){t.state_===a&&(t.state_=h,t.data_=e,y(w,t))}function T(t,e){t.state_===a&&(t.state_=h,t.data_=e,y(A,t))}function E(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)g(e[r])}function w(t){t.state_=u,E(t)}function A(t){t.state_=l,E(t)}function O(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof O==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){T(e,t)}try{t((function(t){x(e,t)}),r)}catch(t){r(t)}}(t,this)}O.prototype={constructor:O,state_:a,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(c),fulfilled:t,rejected:e};return this.state_===u||this.state_===l?y(g,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},O.all=function(t){if(!d(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,r){var i=[],n=0;function o(t){return n++,function(r){i[t]=r,--n||e(i)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),r):i[a]=s;n||e(i)}))},O.race=function(t){if(!d(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,r){for(var i,n=0;n<t.length;n++)(i=t[n])&&"function"==typeof i.then?i.then(e,r):e(i)}))},O.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},O.reject=function(t){return new this((function(e,r){r(t)}))}}("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:this)},729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,i,o,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,o||t,s),h=r?r+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},a.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,n,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,n),!0;case 5:return l.fn.call(l.context,e,i,n,o),!0;case 6:return l.fn.call(l.context,e,i,n,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,i);break;case 4:l[u].fn.call(l[u].context,e,i,n);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},a.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,i,n){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||s(this,o);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||n&&!a[h].once||i&&a[h].context!==i)&&u.push(a[h]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},940:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,h=n(t),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))r.call(s,l)&&(h[l]=s[l]);if(e){a=e(s);for(var c=0;c<a.length;c++)i.call(s,a[c])&&(h[a[c]]=s[a[c]])}}return h}},571:t=>{"use strict";t.exports=function(t,e){if(t){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}}},971:function(t,e,r){var i;t=r.nmd(t),function(n){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,h=36,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function v(t){throw RangeError(d[t])}function m(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function y(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+m((t=t.replace(c,".")).split("."),e).join(".")}function g(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function _(t){return m(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+f(t)})).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function b(t,e,r){var i=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;i+=h)t=p(t/35);return p(i+36*t/(t+38))}function T(t){var e,r,i,n,o,s,u,l,c,d,f,m=[],y=t.length,g=0,x=128,T=72;for((r=t.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&v("not-basic"),m.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<y;){for(o=g,s=1,u=h;n>=y&&v("invalid-input"),((l=(f=t.charCodeAt(n++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:h)>=h||l>p((a-g)/s))&&v("overflow"),g+=l*s,!(l<(c=u<=T?1:u>=T+26?26:u-T));u+=h)s>p(a/(d=h-c))&&v("overflow"),s*=d;T=b(g-o,e=m.length+1,0==o),p(g/e)>a-x&&v("overflow"),x+=p(g/e),g%=e,m.splice(g++,0,x)}return _(m)}function E(t){var e,r,i,n,o,s,u,l,c,d,m,y,_,T,E,w=[];for(y=(t=g(t)).length,e=128,r=0,o=72,s=0;s<y;++s)(m=t[s])<128&&w.push(f(m));for(i=n=w.length,n&&w.push("-");i<y;){for(u=a,s=0;s<y;++s)(m=t[s])>=e&&m<u&&(u=m);for(u-e>p((a-r)/(_=i+1))&&v("overflow"),r+=(u-e)*_,e=u,s=0;s<y;++s)if((m=t[s])<e&&++r>a&&v("overflow"),m==e){for(l=r,c=h;!(l<(d=c<=o?1:c>=o+26?26:c-o));c+=h)E=l-d,T=h-d,w.push(f(x(d+E%T,0))),l=p(E/T);w.push(f(x(l,0))),o=b(r,_,i==n),r=0,++i}++r,++e}return w.join("")}s={version:"1.3.2",ucs2:{decode:g,encode:_},decode:T,encode:E,toASCII:function(t){return y(t,(function(t){return l.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return y(t,(function(t){return u.test(t)?T(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,r,e,t))||(t.exports=i)}()},587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,i,n){r=r||"&",i=i||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(r);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var h=t.length;a>0&&h>a&&(h=a);for(var u=0;u<h;++u){var l,c,d,p,f=t[u].replace(s,"%20"),v=f.indexOf(i);v>=0?(l=f.substr(0,v),c=f.substr(v+1)):(l=f,c=""),d=decodeURIComponent(l),p=decodeURIComponent(c),e(o,d)?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o}},361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,i,n){return r=r||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var o=encodeURIComponent(e(n))+i;return Array.isArray(t[n])?t[n].map((function(t){return o+encodeURIComponent(e(t))})).join(r):o+encodeURIComponent(e(t[n]))})).join(r):n?encodeURIComponent(e(n))+i+encodeURIComponent(e(t)):""}},673:(t,e,r)=>{"use strict";e.decode=e.parse=r(587),e.encode=e.stringify=r(361)},575:(t,e,r)=>{"use strict";var i=r(971),n=r(502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){return n.isString(t)&&(t=_(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(673);function _(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!r&&1===t.split("#").length){var x=h.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(_);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,_=_.substr(b.length)}if(r||b||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||b&&m[b]||(_=_.substr(2),this.slashes=!0)}if(!m[b]&&(E||b&&!y[b])){for(var w,A,O=-1,S=0;S<d.length;S++)-1!==(P=_.indexOf(d[S]))&&(-1===O||P<O)&&(O=P);for(-1!==(A=-1===O?_.lastIndexOf("@"):_.lastIndexOf("@",O))&&(w=_.slice(0,A),_=_.slice(A+1),this.auth=decodeURIComponent(w)),O=-1,S=0;S<c.length;S++){var P;-1!==(P=_.indexOf(c[S]))&&(-1===O||P<O)&&(O=P)}-1===O&&(O=_.length),this.host=_.slice(0,O),_=_.slice(O),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var C=this.hostname.split(/\./),M=(S=0,C.length);S<M;S++){var R=C[S];if(R&&!R.match(p)){for(var D="",N=0,L=R.length;N<L;N++)R.charCodeAt(N)>127?D+="x":D+=R[N];if(!D.match(p)){var F=C.slice(0,S),U=C.slice(S+1),B=R.match(f);B&&(F.push(B[1]),U.unshift(B[2])),U.length&&(_="/"+U.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var k=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+k,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[T])for(S=0,M=l.length;S<M;S++){var H=l[S];if(-1!==_.indexOf(H)){var X=encodeURIComponent(H);X===H&&(X=escape(H)),_=_.split(H).join(X)}}var G=_.indexOf("#");-1!==G&&(this.hash=_.substr(G),_=_.slice(0,G));var z=_.indexOf("?");if(-1!==z?(this.search=_.substr(z),this.query=_.substr(z+1),e&&(this.query=g.parse(this.query)),_=_.slice(0,z)):e&&(this.search="",this.query={}),_&&(this.pathname=_),y[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var Y=this.search||"";this.path=k+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",g=r.search||"";r.path=v+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=x||_||r.host&&t.pathname,T=b,E=r.pathname&&r.pathname.split("/")||[],w=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(w&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===E[0])),x)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search))return w&&(r.hostname=r.host=E.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=E.slice(-1)[0],O=(r.host||t.host||E.length>1)&&("."===A||".."===A)||""===A,S=0,P=E.length;P>=0;P--)"."===(A=E[P])?E.splice(P,1):".."===A?(E.splice(P,1),S++):S&&(E.splice(P,1),S--);if(!b&&!T)for(;S--;S)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),O&&"/"!==E.join("/").substr(-1)&&E.push("");var I,C=""===E[0]||E[0]&&"/"===E[0].charAt(0);return w&&(r.hostname=r.host=C?"":E.length?E.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),(b=b||r.host&&E.length)&&!C&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=r(713),e=r(418),i=r.n(e);if(window.Promise||(window.Promise=t.Polyfill),Object.assign||(Object.assign=i()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var n=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-n}}for(var o=Date.now(),s=["ms","moz","webkit","o"],a=0;a<s.length&&!window.requestAnimationFrame;++a){var h=s[a];window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+o-e;return r<0&&(r=0),o=e,window.setTimeout((function(){o=Date.now(),t(performance.now())}),r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var u,l,c,d,p,f,v,m,y,g,_,x,b,T,E,w,A,O=/iPhone/i,S=/iPod/i,P=/iPad/i,I=/\biOS-universal(?:.+)Mac\b/i,C=/\bAndroid(?:.+)Mobile\b/i,M=/Android/i,R=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,D=/Silk/i,N=/Windows Phone/i,L=/\bWindows(?:.+)ARM\b/i,F=/BlackBerry/i,U=/BB10/i,B=/Opera Mini/i,k=/\b(CriOS|Chrome)(?:.+)Mobile/i,j=/Mobile(?:.+)Firefox\b/i,H=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream},X=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n=function(t){return function(e){return e.test(t)}}(r),o={apple:{phone:n(O)&&!n(N),ipod:n(S),tablet:!n(O)&&(n(P)||H(e))&&!n(N),universal:n(I),device:(n(O)||n(S)||n(P)||n(I)||H(e))&&!n(N)},amazon:{phone:n(R),tablet:!n(R)&&n(D),device:n(R)||n(D)},android:{phone:!n(N)&&n(R)||!n(N)&&n(C),tablet:!n(N)&&!n(R)&&!n(C)&&(n(D)||n(M)),device:!n(N)&&(n(R)||n(D)||n(C)||n(M))||n(/\bokhttp\b/i)},windows:{phone:n(N),tablet:n(L),device:n(N)||n(L)},other:{blackberry:n(F),blackberry10:n(U),opera:n(B),firefox:n(j),chrome:n(k),device:n(F)||n(U)||n(B)||n(j)||n(k)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator),G={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e,r=!0;(X.tablet||X.phone)&&(X.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(r=!1),X.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(r=!1));return r?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:X.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!X.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},z=r(729),Y=r.n(z),V=r(187),W=r.n(V),q=r(575);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(u||(u={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(l||(l={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(c||(c={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(d||(d={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(p||(p={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(f||(f={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(v||(v={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(m||(m={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(y||(y={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(g||(g={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(_||(_={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(x||(x={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(b||(b={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(T||(T={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(E||(E={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(w||(w={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(A||(A={})),G.RETINA_PREFIX=/@([0-9\.]+)x/,G.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Z,K=!1;function J(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Q(t){var e=t.toString(16);return"#"+("000000".substr(0,6-e.length)+e)}function $(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}var tt=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[d.NORMAL_NPM]=d.NORMAL,t[d.ADD_NPM]=d.ADD,t[d.SCREEN_NPM]=d.SCREEN,e[d.NORMAL]=d.NORMAL_NPM,e[d.ADD]=d.ADD_NPM,e[d.SCREEN]=d.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function et(t,e){return tt[e?1:0][t]}function rt(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n*e+.5|0)}function it(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function nt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function ot(t){return!(t&t-1||!t)}function st(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function at(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}function ht(t){return 0===t?0:t<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;var ut=0;function lt(){return++ut}var ct={};function dt(t,e,r){if(void 0===r&&(r=3),!ct[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),ct[e]=!0}}var pt,ft={},vt=Object.create(null),mt=Object.create(null),yt=function(){function t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||G.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function gt(t,e){var r=G.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var _t,xt=2*Math.PI,bt=180/Math.PI,Tt=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(_t||(_t={}));var Et=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=_t.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},t}(),wt=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=_t.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new Et(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),At=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=_t.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new Et(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),Ot=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var n=[],o=0,s=i.length;o<s;o++)n.push(i[o].x,i[o].y);i=n}this.points=i,this.type=_t.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r},t}(),St=function(){function t(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=_t.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},t}(),Pt=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),It=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Ct=function(){function t(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new Pt;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new Pt;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(xt-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Mt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Rt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Dt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Nt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Lt=[],Ft=[],Ut=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];Lt.push(e);for(var r=0;r<16;r++)for(var i=Ut(Mt[t]*Mt[r]+Dt[t]*Rt[r]),n=Ut(Rt[t]*Mt[r]+Nt[t]*Rt[r]),o=Ut(Mt[t]*Dt[r]+Dt[t]*Nt[r]),s=Ut(Rt[t]*Dt[r]+Nt[t]*Nt[r]),a=0;a<16;a++)if(Mt[a]===i&&Rt[a]===n&&Dt[a]===o&&Nt[a]===s){e.push(a);break}}for(t=0;t<16;t++){var h=new Ct;h.set(Mt[t],Rt[t],Dt[t],Nt[t],0,0),Ft.push(h)}}();var Bt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Mt[t]},uY:function(t){return Rt[t]},vX:function(t){return Dt[t]},vY:function(t){return Nt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Lt[t][e]},sub:function(t,e){return Lt[t][Bt.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Bt.S:Bt.N:2*Math.abs(e)<=Math.abs(t)?t>0?Bt.E:Bt.W:e>0?t>0?Bt.SE:Bt.SW:t>0?Bt.NE:Bt.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=Ft[Bt.inv(e)];n.tx=r,n.ty=i,t.append(n)}},kt=function(){function t(){this.worldTransform=new Ct,this.localTransform=new Ct,this.position=new It(this.onChange,this,0,0),this.scale=new It(this.onChange,this,1,1),this.pivot=new It(this.onChange,this,0,0),this.skew=new It(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();G.SORTABLE_CHILDREN=!1;var jt=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Et.EMPTY:((t=t||new Et(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},t.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},t.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,v=o*e+a*r+u,m=s*e+h*r+l;c=v<c?v:c,d=m<d?m:d,p=v>p?v:p,f=m>f?m:f,c=(v=o*i+a*r+u)<c?v:c,d=(m=s*i+h*r+l)<d?m:d,p=v>p?v:p,f=m>f?m:f,c=(v=o*e+a*n+u)<c?v:c,d=(m=s*e+h*n+l)<d?m:d,p=v>p?v:p,f=m>f?m:f,c=(v=o*i+a*n+u)<c?v:c,d=(m=s*i+h*n+l)<d?m:d,p=v>p?v:p,f=m>f?m:f,this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},t.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var h=t[a],u=t[a+1];i=h<i?h:i,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},t.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},t.prototype.addVerticesMatrix=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,d=this.minX,p=this.minY,f=this.maxX,v=this.maxY,m=r;m<i;m+=2){var y=e[m],g=e[m+1],_=s*y+h*g+l,x=u*g+a*y+c;d=Math.min(d,_-n),f=Math.max(f,_+n),p=Math.min(p,x-o),v=Math.max(v,x+o)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=v},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}(),Ht=function(t,e){return(Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Xt(t,e){function r(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Gt=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new kt,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new jt,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Xt(e,t),e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Et),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new Et),t=this._localBoundsRect),this._localBounds||(this._localBounds=new jt);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new zt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*bt},set:function(t){this.transform.rotation=t*Tt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(Y()),zt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return Xt(e,t),e}(Gt);function Yt(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Gt.prototype.displayObjectUpdateTransform=Gt.prototype.updateTransform;var Vt=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=G.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Xt(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);at(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,at(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,at(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,i=t,n=e-i;if(n>0&&n<=e){r=this.children.splice(i,n);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Yt),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!r)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t),i=0;for(var n=this.children.length;i<n;i++)this.children[i].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(Gt);Vt.prototype.containerUpdateTransform=Vt.prototype.updateTransform,Gt.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Wt,qt=function(){function t(t){this._hookDiv=null,(X.tablet||X.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(X.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,i=e.width/this.renderer.width*r,n=e.height/this.renderer.height*r,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,at(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--;else{o=a._accessibleDiv;var h=a.hitArea,u=a.worldTransform;a.hitArea?(o.style.left=(u.tx+h.x*u.a)*i+"px",o.style.top=(u.ty+h.y*u.d)*n+"px",o.style.width=h.width*u.a*i+"px",o.style.height=h.height*u.d*n+"px"):(h=a.getBounds(),this.capHitArea(h),o.style.left=h.x*i+"px",o.style.top=h.y*n+"px",o.style.width=h.width*i+"px",o.style.height=h.height*n+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===o.title&&a.tabIndex===o.tabIndex||(o.title=a.accessibleTitle,o.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();G.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Wt||(Wt={}));var Zt=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),Kt=function(){function t(){var t=this;this._head=new Zt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/G.TARGET_FPMS,this.elapsedMS=1/G.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=Wt.NORMAL),this._addListener(new Zt(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Wt.NORMAL),this._addListener(new Zt(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*G.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,G.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Jt=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Wt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Kt.shared:new Kt,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),Qt=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Pt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),$t=function(t,e){return($t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},te=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),ee=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),re=function(){function t(){this._tempPoint=new Pt}return t.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,h=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.recursiveFindHit(t,c,r,i,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},t.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},t}(),ie={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Gt.mixin(ie);var ne={target:null,data:{global:null}},oe=function(t){function e(e,r){var i=t.call(this)||this;return r=r||{},i.renderer=e,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new Qt,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new te,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new re,i._tempDisplayObject=new zt,i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){function r(){this.constructor=t}$t(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return ne.target=null,ne.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(ne,e,null,!0),ne.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Kt.system.add(this.tickerUpdate,this,Wt.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Kt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new ee(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var u=2===i.button,l=ee.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new ee(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new Qt).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Y()),se=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,r,i,n,o,s,a);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(se.prototype,{dispatch:{value:se.prototype.emit},run:{value:se.prototype.emit}}),G.PREFER_ENV=X.any?u.WEBGL:u.WEBGL2,G.STRICT_TEXTURE_CACHE=!1;var ae=[];function he(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=ae.length-1;n>=0;--n){var o=ae[n];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var ue=function(t,e){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function le(t,e){function r(){this.constructor=t}ue(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ce=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new se("setRealSize"),this.onUpdate=new se("update"),this.onError=new se("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),de=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=t.call(this,o,s)||this).data=e,i}return le(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(ce),pe={scaleMode:y.NEAREST,format:f.RGBA,alphaMode:x.NPM},fe=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var i=t.call(this)||this,n=(r=r||{}).alphaMode,o=r.mipmap,s=r.anisotropicLevel,a=r.scaleMode,h=r.width,u=r.height,l=r.wrapMode,c=r.format,d=r.type,p=r.target,y=r.resolution,g=r.resourceOptions;return!e||e instanceof ce||((e=he(e,g)).internal=!0),i.width=h||0,i.height=u||0,i.resolution=y||G.RESOLUTION,i.mipmap=void 0!==o?o:G.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==s?s:G.ANISOTROPIC_LEVEL,i.wrapMode=l||G.WRAP_MODE,i.scaleMode=void 0!==a?a:G.SCALE_MODE,i.format=c||f.RGBA,i.type=d||m.UNSIGNED_BYTE,i.target=p||v.TEXTURE_2D,i.alphaMode=void 0!==n?n:x.UNPACK,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.uid=lt(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=h>0&&u>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return le(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=ot(this.realWidth)&&ot(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete mt[this.cacheId],delete vt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,i){void 0===i&&(i=G.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+lt()),o=t._pixiId);var s=mt[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new e(t,r)).cacheId=o,e.addToCache(s,o)),s},e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var o=new de(t,{width:r,height:i}),s=t instanceof Float32Array?m.FLOAT:m.UNSIGNED_BYTE;return new e(o,Object.assign(pe,n||{width:r,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),mt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),mt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=mt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete mt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete mt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(Y()),ve=function(t){function e(e,r){var i=this,n=r||{},o=n.width,s=n.height;(i=t.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<e;a++){var h=new fe;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return le(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof ce?this.addResourceAt(t[r],r):this.addResourceAt(he(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,i=e.realHeight;return t.resize(r,i),Promise.resolve(t)})),this._load},e}(ce),me=function(t){function e(e,r){var i,n,o=this,s=r||{},a=s.width,h=s.height;return Array.isArray(e)?(i=e,n=e.length):n=e,o=t.call(this,n,{width:a,height:h})||this,i&&o.initFromArray(i,r),o}return le(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=v.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,r){var i=this,n=i.length,o=i.itemDirtyIds,s=i.items,a=t.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var h=0;h<n;h++){var u=s[h];o[h]<u.dirtyId&&(o[h]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,u.resource.width,u.resource.height,1,e.format,e.type,u.resource.source))}return!0},e}(ve),ye=function(t){function e(e){var r=this,i=e,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,n,o)||this).source=e,r.noSubImage=!1,r}return le(e,t),e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,pt||(pt=document.createElement("a")),pt.href=t;var r=(0,q.parse)(pt.href),i=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&i&&r.protocol===e.protocol?"":"anonymous"}(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(ce),ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(ye),_e=function(t){function e(r,i){var n=this,o=i||{},s=o.width,a=o.height,h=o.autoLoad,u=o.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");n=t.call(this,6,{width:s,height:a})||this;for(var l=0;l<e.SIDES;l++)n.items[l].target=v.TEXTURE_CUBE_MAP_POSITIVE_X+l;return n.linkBaseTexture=!1!==u,r&&n.initFromArray(r,i),!1!==h&&n.load(),n}return le(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=v.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=v.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,i),n[o]=s.dirtyId):n[o]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(ve),xe=function(t){function e(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var n=new Image;ye.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}return i=t.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:G.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return le(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var i=e.source;e.url=i.src;var n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===x.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(ye),be=function(t){function e(e,r){var i=this;return r=r||{},(i=t.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return le(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;ye.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*t.scale,o=i*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/i*r,o=t._overrideHeight||t._overrideWidth/r*i),n=Math.round(n),o=Math.round(o);var s=t.source;s.width=n,s.height=o,s._pixiId="canvas_"+lt(),s.getContext("2d").drawImage(e,0,0,r,i,0,0,n,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(ye),Te=function(t){function e(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];ye.crossOrigin(o,s,i.crossorigin);for(var a=0;a<r.length;++a){var h=document.createElement("source"),u=r[a],l=u.src,c=u.mime,d=(l=l||r[a]).split("?").shift().toLowerCase(),p=d.substr(d.lastIndexOf(".")+1);c=c||e.MIME_TYPES[p]||"video/"+p,h.src=l,h.type=c,o.appendChild(h)}r=o}return(n=t.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return le(e,t),e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=Kt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&Kt.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(ye),Ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(ye);ae.push(xe,Ee,ge,Te,be,de,_e,me);var we=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,1===t.context.webGLVersion?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(de),Oe=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new se("disposeFramebuffer"),this.multisample=A.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new fe(null,{scaleMode:y.NEAREST,resolution:1,mipmap:_.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new fe(new Ae(null,{width:this.width,height:this.height}),{scaleMode:y.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:_.OFF,format:f.DEPTH_COMPONENT,type:m.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Se=function(t){function e(e){var r=this;if("number"==typeof e){var i=arguments[0],n=arguments[1],o=arguments[2],s=arguments[3];e={width:i,height:n,scaleMode:o,resolution:s}}r=t.call(this,null,e)||this;var a=e||{},h=a.width,u=a.height;return r.mipmap=0,r.width=Math.ceil(h)||100,r.height=Math.ceil(u)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Oe(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return le(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(fe),Pe=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,h=t.y/n+s;r=Bt.add(r,Bt.NW),this.x0=a+o*Bt.uX(r),this.y0=h+s*Bt.uY(r),r=Bt.add(r,2),this.x1=a+o*Bt.uX(r),this.y1=h+s*Bt.uY(r),r=Bt.add(r,2),this.x2=a+o*Bt.uX(r),this.y2=h+s*Bt.uY(r),r=Bt.add(r,2),this.x3=a+o*Bt.uX(r),this.y3=h+s*Bt.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Ie=new Pe,Ce=function(t){function e(r,i,n,o,s,a){var h=t.call(this)||this;if(h.noFrame=!1,i||(h.noFrame=!0,i=new Et(0,0,1,1)),r instanceof e&&(r=r.baseTexture),h.baseTexture=r,h._frame=i,h.trim=o,h.valid=!1,h._uvs=Ie,h.uvMatrix=null,h.orig=n||i,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=a?new Pt(a.x,a.y):new Pt(0,0),h._updateID=0,h.textureCacheIds=[],r.valid?h.noFrame?r.valid&&h.onBaseTextureUpdated(r):h.frame=i:r.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&r.on("update",h.onBaseTextureUpdated,h),h}return le(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture;r&&r.url&&vt[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===Ie&&(this._uvs=new Pe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,i){void 0===r&&(r={}),void 0===i&&(i=G.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+lt()),o=t._pixiId);var s=vt[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(r.resolution||(r.resolution=gt(t)),(s=new e(new fe(t,r))).baseTexture.cacheId=o,fe.addToCache(s.baseTexture,o),e.addToCache(s,o)),s},e.fromURL=function(t,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),n=e.from(t,Object.assign({resourceOptions:i},r),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then((function(){return Promise.resolve(n)}))},e.fromBuffer=function(t,r,i,n){return new e(fe.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i){var n=new xe(t);n.url=r;var o=new e(new fe(n,{scaleMode:G.SCALE_MODE,resolution:gt(r)}));return i||(i=r),fe.addToCache(o.baseTexture,i),e.addToCache(o,i),i!==r&&(fe.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),vt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),vt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=vt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete vt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)vt[t.textureCacheIds[i]]===t&&delete vt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(Y());function Me(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Ce.EMPTY=new Ce(new fe),Me(Ce.EMPTY),Me(Ce.EMPTY.baseTexture),Ce.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Ce(new fe(new ge(t)))}(),Me(Ce.WHITE),Me(Ce.WHITE.baseTexture);var Re=function(t){function e(e,r){var i=this,n=null;if(!(e instanceof Se)){var o=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),n=arguments[0],r=null,e=new Se({width:o,height:s,scaleMode:a,resolution:h})}return(i=t.call(this,e,r)||this).legacyRenderer=n,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return le(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new Se(t))},e}(Ce),De=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var r=new Se(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new Re(r)},t.prototype.getOptimalTexture=function(e,r,i){void 0===i&&(i=1);var n=t.SCREEN_KEY;e*=i,r*=i,this.enableFullScreen&&e===this._pixelsWidth&&r===this._pixelsHeight||(n=(65535&(e=nt(e)))<<16|65535&(r=nt(r))),this.texturePool[n]||(this.texturePool[n]=[]);var o=this.texturePool[n].pop();return o||(o=this.createTexture(e,r)),o.filterPoolKey=n,o.setResolution(i),o},t.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var r=t.SCREEN_KEY,i=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),Ne=function(){function t(t,e,r,i,n,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,i,n,o){return new t(e,r,i,n,o)},t}(),Le=0,Fe=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Le++,this.disposeRunner=new se("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function Ue(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Be={Float32Array,Uint32Array,Int32Array,Uint8Array},ke={5126:4,5123:2,5121:1},je=0,He={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Xe=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=je++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new se("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Fe||(e instanceof Array&&(e=new Float32Array(e)),e=new Fe(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Ne(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof Fe||(t instanceof Array&&(t=new Uint16Array(t)),t=new Fe(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new Fe;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*ke[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<t.length;o++){var u=e[o],l=t[o],c=Ue(l);n[c]||(n[c]=new Be[c](s)),a=n[c];for(var d=0;d<l.length;d++)a[(d/u|0)*i+h+d%u]=l[d];h+=u}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new Fe(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];e.attributes[r]=new Ne(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r,i=new t,n=[],o=[],s=[],a=0;a<e.length;a++){r=e[a];for(var h=0;h<r.buffers.length;h++)o[h]=o[h]||0,o[h]+=r.buffers[h].data.length,s[h]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(He[Ue(r.buffers[a].data)])(o[a]),i.buffers[a]=new Fe(n[a]);for(a=0;a<e.length;a++)for(r=e[a],h=0;h<r.buffers.length;h++)n[h].set(r.buffers[h].data,s[h]),s[h]+=r.buffers[h].data.length;if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.index=!0;var u=0,l=0,c=0,d=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){d=a;break}for(var a in r.attributes){var p=r.attributes[a];(0|p.buffer)===d&&(l+=p.size*ke[p.type]/4)}for(a=0;a<e.length;a++){var f=e[a].indexBuffer.data;for(h=0;h<f.length;h++)i.indexBuffer.data[h+c]+=u;u+=r.buffers[d].data.length/l,c+=f.length}}return i},t}(),Ge=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return le(e,t),e}(Xe),ze=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Fe(e.vertices),e.uvBuffer=new Fe(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return le(e,t),e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Xe),Ye=0,Ve=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ye++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,i){this.uniforms[e]=new t(r,i)},t.from=function(e,r){return new t(e,r)},t}(),We=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Et,this.destinationFrame=new Et,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),qe=function(t){function e(e){var r=t.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new De,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new Ge,r.quadUv=new ze,r.tempRect=new Et,r.activeState={},r.globalUniforms=new Ve({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return le(e,t),e.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new We,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=this.useMaxPadding?Math.max(s,l.padding):s+l.padding,a=a&&l.autoFit,h=h||l.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var c=this.tempRect;c.width=n.sourceFrame.width,c.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame,c),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=i.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,h.renderTexture,b.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<r.length-1;++c){r[c].apply(this,u,l,b.CLEAR,e);var d=u;u=l,l=d}r[c].apply(this,u,h.renderTexture,b.BLEND,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){if(void 0===e&&(e=b.CLEAR),t&&t.filterFrame){var r=this.tempRect;r.width=t.filterFrame.width,r.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,r)}else this.renderer.renderTexture.bind(t);"boolean"==typeof e&&(e=e?b.CLEAR:b.BLEND,dt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===b.CLEAR||e===b.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(p.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(p.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(Ct.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(we),Ze=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),Ke=function(t){function e(e){var r=t.call(this,e)||this;return r.emptyRenderer=new Ze(e),r.currentRenderer=r.emptyRenderer,r}return le(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,h=0;h<s;h++){var u=n[h],l=u._batchLocation;if(l>=0&&l<i&&e[l]===u)o[h]=l;else for(;a<i;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[h]=a,u._batchLocation=a,e[a]=u;break}a++}}},e}(we),Je=0,Qe=function(t){function e(e){var r=t.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return le(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Je++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Je++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(G.PREFER_ENV>=u.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(we),$e=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=A.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},tr=new Et,er=function(t){function e(e){var r=t.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new Oe(10,10),r.msaaSamples=null,r}return le(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Et,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;G.PREFER_ENV===u.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,r,i,n){void 0===n&&(n=c.COLOR|c.DEPTH);var o=this.gl;o.clearColor(t,e,r,i),o.clear(n)},e.prototype.initFramebuffer=function(t){var e=this.gl,r=new $e(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1)),r.multisample>1&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var n=[],o=0;o<i;o++)if(!(0===o&&r.multisample>1)){var s=t.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(e.COLOR_ATTACHMENT0+o)}if(n.length>1&&e.drawBuffers(n),t.depthTexture&&this.writeDepthTexture){var h=t.depthTexture;this.renderer.texture.bind(h,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,r=A.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=A.NONE),r},e.prototype.blit=function(t,e,r){var i=this,n=i.current,o=i.renderer,s=i.gl,a=i.CONTEXT_UID;if(2===o.context.webGLVersion&&n){var h=n.glFramebuffers[a];if(h){if(!t){if(h.multisample<=1)return;h.blitFramebuffer||(h.blitFramebuffer=new Oe(n.width,n.height),h.blitFramebuffer.addColorTexture(0,n.colorTextures[0])),(t=h.blitFramebuffer).width=n.width,t.height=n.height}e||((e=tr).width=n.width,e.height=n.height),r||(r=e);var u=e.width===r.width&&e.height===r.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,h.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,s.COLOR_BUFFER_BIT,u?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Et},e}(we),rr=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},ir={5126:4,5123:2,5121:1},nr=function(t){function e(e){var r=t.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return le(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;G.PREFER_ENV===u.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);var o=i[e.program.id]||this.initGeometryVao(t,e.program,n);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0),this.checkCompatibility(t,e);var i=this.gl,n=this.CONTEXT_UID,o=this.getSignature(t,e),s=t.glVertexArrayObjects[this.CONTEXT_UID],a=s[o];if(a)return s[e.id]=a,a;var h=t.buffers,u=t.attributes,l={},c={};for(var d in h)l[d]=0,c[d]=0;for(var d in u)!u[d].size&&e.attributeData[d]?u[d].size=e.attributeData[d].size:u[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),l[u[d].buffer]+=u[d].size*ir[u[d].type];for(var d in u){var p=u[d],f=p.size;void 0===p.stride&&(l[p.buffer]===f*ir[p.type]?p.stride=0:p.stride=l[p.buffer]),void 0===p.start&&(p.start=c[p.buffer],c[p.buffer]+=f*ir[p.type])}a=i.createVertexArray(),i.bindVertexArray(a);for(var v=0;v<h.length;v++){var m=h[v];m._glBuffers[n]||(m._glBuffers[n]=new rr(i.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),r&&m._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=a,s[e.id]=a,s[o]=a,a},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var h=r[a];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);for(e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[i];if(e.attributeData[a]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(we),or=function(){function t(t){void 0===t&&(t=null),this.type=w.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=w.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function sr(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function ar(t,e,r,i){var n=sr(t,t.VERTEX_SHADER,e),o=sr(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function hr(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function ur(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return hr(2*e);case"bvec3":return hr(3*e);case"bvec4":return hr(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var lr,cr={},dr=cr;function pr(){if(dr===cr||dr&&dr.isContextLost()){var t=document.createElement("canvas"),e=void 0;G.PREFER_ENV>=u.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),dr=e}return dr}function fr(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===E.HIGH&&r!==E.HIGH&&(i=E.MEDIUM),"precision "+i+" float;\n"+t}return r!==E.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var vr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mr(t){return vr[t]}var yr=null,gr={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function _r(t,e){if(!yr){var r=Object.keys(gr);yr={};for(var i=0;i<r.length;++i){var n=r[i];yr[t[n]]=gr[n]}}return yr[e]}var xr,br=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Tr={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Er={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},wr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ar(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var Or=0,Sr={},Pr=function(){function t(e,r,i){void 0===i&&(i="pixi-shader"),this.id=Or++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),Sr[i]?(Sr[i]++,i+="-"+Sr[i]):Sr[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=fr(this.vertexSrc,G.PRECISION_VERTEX,E.HIGH),this.fragmentSrc=fr(this.fragmentSrc,G.PRECISION_FRAGMENT,function(){if(!lr){lr=E.MEDIUM;var t=pr();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);lr=e.precision?E.HIGH:E.MEDIUM}}return lr}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var r=pr();if(r){var i=ar(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=_r(e,s.type),h={type:a,name:s.name,size:mr(a),location:0};r[s.name]=h,i.push(h)}for(i.sort((function(t,e){return t.name>e.name?1:-1})),o=0;o<i.length;o++)i[o].location=o;return r},t.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),h=_r(e,o.type);r[s]={type:h,size:o.size,isArray:a,value:ur(h,o.size)}}return r},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,i){var n=e+r,o=ft[n];return o||(ft[n]=o=new t(e,r,i)),o},t}(),Ir=function(){function t(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Ve?e:new Ve(e):new Ve({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,i){return new t(Pr.from(e,r),i)},t}(),Cr=function(){function t(){this.data=0,this.blendMode=d.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==d.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Mr=function(t){function e(r,i,n){var o=this,s=Pr.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);return(o=t.call(this,s,n)||this).padding=0,o.resolution=G.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Cr,o}return le(e,t),e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Ir),Rr=new Ct,Dr=function(){function t(t,e){this._texture=t,this.mapCoord=new Ct,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(Rr.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Rr));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Nr=function(t){function e(e){var r=this,i=new Ct;return r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=i,r}return le(e,t),e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Dr(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))},e}(Mr),Lr=function(t){function e(e){var r=t.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return le(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new or;i.pooled=!0,i.maskObject=e,r=i}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case w.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case w.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case w.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case w.SCISSOR:this.renderer.scissor.pop();break;case w.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case w.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=w.SPRITE;else if(t.type=w.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a),n=Math.atan2(r.d,r.c);i=Math.round(i*(180/Math.PI)*100),n=((n=Math.round(n*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0==(i=(i%9e3+9e3)%9e3)&&9e3===n&&(t.type=w.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Nr(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(we),Fr=function(t){function e(e){var r=t.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return le(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(we),Ur=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return le(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-n.x)*s+o.x,h=(t.y-n.y)*s+o.y,u=t.width*s,l=t.height*s;i&&(a+=i.tx*s,h+=i.ty*s),e||(h=this.renderer.height-l-h),this.renderer.gl.scissor(a,h,u,l)},e}(Fr),Br=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return le(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Fr),kr=function(t){function e(e){var r=t.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Ct,r.transform=null,r}return le(e,t),e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/e.width*2,n.d=o*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},e.prototype.setTransform=function(t){},e}(we),jr=new Et,Hr=new Et,Xr=new Et,Gr=function(t){function e(e){var r=t.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new Et,r.destinationFrame=new Et,r}return le(e,t),e.prototype.bind=function(t,e,r){void 0===t&&(t=null);var i,n,o,s=this.renderer;this.current=t,t?(o=(i=t.baseTexture).resolution,e||(jr.width=t.frame.width,jr.height=t.frame.height,e=jr),r||(Hr.x=t.frame.x,Hr.y=t.frame.y,Hr.width=e.width,Hr.height=e.height,r=Hr),n=i.framebuffer):(o=s.resolution,e||(jr.width=s.screen.width,jr.height=s.screen.height,e=jr),r||((r=jr).width=e.width,r.height=e.height)),Xr.x=r.x*o,Xr.y=r.y*o,Xr.width=r.width*o,Xr.height=r.height*o,this.renderer.framebuffer.bind(n,Xr),this.renderer.projection.update(r,e,o,!n),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(we),zr=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),Yr=0,Vr={textureCount:0},Wr=function(t){function e(e){var r=t.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=Yr++,r}return le(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof xr)return xr;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");xr=!0===t({a:"b"},"a","b")}catch(t){xr=!1}return xr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(Vr.textureCount=0,this.syncUniformGroup(t.uniformGroup,Vr)),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},e.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in t.uniforms){var n=e[i];if(n){for(var o=t.uniforms[i],s=!1,a=0;a<br.length;a++)if(br[a].test(n,o)){r.push(br[a].code(i,o)),s=!0;break}if(!s){var h=(1===n.size?Tr:Er)[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+h+";")}}else t.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=ar(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:ur(a.type,a.size)}}var h=new zr(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=h,h},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(we),qr=function(t){function e(e){var r=t.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=d.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new Cr,r.defaultState.blend=!0,r}return le(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[d.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.ADD]=[t.ONE,t.ONE],e[d.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.NONE]=[0,0],e[d.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[d.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[d.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[d.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[d.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[d.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[d.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[d.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[d.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[d.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(we),Zr=function(t){function e(e){var r=t.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=G.GC_MAX_IDLE,r.checkCountMax=G.GC_MAX_CHECK_COUNT,r.mode=G.GC_MODE,r}return le(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==T.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(we),Kr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Jr=function(t){function e(e){var r=t.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new fe,r}return le(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Kr(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Kr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[i]=null)},e.prototype.initTexture=function(t){var e=new Kr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===m.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&at(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==_.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=g.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===y.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===y.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===y.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===y.LINEAR?r.LINEAR:r.NEAREST)},e}(we),Qr=new Ct,$r=function(t){function e(r){var i=t.call(this,l.WEBGL,r)||this;return r=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new se("destroy"),contextChange:new se("contextChange"),reset:new se("reset"),update:new se("update"),postrender:new se("postrender"),prerender:new se("prerender"),resize:new se("resize")},i.globalUniforms=new Ve({projectionMatrix:new Ct},!0),i.addSystem(Lr,"mask").addSystem(Qe,"context").addSystem(qr,"state").addSystem(Wr,"shader").addSystem(Jr,"texture").addSystem(nr,"geometry").addSystem(er,"framebuffer").addSystem(Ur,"scissor").addSystem(Br,"stencil").addSystem(kr,"projection").addSystem(Zr,"textureGC").addSystem(qe,"filter").addSystem(Gr,"renderTexture").addSystem(Ke,"batch"),i.initPlugins(e.__plugins),r.context?i.context.initFromContext(r.context):i.context.initFromOptions({alpha:!!i.transparent,antialias:r.antialias,premultipliedAlpha:i.transparent&&"notMultiplied"!==i.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,function(t){var e;if(!K){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 5.3.8 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else window.console&&window.console.log("PixiJS 5.3.8 - "+t+" - http://www.pixijs.com/");K=!0}}(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return le(e,t),e.create=function(t){if(void 0===Z&&(Z=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:G.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),Z)return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(function(t){function e(e,r){void 0===e&&(e=l.UNKNOWN);var i=t.call(this)||this;return(r=Object.assign({},G.RENDER_OPTIONS,r)).roundPixels&&(G.ROUND_PIXELS=r.roundPixels,dt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=r,i.type=e,i.screen=new Et(0,0,r.width,r.height),i.view=r.view||document.createElement("canvas"),i.resolution=r.resolution||G.RESOLUTION,i.transparent=r.transparent,i.autoDensity=r.autoDensity||r.autoResize||!1,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}return le(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=Re.create({width:0|i.width,height:0|i.height,scaleMode:e,resolution:r});return Qr.tx=-i.x,Qr.ty=-i.y,this.render(t,n,!1,Qr,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=l.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Q(t),J(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(Y())),ti="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ei=function(){this.texArray=null,this.blend=0,this.type=p.TRIANGLES,this.start=0,this.size=0,this.data=null},ri=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),ii=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),ni=function(t){function e(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Cr.for2d(),r.size=4*G.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return le(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;G.PREFER_ENV===u.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),G.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=wr.replace(/%forloop%/gi,Ar(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new ei);for(;r.length<n;)r.push(new ri);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,i=e._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++fe._globalBatch,h=0,u=i[0],l=0;n.copyBoundTextures(o,r);for(var c=0;c<this._bufferSize;++c){var d=t[c];t[c]=null,d._batchEnabled!==a&&(u.count>=r&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,c),l=c,u=i[++h],++a),d._batchEnabled=a,d.touched=s,u.elements[u.count++]=d)}for(u.count>0&&(n.boundArray(u,o,a,r),this.buildDrawCalls(u,l,this._bufferSize),++h,++a),c=0;c<o.length;c++)o[c]=null;fe._globalBatch=a},e.prototype.buildDrawCalls=function(t,r,i){var n=this,o=n._bufferedElements,s=n._attributeBuffer,a=n._indexBuffer,h=n.vertexSize,u=e._drawCallPool,l=this._dcIndex,c=this._aIndex,d=this._iIndex,p=u[l];p.start=this._iIndex,p.texArray=t;for(var f=r;f<i;++f){var v=o[f],m=v._texture.baseTexture,y=tt[m.alphaMode?1:0][v.blendMode];o[f]=null,r<f&&p.blend!==y&&(p.size=d-p.start,r=f,(p=u[++l]).texArray=t,p.start=d),this.packInterleavedGeometry(v,s,a,c,d),c+=v.vertexData.length/2*h,d+=v.indices.length,p.blend=y}r<i&&(p.size=d-p.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,r=t._attributeBuffer,i=t._indexBuffer;G.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,i=r.gl,n=r.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var h=o[a],u=h.texArray,l=h.type,c=h.size,d=h.start,p=h.blend;s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=p,n.set(this.state),i.drawElements(l,c,i.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),G.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=nt(Math.ceil(t/8)),r=st(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new ii(i*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=nt(Math.ceil(t/12)),r=st(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?rt(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)s[i++]=l[f],s[i++]=l[f+1],s[i++]=h[f],s[i++]=h[f+1],o[i++]=p,s[i++]=c;for(f=0;f<u.length;f++)r[n++]=a+u[f]},e._drawCallPool=[],e._textureArrayPool=[],e}(Ze),oi=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Ve.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Pr(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ct,default:this.defaultGroupCache[t]};return new Ir(this.programCache[t],n)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},t}(),si=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new Fe(null,e,!1),r._indexBuffer=new Fe(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,m.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,m.FLOAT).addAttribute("aColor",r._buffer,4,!0,m.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,m.FLOAT).addIndex(r._indexBuffer),r}return le(e,t),e}(Xe),ai="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",hi="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ui=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:ai,fragment:hi,geometryClass:si,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var s=t.call(this,e)||this;return s.shaderGenerator=new oi(r,i),s.geometryClass=o,s.vertexSize=n,s}return le(e,t),e}(ni)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return ai},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return hi},enumerable:!1,configurable:!0}),t}().create(),li=function(){function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=function(t){return $r.create(t)}(e),this.stage=new Vt,t._plugins.forEach((function(t){t.init.call(r,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var i=this,n=t._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(i)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();li._plugins=[];var ci=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,r=window.innerHeight;else{var i=e._resizeTo;t=i.clientWidth,r=i.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();li.registerPlugin(ci);var di=new Et,pi=function(){function t(t){this.renderer=t,t.extract=this}return t.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e){var r,i,n,o=this.renderer,s=!1,a=!1;e&&(e instanceof Re?n=e:(n=this.renderer.generateTexture(e),a=!0)),n?(r=n.baseTexture.resolution,i=n.frame,s=!1,o.renderTexture.bind(n)):(r=this.renderer.resolution,s=!0,(i=di).width=this.renderer.width,i.height=this.renderer.height,o.renderTexture.bind(null));var h=Math.floor(i.width*r+1e-4),u=Math.floor(i.height*r+1e-4),l=new yt(h,u,1),c=new Uint8Array(4*h*u),d=o.gl;d.readPixels(i.x*r,i.y*r,h,u,d.RGBA,d.UNSIGNED_BYTE,c);var p=l.context.getImageData(0,0,h,u);if(t.arrayPostDivide(c,p.data),l.context.putImageData(p,0,0),s){var f=new yt(l.width,l.height,1);f.context.scale(1,-1),f.context.drawImage(l.canvas,0,-u),l.destroy(),l=f}return a&&n.destroy(!0),l.canvas},t.prototype.pixels=function(e){var r,i,n,o=this.renderer,s=!1;e&&(e instanceof Re?n=e:(n=this.renderer.generateTexture(e),s=!0)),n?(r=n.baseTexture.resolution,i=n.frame,o.renderTexture.bind(n)):(r=o.resolution,(i=di).width=o.width,i.height=o.height,o.renderTexture.bind(null));var a=i.width*r,h=i.height*r,u=new Uint8Array(4*a*h),l=o.gl;return l.readPixels(i.x*r,i.y*r,a,h,l.RGBA,l.UNSIGNED_BYTE,u),s&&n.destroy(!0),t.arrayPostDivide(u,u),u},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t}(),fi=r(571),vi=r.n(fi),mi=r(940),yi=r.n(mi);function gi(){}function _i(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()}function xi(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}var bi={};function Ti(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ei(t,e,r){return e&&Ti(t.prototype,e),r&&Ti(t,r),t}var wi=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Ai=null;function Oi(){}var Si=function(){function t(e,r,i){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Oi,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(yi()),this.onProgress=new(yi()),this.onComplete=new(yi()),this.onAfterMiddleware=new(yi())}t.setExtensionLoadType=function(e,r){Pi(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){Pi(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:wi&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Ii(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Ii(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Ii(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Ai||(Ai=document.createElement("a")),Ai.href=t;var r=!(t=vi()(Ai.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Ei(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Pi(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function Ii(t){return t.toString().replace("object ","")}Si.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Si.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Si.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Si.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Si._loadTypeMap={gif:Si.LOAD_TYPE.IMAGE,png:Si.LOAD_TYPE.IMAGE,bmp:Si.LOAD_TYPE.IMAGE,jpg:Si.LOAD_TYPE.IMAGE,jpeg:Si.LOAD_TYPE.IMAGE,tif:Si.LOAD_TYPE.IMAGE,tiff:Si.LOAD_TYPE.IMAGE,webp:Si.LOAD_TYPE.IMAGE,tga:Si.LOAD_TYPE.IMAGE,svg:Si.LOAD_TYPE.IMAGE,"svg+xml":Si.LOAD_TYPE.IMAGE,mp3:Si.LOAD_TYPE.AUDIO,ogg:Si.LOAD_TYPE.AUDIO,wav:Si.LOAD_TYPE.AUDIO,mp4:Si.LOAD_TYPE.VIDEO,webm:Si.LOAD_TYPE.VIDEO},Si._xhrTypeMap={xhtml:Si.XHR_RESPONSE_TYPE.DOCUMENT,html:Si.XHR_RESPONSE_TYPE.DOCUMENT,htm:Si.XHR_RESPONSE_TYPE.DOCUMENT,xml:Si.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Si.XHR_RESPONSE_TYPE.DOCUMENT,svg:Si.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Si.XHR_RESPONSE_TYPE.DOCUMENT,gif:Si.XHR_RESPONSE_TYPE.BLOB,png:Si.XHR_RESPONSE_TYPE.BLOB,bmp:Si.XHR_RESPONSE_TYPE.BLOB,jpg:Si.XHR_RESPONSE_TYPE.BLOB,jpeg:Si.XHR_RESPONSE_TYPE.BLOB,tif:Si.XHR_RESPONSE_TYPE.BLOB,tiff:Si.XHR_RESPONSE_TYPE.BLOB,webp:Si.XHR_RESPONSE_TYPE.BLOB,tga:Si.XHR_RESPONSE_TYPE.BLOB,json:Si.XHR_RESPONSE_TYPE.JSON,text:Si.XHR_RESPONSE_TYPE.TEXT,txt:Si.XHR_RESPONSE_TYPE.TEXT,ttf:Si.XHR_RESPONSE_TYPE.BUFFER,otf:Si.XHR_RESPONSE_TYPE.BUFFER},Si.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ci=window.URL||window.webkitURL,Mi={caching:function(t,e){var r=this;bi[t.url]?(t.data=bi[t.url],t.complete()):t.onComplete.once((function(){return bi[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Si.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=Ci.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=Si.TYPE.IMAGE,void(t.data.onload=function(){Ci.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return e}(t.xhr.responseText),t.type=Si.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Ri=/(#[\w-]+)?$/,Di=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:gi,unsaturated:gi,buffer:e/4,empty:gi,drain:gi,error:gi,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=gi,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(e.data,xi(o(e)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n={data:t,callback:"function"==typeof r?r:gi};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout((function(){return i.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new(yi()),this.onError=new(yi()),this.onLoad=new(yi()),this.onStart=new(yi()),this.onComplete=new(yi());for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Si(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=vi()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=Ri.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,_i(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),_i(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},Ei(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Di._defaultBeforeMiddleware=[],Di._defaultAfterMiddleware=[],Di.pre=function(t){return Di._defaultBeforeMiddleware.push(t),Di},Di.use=function(t){return Di._defaultAfterMiddleware.push(t),Di};var Ni=Si,Li=function(t,e){return(Li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Fi=function(){function t(){}return t.use=function(t,e){t.data&&t.type===Si.TYPE.IMAGE&&(t.texture=Ce.fromLoader(t.data,t.url,t.name)),e()},t}(),Ui=function(t){function e(r,i){for(var n=t.call(this,r,i)||this,o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&n.pre(a),h&&n.use(h)}return n._protected=!1,n}return function(t,e){function r(){this.constructor=t}Li(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(Di);Ui.registerPlugin({use:Mi.parsing}),Ui.registerPlugin(Fi);var Bi=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Ui.shared:new Ui},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),ki=function(t,e){return(ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function ji(t,e){function r(){this.constructor=t}ki(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}!function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1);var o=t.call(this)||this;return i>16384&&(i=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=d.NORMAL,o.autoResize=n,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}ji(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,J(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(Vt);var Hi,Xi,Gi=function(){function t(t,e,r){this.geometry=new Xe,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||m.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Fe(function(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(s=this.dynamicProperties[r]).offset=e,e+=s.size,this.dynamicStride+=s.size;var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Fe(this.dynamicData,!1,!1);var n=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(s=this.staticProperties[r]).offset=n,n+=s.size,this.staticStride+=s.size;var o=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Fe(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===m.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(r=0;r<this.staticProperties.length;++r)s=this.staticProperties[r],t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===m.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)},t.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===m.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===m.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),zi=function(t){function e(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Ct,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:m.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Ir.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=Cr.for2d(),r}return ji(e,t),e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=et(t.blendMode,a.alphaMode),n.state.set(this.state);var h,u,l,c,d=n.gl,p=t.worldTransform.copyTo(this.tempMatrix);p.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=(h=t.tintRgb,u=t.worldAlpha,l=this.shader.uniforms.uColor,c=a.alphaMode,l=l||new Float32Array(4),c||void 0===c?(l[0]=h[0]*u,l[1]=h[1]*u,l[2]=h[2]*u):(l[0]=h[0],l[1]=h[1],l[2]=h[2]),l[3]=u,l),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var f=!1,v=0,m=0;v<o;v+=i,m+=1){var y=o-v;y>i&&(y=i),m>=s.length&&s.push(this._generateOneMoreBuffer(t));var g=s[m];g.uploadDynamic(e,v,y);var _=t._bufferUpdateIDs[m]||0;(f=f||g._updateID<_)&&(g._updateID=t._updateID,g.uploadStatic(e,v,y)),n.geometry.bind(g.geometry),d.drawElements(d.TRIANGLES,6*y,d.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new Gi(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new Gi(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,v=d.trim,m=d.orig;v?(s=(a=v.x-c.anchor.x*m.width)+v.width,h=(u=v.y-c.anchor.y*m.height)+v.height):(s=m.width*(1-c.anchor.x),a=m.width*-c.anchor.x,h=m.height*(1-c.anchor.y),u=m.height*-c.anchor.y),i[o]=a*p,i[o+1]=u*f,i[o+n]=s*p,i[o+n+1]=u*f,i[o+2*n]=s*p,i[o+2*n+1]=h*f,i[o+3*n]=a*p,i[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=a._texture.baseTexture.alphaMode>0,u=a.alpha,l=u<1&&h?rt(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Ze);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(Hi||(Hi={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(Xi||(Xi={}));var Yi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Vi=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Ce.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ce.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Wi=function(t,e){return(Wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function qi(t,e){function r(){this.constructor=t}Wi(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Zi={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var h=i[a];s.push(r.length/2),r=r.concat(h.points)}var u=W()(r,s,2);if(!u)return;var l=n.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+l),o.push(u[a+1]+l),o.push(u[a+2]+l);for(a=0;a<r.length;a++)n.push(r[a])}}},Ki={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,t.type===_t.CIRC)e=i.radius,r=i.radius;else{var a=t.shape;e=a.width,r=a.height}if(0!==e&&0!==r){var h=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(e+r));h/=2.3;for(var u=2*Math.PI/h,l=0;l<h-.5;l++)n.push(o+Math.sin(-u*l)*e,s+Math.cos(-u*l)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o,a=t.shape,h=t.matrix,u=a.x,l=a.y;i.push(t.matrix?h.a*u+h.c*l+h.tx:u,t.matrix?h.b*u+h.d*l+h.ty:l);for(var c=0;c<r.length;c+=2)i.push(r[c],r[c+1]),n.push(o++,s,o)}};function Ji(t,e,r){return t+(e-t)*r}function Qi(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0;f<=20;++f)h=Ji(t,r,v=f/20),u=Ji(e,i,v),l=Ji(r,n,v),c=Ji(i,o,v),d=Ji(h,l,v),p=Ji(u,c,v),a.push(d,p);return a}var $i={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));r.length=0,a?(Qi(i,n+a,i,n,i+a,n,r),Qi(i+o-a,n,i+o,n,i+o,n+a,r),Qi(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),Qi(i+a,n+s,i,n+s,i,n+s-a,r)):r.push(i,n,i+o,n,i+o,n+s,i,n+s)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=W()(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,h=r.length;a<h;a++)i.push(r[a],r[++a])}};function tn(t,e,r,i,n,o,s,a){var h,u;s?(h=i,u=-r):(h=-i,u=r);var l=t-r*n+h,c=e-i*n+u,d=t+r*o+h,p=e+i*o+u;return a.push(l,c),a.push(d,p),2}function en(t,e,r,i,n,o,s,a){var h=r-t,u=i-e,l=Math.atan2(h,u),c=Math.atan2(n-t,o-e);a&&l<c?l+=2*Math.PI:!a&&l>c&&(c+=2*Math.PI);var d=l,p=c-l,f=Math.abs(p),v=Math.sqrt(h*h+u*u),m=1+(15*f*Math.sqrt(v)/Math.PI>>0),y=p/m;if(d+=y,a){s.push(t,e),s.push(r,i);for(var g=1,_=d;g<m;g++,_+=y)s.push(t,e),s.push(t+Math.sin(_)*v,e+Math.cos(_)*v);s.push(t,e),s.push(n,o)}else{for(s.push(r,i),s.push(t,e),g=1,_=d;g<m;g++,_+=y)s.push(t+Math.sin(_)*v,e+Math.cos(_)*v),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*m}function rn(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==_t.POLY||i.closeStroke;if(0!==n.length){var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),r=1;r<h;r++)s.push(n[2*r],n[2*r+1]),a.push(l,l+1),l++;o&&a.push(l,u)}}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0!==i.length){var o=t.lineStyle,s=new Pt(i[0],i[1]),a=new Pt(i[i.length-2],i[i.length-1]),h=r.type!==_t.POLY||r.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){i=i.slice(),u&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var l=.5*(s.x+a.x),c=.5*(a.y+s.y);i.unshift(l,c),i.push(l,c)}var d=e.points,p=i.length/2,f=i.length,v=d.length/2,m=o.width/2,y=m*m,g=o.miterLimit*o.miterLimit,_=i[0],x=i[1],b=i[2],T=i[3],E=0,w=0,A=-(x-T),O=_-b,S=0,P=0,I=Math.sqrt(A*A+O*O);A/=I,O/=I,A*=m,O*=m;var C=o.alignment,M=2*(1-C),R=2*C;h||(o.cap===Xi.ROUND?f+=en(_-A*(M-R)*.5,x-O*(M-R)*.5,_-A*M,x-O*M,_+A*R,x+O*R,d,!0)+2:o.cap===Xi.SQUARE&&(f+=tn(_,x,A,O,M,R,!0,d))),d.push(_-A*M,x-O*M),d.push(_+A*R,x+O*R);for(var D=1;D<p-1;++D){_=i[2*(D-1)],x=i[2*(D-1)+1],b=i[2*D],T=i[2*D+1],E=i[2*(D+1)],w=i[2*(D+1)+1],A=-(x-T),O=_-b,A/=I=Math.sqrt(A*A+O*O),O/=I,A*=m,O*=m,S=-(T-w),P=b-E,S/=I=Math.sqrt(S*S+P*P),P/=I,S*=m,P*=m;var N=b-_,L=x-T,F=b-E,U=w-T,B=L*F-U*N,k=B<0;if(Math.abs(B)<.1)d.push(b-A*M,T-O*M),d.push(b+A*R,T+O*R);else{var j=(-A+_)*(-O+T)-(-A+b)*(-O+x),H=(-S+E)*(-P+T)-(-S+b)*(-P+w),X=(N*H-F*j)/B,G=(U*j-L*H)/B,z=(X-b)*(X-b)+(G-T)*(G-T),Y=b+(X-b)*M,V=T+(G-T)*M,W=b-(X-b)*R,q=T-(G-T)*R,Z=k?M:R;z<=Math.min(N*N+L*L,F*F+U*U)+Z*Z*y?o.join===Hi.BEVEL||z/y>g?(k?(d.push(Y,V),d.push(b+A*R,T+O*R),d.push(Y,V),d.push(b+S*R,T+P*R)):(d.push(b-A*M,T-O*M),d.push(W,q),d.push(b-S*M,T-P*M),d.push(W,q)),f+=2):o.join===Hi.ROUND?k?(d.push(Y,V),d.push(b+A*R,T+O*R),f+=en(b,T,b+A*R,T+O*R,b+S*R,T+P*R,d,!0)+4,d.push(Y,V),d.push(b+S*R,T+P*R)):(d.push(b-A*M,T-O*M),d.push(W,q),f+=en(b,T,b-A*M,T-O*M,b-S*M,T-P*M,d,!1)+4,d.push(b-S*M,T-P*M),d.push(W,q)):(d.push(Y,V),d.push(W,q)):(d.push(b-A*M,T-O*M),d.push(b+A*R,T+O*R),o.join===Hi.BEVEL||z/y>g||(o.join===Hi.ROUND?f+=k?en(b,T,b+A*R,T+O*R,b+S*R,T+P*R,d,!0)+2:en(b,T,b-A*M,T-O*M,b-S*M,T-P*M,d,!1)+2:(k?(d.push(W,q),d.push(W,q)):(d.push(Y,V),d.push(Y,V)),f+=2)),d.push(b-S*M,T-P*M),d.push(b+S*R,T+P*R),f+=2)}}_=i[2*(p-2)],x=i[2*(p-2)+1],b=i[2*(p-1)],A=-(x-(T=i[2*(p-1)+1])),O=_-b,A/=I=Math.sqrt(A*A+O*O),O/=I,A*=m,O*=m,d.push(b-A*M,T-O*M),d.push(b+A*R,T+O*R),h||(o.cap===Xi.ROUND?f+=en(b-A*(M-R)*.5,T-O*(M-R)*.5,b-A*M,T-O*M,b+A*R,T+O*R,d,!1)+2:o.cap===Xi.SQUARE&&(f+=tn(b,T,A,O,M,R,!1,d)));var K=e.indices,J=Yi.epsilon*Yi.epsilon;for(D=v;D<f+v-2;++D)_=d[2*D],x=d[2*D+1],b=d[2*(D+1)],T=d[2*(D+1)+1],E=d[2*(D+2)],w=d[2*(D+2)+1],Math.abs(_*(T-w)+b*(w-x)+E*(x-T))<J||K.push(D,D+1,D+2)}}(t,e)}var nn,on,sn=function(t){function e(e,r,i,n,o,s){void 0===s&&(s=0),o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*i,u=xt/h,l=[],c=0;c<h;c++){var d=c%2?o:n,p=c*u+a;l.push(e+d*Math.cos(p),r+d*Math.sin(p))}return t.call(this,l)||this}return qi(e,t),e}(Ot),an=function(){function t(){}return t.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,v=n*Math.sqrt(d)/c,m=n*Math.sqrt(p)/c,y=v*f/d,g=m*f/p,_=v*l+m*h,x=v*u+m*a,b=h*(m+y),T=a*(m+y),E=l*(v+g),w=u*(v+g);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(T-x,b-_),endAngle:Math.atan2(w-x,E-_),anticlockwise:h*u>l*a}},t.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=Yi._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/xt)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),v=l-1,m=v%1/v,y=0;y<=v;++y){var g=c+o+d*(y+m*y),_=Math.cos(g),x=-Math.sin(g);h.push((p*_+f*x)*n+r,(p*-x+f*_)*n+i)}},t}(),hn=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0,m=0,y=0,g=0,_=t,x=e,b=1;b<=10;++b)y=_-(v=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*r+3*d*(l=u*u)*n+(c=l*u)*s),g=x-(m=f*e+3*p*u*i+3*d*l*o+c*a),_=v,x=m,h+=Math.sqrt(y*y+g*g);return h},t.curveTo=function(e,r,i,n,o,s,a){var h=a[a.length-2],u=a[a.length-1];a.length-=2;var l=Yi._segmentsCount(t.curveLength(h,u,e,r,i,n,o,s)),c=0,d=0,p=0,f=0,v=0;a.push(h,u);for(var m=1,y=0;m<=l;++m)p=(d=(c=1-(y=m/l))*c)*c,v=(f=y*y)*y,a.push(p*h+3*d*y*e+3*c*f*i+v*o,p*u+3*d*y*r+3*c*f*n+v*s)},t}(),un=function(){function t(){}return t.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),v=2*l*f,m=2*Math.sqrt(d),y=c/f;return(v*p+f*c*(p-m)+(4*d*l-c*c)*Math.log((2*f+y+p)/(y+m)))/(4*v)},t.curveTo=function(e,r,i,n,o){for(var s=o[o.length-2],a=o[o.length-1],h=Yi._segmentsCount(t.curveLength(s,a,e,r,i,n)),u=0,l=0,c=1;c<=h;++c){var d=c/h;u=s+(e-s)*d,l=a+(r-a)*d,o.push(u+(e+(i-e)*d-u)*d,l+(r+(n-r)*d-l)*d)}},t}(),ln=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),cn=((nn={})[_t.POLY]=Zi,nn[_t.CIRC]=Ki,nn[_t.ELIP]=Ki,nn[_t.RECT]={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},nn[_t.RREC]=$i,nn),dn=[],pn=[],fn=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),vn=new Pt,mn=new jt,yn=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new jt,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return qi(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),pn.push(this.drawCalls[t]);for(this.drawCalls.length=0,t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),dn.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new fn(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new fn(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,vn):vn.copyFrom(t),i.shape.contains(vn.x,vn.y))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(vn.x,vn.y)){n=!0;break}if(!n)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,i=null,n=null;this.batches.length>0&&(n=(i=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var s=r[o],a=s.fillStyle,h=s.lineStyle;cn[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var u=0;u<2;u++){var l=0===u?a:h;if(l.visible){var c=l.texture.baseTexture,d=this.indices.length,p=this.points.length/2;c.wrapMode=g.REPEAT,0===u?this.processFill(s):this.processLine(s);var f=this.points.length/2-p;0!==f&&(i&&!this._compareStyles(n,l)&&(i.end(d,p),i=null),i||((i=dn.pop()||new ln).begin(l,d,p),this.batches.push(i),n=l),this.addUvs(this.points,e,l.texture,p,f,l.matrix))}}}var v=this.indices.length,m=this.points.length/2;if(i&&i.end(v,m),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var y=m>65535&&t;this.indicesUint16=y?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++fe._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),pn.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=pn.pop();n||((n=new ei).texArray=new ri),n.texArray.count=0,n.start=0,n.size=0,n.type=p.TRIANGLES;var o=0,s=null,a=0,h=!1,u=p.TRIANGLES,l=0;for(this.drawCalls.push(n),e=0;e<this.batches.length;e++){var c=this.batches[e],d=c.style,f=d.texture.baseTexture;h!==!!d.native&&(u=(h=!!d.native)?p.LINES:p.TRIANGLES,s=null,o=8,t++),s!==f&&(s=f,f._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=pn.pop())||((n=new ei).texArray=new ri),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),f.touched=1,f._batchEnabled=t,f._batchLocation=o,f.wrapMode=10497,n.texArray.elements[n.texArray.count++]=f,o++)),n.size+=c.size,l+=c.size,a=f._batchLocation,this.addColors(r,d.color,d.alpha,c.attribSize),this.addTextureIds(i,a,c.attribSize)}fe._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=r[h],o[a++]=i[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Zi.triangulate(t,this)):cn[t.type].triangulate(t,this)},e.prototype.processLine=function(t){rn(t,this);for(var e=0;e<t.holes.length;e++)rn(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];cn[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=mn,r=Ct.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i],o=n.shape,s=n.type,a=n.lineStyle,h=n.matrix||Ct.IDENTITY,u=0;if(a&&a.visible){var l=a.alignment;u=a.width,s===_t.POLY?u*=.5+Math.abs(.5-l):u*=Math.max(0,l)}if(r!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=h),s===_t.RECT||s===_t.RREC){var c=o;e.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,u,u)}else if(s===_t.CIRC){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+u,d.radius+u)}else if(s===_t.ELIP){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.width+u,p.height+u)}else{var f=o;t.addVerticesMatrix(r,f.points,0,f.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i){for(var n=rt((e>>16)+(65280&e)+((255&e)<<16),r);i-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,h=r.frame;s<n;){var u=t[2*(i+s)],l=t[2*(i+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=1e-6,s=r+2*i,a=e.frame,h=a.width/n.width,u=a.height/n.height,l=a.x/a.width,c=a.y/a.height,d=Math.floor(t[r]+o),p=Math.floor(t[r+1]+o),f=r+2;f<s;f+=2)d=Math.min(d,Math.floor(t[f]+o)),p=Math.min(p,Math.floor(t[f+1]+o));for(l-=d,c-=p,f=r;f<s;f+=2)t[f]=(t[f]+l)*h,t[f+1]=(t[f+1]+c)*u},e.BATCHABLE_SIZE=100,e}(si),gn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Xi.BUTT,e.join=Hi.MITER,e.miterLimit=10,e}return qi(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Vi),_n=new Float32Array(3),xn={},bn=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r._geometry=e||new yn,r._geometry.refCount++,r.shader=null,r.state=Cr.for2d(),r._fillStyle=new Vi,r._lineStyle=new gn,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=d.NORMAL,r}return qi(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){dt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],h=e[6];t={width:r,texture:i,color:n,alpha:o,matrix:s,alignment:a,native:h},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:Ce.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Xi.BUTT,join:Hi.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var u=t.width>0&&t.alpha>0;return u?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:u},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ot,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ot,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),un.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),hn.curveTo(t,e,r,i,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=an.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=xt:o&&i<=n&&(i+=xt),0==n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return an.arc(s,a,t,e,r,i,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:Ce.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof Ce){dt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3];t={texture:r,color:i,alpha:n,matrix:o},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:Ce.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var s=t.alpha>0;return s?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:s},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new Et(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new St(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new wt(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new At(t,e,r,i))},e.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var n=!0,o=r[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var s=new Ot(t);return s.closeStroke=n,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new sn(t,e,r,i,n,o))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===_t.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:J(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!xn[r]){for(var i=t.plugins.batch.MAX_TEXTURES,n=new Int32Array(i),o=0;o<i;o++)n[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ct,default:Ve.from({uSamplers:n},!0)},a=t.plugins[r]._shader.program;xn[r]=new Ir(a,s)}e=xn[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=J(this.tint,_n),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this._geometry.points,u=this.vertexData,l=0,c=0;c<h.length;c+=2){var d=h[c],p=h[c+1];u[l++]=r*d+n*p+s,u[l++]=o*p+i*d+a}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new Pt,e}(Vt),Tn=function(t,e){return(Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},En=new Pt,wn=new Uint16Array([0,1,2,0,2,3]),An=function(t){function e(e){var r=t.call(this)||this;return r._anchor=new It(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=d.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||Ce.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=wn,r.pluginName="batch",r.isSprite=!0,r._roundPixels=G.ROUND_PIXELS,r}return function(t,e){function r(){this.constructor=t}Tn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ht(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ht(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,v=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(v=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(v=-c._y*l.height)+l.height),h[0]=r*p+n*v+s,h[1]=o*v+i*p+a,h[2]=r*d+n*v+s,h[3]=o*v+i*d+a,h[4]=r*d+n*f+s,h[5]=o*f+i*d+a,h[6]=r*p+n*f+s,h[7]=o*f+i*p+a,this._roundPixels)for(var m=G.RESOLUTION,y=0;y<h.length;++y)h[y]=Math.round((h[y]*m|0)/m)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Et),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,En);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return En.x>=i&&En.x<i+e&&(n=-r*this.anchor.y,En.y>=n&&En.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},e.from=function(t,r){return new e(t instanceof Ce?t:Ce.from(t,r))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=ht(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=ht(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Ce.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Vt),On=function(t,e){return(On=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(on||(on={}));var Sn={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:on.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Pn=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],In=function(){function t(t){this.styleID=0,this.reset(),Rn(this,t,t)}return t.prototype.clone=function(){var e={};return Rn(e,this,Sn),new t(e)},t.prototype.reset=function(){Rn(this,Sn,Sn)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Mn(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Mn(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Mn(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Pn.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function Cn(t){return"number"==typeof t?Q(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Mn(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Cn(t[e]);return t}return Cn(t)}function Rn(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var Dn=function(){function t(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,r,i,n){void 0===n&&(n=t._canvas),i=null==i?r.wordWrap:i;var o=r.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var a=n.getContext("2d");a.font=o;for(var h=(i?t.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),u=new Array(h.length),l=0,c=0;c<h.length;c++){var d=a.measureText(h[c]).width+(h[c].length-1)*r.letterSpacing;u[c]=d,l=Math.max(l,d)}var p=l+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var f=r.lineHeight||s.fontSize+r.strokeThickness,v=Math.max(f,s.fontSize+r.strokeThickness)+(h.length-1)*(f+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,p,v,h,u,f+r.leading,l,s)},t.wordWrap=function(e,r,i){void 0===i&&(i=t._canvas);for(var n=i.getContext("2d"),o=0,s="",a="",h=Object.create(null),u=r.letterSpacing,l=r.whiteSpace,c=t.collapseSpaces(l),d=t.collapseNewlines(l),p=!c,f=r.wordWrapWidth+u,v=t.tokenize(e),m=0;m<v.length;m++){var y=v[m];if(t.isNewline(y)){if(!d){a+=t.addLine(s),p=!c,s="",o=0;continue}y=" "}if(c){var g=t.isBreakingSpace(y),_=t.isBreakingSpace(s[s.length-1]);if(g&&_)continue}var x=t.getFromCache(y,u,h,n);if(x>f)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(y,r.breakWords))for(var b=t.wordWrapSplit(y),T=0;T<b.length;T++){for(var E=b[T],w=1;b[T+w];){var A=b[T+w],O=E[E.length-1];if(t.canBreakChars(O,A,y,T,r.breakWords))break;E+=A,w++}T+=E.length-1;var S=t.getFromCache(E,u,h,n);S+o>f&&(a+=t.addLine(s),p=!1,s="",o=0),s+=E,o+=S}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var P=m===v.length-1;a+=t.addLine(y,!P),p=!1,s="",o=0}else x+o>f&&(p=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(y)||p)&&(s+=y,o+=x)}return a+t.addLine(s,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),r?e+"\n":e},t.getFromCache=function(t,e,r,i){var n=r[t];if("number"!=typeof n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var i=e[r];if(!t.isBreakingSpace(i))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],i="";if("string"!=typeof e)return r;for(var n=0;n<e.length;n++){var o=e[n];t.isBreakingSpace(o)||t.isNewline(o)?(""!==i&&(r.push(i),i=""),r.push(o)):i+=o}return""!==i&&r.push(i),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,i,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},i=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=2*a;a=a*t.BASELINE_MULTIPLIER|0,i.width=s,i.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var u=n.getImageData(0,0,s,h).data,l=u.length,c=4*s,d=0,p=0,f=!1;for(d=0;d<a;++d){for(var v=0;v<c;v+=4)if(255!==u[p+v]){f=!0;break}if(f)break;p+=c}for(r.ascent=a-d,p=l-c,f=!1,d=h;d>a;--d){for(v=0;v<c;v+=4)if(255!==u[p+v]){f=!0;break}if(f)break;p-=c}return r.descent=d-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),Nn=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();Nn.width=Nn.height=10,Dn._canvas=Nn,Dn._context=Nn.getContext("2d"),Dn._fonts={},Dn.METRICS_STRING="|ÉqÅ",Dn.BASELINE_SYMBOL="M",Dn.BASELINE_MULTIPLIER=1.4,Dn._newlines=[10,13],Dn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Ln={texture:!0,children:!1,baseTexture:!0},Fn=function(t){function e(e,r,i){var n=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=Ce.from(i);return s.orig=new Et,s.trim=new Et,(n=t.call(this,s)||this)._ownCanvas=o,n.canvas=i,n.context=n.canvas.getContext("2d"),n._resolution=G.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=r,n.localStyleID=-1,n}return function(t,e){function r(){this.constructor=t}On(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=Dn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var v=e.dropShadow&&0===f,m=v?Math.ceil(Math.max(1,a)+2*e.padding):0,y=m*this._resolution;if(v){n.fillStyle="black",n.strokeStyle="black";var g=e.dropShadowColor,_=J("number"==typeof g?g:$(g));n.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+y}else n.fillStyle=this._generateFillStyle(e,h,o),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<h.length;x++)r=e.strokeThickness/2,i=e.strokeThickness/2+x*u+d.ascent,"right"===e.align?r+=c-l[x]:"center"===e.align&&(r+=(c-l[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[x],r+e.padding,i+e.padding-m,!0),e.fill&&this.drawLetterSpacing(h[x],r+e.padding,i+e.padding-m)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,u=0;u<s.length;++u){var l=s[u];i?this.context.strokeText(l,o,r):this.context.fillText(l,o,r),o+=a-(h=this.context.measureText(t.substring(u+1)).width)+n,a=h}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=function(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),(null===u.left||r<u.left)&&(u.left=r),(null===u.right||u.right<r)&&(u.right=r+1),(null===u.bottom||u.bottom<i)&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,r){var i,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,h=Math.ceil(this.canvas.height/this._resolution)-o-2*s,u=n.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,d=1;d<c;++d)l.push(d/c);if(u.unshift(n[0]),l.unshift(0),u.push(n[n.length-1]),l.push(1),t.fillGradientType===on.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,h+s);var p=0,f=(r.fontProperties.fontSize+t.strokeThickness)/h;for(d=0;d<e.length;d++)for(var v=r.lineHeight*d,m=0;m<u.length;m++){var y=v/h+("number"==typeof l[m]?l[m]:m/u.length)*f,g=Math.max(p,y);g=Math.min(g,1),i.addColorStop(g,u[m]),p=g}}else{i=this.context.createLinearGradient(s,h/2,a+s,h/2);var _=u.length+1,x=1;for(d=0;d<u.length;d++){var b;b="number"==typeof l[d]?l[d]:x/_,i.addColorStop(b,u[d]),x++}}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Ln,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=ht(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=ht(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof In?t:new In(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(An);G.UPLOADS_PER_FRAME=4;var Un=function(t,e){return(Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},Bn=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function kn(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Ce){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function jn(t,e){if(t.baseTexture instanceof fe){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Hn(t,e){if(t._texture&&t._texture instanceof Ce){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Xn(t,e){return e instanceof Fn&&(e.updateText(!0),!0)}function Gn(t,e){if(e instanceof In){var r=e.toFontString();return Dn.measureFont(r),!0}return!1}function zn(t,e){if(t instanceof Fn){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Yn(t,e){return t instanceof In&&(-1===e.indexOf(t)&&e.push(t),!0)}function Vn(t,e){return e instanceof fe&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Wn(t,e){if(!(e instanceof bn))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&Vn(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function qn(t,e){return t instanceof bn&&(e.push(t),!0)}var Zn=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(qn),r.registerUploadHook(Vn),r.registerUploadHook(Wn),r}return function(t,e){function r(){this.constructor=t}Un(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(function(){function t(t){var e=this;this.limiter=new Bn(G.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(zn),this.registerFindHook(Yn),this.registerFindHook(kn),this.registerFindHook(jn),this.registerFindHook(Hn),this.registerUploadHook(Xn),this.registerUploadHook(Gn)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Kt.system.addOnce(this.tick,this,Wt.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Kt.system.addOnce(this.tick,this,Wt.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);for(this.completes.length=0,r=0,i=n.length;r<i;r++)n[r]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Vt)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&Kt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}()),Kn=(function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function t(t,e,r){void 0===r&&(r=null),this._texture=t instanceof Ce?t:null,this.baseTexture=t instanceof fe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=gt(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,i=t.BATCH_SIZE;r-e<i&&r<this._frameKeys.length;){var n=this._frameKeys[r],o=this._frames[n],s=o.frame;if(s){var a,h=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,l=new Et(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a=o.rotated?new Et(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new Et(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(h=new Et(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new Ce(this.baseTexture,a,l,h,o.rotated?2:0,o.anchor),Ce.addToCache(this.textures[n],n)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}()),Jn=function(){function t(){}return t.use=function(e,r){var i=this,n=e.name+"_image";if(e.data&&e.type===Ni.TYPE.JSON&&e.data.frames&&!i.resources[n]){var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},s=t.getResourcePath(e,i.baseUrl);i.add(n,s,o,(function(t){if(t.error)r(t.error);else{var i=new Kn(t.texture,e.data,e.url);i.parse((function(){e.spritesheet=i,e.textures=i.textures,r()}))}}))}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:q.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),Qn=function(t,e){return(Qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function $n(t,e){function r(){this.constructor=t}Qn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var to=new Pt,eo=(function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var n=t.call(this,e)||this;return n.tileTransform=new kt,n._width=r,n._height=i,n.uvMatrix=n.texture.uvMatrix||new Dr(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}$n(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Et),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,to);var e=this._width,r=this._height,i=-e*this.anchor._x;if(to.x>=i&&to.x<i+e){var n=-r*this.anchor._y;if(to.y>=n&&to.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return"number"==typeof r&&(dt("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new e(Ce.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0})}(An),"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),ro=new Ct,io=function(t){function e(e){var r=t.call(this,e)||this,i={globals:r.renderer.globalUniforms};return r.shader=Ir.from(eo,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",i),r.simpleShader=Ir.from(eo,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",i),r.quad=new ze,r.state=Cr.for2d(),r}return $n(e,t),e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((i=r.uvs)[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==g.CLAMP:o.wrapMode===g.CLAMP&&(o.wrapMode=g.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;ro.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),ro.invert(),h?ro.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=ro.toArray(!0),u.uniforms.uColor=it(t.tint,t.worldAlpha,u.uniforms.uColor,o.alphaMode),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(r),this.state.blendMode=et(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Ze),no=function(t,e){return(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function oo(t,e){function r(){this.constructor=t}no(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var so=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),ao=new Pt,ho=new Ot,uo=function(t){function e(e,r,i,n){void 0===n&&(n=p.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=r,o.state=i||Cr.for2d(),o.drawMode=n,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=G.ROUND_PIXELS,o.batchUvs=null,o}return oo(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===p.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,h=r.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=i*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels){var p=G.RESOLUTION;for(l=0;l<u.length;++l)u[l]=Math.round((u[l]*p|0)/p)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new so(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,ao);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=ho.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[u],r[5]=e[u+1],ho.contains(ao.x,ao.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Vt),lo=function(t){function e(e,r){var i=this,n={uSampler:e,alpha:1,uTextureMatrix:Ct.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(n,r.uniforms),(i=t.call(this,r.program||Pr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,i.uvMatrix=new Dr(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return oo(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;it(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(Ir),co=function(t){function e(e,r,i){var n=t.call(this)||this,o=new Fe(e),s=new Fe(r,!0),a=new Fe(i,!0,!0);return n.addAttribute("aVertexPosition",o,2,!1,m.FLOAT).addAttribute("aTextureCoord",s,2,!1,m.FLOAT).addIndex(a),n._updateId=-1,n}return oo(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Xe),po=function(t,e){return(po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},fo=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},vo=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in e){var n=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var h=o[a].split("="),u=h[0],l=h[1].replace(/"/gm,""),c=parseFloat(l),d=isNaN(c)?l:c;s[u]=d}r[n].push(s)}var p=new fo;return r.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),p},t}(),mo=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new fo,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<i.length;a++)e.common.push({lineHeight:parseInt(i[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var h=o[a];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},t}(),yo=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return mo.test(e)}return!1},t.parse=function(t){var e=(new window.DOMParser).parseFromString(t,"text/xml");return mo.parse(e)},t}(),go=[vo,mo,yo];function _o(t){for(var e=0;e<go.length;e++)if(go[e].test(t))return go[e];return null}function xo(t,e,r,i,n,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var h=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,l=Math.ceil(t.width/i)-h-2*u,c=Math.ceil(t.height/i)-h-2*u,d=a.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var f=d.length+1,v=1;v<f;++v)p.push(v/f);if(d.unshift(a[0]),p.unshift(0),d.push(a[a.length-1]),p.push(1),r.fillGradientType===on.LINEAR_VERTICAL){s=e.createLinearGradient(l/2,u,l/2,c+u);var m=0,y=(o.fontProperties.fontSize+r.strokeThickness)/c;for(v=0;v<n.length;v++)for(var g=o.lineHeight*v,_=0;_<d.length;_++){var x=g/c+("number"==typeof p[_]?p[_]:_/d.length)*y,b=Math.max(m,x);b=Math.min(b,1),s.addColorStop(b,d[_]),m=b}}else{s=e.createLinearGradient(u,c/2,l+u,c/2);var T=d.length+1,E=1;for(v=0;v<d.length;v++){var w;w="number"==typeof p[v]?p[v]:E/T,s.addColorStop(w,d[v]),E++}}return s}function bo(t,e,r,i,n,o,s){var a=r.text,h=r.fontProperties;e.translate(i,n),e.scale(o,o);var u=s.strokeThickness/2,l=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=xo(t,e,s,o,[a],r),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=xo(t,e,s,o,[a],r),e.strokeStyle=s.stroke;var c=s.dropShadowColor,d=J("number"==typeof c?c:$(c));s.dropShadow?(e.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,u,l+r.lineHeight-h.descent),s.fill&&e.fillText(a,u,l+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var To=function(){function t(t,e){var r=t.info[0],i=t.common[0],n=gt(t.page[0].file),o={};this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/n,this.chars={},this.pageTextures=o;for(var s=0;s<t.page.length;s++){var a=t.page[s],h=a.id,u=a.file;o[h]=e instanceof Array?e[s]:e[u]}for(s=0;s<t.char.length;s++){var l=t.char[s],c=(h=l.id,l.page),d=t.char[s],p=d.x,f=d.y,v=d.width,m=d.height,y=d.xoffset,g=d.yoffset,_=d.xadvance;f/=n,v/=n,m/=n,y/=n,g/=n,_/=n;var x=new Et((p/=n)+o[c].frame.x/n,f+o[c].frame.y/n,v,m);this.chars[h]={xOffset:y,yOffset:g,xAdvance:_,kerning:{},texture:new Ce(o[c].baseTexture,x),page:c}}for(s=0;s<t.kerning.length;s++){var b=t.kerning[s],T=b.first,E=b.second,w=b.amount;T/=n,E/=n,w/=n,this.chars[E]&&(this.chars[E].kerning[T]=w)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r){var i;if(e instanceof fo)i=e;else{var n=_o(e);if(!n)throw new Error("Unrecognized data format for font.");i=n.parse(e)}r instanceof Ce&&(r=[r]);var o=new t(i,r);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},t.defaultOptions,i),o=n.chars,s=n.padding,a=n.resolution,h=n.textureWidth,u=n.textureHeight,l=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,h=s;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),c=r instanceof In?r:new In(r),d=h,p=new fo;p.info[0]={face:c.fontFamily,size:c.fontSize},p.common[0]={lineHeight:c.fontSize};for(var f,v,m,y=0,g=0,_=0,x=[],b=0;b<l.length;b++){f||((f=document.createElement("canvas")).width=h,f.height=u,v=f.getContext("2d"),m=new fe(f,{resolution:a}),x.push(new Ce(m)),p.page.push({id:x.length-1,file:""}));var T=Dn.measureText(l[b],c,!1,f),E=T.width,w=Math.ceil(T.height),A=Math.ceil(("italic"===c.fontStyle?2:1)*E);if(g>=u-w*a){if(0===g)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+c.fontSize+"px fonts");--b,f=null,v=null,m=null,g=0,y=0,_=0}else if(_=Math.max(w+T.fontProperties.descent,_),A*a+y>=d)--b,g+=_*a,g=Math.ceil(g),y=0,_=0;else{bo(f,v,T,y,g,a,c);var O=T.text.charCodeAt(0);p.char.push({id:O,page:x.length-1,x:y/a,y:g/a,width:A,height:w,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),y+=(A+2*s)*a,y=Math.ceil(y)}}var S=new t(p,x);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=S,S},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),Eo=[],wo=[],Ao=(function(t){function e(r,i){void 0===i&&(i={});var n=t.call(this)||this;n._tint=16777215,i.font&&(dt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),n._upgradeStyle(i));var o=Object.assign({},e.styleDefaults,i),s=o.align,a=o.tint,h=o.maxWidth,u=o.letterSpacing,l=o.fontName,c=o.fontSize;if(!To.available[l])throw new Error('Missing BitmapFont "'+l+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=a,n._fontName=l,n._fontSize=c||To.available[l].size,n._text=r,n._maxWidth=h,n._maxLineHeight=0,n._letterSpacing=u,n._anchor=new It((function(){n.dirty=!0}),n,0,0),n._roundPixels=G.ROUND_PIXELS,n.dirty=!0,n._textureCache={},n}(function(t,e){function r(){this.constructor=t}po(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.updateText=function(){for(var t,e=To.available[this._fontName],r=this._fontSize/e.size,i=new Pt,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*e.size/this._fontSize,u=null,l=0,c=0,d=0,p=-1,f=0,v=0,m=0,y=0;y<a;y++){var g=s.charCodeAt(y),_=s.charAt(y);if(/(?:\s)/.test(_)&&(p=y,f=l),"\r"!==_&&"\n"!==_){var x=e.chars[g];if(x){u&&x.kerning[u]&&(i.x+=x.kerning[u]);var b=wo.pop()||{texture:Ce.EMPTY,line:0,charCode:0,position:new Pt};b.texture=x.texture,b.line=d,b.charCode=g,b.position.x=i.x+x.xOffset+this._letterSpacing/2,b.position.y=i.y+x.yOffset,n.push(b),i.x+=x.xAdvance+this._letterSpacing,l=i.x,m=Math.max(m,x.yOffset+x.texture.height),u=g,-1!==p&&h>0&&i.x>h&&(at(n,1+p-++v,1+y-p),y=p,p=-1,o.push(f),c=Math.max(c,f),d++,i.x=0,i.y+=e.lineHeight,u=null)}}else o.push(l),c=Math.max(c,l),++d,++v,i.x=0,i.y+=e.lineHeight,u=null}var T=s.charAt(s.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(l=f),o.push(l),c=Math.max(c,l));var E=[];for(y=0;y<=d;y++){var w=0;"right"===this._align?w=c-o[y]:"center"===this._align&&(w=(c-o[y])/2),E.push(w)}var A=n.length,O={},S=[],P=this._activePagesMeshData;for(y=0;y<P.length;y++)Eo.push(P[y]);for(y=0;y<A;y++){var I=(B=n[y].texture).baseTexture.uid;if(!O[I]){if(!(Y=Eo.pop())){var C=new co,M=new lo(Ce.EMPTY);Y={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new uo(C,M),vertices:null,uvs:null,indices:null}}Y.index=0,Y.indexCount=0,Y.vertexCount=0,Y.uvsCount=0,Y.total=0;var R=this._textureCache;R[I]=R[I]||new Ce(B.baseTexture),Y.mesh.texture=R[I],Y.mesh.tint=this._tint,S.push(Y),O[I]=Y}O[I].total++}for(y=0;y<P.length;y++)-1===S.indexOf(P[y])&&this.removeChild(P[y].mesh);for(y=0;y<S.length;y++)S[y].mesh.parent!==this&&this.addChild(S[y].mesh);for(var y in this._activePagesMeshData=S,O){var D=(Y=O[y]).total;if(!((null===(t=Y.indices)||void 0===t?void 0:t.length)>6*D)||Y.vertices.length<2*uo.BATCHABLE_SIZE)Y.vertices=new Float32Array(8*D),Y.uvs=new Float32Array(8*D),Y.indices=new Uint16Array(6*D);else for(var N=Y.total,L=Y.vertices,F=4*N*2;F<L.length;F++)L[F]=0;Y.mesh.size=6*D}for(y=0;y<A;y++){var U=(_=n[y]).position.x+E[_.line];this._roundPixels&&(U=Math.round(U));var B,k=U*r,j=_.position.y*r,H=O[(B=_.texture).baseTexture.uid],X=B.frame,G=B._uvs,z=H.index++;H.indices[6*z+0]=0+4*z,H.indices[6*z+1]=1+4*z,H.indices[6*z+2]=2+4*z,H.indices[6*z+3]=0+4*z,H.indices[6*z+4]=2+4*z,H.indices[6*z+5]=3+4*z,H.vertices[8*z+0]=k,H.vertices[8*z+1]=j,H.vertices[8*z+2]=k+X.width*r,H.vertices[8*z+3]=j,H.vertices[8*z+4]=k+X.width*r,H.vertices[8*z+5]=j+X.height*r,H.vertices[8*z+6]=k,H.vertices[8*z+7]=j+X.height*r,H.uvs[8*z+0]=G.x0,H.uvs[8*z+1]=G.y0,H.uvs[8*z+2]=G.x1,H.uvs[8*z+3]=G.y1,H.uvs[8*z+4]=G.x2,H.uvs[8*z+5]=G.y2,H.uvs[8*z+6]=G.x3,H.uvs[8*z+7]=G.y3}for(var y in this._textWidth=c*r,this._textHeight=(i.y+e.lineHeight)*r,O){var Y=O[y];if(0!==this.anchor.x||0!==this.anchor.y)for(var V=0,W=this._textWidth*this.anchor.x,q=this._textHeight*this.anchor.y,Z=0;Z<Y.total;Z++)Y.vertices[V++]-=W,Y.vertices[V++]-=q,Y.vertices[V++]-=W,Y.vertices[V++]-=q,Y.vertices[V++]-=W,Y.vertices[V++]-=q,Y.vertices[V++]-=W,Y.vertices[V++]-=q;this._maxLineHeight=m*r;var K=Y.mesh.geometry.getBuffer("aVertexPosition"),J=Y.mesh.geometry.getBuffer("aTextureCoord"),Q=Y.mesh.geometry.getIndex();K.data=Y.vertices,J.data=Y.uvs,Q.data=Y.indices,K.update(),J.update(),Q.update()}for(y=0;y<n.length;y++)wo.push(n[y])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!To.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.prototype.destroy=function(e){var r=this._textureCache;for(var i in r)r[i].destroy(),delete r[i];this._textureCache=null,t.prototype.destroy.call(this,e)},e.registerFont=function(t,e){return dt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),To.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return dt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),To.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(Vt),function(){function t(){}return t.add=function(){Ni.setExtensionXhrType("fnt",Ni.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var i=_o(e.data);if(i)for(var n=t.getBaseUrl(this,e),o=i.parse(e.data),s={},a=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===o.page.length&&(e.bitmapFont=To.install(o,s),r())},h=0;h<o.page.length;++h){var u=o.page[h].file,l=n+u,c=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===l){p.metadata.pageFile=u,p.texture?a(p):p.onAfterMiddleware.add(a),c=!0;break}}if(!c){var f={crossOrigin:e.crossOrigin,loadType:Ni.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e};this.add(l,f,a)}}else r()},t.getBaseUrl=function(e,r){var i=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),e.baseUrl&&i&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(i+="/")),(i=i.replace(e.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}()),Oo=function(t,e){return(Oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}(function(t,e){function r(){this.constructor=t}Oo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0})}(Mr);var So=function(t,e){return(So=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Po(t,e){function r(){this.constructor=t}So(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Io,Co,Mo,Ro,Do,No,Lo,Fo,Uo,Bo,ko,jo,Ho,Xo,Go,zo,Yo,Vo={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Wo=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Io||(Io={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Co||(Co={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Mo||(Mo={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Ro||(Ro={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Do||(Do={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(No||(No={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Lo||(Lo={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Fo||(Fo={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Uo||(Uo={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Bo||(Bo={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(ko||(ko={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(jo||(jo={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Ho||(Ho={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Xo||(Xo={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Go||(Go={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(zo||(zo={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Yo||(Yo={}));var qo=function(t){function e(e,r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=G.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function(t,e){var r,i=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),h=function(t){for(var e,r=Vo[t],i=r.length,n=Wo,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e].toString()),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,h)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=i,s.blur=r,s}return Po(e,t),e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,Ho.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(s,Ho.BLIT),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(Mr),Zo=(function(t){function e(e,r,i,n){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=G.FILTER_RESOLUTION),void 0===n&&(n=5);var o=t.call(this)||this;return o.blurXFilter=new qo(!0,e,r,i,n),o.blurYFilter=new qo(!1,e,r,i,n),o.resolution=i,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}Po(e,t),e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,Ho.CLEAR),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0})}(Mr),function(t,e){return(Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)}),Ko=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,ti,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}Zo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Mr);Ko.prototype.grayscale=Ko.prototype.greyscale;var Jo=function(t,e){return(Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e,r){var i=this,n=new Ct;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=n,null==r&&(r=20),i.scale=new Pt(r,r),i}(function(t,e){function r(){this.constructor=t}Jo(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0})}(Mr);var Qo,$o=function(t,e){return($o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};(function(t,e){function r(){this.constructor=t}$o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})((function(){return Qo.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}),Qo=Mr);var ts=function(t,e){return(ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,ti,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=r,i}(function(t,e){function r(){this.constructor=t}ts(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0})}(Mr);var es=new Ct;Gt.prototype._cacheAsBitmap=!1,Gt.prototype._cacheData=null;var rs=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Gt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new rs),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Gt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Gt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(G.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.projection.transform,a=Re.create({width:r.width,height:r.height}),h="cacheAsBitmap_"+lt();this._cacheData.textureCacheId=h,fe.addToCache(a.baseTexture,h),Ce.addToCache(a,h);var u=this.transform.localTransform.copyTo(es).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,a,!0,u,!1),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new An(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-r.x/r.width,l.anchor.y=-r.y/r.height,l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l)}},Gt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Gt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,n=t._projTransform;e.ceil(G.RESOLUTION);var o=Re.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+lt();this._cacheData.textureCacheId=s,fe.addToCache(o.baseTexture,s),Ce.addToCache(o,s);var a=es;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,a,!1),t.context=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new An(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},Gt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Gt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Gt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,fe.removeFromCache(this._cacheData.textureCacheId),Ce.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Gt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Gt.prototype.name=null,Vt.prototype.getChildByName=function(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++)if(this.children[r].getChildByName){var n=this.children[r].getChildByName(t,!0);if(n)return n}return null},Gt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new Pt),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var is=function(t,e){return(is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function ns(t,e){function r(){this.constructor=t}is(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var os=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=n,o.width=e,o.height=r,o.build(),o}return ns(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}var c=n*o;for(h=0;h<c;h++){var d=h%n,p=h/n|0,f=p*this.segWidth+d,v=p*this.segWidth+d+1,m=(p+1)*this.segWidth+d,y=(p+1)*this.segWidth+d+1;i.push(f,v,m,v,y,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(co),ss=function(t){function e(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0);var n=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=e,n.textureScale=i,n.build(),n}return ns(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c=4*l;if(this.textureScale>0){var d=a.x-t[l].x,p=a.y-t[l].y,f=Math.sqrt(d*d+p*p);a=t[l],s+=f/h}else s=l/(u-1);n[c]=s,n[c+1]=0,n[c+2]=s,n[c+3]=1}var v=0;for(l=0;l<u-1;l++)c=2*l,o[v++]=c,o[v++]=c+1,o[v++]=c+2,o[v++]=c+2,o[v++]=c+1,o[v++]=c+3;r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-r.x),i=e.y-r.y;var l=Math.sqrt(i*i+n*n),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=l,n/=l,i*=c,n*=c,o[u]=h.x+i,o[u+1]=h.y+n,o[u+2]=h.x-i,o[u+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(co),as=(function(t){function e(e,r,i){void 0===i&&(i=0);var n=this,o=new ss(e.height,r,i),s=new lo(e);return i>0&&(e.baseTexture.wrapMode=g.REPEAT),(n=t.call(this,o,s)||this).autoUpdate=!0,n}ns(e,t),e.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)}}(uo),function(t){function e(e,r,i){var n=this,o=new os(e.width,e.height,r,i),s=new lo(Ce.WHITE);return(n=t.call(this,o,s)||this).texture=e,n}return ns(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(uo)),hs=(function(t){function e(e,r,i,n,o){void 0===e&&(e=Ce.EMPTY);var s=this,a=new co(r,i,n);a.getBuffer("aVertexPosition").static=!1;var h=new lo(e);return(s=t.call(this,a,h,null,o)||this).autoUpdate=!0,s}ns(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)}}(uo),function(t){function e(e,r,i,n,o){void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===o&&(o=10);var s=t.call(this,Ce.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=n,s._topHeight=i,s._bottomHeight=o,s.texture=e,s}ns(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(e,i)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(as),function(t,e){return(hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)});!function(t){function e(e,r){void 0===r&&(r=!0);var i=t.call(this,e[0]instanceof Ce?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}(function(t,e){function r(){this.constructor=t}hs(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Kt.shared.add(this.update,this,Wt.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(Ce.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(Ce.from(t[i]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof Ce)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Kt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(An),$r.registerPlugin("accessibility",qt),$r.registerPlugin("extract",pi),$r.registerPlugin("interaction",oe),$r.registerPlugin("particle",zi),$r.registerPlugin("prepare",Zn),$r.registerPlugin("batch",ui),$r.registerPlugin("tilingSprite",io),Ui.registerPlugin(Ao),Ui.registerPlugin(Jn),li.registerPlugin(Jt),li.registerPlugin(Bi);var us,ls=function(){function t(t,e){var r=this;this.loader=t.loader,this.loadAssets(),this.loader.load((function(){t.stage.removeChild(r.loadingScreen),e()})),this.generateLoadingScreen(t.screen.width,t.screen.height),t.stage.addChild(this.loadingScreen)}return t.prototype.loadAssets=function(){this.loader.add("brick","./src/assets/brick.png")},t.prototype.generateLoadingScreen=function(t,e){var r=new In({fontFamily:"Arial",fontSize:36,fill:"#ffffff"}),i=new Fn("Loading...",r);i.x=(t-i.width)/2,i.y=(e-i.height)/2,this.loadingScreen=i},t}(),cs=function(){function t(t,e,r){this.matrix=new Array(t).fill([]).map((function(){return new Array(e).fill(r)}))}return t.prototype.reset=function(t,e){this.offsets={x:t,y:e}},t.prototype.applyOffsets=function(t,e){this.offsets.x+=t,this.offsets.y+=e},t.prototype.forEachCell=function(t){this.matrix.forEach((function(e,r){e.forEach((function(e,i){t(e,r,i)}))}))},t.prototype.add=function(t){var e=this;t.forEachCell((function(r,i,n){r>0&&(e.matrix[i+t.offsets.y][n+t.offsets.x]=r)}))},t.prototype.collision=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0);for(var i=0;i<t.matrix.length;i++)for(var n=0;n<t.matrix[i].length;n++)if(t.matrix[i][n]>0){var o=n+t.offsets.x+e,s=i+t.offsets.y+r;if(!this.matrix[s]||this.matrix[s][o]>0)return!0}return!1},t.prototype.isInBounds=function(t,e){for(var r=0;r<this.matrix.length;r++)for(var i=0;i<this.matrix[r].length;i++)if(this.matrix[r][i]>0){var n=i+this.offsets.x,o=r+this.offsets.y;if(n<0||n>=t||o>=e)return!1}return!0},t.prototype.rotate=function(t){for(var e,r=0;r<this.matrix.length;r++)for(var i=0;i<r;i++)e=[this.matrix[r][i],this.matrix[i][r]],this.matrix[i][r]=e[0],this.matrix[r][i]=e[1];t?this.matrix.forEach((function(t){return t.reverse()})):this.matrix.reverse()},t.prototype.clone=function(){return t.from2dArray(this.matrix)},t.from2dArray=function(e){var r=new t(0,0);return r.matrix=e.map((function(t){return t.slice()})),r},t}(),ds=45,ps=300,fs={width:750,height:900},vs=[0,16711680,65280,255,16776960,65535,1113857,15728895,0],ms=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),ys=function(t){function e(e,r,i){var n=t.call(this,e,r,0)||this;return n.WIN_COLOR=8,n.EMPTY_COLOR=0,n.cols=r,n.rows=e,n.gfx=n.initCellsGFX(i),n.addFrame(i),n}return ms(e,t),e.prototype.initCellsGFX=function(t){var e=new bn;return e.scale.set(ds),t.addChild(e)},e.prototype.addFrame=function(t){var e=new bn;e.lineStyle(4,14527356,1),e.drawRect(0,0,this.cols*ds,this.rows*ds),e.endFill(),t.addChild(e)},e.prototype.getFilledRows=function(){var t=this;return this.matrix.reduce((function(e,r,i){return r.every((function(e){return e!==t.EMPTY_COLOR}))&&e.push(i),e}),[])},e.prototype.applyWinRows=function(){var t=this;this.getFilledRows().forEach((function(e){t.matrix[e].fill(t.WIN_COLOR)}))},e.prototype.hasWinRows=function(){return this.getFilledRows().length>0},e.prototype.clearWinRows=function(){var t=this;this.getFilledRows().forEach((function(e){t.matrix.splice(e,1),t.matrix.unshift(new Array(t.cols).fill(t.EMPTY_COLOR))}))},e.prototype.redraw=function(){var t=this;this.gfx.clear(),this.forEachCell((function(e,r,i){t.gfx.beginFill(vs[e]),t.gfx.drawRect(i,r,1,1),t.gfx.endFill()}))},e.prototype.reset=function(){var t=this;this.forEachCell((function(e,r,i){t.matrix[r][i]=t.EMPTY_COLOR}))},e}(cs);!function(t){t.ROTATE="Space",t.DOWN="ArrowDown",t.LEFT="ArrowLeft",t.RIGHT="ArrowRight"}(us||(us={}));var gs=function(){function t(t,e){this.isInteractive=!0,this.container=t,this.fallingTetromino=null,this.grid=new ys(20,10,this.container),this.reset=e}return t.prototype.setInteractive=function(t){this.isInteractive=t},t.prototype.collision=function(t){var e=t.isInBounds(10,20),r=this.grid.collision(t);return!e||r},t.prototype.drawGameState=function(){var t;this.grid.redraw(),null===(t=this.fallingTetromino)||void 0===t||t.redraw()},t.prototype.transform=function(t){if(null!==this.fallingTetromino&&this.isInteractive){switch(t){case us.DOWN:this.tryMoveDown();break;case us.ROTATE:this.tryRotate();break;case us.LEFT:this.tryMoveHorizontally(-1);break;case us.RIGHT:this.tryMoveHorizontally(1);break;default:console.error("Unsupported transform option, expected "+us+", was "+t)}this.drawGameState()}},t.prototype.tryMoveDown=function(){this.grid.collision(this.fallingTetromino.shape,0,1)?this.processGridCollision():this.fallingTetromino.move(0,1)},t.prototype.processGridCollision=function(){this.grid.add(this.fallingTetromino.shape),this.grid.hasWinRows()&&this.setInteractive(!1),0===this.fallingTetromino.y&&(alert("Too bad :("),this.reset()),this.fallingTetromino.hide(),this.fallingTetromino=null},t.prototype.tryMoveHorizontally=function(t){this.fallingTetromino.move(t,0),this.collision(this.fallingTetromino.shape)&&this.fallingTetromino.move(-t,0)},t.prototype.tryRotate=function(){this.fallingTetromino.shape.rotate(!0),this.collision(this.fallingTetromino.shape)&&this.fallingTetromino.shape.rotate(!1)},t}();function _s(t){var e=window.innerWidth/t.offsetWidth,r=window.innerHeight/t.offsetHeight,i=Math.min(e,r);t.style.transform="scale("+i+")"}var xs=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),bs=function(t){function e(e){var r=t.call(this)||this;return e.addChild(r),r.scale.set(ds),r}return xs(e,t),e.prototype.reset=function(t){this.shape=t,this.removeChildren(),this.setupImages()},e.prototype.setupImages=function(){var t=this;this.shape.forEachCell((function(){var e=new An;e.width=e.height=1,t.addChild(e)}))},e.prototype.redraw=function(){var t=this,e=0;this.shape.forEachCell((function(r,i,n){var o=t.getChildAt(e);o.texture=r>0?vt.brick:Ce.EMPTY,o.position.set(n,i),o.tint=vs[r],e++}))},e.prototype.getShape=function(){return this.shape},e.prototype.alignToCenter=function(){this.x=-this.width/2},e}(Vt),Ts=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ts(e,t),e.prototype.reset=function(e){t.prototype.reset.call(this,e),this.alignToCenter(),this.show()},e.prototype.alignToCenter=function(){var t=Math.floor(5)-Math.floor(this.shape.matrix.length/2);this.y=0,this.x=t*ds,this.shape.reset(t,0)},e.prototype.move=function(t,e){this.x+=ds*t,this.y+=ds*e,this.shape.applyOffsets(t,e)},e.prototype.hide=function(){this.visible=!1},e.prototype.show=function(){this.visible=!0},e}(bs),ws=[[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[2,0,0],[2,2,2],[0,0,0]],[[0,0,3],[3,3,3],[0,0,0]],[[4,4],[4,4]],[[0,5,5],[5,5,0],[0,0,0]],[[0,6,0],[6,6,6],[0,0,0]],[[7,7,0],[0,7,7],[0,0,0]]].map((function(t){return cs.from2dArray(t)})),As={RAW_TICK_DURATION:1e3,BURNS_PER_LEVEL:10,LEVELS:[1,.9,.8,.7,.6,.5,.4,.3,.3,.2]},Os=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Ss=function(t){function e(e){var r=t.call(this)||this;return e.addChild(r),r.x=600,r.init(),r.reset(),r}return Os(e,t),e.prototype.init=function(){this.initBG(),this.next=this.initNextTetromino(),this.levelText=this.initTextBlock(410,"LEVEL:"),this.burnsText=this.initTextBlock(600,"TOTAL BURNS:")},e.prototype.initBG=function(){var t=new bn;t.beginFill(16777215,.3),t.drawRect(-150,0,ps,900),t.endFill(),this.addChild(t)},e.prototype.initNextTetromino=function(){var t=this.addChild(new Vt);return t.y=200,this.addTitle(t,"NEXT"),new bs(t)},e.prototype.initTextBlock=function(t,e){var r=this.addChild(new Vt);r.y=t,this.addTitle(r,e);var i=new Fn("",{fontFamily:"Tetris",fontSize:100});return i.anchor.x=.5,r.addChild(i)},e.prototype.addTitle=function(t,e){var r=t.addChild(new Fn(e,{fontFamily:"Arial",fontSize:36,fill:"white"}));return r.anchor.set(.5),r.y=-25,t.addChild(r)},e.prototype.getNextShape=function(){return this.next.getShape().clone()},e.prototype.getLevel=function(){return this.levelValue},e.prototype.updateNextTetromino=function(){this.next.reset(ws[Math.floor(Math.random()*ws.length)]),this.next.redraw(),this.next.alignToCenter()},e.prototype.updateValues=function(t){this.burnsValue+=t;var e=Math.floor(this.burnsValue/As.BURNS_PER_LEVEL);this.levelValue=Math.min(e,As.LEVELS.length-1),this.burnsText.text=this.burnsValue.toString(),this.levelText.text=(this.levelValue+1).toString()},e.prototype.reset=function(){this.burnsValue=0,this.levelValue=0,this.updateValues(0),this.updateNextTetromino()},e}(Vt),Ps=function(){function t(t){this.rawTickDuration=t.RAW_TICK_DURATION,this.levels=t.LEVELS,this.currentLevel=this.levels[0]}return t.prototype.getTickDuration=function(){return this.rawTickDuration*this.currentLevel},t.prototype.setCurrentLevel=function(t){this.currentLevel=this.levels[t]},t}();new(function(){function t(){var t=this;this.app=this.initApp(),new ls(this.app,(function(){return t.start()}))}return t.prototype.initApp=function(){var t=new li({width:fs.width,height:fs.height});return window.document.body.appendChild(t.view),_s(t.view),window.addEventListener("resize",(function(){_s(t.view)})),t},t.prototype.start=function(){return t=this,e=void 0,i=function(){var t=this;return function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:this.ticker=new Ps(As),this.model=new gs(this.app.stage,(function(){return t.reset()})),this.fallingTetromino=new Es(this.app.stage),this.infoPanel=new Ss(this.app.stage),this.setupInteraction(),e.label=1;case 1:return[4,this.state()];case 2:return e.sent(),[3,1];case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(n,o){function s(t){try{h(i.next(t))}catch(t){o(t)}}function a(t){try{h(i.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}h((i=i.apply(t,e||[])).next())}));var t,e,r,i},t.prototype.state=function(){return this.model.grid.hasWinRows()?this.playWin():this.move()},t.prototype.move=function(){var t=this;return null===this.model.fallingTetromino&&(this.fallingTetromino.reset(this.infoPanel.getNextShape()),this.infoPanel.updateNextTetromino(),this.model.fallingTetromino=this.fallingTetromino),this.model.transform(us.DOWN),new Promise((function(e){return setTimeout(e,t.ticker.getTickDuration())}))},t.prototype.playWin=function(){var t=this;return this.model.grid.applyWinRows(),this.model.drawGameState(),this.infoPanel.updateValues(this.model.grid.getFilledRows().length),this.ticker.setCurrentLevel(this.infoPanel.getLevel()),new Promise((function(e){return setTimeout((function(){t.model.grid.clearWinRows(),t.model.setInteractive(!0),e()}),t.ticker.getTickDuration())}))},t.prototype.reset=function(){this.model.grid.reset(),this.ticker.setCurrentLevel(0),this.infoPanel.reset()},t.prototype.setupInteraction=function(){var t=this;document.addEventListener("keydown",(function(e){Object.values(us).includes(e.code)&&t.model.transform(e.code)}))},t}())})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlLXBvbHlmaWxsL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9wYXJzZS11cmkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL3B1bnljb2RlL3B1bnljb2RlLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nL2VuY29kZS5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovL3RldHJpcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90ZXRyaXMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdGV0cmlzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90ZXRyaXMvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90ZXRyaXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90ZXRyaXMvd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvcG9seWZpbGwvbGliL3BvbHlmaWxsLmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2VzbS9pc01vYmlsZS5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29uc3RhbnRzL2xpYi9jb25zdGFudHMuZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2xpYi9zZXR0aW5ncy5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvdXRpbHMvbGliL3V0aWxzLmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9AcGl4aS9tYXRoL2xpYi9tYXRoLmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9AcGl4aS9kaXNwbGF5L2xpYi9kaXNwbGF5LmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9AcGl4aS9hY2Nlc3NpYmlsaXR5L2xpYi9hY2Nlc3NpYmlsaXR5LmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL3RpY2tlci5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvaW50ZXJhY3Rpb24vbGliL2ludGVyYWN0aW9uLmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9AcGl4aS9ydW5uZXIvbGliL3J1bm5lci5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvY29yZS5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvYXBwL2xpYi9hcHAuZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2V4dHJhY3QvbGliL2V4dHJhY3QuZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9kaXN0L3Jlc291cmNlLWxvYWRlci5lc20uanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2xvYWRlcnMvbGliL2xvYWRlcnMuZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlcy9saWIvcGFydGljbGVzLmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvZ3JhcGhpY3MuZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQvbGliL3RleHQuZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS9saWIvc3ByaXRlLmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2xpYi9wcmVwYXJlLmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGVzaGVldC9saWIvc3ByaXRlc2hlZXQuZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS10aWxpbmcvbGliL3Nwcml0ZS10aWxpbmcuZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL21lc2guZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2xpYi90ZXh0LWJpdG1hcC5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWFscGhhL2xpYi9maWx0ZXItYWxwaGEuZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ibHVyL2xpYi9maWx0ZXItYmx1ci5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeC9saWIvZmlsdGVyLWNvbG9yLW1hdHJpeC5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudC9saWIvZmlsdGVyLWRpc3BsYWNlbWVudC5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWZ4YWEvbGliL2ZpbHRlci1meGFhLmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItbm9pc2UvbGliL2ZpbHRlci1ub2lzZS5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwL2xpYi9taXhpbi1jYWNoZS1hcy1iaXRtYXAuZXMuanMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lL2xpYi9taXhpbi1nZXQtY2hpbGQtYnktbmFtZS5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi9saWIvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvQHBpeGkvbWVzaC1leHRyYXMvbGliL21lc2gtZXh0cmFzLmVzLmpzIiwid2VicGFjazovL3RldHJpcy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtYW5pbWF0ZWQvbGliL3Nwcml0ZS1hbmltYXRlZC5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGl4aS5lcy5qcyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9zcmMvdHMvTW9kZWwudHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL3RzL0xvYWRlci50cyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9zcmMvdHMvdXRpbHMvTWF0cml4LnRzIiwid2VicGFjazovL3RldHJpcy8uL3NyYy90cy9jb25maWcvbGF5b3V0LnRzIiwid2VicGFjazovL3RldHJpcy8uL3NyYy90cy9jb25maWcvY29sb3JzLnRzIiwid2VicGFjazovL3RldHJpcy8uL3NyYy90cy9jb21wb25lbnRzL0dyaWQudHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL3RzL3V0aWxzL3NjYXRlVG9XaW5kb3cudHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL3RzL2NvbXBvbmVudHMvVGV0cm9taW5vLnRzIiwid2VicGFjazovL3RldHJpcy8uL3NyYy90cy9jb21wb25lbnRzL0ZhbGxpbmdUZXRyb21pbm8udHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL3RzL2NvbmZpZy9zaGFwZXMudHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL3RzL2NvbmZpZy90aWNrZXIudHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL3RzL2NvbXBvbmVudHMvSW5mb1BhbmVsLnRzIiwid2VicGFjazovL3RldHJpcy8uL3NyYy90cy91dGlscy9UaWNrZXIudHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3RldHJpcy8uL3NyYy90cy9HYW1lLnRzIl0sIm5hbWVzIjpbImVhcmN1dCIsImRhdGEiLCJob2xlSW5kaWNlcyIsImRpbSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ4IiwieSIsImludlNpemUiLCJoYXNIb2xlcyIsImxlbmd0aCIsIm91dGVyTGVuIiwib3V0ZXJOb2RlIiwibGlua2VkTGlzdCIsInRyaWFuZ2xlcyIsIm5leHQiLCJwcmV2IiwiaSIsImxlbiIsImxpc3QiLCJxdWV1ZSIsInN0ZWluZXIiLCJwdXNoIiwiZ2V0TGVmdG1vc3QiLCJzb3J0IiwiY29tcGFyZVgiLCJlbGltaW5hdGVIb2xlIiwiZmlsdGVyUG9pbnRzIiwiZWxpbWluYXRlSG9sZXMiLCJNYXRoIiwibWF4IiwiZWFyY3V0TGlua2VkIiwic3RhcnQiLCJlbmQiLCJjbG9ja3dpc2UiLCJsYXN0Iiwic2lnbmVkQXJlYSIsImluc2VydE5vZGUiLCJlcXVhbHMiLCJyZW1vdmVOb2RlIiwiYWdhaW4iLCJwIiwiYXJlYSIsImVhciIsInBhc3MiLCJ6Iiwiek9yZGVyIiwicHJldloiLCJuZXh0WiIsInEiLCJlIiwidGFpbCIsIm51bU1lcmdlcyIsInBTaXplIiwicVNpemUiLCJpblNpemUiLCJzb3J0TGlua2VkIiwiaW5kZXhDdXJ2ZSIsInN0b3AiLCJpc0Vhckhhc2hlZCIsImlzRWFyIiwiY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyIsInNwbGl0RWFyY3V0IiwiYSIsImIiLCJjIiwicG9pbnRJblRyaWFuZ2xlIiwibWluVFgiLCJtaW5UWSIsIm1heFRYIiwibWF4VFkiLCJtaW5aIiwibWF4WiIsIm4iLCJpbnRlcnNlY3RzIiwibG9jYWxseUluc2lkZSIsImlzVmFsaWREaWFnb25hbCIsInNwbGl0UG9seWdvbiIsImhvbGUiLCJtIiwiaHgiLCJoeSIsInF4IiwidGFuIiwibXgiLCJteSIsInRhbk1pbiIsIkluZmluaXR5IiwiYWJzIiwic2VjdG9yQ29udGFpbnNTZWN0b3IiLCJmaW5kSG9sZUJyaWRnZSIsImxlZnRtb3N0IiwiYXgiLCJheSIsImJ4IiwiYnkiLCJjeCIsImN5IiwicHgiLCJweSIsImludGVyc2VjdHNQb2x5Z29uIiwiaW5zaWRlIiwibWlkZGxlSW5zaWRlIiwiciIsInAxIiwicDIiLCJxMSIsInEyIiwibzEiLCJzaWduIiwibzIiLCJvMyIsIm80Iiwib25TZWdtZW50IiwibWluIiwibnVtIiwiYTIiLCJOb2RlIiwiYjIiLCJhbiIsImJwIiwidGhpcyIsInN1bSIsImoiLCJtb2R1bGUiLCJleHBvcnRzIiwiZGVmYXVsdCIsImRldmlhdGlvbiIsInBvbHlnb25BcmVhIiwidHJpYW5nbGVzQXJlYSIsImZsYXR0ZW4iLCJyZXN1bHQiLCJ2ZXJ0aWNlcyIsImhvbGVzIiwiZGltZW5zaW9ucyIsImhvbGVJbmRleCIsImQiLCJOYXRpdmVQcm9taXNlIiwiZ2xvYmFsIiwibmF0aXZlUHJvbWlzZVN1cHBvcnRlZCIsInJlc29sdmUiLCJQcm9taXNlIiwiUG9seWZpbGwiLCJQRU5ESU5HIiwiU0VBTEVEIiwiRlVMRklMTEVEIiwiUkVKRUNURUQiLCJOT09QIiwiaXNBcnJheSIsInZhbHVlIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiYXN5bmNUaW1lciIsImFzeW5jU2V0VGltZXIiLCJzZXRJbW1lZGlhdGUiLCJzZXRUaW1lb3V0IiwiYXN5bmNRdWV1ZSIsImFzeW5jRmx1c2giLCJhc3luY0NhbGwiLCJjYWxsYmFjayIsImFyZyIsImludm9rZUNhbGxiYWNrIiwic3Vic2NyaWJlciIsIm93bmVyIiwic2V0dGxlZCIsInN0YXRlXyIsImRhdGFfIiwicHJvbWlzZSIsInRoZW4iLCJyZWplY3QiLCJoYW5kbGVUaGVuYWJsZSIsInJlc29sdmVkIiwiVHlwZUVycm9yIiwidmFsIiwiZnVsZmlsbCIsInJlYXNvbiIsInB1Ymxpc2hGdWxmaWxsbWVudCIsInB1Ymxpc2hSZWplY3Rpb24iLCJwdWJsaXNoIiwiY2FsbGJhY2tzIiwidGhlbl8iLCJ1bmRlZmluZWQiLCJyZXNvbHZlciIsInJlamVjdFByb21pc2UiLCJpbnZva2VSZXNvbHZlciIsImNvbnN0cnVjdG9yIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJhbGwiLCJwcm9taXNlcyIsInJlc3VsdHMiLCJyZW1haW5pbmciLCJpbmRleCIsInJhY2UiLCJ3aW5kb3ciLCJnIiwic2VsZiIsImhhcyIsImhhc093blByb3BlcnR5IiwicHJlZml4IiwiRXZlbnRzIiwiRUUiLCJmbiIsImNvbnRleHQiLCJvbmNlIiwiYWRkTGlzdGVuZXIiLCJlbWl0dGVyIiwiZXZlbnQiLCJsaXN0ZW5lciIsImV2dCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiRXZlbnRFbWl0dGVyIiwiY3JlYXRlIiwiX19wcm90b19fIiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWUiLCJuYW1lcyIsInNsaWNlIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiY29uY2F0IiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJsIiwiZWUiLCJBcnJheSIsImxpc3RlbmVyQ291bnQiLCJlbWl0IiwiYTEiLCJhMyIsImE0IiwiYTUiLCJhcmdzIiwiYXJndW1lbnRzIiwicmVtb3ZlTGlzdGVuZXIiLCJhcHBseSIsIm9uIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwib2ZmIiwicHJlZml4ZWQiLCJkZWZpbmVQcm9wZXJ0eSIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJrZXkiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiTWluaVNpZ25hbEJpbmRpbmciLCJ0aGlzQXJnIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9uZXh0IiwiX3ByZXYiLCJfb3duZXIiLCJkZXRhY2giLCJfYWRkTWluaVNpZ25hbEJpbmRpbmciLCJub2RlIiwiX2hlYWQiLCJfdGFpbCIsIk1pbmlTaWduYWwiLCJleGlzdHMiLCJFcnJvciIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvT2JqZWN0IiwiYXNzaWduIiwidGVzdDEiLCJTdHJpbmciLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidGVzdDIiLCJmcm9tQ2hhckNvZGUiLCJtYXAiLCJqb2luIiwidGVzdDMiLCJzcGxpdCIsImZvckVhY2giLCJsZXR0ZXIiLCJrZXlzIiwiZXJyIiwic2hvdWxkVXNlTmF0aXZlIiwic291cmNlIiwiZnJvbSIsInN5bWJvbHMiLCJ0byIsInMiLCJzdHIiLCJvcHRzIiwibyIsInBhcnNlciIsInN0cmljdCIsImxvb3NlIiwic3RyaWN0TW9kZSIsImV4ZWMiLCJ1cmkiLCJyZXBsYWNlIiwiJDAiLCIkMSIsIiQyIiwicm9vdCIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsInB1bnljb2RlIiwibWF4SW50IiwiYmFzZSIsInJlZ2V4UHVueWNvZGUiLCJyZWdleE5vbkFTQ0lJIiwicmVnZXhTZXBhcmF0b3JzIiwiZXJyb3JzIiwiZmxvb3IiLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJlcnJvciIsInR5cGUiLCJSYW5nZUVycm9yIiwiYXJyYXkiLCJtYXBEb21haW4iLCJzdHJpbmciLCJwYXJ0cyIsInVjczJkZWNvZGUiLCJleHRyYSIsIm91dHB1dCIsImNvdW50ZXIiLCJjaGFyQ29kZUF0IiwidWNzMmVuY29kZSIsImRpZ2l0VG9CYXNpYyIsImRpZ2l0IiwiZmxhZyIsImFkYXB0IiwiZGVsdGEiLCJudW1Qb2ludHMiLCJmaXJzdFRpbWUiLCJrIiwiYmFzZU1pbnVzVE1pbiIsImRlY29kZSIsImlucHV0Iiwib3V0IiwiYmFzaWMiLCJvbGRpIiwidyIsInQiLCJiYXNlTWludXNUIiwiY29kZVBvaW50IiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwibGFzdEluZGV4T2YiLCJzcGxpY2UiLCJlbmNvZGUiLCJoYW5kbGVkQ1BDb3VudCIsImJhc2ljTGVuZ3RoIiwiY3VycmVudFZhbHVlIiwiaGFuZGxlZENQQ291bnRQbHVzT25lIiwicU1pbnVzVCIsInRlc3QiLCJ0b0xvd2VyQ2FzZSIsIm9iaiIsInByb3AiLCJxcyIsInNlcCIsImVxIiwib3B0aW9ucyIsInJlZ2V4cCIsIm1heEtleXMiLCJrc3RyIiwidnN0ciIsInYiLCJpZHgiLCJpbmRleE9mIiwic3Vic3RyIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3RyaW5naWZ5UHJpbWl0aXZlIiwiaXNGaW5pdGUiLCJrcyIsImVuY29kZVVSSUNvbXBvbmVudCIsInBhcnNlIiwic3RyaW5naWZ5IiwidXRpbCIsIlVybCIsInByb3RvY29sIiwic2xhc2hlcyIsImF1dGgiLCJob3N0IiwicG9ydCIsImhvc3RuYW1lIiwiaGFzaCIsInNlYXJjaCIsInF1ZXJ5IiwicGF0aG5hbWUiLCJwYXRoIiwiaHJlZiIsInVybFBhcnNlIiwicmVsYXRpdmUiLCJyZXNvbHZlT2JqZWN0IiwiZm9ybWF0IiwiaXNTdHJpbmciLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsInF1ZXJ5c3RyaW5nIiwidXJsIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwiaXNPYmplY3QiLCJ1IiwicXVlcnlJbmRleCIsInNwbGl0dGVyIiwidVNwbGl0IiwicmVzdCIsInRyaW0iLCJzaW1wbGVQYXRoIiwicHJvdG8iLCJsb3dlclByb3RvIiwibWF0Y2giLCJhdFNpZ24iLCJob3N0RW5kIiwiaGVjIiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInVuc2hpZnQiLCJ0b0FTQ0lJIiwiaCIsImFlIiwiZXNjIiwiZXNjYXBlIiwicW0iLCJjaGFyQXQiLCJyZWwiLCJ0a2V5cyIsInRrIiwidGtleSIsInJrZXlzIiwicmsiLCJya2V5IiwicmVsUGF0aCIsInNoaWZ0IiwiaXNTb3VyY2VBYnMiLCJpc1JlbEFicyIsIm11c3RFbmRBYnMiLCJyZW1vdmVBbGxEb3RzIiwic3JjUGF0aCIsInBzeWNob3RpYyIsInBvcCIsImlzTnVsbE9yVW5kZWZpbmVkIiwiYXV0aEluSG9zdCIsImlzTnVsbCIsImhhc1RyYWlsaW5nU2xhc2giLCJ1cCIsImlzQWJzb2x1dGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJpZCIsImxvYWRlZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsImdldCIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIm5tZCIsInBhdGhzIiwiY2hpbGRyZW4iLCJEYXRlIiwibm93IiwiZ2V0VGltZSIsInBlcmZvcm1hbmNlIiwic3RhcnRUaW1lXzEiLCJsYXN0VGltZSIsInZlbmRvcnMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImN1cnJlbnRUaW1lIiwiZGVsYXkiLCJjbGVhclRpbWVvdXQiLCJOdW1iZXIiLCJpc05hTiIsImlzSW50ZWdlciIsIkFycmF5QnVmZmVyIiwiRmxvYXQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQ4QXJyYXkiLCJJbnQzMkFycmF5IiwiRU5WIiwiUkVOREVSRVJfVFlQRSIsIkJVRkZFUl9CSVRTIiwiQkxFTkRfTU9ERVMiLCJEUkFXX01PREVTIiwiRk9STUFUUyIsIlRBUkdFVFMiLCJUWVBFUyIsIlNDQUxFX01PREVTIiwiV1JBUF9NT0RFUyIsIk1JUE1BUF9NT0RFUyIsIkFMUEhBX01PREVTIiwiQ0xFQVJfTU9ERVMiLCJHQ19NT0RFUyIsIlBSRUNJU0lPTiIsIk1BU0tfVFlQRVMiLCJNU0FBX1FVQUxJVFkiLCJhcHBsZUlwaG9uZSIsImFwcGxlSXBvZCIsImFwcGxlVGFibGV0IiwiYXBwbGVVbml2ZXJzYWwiLCJhbmRyb2lkUGhvbmUiLCJhbmRyb2lkVGFibGV0IiwiYW1hem9uUGhvbmUiLCJhbWF6b25UYWJsZXQiLCJ3aW5kb3dzUGhvbmUiLCJ3aW5kb3dzVGFibGV0Iiwib3RoZXJCbGFja0JlcnJ5Iiwib3RoZXJCbGFja0JlcnJ5MTAiLCJvdGhlck9wZXJhIiwib3RoZXJDaHJvbWUiLCJvdGhlckZpcmVmb3giLCJpc0FwcGxlVGFibGV0T25Jb3MxMyIsIm5hdmlnYXRvciIsInBsYXRmb3JtIiwibWF4VG91Y2hQb2ludHMiLCJNU1N0cmVhbSIsInBhcmFtIiwibmF2IiwidXNlckFnZW50IiwidG1wIiwicmVnZXgiLCJjcmVhdGVNYXRjaCIsImFwcGxlIiwicGhvbmUiLCJpcG9kIiwidGFibGV0IiwidW5pdmVyc2FsIiwiZGV2aWNlIiwiYW1hem9uIiwiYW5kcm9pZCIsIndpbmRvd3MiLCJvdGhlciIsImJsYWNrYmVycnkiLCJibGFja2JlcnJ5MTAiLCJvcGVyYSIsImZpcmVmb3giLCJjaHJvbWUiLCJhbnkiLCJpc01vYmlsZSIsInNldHRpbmdzIiwiTUlQTUFQX1RFWFRVUkVTIiwiQU5JU09UUk9QSUNfTEVWRUwiLCJSRVNPTFVUSU9OIiwiRklMVEVSX1JFU09MVVRJT04iLCJTUFJJVEVfTUFYX1RFWFRVUkVTIiwiYWxsb3dNYXgiLCJwYXJzZUludCIsIm1heFJlY29tbWVuZGVkVGV4dHVyZXMiLCJTUFJJVEVfQkFUQ0hfU0laRSIsIlJFTkRFUl9PUFRJT05TIiwidmlldyIsImFudGlhbGlhcyIsImF1dG9EZW5zaXR5IiwidHJhbnNwYXJlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjbGVhckJlZm9yZVJlbmRlciIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsIndpZHRoIiwiaGVpZ2h0IiwibGVnYWN5IiwiR0NfTU9ERSIsIkdDX01BWF9JRExFIiwiR0NfTUFYX0NIRUNLX0NPVU5UIiwiV1JBUF9NT0RFIiwiU0NBTEVfTU9ERSIsIlBSRUNJU0lPTl9WRVJURVgiLCJQUkVDSVNJT05fRlJBR01FTlQiLCJDQU5fVVBMT0FEX1NBTUVfQlVGRkVSIiwiQ1JFQVRFX0lNQUdFX0JJVE1BUCIsIlJPVU5EX1BJWEVMUyIsIlJFVElOQV9QUkVGSVgiLCJGQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCIsInN1cHBvcnRlZCIsInNhaWRIZWxsbyIsImhleDJyZ2IiLCJoZXgiLCJoZXgyc3RyaW5nIiwiaGV4U3RyaW5nIiwic3RyaW5nMmhleCIsInByZW11bHRpcGx5QmxlbmRNb2RlIiwicG0iLCJucG0iLCJOT1JNQUxfTlBNIiwiTk9STUFMIiwiQUREX05QTSIsIkFERCIsIlNDUkVFTl9OUE0iLCJTQ1JFRU4iLCJtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcyIsImNvcnJlY3RCbGVuZE1vZGUiLCJibGVuZE1vZGUiLCJwcmVtdWx0aXBsaWVkIiwicHJlbXVsdGlwbHlUaW50IiwidGludCIsImFscGhhIiwiUiIsIkciLCJCIiwicHJlbXVsdGlwbHlUaW50VG9SZ2JhIiwicHJlbXVsdGlwbHkiLCJuZXh0UG93MiIsImlzUG93MiIsImxvZzIiLCJyZW1vdmVJdGVtcyIsImFyciIsInN0YXJ0SWR4IiwicmVtb3ZlQ291bnQiLCJuZXh0VWlkIiwidWlkIiwid2FybmluZ3MiLCJ2ZXJzaW9uIiwibWVzc2FnZSIsImlnbm9yZURlcHRoIiwic3RhY2siLCJjb25zb2xlIiwid2FybiIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJ0ZW1wQW5jaG9yIiwiUHJvZ3JhbUNhY2hlIiwiVGV4dHVyZUNhY2hlIiwiQmFzZVRleHR1cmVDYWNoZSIsIkNhbnZhc1JlbmRlclRhcmdldCIsInJlc29sdXRpb24iLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJnZXRDb250ZXh0IiwicmVzaXplIiwiY2xlYXIiLCJzZXRUcmFuc2Zvcm0iLCJjbGVhclJlY3QiLCJkZXN0cm95Iiwic2V0IiwiZ2V0UmVzb2x1dGlvbk9mVXJsIiwiZGVmYXVsdFZhbHVlIiwicGFyc2VGbG9hdCIsIlNIQVBFUyIsIlBJXzIiLCJQSSIsIlJBRF9UT19ERUciLCJERUdfVE9fUkFEIiwiUmVjdGFuZ2xlIiwiUkVDVCIsImNsb25lIiwiY29weUZyb20iLCJyZWN0YW5nbGUiLCJjb3B5VG8iLCJjb250YWlucyIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJ4MSIsIngyIiwieTEiLCJ5MiIsImNlaWwiLCJlcHMiLCJlbmxhcmdlIiwiQ2lyY2xlIiwicmFkaXVzIiwiQ0lSQyIsInIyIiwiZHgiLCJkeSIsImdldEJvdW5kcyIsIkVsbGlwc2UiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwiRUxJUCIsIm5vcm14Iiwibm9ybXkiLCJQb2x5Z29uIiwiYXJndW1lbnRzJDEiLCJwb2ludHMiLCJfaSIsImZsYXQiLCJpbCIsIlBPTFkiLCJjbG9zZVN0cm9rZSIsInBvbHlnb24iLCJ4aSIsInlpIiwieGoiLCJ5aiIsIlJvdW5kZWRSZWN0YW5nbGUiLCJSUkVDIiwicmFkaXVzMiIsIlBvaW50IiwiT2JzZXJ2YWJsZVBvaW50IiwiY2IiLCJzY29wZSIsIl94IiwiX3kiLCJNYXRyaXgiLCJ0eCIsInR5IiwiZnJvbUFycmF5IiwidG9BcnJheSIsInRyYW5zcG9zZSIsInBvcyIsIm5ld1BvcyIsImFwcGx5SW52ZXJzZSIsInRyYW5zbGF0ZSIsInNjYWxlIiwicm90YXRlIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJjMSIsInR4MSIsImFwcGVuZCIsIm1hdHJpeCIsImIxIiwiZDEiLCJwaXZvdFgiLCJwaXZvdFkiLCJzY2FsZVgiLCJzY2FsZVkiLCJyb3RhdGlvbiIsInNrZXdYIiwic2tld1kiLCJwcmVwZW5kIiwiZGVjb21wb3NlIiwidHJhbnNmb3JtIiwiYXRhbjIiLCJza2V3Iiwic3FydCIsInBvc2l0aW9uIiwiaW52ZXJ0IiwiaWRlbnRpdHkiLCJ1eCIsInV5IiwidngiLCJ2eSIsInJvdGF0aW9uQ2F5bGV5Iiwicm90YXRpb25NYXRyaWNlcyIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsIm1hdCIsImluaXQiLCJncm91cEQ4IiwiRSIsIlNFIiwiUyIsIlNXIiwiVyIsIk5XIiwiTiIsIk5FIiwiTUlSUk9SX1ZFUlRJQ0FMIiwiTUFJTl9ESUFHT05BTCIsIk1JUlJPUl9IT1JJWk9OVEFMIiwiUkVWRVJTRV9ESUFHT05BTCIsInVYIiwiaW5kIiwidVkiLCJ2WCIsInZZIiwiaW52IiwiYWRkIiwicm90YXRpb25TZWNvbmQiLCJyb3RhdGlvbkZpcnN0Iiwic3ViIiwicm90YXRlMTgwIiwiaXNWZXJ0aWNhbCIsImJ5RGlyZWN0aW9uIiwibWF0cml4QXBwZW5kUm90YXRpb25JbnYiLCJUcmFuc2Zvcm0iLCJ3b3JsZFRyYW5zZm9ybSIsImxvY2FsVHJhbnNmb3JtIiwib25DaGFuZ2UiLCJwaXZvdCIsInVwZGF0ZVNrZXciLCJfcm90YXRpb24iLCJfY3giLCJfc3giLCJfY3kiLCJfc3kiLCJfbG9jYWxJRCIsIl9jdXJyZW50TG9jYWxJRCIsIl93b3JsZElEIiwiX3BhcmVudElEIiwidXBkYXRlTG9jYWxUcmFuc2Zvcm0iLCJsdCIsInVwZGF0ZVRyYW5zZm9ybSIsInBhcmVudFRyYW5zZm9ybSIsInB0Iiwid3QiLCJzZXRGcm9tTWF0cml4IiwiSURFTlRJVFkiLCJTT1JUQUJMRV9DSElMRFJFTiIsIkJvdW5kcyIsInJlY3QiLCJ1cGRhdGVJRCIsImlzRW1wdHkiLCJnZXRSZWN0YW5nbGUiLCJFTVBUWSIsImFkZFBvaW50IiwicG9pbnQiLCJhZGRRdWFkIiwiYWRkRnJhbWUiLCJ4MCIsInkwIiwiYWRkRnJhbWVNYXRyaXgiLCJhZGRWZXJ0ZXhEYXRhIiwidmVydGV4RGF0YSIsImJlZ2luT2Zmc2V0IiwiZW5kT2Zmc2V0IiwiYWRkVmVydGljZXMiLCJhZGRWZXJ0aWNlc01hdHJpeCIsInBhZFgiLCJwYWRZIiwicmF3WCIsInJhd1kiLCJhZGRCb3VuZHMiLCJib3VuZHMiLCJhZGRCb3VuZHNNYXNrIiwibWFzayIsIl9taW5YIiwiX21pblkiLCJfbWF4WCIsIl9tYXhZIiwiYWRkQm91bmRzTWF0cml4IiwiYWRkQm91bmRzQXJlYSIsImFkZEZyYW1lUGFkIiwiZXh0ZW5kU3RhdGljcyIsInNldFByb3RvdHlwZU9mIiwiX19leHRlbmRzIiwiX18iLCJEaXNwbGF5T2JqZWN0IiwiX3N1cGVyIiwiX3RoaXMiLCJ0ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInZpc2libGUiLCJyZW5kZXJhYmxlIiwicGFyZW50Iiwid29ybGRBbHBoYSIsIl9sYXN0U29ydGVkSW5kZXgiLCJfekluZGV4IiwiZmlsdGVyQXJlYSIsImZpbHRlcnMiLCJfZW5hYmxlZEZpbHRlcnMiLCJfYm91bmRzIiwiX2xvY2FsQm91bmRzIiwiX2JvdW5kc0lEIiwiX2JvdW5kc1JlY3QiLCJfbG9jYWxCb3VuZHNSZWN0IiwiX21hc2siLCJfZGVzdHJveWVkIiwiaXNTcHJpdGUiLCJpc01hc2siLCJtaXhpbiIsInByb3BlcnR5TmFtZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtIiwiX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50Iiwic2tpcFVwZGF0ZSIsImNhbGN1bGF0ZUJvdW5kcyIsImdldExvY2FsQm91bmRzIiwidHJhbnNmb3JtUmVmIiwicGFyZW50UmVmIiwid29ybGRCb3VuZHMiLCJ3b3JsZEJvdW5kc0lEIiwidG9HbG9iYWwiLCJkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIiwidG9Mb2NhbCIsInNldFBhcmVudCIsImNvbnRhaW5lciIsImFkZENoaWxkIiwiX29wdGlvbnMiLCJyZW1vdmVDaGlsZCIsImhpdEFyZWEiLCJpbnRlcmFjdGl2ZSIsImludGVyYWN0aXZlQ2hpbGRyZW4iLCJUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IiwiZW5hYmxlVGVtcFBhcmVudCIsIm15UGFyZW50IiwiZGlzYWJsZVRlbXBQYXJlbnQiLCJjYWNoZVBhcmVudCIsInNvcnREaXJ0eSIsIml0ZW0iLCJtYXNrT2JqZWN0Iiwic29ydENoaWxkcmVuIiwiekluZGV4IiwiQ29udGFpbmVyIiwic29ydGFibGVDaGlsZHJlbiIsIm9uQ2hpbGRyZW5DaGFuZ2UiLCJfbGVuZ3RoIiwiY2hpbGQiLCJhZGRDaGlsZEF0Iiwic3dhcENoaWxkcmVuIiwiY2hpbGQyIiwiaW5kZXgxIiwiZ2V0Q2hpbGRJbmRleCIsImluZGV4MiIsInNldENoaWxkSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJnZXRDaGlsZEF0IiwicmVtb3ZlQ2hpbGRBdCIsInJlbW92ZUNoaWxkcmVuIiwiYmVnaW5JbmRleCIsImVuZEluZGV4IiwicmVtb3ZlZCIsImJlZ2luIiwicmFuZ2UiLCJzb3J0UmVxdWlyZWQiLCJfY2FsY3VsYXRlQm91bmRzIiwic2tpcENoaWxkcmVuVXBkYXRlIiwicmVuZGVyIiwicmVuZGVyZXIiLCJyZW5kZXJBZHZhbmNlZCIsIl9yZW5kZXIiLCJiYXRjaCIsImZsdXNoIiwiZW5hYmxlZCIsImZpbHRlciIsIl9yZW5kZXJlciIsImRlc3Ryb3lDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwiX3dpZHRoIiwiX2hlaWdodCIsImNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmxlVGl0bGUiLCJhY2Nlc3NpYmxlSGludCIsInRhYkluZGV4IiwiX2FjY2Vzc2libGVBY3RpdmUiLCJfYWNjZXNzaWJsZURpdiIsImFjY2Vzc2libGVUeXBlIiwiYWNjZXNzaWJsZVBvaW50ZXJFdmVudHMiLCJhY2Nlc3NpYmxlQ2hpbGRyZW4iLCJyZW5kZXJJZCIsIlVQREFURV9QUklPUklUWSIsIkFjY2Vzc2liaWxpdHlNYW5hZ2VyIiwiX2hvb2tEaXYiLCJjcmVhdGVUb3VjaEhvb2siLCJkaXYiLCJzdHlsZSIsIkRJVl9UT1VDSF9TSVpFIiwidG9wIiwiRElWX1RPVUNIX1BPU19YIiwibGVmdCIsIkRJVl9UT1VDSF9QT1NfWSIsInBvb2wiLCJkZWJ1ZyIsIl9vbktleURvd24iLCJiaW5kIiwiX29uTW91c2VNb3ZlIiwiX2lzQWN0aXZlIiwiX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSIsImFuZHJvaWRVcGRhdGVDb3VudCIsImFuZHJvaWRVcGRhdGVGcmVxdWVuY3kiLCJhZGRFdmVudExpc3RlbmVyIiwiaG9va0RpdiIsIkRJVl9IT09LX1NJWkUiLCJESVZfSE9PS19QT1NfWCIsIkRJVl9IT09LX1BPU19ZIiwidGl0bGUiLCJhY3RpdmF0ZSIsImRlc3Ryb3lUb3VjaEhvb2siLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXBkYXRlIiwicGFyZW50Tm9kZSIsImRlYWN0aXZhdGUiLCJ1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyIsImRpc3BsYXlPYmplY3QiLCJyZW5kZXJpbmdUb1NjcmVlbiIsIl9sYXN0T2JqZWN0UmVuZGVyZWQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzeCIsInN5IiwiY2FwSGl0QXJlYSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInVwZGF0ZURlYnVnSFRNTCIsImlubmVySFRNTCIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwicG9pbnRlckV2ZW50cyIsImludGVyYWN0aW9uTWFuYWdlciIsInBsdWdpbnMiLCJpbnRlcmFjdGlvbiIsImRpc3BhdGNoRXZlbnQiLCJldmVudERhdGEiLCJrZXlDb2RlIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwiVEFSR0VUX0ZQTVMiLCJUaWNrZXJMaXN0ZW5lciIsInByaW9yaXR5IiwicHJldmlvdXMiLCJkZWx0YVRpbWUiLCJyZWRpcmVjdCIsImNvbm5lY3QiLCJoYXJkIiwiVGlja2VyIiwiX3JlcXVlc3RJZCIsIl9tYXhFbGFwc2VkTVMiLCJfbWluRWxhcHNlZE1TIiwiYXV0b1N0YXJ0IiwiZGVsdGFNUyIsImVsYXBzZWRNUyIsInNwZWVkIiwic3RhcnRlZCIsIl9wcm90ZWN0ZWQiLCJfbGFzdEZyYW1lIiwiX3RpY2siLCJ0aW1lIiwiX3JlcXVlc3RJZk5lZWRlZCIsIl9jYW5jZWxJZk5lZWRlZCIsIl9zdGFydElmUG9zc2libGUiLCJfYWRkTGlzdGVuZXIiLCJhZGRPbmNlIiwiY3VycmVudCIsInJlbW92ZSIsImNvdW50IiwiaGVhZCIsImZwcyIsIm1pbkZQUyIsIm1heEZQUyIsIm1pbkZQTVMiLCJyb3VuZCIsIl9zaGFyZWQiLCJzaGFyZWQiLCJfc3lzdGVtIiwic3lzdGVtIiwiVGlja2VyUGx1Z2luIiwic2hhcmVkVGlja2VyIiwidGlja2VyIiwiX3RpY2tlciIsIkxPVyIsIm9sZFRpY2tlciIsIkludGVyYWN0aW9uRGF0YSIsInByZXNzdXJlIiwicm90YXRpb25BbmdsZSIsInR3aXN0IiwidGFuZ2VudGlhbFByZXNzdXJlIiwib3JpZ2luYWxFdmVudCIsImlkZW50aWZpZXIiLCJpc1ByaW1hcnkiLCJidXR0b24iLCJidXR0b25zIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImdsb2JhbFBvcyIsImNvcHlFdmVudCIsIndoaWNoIiwicmVzZXQiLCJJbnRlcmFjdGlvbkV2ZW50Iiwic3RvcHBlZCIsInN0b3BzUHJvcGFnYXRpbmdBdCIsInN0b3BQcm9wYWdhdGlvbkhpbnQiLCJjdXJyZW50VGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwiSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEiLCJwb2ludGVySWQiLCJfcG9pbnRlcklkIiwiX2ZsYWdzIiwiRkxBR1MiLCJOT05FIiwiX2RvU2V0IiwieW4iLCJmbGFncyIsIk9WRVIiLCJSSUdIVF9ET1dOIiwiTEVGVF9ET1dOIiwiZnJlZXplIiwiVHJlZVNlYXJjaCIsIl90ZW1wUG9pbnQiLCJyZWN1cnNpdmVGaW5kSGl0IiwiaW50ZXJhY3Rpb25FdmVudCIsImZ1bmMiLCJoaXRUZXN0IiwiaGl0IiwiaW50ZXJhY3RpdmVQYXJlbnQiLCJoaXRUZXN0Q2hpbGRyZW4iLCJjb250YWluc1BvaW50IiwiY2hpbGRIaXQiLCJmaW5kSGl0IiwiaW50ZXJhY3RpdmVUYXJnZXQiLCJjdXJzb3IiLCJfdHJhY2tlZFBvaW50ZXJzIiwiaGl0VGVzdEV2ZW50IiwiSW50ZXJhY3Rpb25NYW5hZ2VyIiwiYXV0b1ByZXZlbnREZWZhdWx0IiwiaW50ZXJhY3Rpb25GcmVxdWVuY3kiLCJtb3VzZSIsImFjdGl2ZUludGVyYWN0aW9uRGF0YSIsImludGVyYWN0aW9uRGF0YVBvb2wiLCJpbnRlcmFjdGlvbkRPTUVsZW1lbnQiLCJtb3ZlV2hlbkluc2lkZSIsImV2ZW50c0FkZGVkIiwidGlja2VyQWRkZWQiLCJtb3VzZU92ZXJSZW5kZXJlciIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblBvaW50ZXJVcCIsInByb2Nlc3NQb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJwcm9jZXNzUG9pbnRlckNhbmNlbCIsIm9uUG9pbnRlckRvd24iLCJwcm9jZXNzUG9pbnRlckRvd24iLCJvblBvaW50ZXJNb3ZlIiwicHJvY2Vzc1BvaW50ZXJNb3ZlIiwib25Qb2ludGVyT3V0IiwicHJvY2Vzc1BvaW50ZXJPdmVyT3V0Iiwib25Qb2ludGVyT3ZlciIsImN1cnNvclN0eWxlcyIsInBvaW50ZXIiLCJjdXJyZW50Q3Vyc29yTW9kZSIsImRlbGF5ZWRFdmVudHMiLCJfdGVtcERpc3BsYXlPYmplY3QiLCJfdXNlU3lzdGVtVGlja2VyIiwidXNlU3lzdGVtVGlja2VyIiwic2V0VGFyZ2V0RWxlbWVudCIsImFkZFRpY2tlckxpc3RlbmVyIiwicmVtb3ZlVGlja2VyTGlzdGVuZXIiLCJnbG9iYWxQb2ludCIsImxhc3RPYmplY3RSZW5kZXJlZCIsInByb2Nlc3NJbnRlcmFjdGl2ZSIsImVsZW1lbnQiLCJyZW1vdmVFdmVudHMiLCJhZGRFdmVudHMiLCJ0aWNrZXJVcGRhdGUiLCJJTlRFUkFDVElPTiIsIm1zUG9pbnRlckVuYWJsZWQiLCJtc0NvbnRlbnRab29taW5nIiwibXNUb3VjaEFjdGlvbiIsInRvdWNoQWN0aW9uIiwiX2RlbHRhVGltZSIsIl9kaWRNb3ZlIiwiaW50ZXJhY3Rpb25EYXRhIiwiY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50Iiwic2V0Q3Vyc29yTW9kZSIsIm1vZGUiLCJldmVudFN0cmluZyIsImRlbGF5RGlzcGF0Y2hFdmVudCIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsImRlbGF5ZWRMZW4iLCJfYSIsImRpc3BsYXlPYmplY3RfMSIsIm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEiLCJpc05vcm1hbGl6ZWQiLCJjYW5jZWxhYmxlIiwicHJldmVudERlZmF1bHQiLCJldmVudExlbiIsImdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsImlzUmlnaHRCdXR0b24iLCJ0cmFja2VkUG9pbnRlcnMiLCJyaWdodERvd24iLCJsZWZ0RG93biIsIm9uUG9pbnRlckNvbXBsZXRlIiwiY2FuY2VsbGVkIiwiZXZlbnRBcHBlbmQiLCJyZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwidHJhY2tpbmdEYXRhIiwiaXNUb3VjaCIsImlzTW91c2UiLCJpc01vdXNlVGFwIiwiaXNEb3duIiwib3ZlciIsIm5vbmUiLCJwb2ludGVyRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwibm9ybWFsaXplZEV2ZW50cyIsIlRvdWNoRXZlbnQiLCJsaSIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2giLCJ0b3VjaGVzIiwicmFkaXVzWCIsInJhZGl1c1kiLCJmb3JjZSIsImxheWVyWCIsIm9mZnNldFgiLCJsYXllclkiLCJvZmZzZXRZIiwiTW91c2VFdmVudCIsInRlbXBFdmVudCIsIlJ1bm5lciIsIml0ZW1zIiwiX25hbWUiLCJfYWxpYXNDb3VudCIsImEwIiwiYTYiLCJhNyIsImVuc3VyZU5vbkFsaWFzZWRJdGVtcyIsInJlbW92ZUFsbCIsImRpc3BhdGNoIiwicnVuIiwiUFJFRkVSX0VOViIsIldFQkdMIiwiV0VCR0wyIiwiU1RSSUNUX1RFWFRVUkVfQ0FDSEUiLCJJTlNUQUxMRUQiLCJhdXRvRGV0ZWN0UmVzb3VyY2UiLCJleHRlbnNpb24iLCJSZXNvdXJjZVBsdWdpbiIsIlJlc291cmNlIiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIm9uVXBkYXRlIiwib25FcnJvciIsImJhc2VUZXh0dXJlIiwidW5iaW5kIiwibG9hZCIsIl9iYXNlVGV4dHVyZSIsIl9nbFRleHR1cmUiLCJkaXNwb3NlIiwiX3NvdXJjZSIsIl9leHRlbnNpb24iLCJCdWZmZXJSZXNvdXJjZSIsInVwbG9hZCIsImdsVGV4dHVyZSIsImdsIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJhbHBoYU1vZGUiLCJVTlBBQ0siLCJ0ZXhTdWJJbWFnZTJEIiwidGV4SW1hZ2UyRCIsImludGVybmFsRm9ybWF0IiwiZGVmYXVsdEJ1ZmZlck9wdGlvbnMiLCJzY2FsZU1vZGUiLCJORUFSRVNUIiwiUkdCQSIsIk5QTSIsIkJhc2VUZXh0dXJlIiwicmVzb3VyY2UiLCJtaXBtYXAiLCJhbmlzb3Ryb3BpY0xldmVsIiwid3JhcE1vZGUiLCJyZXNvdXJjZU9wdGlvbnMiLCJVTlNJR05FRF9CWVRFIiwiVEVYVFVSRV8yRCIsInByZW11bHRpcGx5QWxwaGEiLCJ0b3VjaGVkIiwiaXNQb3dlck9mVHdvIiwiX3JlZnJlc2hQT1QiLCJfZ2xUZXh0dXJlcyIsImRpcnR5SWQiLCJkaXJ0eVN0eWxlSWQiLCJjYWNoZUlkIiwidmFsaWQiLCJ0ZXh0dXJlQ2FjaGVJZHMiLCJfYmF0Y2hFbmFibGVkIiwiX2JhdGNoTG9jYXRpb24iLCJwYXJlbnRUZXh0dXJlQXJyYXkiLCJzZXRSZXNvdXJjZSIsInNldFN0eWxlIiwiZGlydHkiLCJzZXRTaXplIiwic2V0UmVhbFNpemUiLCJyZWFsV2lkdGgiLCJyZWFsSGVpZ2h0Iiwic2V0UmVzb2x1dGlvbiIsIm9sZFJlc29sdXRpb24iLCJyZW1vdmVGcm9tQ2FjaGUiLCJjYXN0VG9CYXNlVGV4dHVyZSIsImlzRnJhbWUiLCJfcGl4aUlkIiwiYWRkVG9DYWNoZSIsImZyb21CdWZmZXIiLCJidWZmZXIiLCJGTE9BVCIsImJhc2VUZXh0dXJlRnJvbUNhY2hlIiwiX2dsb2JhbEJhdGNoIiwiQWJzdHJhY3RNdWx0aVJlc291cmNlIiwiaXRlbURpcnR5SWRzIiwicGFydFRleHR1cmUiLCJfbG9hZCIsImluaXRGcm9tQXJyYXkiLCJyZXNvdXJjZXMiLCJhZGRCYXNlVGV4dHVyZUF0IiwiYWRkUmVzb3VyY2VBdCIsIkFycmF5UmVzb3VyY2UiLCJ1cmxzIiwiVEVYVFVSRV8yRF9BUlJBWSIsInRleHR1cmUiLCJ0ZXhJbWFnZTNEIiwidGV4U3ViSW1hZ2UzRCIsIkJhc2VJbWFnZVJlc291cmNlIiwic291cmNlQW55IiwibmF0dXJhbFdpZHRoIiwidmlkZW9XaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ2aWRlb0hlaWdodCIsIm5vU3ViSW1hZ2UiLCJjcm9zc09yaWdpbiIsImNyb3Nzb3JpZ2luIiwibG9jIiwibG9jYXRpb24iLCJwYXJzZWRVcmwiLCJzYW1lUG9ydCIsImRldGVybWluZUNyb3NzT3JpZ2luIiwiQ2FudmFzUmVzb3VyY2UiLCJPZmZzY3JlZW5DYW52YXMiLCJIVE1MQ2FudmFzRWxlbWVudCIsIkN1YmVSZXNvdXJjZSIsImF1dG9Mb2FkIiwibGlua0Jhc2VUZXh0dXJlIiwiU0lERVMiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJURVhUVVJFX0NVQkVfTUFQIiwic2lkZSIsIkltYWdlUmVzb3VyY2UiLCJIVE1MSW1hZ2VFbGVtZW50IiwiaW1hZ2VFbGVtZW50IiwiSW1hZ2UiLCJzcmMiLCJjb21wbGV0ZSIsIl9wcm9jZXNzIiwicHJlc2VydmVCaXRtYXAiLCJjcmVhdGVCaXRtYXAiLCJjcmVhdGVJbWFnZUJpdG1hcCIsImJpdG1hcCIsImNvbXBsZXRlZCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJwcm9jZXNzIiwiZ2xUZXh0dXJlcyIsIm90aGVyVGV4IiwiY2xvc2UiLCJTVkdSZXNvdXJjZSIsInNvdXJjZUJhc2U2NCIsInN2ZyIsIl9vdmVycmlkZVdpZHRoIiwiX292ZXJyaWRlSGVpZ2h0IiwiX3Jlc29sdmUiLCJfY3Jvc3NvcmlnaW4iLCJidG9hIiwidW5lc2NhcGUiLCJfbG9hZFN2ZyIsInRlbXBJbWFnZSIsInN2Z1dpZHRoIiwic3ZnSGVpZ2h0IiwiZHJhd0ltYWdlIiwiZ2V0U2l6ZSIsInN2Z1N0cmluZyIsInNpemVNYXRjaCIsIlNWR19TSVpFIiwic2l6ZSIsIlZpZGVvUmVzb3VyY2UiLCJIVE1MVmlkZW9FbGVtZW50IiwidmlkZW9FbGVtZW50IiwiZmlyc3RTcmMiLCJzb3VyY2VFbGVtZW50IiwibWltZSIsImJhc2VTcmMiLCJleHQiLCJNSU1FX1RZUEVTIiwiX2F1dG9VcGRhdGUiLCJfaXNDb25uZWN0ZWRUb1RpY2tlciIsIl91cGRhdGVGUFMiLCJ1cGRhdGVGUFMiLCJfbXNUb05leHRVcGRhdGUiLCJhdXRvUGxheSIsIl9vbkNhblBsYXkiLCJfb25FcnJvciIsInBsYXliYWNrUmF0ZSIsInJlYWR5U3RhdGUiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX2lzU291cmNlUmVhZHkiLCJfaXNTb3VyY2VQbGF5aW5nIiwicGF1c2VkIiwiZW5kZWQiLCJhdXRvVXBkYXRlIiwicGxheSIsInBhdXNlIiwib2d2IiwibW92IiwibTR2IiwiSW1hZ2VCaXRtYXBSZXNvdXJjZSIsIkltYWdlQml0bWFwIiwiU3lzdGVtIiwiRGVwdGhSZXNvdXJjZSIsIndlYkdMVmVyc2lvbiIsIkRFUFRIX0NPTVBPTkVOVCIsIkRFUFRIX0NPTVBPTkVOVDE2IiwiRnJhbWVidWZmZXIiLCJzdGVuY2lsIiwiZGVwdGgiLCJkaXJ0eUZvcm1hdCIsImRpcnR5U2l6ZSIsImRlcHRoVGV4dHVyZSIsImNvbG9yVGV4dHVyZXMiLCJnbEZyYW1lYnVmZmVycyIsImRpc3Bvc2VSdW5uZXIiLCJtdWx0aXNhbXBsZSIsImFkZENvbG9yVGV4dHVyZSIsIk9GRiIsImFkZERlcHRoVGV4dHVyZSIsIlVOU0lHTkVEX1NIT1JUIiwiZW5hYmxlRGVwdGgiLCJlbmFibGVTdGVuY2lsIiwiZGVzdHJveURlcHRoVGV4dHVyZSIsIkJhc2VSZW5kZXJUZXh0dXJlIiwid2lkdGhfMSIsImhlaWdodF8xIiwiY2xlYXJDb2xvciIsImZyYW1lYnVmZmVyIiwibWFza1N0YWNrIiwiZmlsdGVyU3RhY2siLCJUZXh0dXJlVXZzIiwieDMiLCJ5MyIsInV2c0Zsb2F0MzIiLCJmcmFtZSIsImJhc2VGcmFtZSIsInR3IiwidGgiLCJ3MiIsImgyIiwiY1giLCJjWSIsIkRFRkFVTFRfVVZTIiwiVGV4dHVyZSIsIm9yaWciLCJhbmNob3IiLCJub0ZyYW1lIiwiX2ZyYW1lIiwiX3V2cyIsInV2TWF0cml4IiwiX3JvdGF0ZSIsImRlZmF1bHRBbmNob3IiLCJfdXBkYXRlSUQiLCJvbkJhc2VUZXh0dXJlVXBkYXRlZCIsInVwZGF0ZVV2cyIsImRlc3Ryb3lCYXNlIiwiZnJvbVVSTCIsImZyb21Mb2FkZXIiLCJpbWFnZVVybCIsInRleHR1cmVGcm9tQ2FjaGUiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiV0hJVEUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsIlJlbmRlclRleHR1cmUiLCJiYXNlUmVuZGVyVGV4dHVyZSIsIl9sZWdhY3lSZW5kZXJlciIsImxlZ2FjeVJlbmRlcmVyIiwiZmlsdGVyRnJhbWUiLCJmaWx0ZXJQb29sS2V5IiwicmVzaXplQmFzZVRleHR1cmUiLCJSZW5kZXJUZXh0dXJlUG9vbCIsInRleHR1cmVPcHRpb25zIiwidGV4dHVyZVBvb2wiLCJlbmFibGVGdWxsU2NyZWVuIiwiX3BpeGVsc1dpZHRoIiwiX3BpeGVsc0hlaWdodCIsImNyZWF0ZVRleHR1cmUiLCJnZXRPcHRpbWFsVGV4dHVyZSIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiU0NSRUVOX0tFWSIsInJlbmRlclRleHR1cmUiLCJnZXRGaWx0ZXJUZXh0dXJlIiwiZmlsdGVyVGV4dHVyZSIsInJldHVyblRleHR1cmUiLCJyZXR1cm5GaWx0ZXJUZXh0dXJlIiwiZGVzdHJveVRleHR1cmVzIiwidGV4dHVyZXMiLCJzZXRTY3JlZW5TaXplIiwic2NyZWVuS2V5IiwiQXR0cmlidXRlIiwibm9ybWFsaXplZCIsInN0cmlkZSIsIlVJRCIsIkJ1ZmZlciIsIl9zdGF0aWMiLCJfZ2xCdWZmZXJzIiwic3RhdGljIiwiQllURVNfUEVSX0VMRU1FTlQiLCJieXRlU2l6ZU1hcCIsIjUxMjYiLCI1MTIzIiwiNTEyMSIsIlVJRCQxIiwibWFwJDEiLCJHZW9tZXRyeSIsImJ1ZmZlcnMiLCJhdHRyaWJ1dGVzIiwiaW5kZXhCdWZmZXIiLCJnbFZlcnRleEFycmF5T2JqZWN0cyIsImluc3RhbmNlZCIsImluc3RhbmNlQ291bnQiLCJyZWZDb3VudCIsImFkZEF0dHJpYnV0ZSIsImlkcyIsImJ1ZmZlckluZGV4IiwiZ2V0QnVmZmVyIiwiYWRkSW5kZXgiLCJnZXRJbmRleCIsImludGVybGVhdmUiLCJhcnJheXMiLCJzaXplcyIsImludGVybGVhdmVkQnVmZmVyIiwiYXR0cmlidXRlIiwib3V0U2l6ZSIsInZpZXdzIiwibGl0dGxlT2Zmc2V0IiwiZ2VvbWV0cnkiLCJhdHRyaWIiLCJtZXJnZSIsImdlb21ldHJpZXMiLCJnZW9tZXRyeU91dCIsIm9mZnNldHMiLCJvZmZzZXQiLCJvZmZzZXQyIiwiYnVmZmVySW5kZXhUb0NvdW50IiwiaW5kZXhCdWZmZXJEYXRhIiwiUXVhZCIsIlF1YWRVdiIsInV2cyIsInZlcnRleEJ1ZmZlciIsInV2QnVmZmVyIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVzdGluYXRpb25GcmFtZSIsImludmFsaWRhdGUiLCJVSUQkMiIsIlVuaWZvcm1Hcm91cCIsInVuaWZvcm1zIiwiZ3JvdXAiLCJzeW5jVW5pZm9ybXMiLCJGaWx0ZXJTdGF0ZSIsInNvdXJjZUZyYW1lIiwiRmlsdGVyU3lzdGVtIiwiZGVmYXVsdEZpbHRlclN0YWNrIiwic3RhdGVQb29sIiwicXVhZCIsInF1YWRVdiIsInRlbXBSZWN0IiwiYWN0aXZlU3RhdGUiLCJnbG9iYWxVbmlmb3JtcyIsIm91dHB1dEZyYW1lIiwiaW5wdXRTaXplIiwiaW5wdXRQaXhlbCIsImlucHV0Q2xhbXAiLCJmaWx0ZXJDbGFtcCIsImZvcmNlQ2xlYXIiLCJ1c2VNYXhQYWRkaW5nIiwic3RhdGUiLCJwYWRkaW5nIiwiYXV0b0ZpdCIsImdldE9wdGltYWxGaWx0ZXJUZXh0dXJlIiwibGFzdFN0YXRlIiwiYmxpdCIsIkJMRU5EIiwiZmxpcCIsImZsb3AiLCJDTEVBUiIsImJpbmRBbmRDbGVhciIsImNsZWFyTW9kZSIsIkJMSVQiLCJhcHBseUZpbHRlciIsInVTYW1wbGVyIiwiZmlsdGVyR2xvYmFscyIsInNoYWRlciIsImRyYXciLCJUUklBTkdMRVMiLCJUUklBTkdMRV9TVFJJUCIsImNhbGN1bGF0ZVNwcml0ZU1hdHJpeCIsIm91dHB1dE1hdHJpeCIsInNwcml0ZSIsIl90ZXh0dXJlIiwibWFwcGVkTWF0cml4IiwiVEVNUF9NQVRSSVgiLCJzd2FwIiwiZW1wdHlQb29sIiwiT2JqZWN0UmVuZGVyZXIiLCJfb2JqZWN0IiwiQmF0Y2hTeXN0ZW0iLCJlbXB0eVJlbmRlcmVyIiwiY3VycmVudFJlbmRlcmVyIiwic2V0T2JqZWN0UmVuZGVyZXIiLCJvYmplY3RSZW5kZXJlciIsImNvcHlCb3VuZFRleHR1cmVzIiwibWF4VGV4dHVyZXMiLCJib3VuZFRleHR1cmVzIiwiYm91bmRBcnJheSIsInRleEFycmF5IiwiYmF0Y2hJZCIsImVsZW1lbnRzIiwiYm91bmQiLCJDT05URVhUX1VJRF9DT1VOVEVSIiwiQ29udGV4dFN5c3RlbSIsImV4dGVuc2lvbnMiLCJzdXBwb3J0cyIsInVpbnQzMkluZGljZXMiLCJoYW5kbGVDb250ZXh0TG9zdCIsImhhbmRsZUNvbnRleHRSZXN0b3JlZCIsImlzQ29udGV4dExvc3QiLCJjb250ZXh0Q2hhbmdlIiwiQ09OVEVYVF9VSUQiLCJnZXRFeHRlbnNpb24iLCJyZXN0b3JlQ29udGV4dCIsImluaXRGcm9tQ29udGV4dCIsInZhbGlkYXRlQ29udGV4dCIsInJ1bm5lcnMiLCJpbml0RnJvbU9wdGlvbnMiLCJjcmVhdGVDb250ZXh0IiwiZ2V0RXh0ZW5zaW9ucyIsImRyYXdCdWZmZXJzIiwibG9zZUNvbnRleHQiLCJ2ZXJ0ZXhBcnJheU9iamVjdCIsImFuaXNvdHJvcGljRmlsdGVyaW5nIiwidWludDMyRWxlbWVudEluZGV4IiwiZmxvYXRUZXh0dXJlIiwiZmxvYXRUZXh0dXJlTGluZWFyIiwidGV4dHVyZUhhbGZGbG9hdCIsInRleHR1cmVIYWxmRmxvYXRMaW5lYXIiLCJjb2xvckJ1ZmZlckZsb2F0IiwidXNlUHJvZ3JhbSIsInBvc3RyZW5kZXIiLCJnZXRDb250ZXh0QXR0cmlidXRlcyIsImlzV2ViR2wyIiwiV2ViR0wyUmVuZGVyaW5nQ29udGV4dCIsImhhc3VpbnQzMiIsIkdMRnJhbWVidWZmZXIiLCJtc2FhQnVmZmVyIiwiYmxpdEZyYW1lYnVmZmVyIiwidGVtcFJlY3RhbmdsZSIsIkZyYW1lYnVmZmVyU3lzdGVtIiwibWFuYWdlZEZyYW1lYnVmZmVycyIsInVua25vd25GcmFtZWJ1ZmZlciIsIm1zYWFTYW1wbGVzIiwidmlld3BvcnQiLCJoYXNNUlQiLCJ3cml0ZURlcHRoVGV4dHVyZSIsImRpc3Bvc2VBbGwiLCJuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xIiwibmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uIiwiV0VCR0xfTEVHQUNZIiwiYWN0aXZlVGV4dHVyZXMiLCJkcmF3QnVmZmVyc1dFQkdMIiwiZ2V0SW50ZXJuYWxmb3JtYXRQYXJhbWV0ZXIiLCJSRU5ERVJCVUZGRVIiLCJSR0JBOCIsIlNBTVBMRVMiLCJmYm8iLCJpbml0RnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsInVwZGF0ZUZyYW1lYnVmZmVyIiwicmVzaXplRnJhbWVidWZmZXIiLCJzZXRWaWV3cG9ydCIsIkNPTE9SIiwiREVQVEgiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImRldGVjdFNhbXBsZXMiLCJiaW5kUmVuZGVyYnVmZmVyIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJyZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkNPTE9SX0FUVEFDSE1FTlQwIiwicGFyZW50VGV4dHVyZSIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiREVQVEhfQVRUQUNITUVOVCIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsInNhbXBsZXMiLCJyZXMiLCJzb3VyY2VQaXhlbHMiLCJkZXN0UGl4ZWxzIiwic2FtZVNpemUiLCJSRUFEX0ZSQU1FQlVGRkVSIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkxJTkVBUiIsImRpc3Bvc2VGcmFtZWJ1ZmZlciIsImNvbnRleHRMb3N0IiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJmb3JjZVN0ZW5jaWwiLCJHTEJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJieXRlU2l6ZU1hcCQxIiwiR2VvbWV0cnlTeXN0ZW0iLCJfYWN0aXZlR2VvbWV0cnkiLCJfYWN0aXZlVmFvIiwiaGFzVmFvIiwiaGFzSW5zdGFuY2UiLCJjYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgiLCJtYW5hZ2VkR2VvbWV0cmllcyIsIm1hbmFnZWRCdWZmZXJzIiwibmF0aXZlVmFvRXh0ZW5zaW9uXzEiLCJjcmVhdGVWZXJ0ZXhBcnJheSIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiYmluZFZlcnRleEFycmF5IiwidmFvIiwiYmluZFZlcnRleEFycmF5T0VTIiwiZGVsZXRlVmVydGV4QXJyYXkiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsImluc3RhbmNlRXh0XzEiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yIiwidmVydGV4QXR0cmliRGl2aXNvckFOR0xFIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiLCJkcmF3QXJyYXlzSW5zdGFuY2VkIiwiZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFIiwidmFvcyIsImluY1JlZkNvdW50IiwicHJvZ3JhbSIsImluaXRHZW9tZXRyeVZhbyIsImFjdGl2YXRlVmFvIiwidXBkYXRlQnVmZmVycyIsImdsQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJBUlJBWV9CVUZGRVIiLCJiaW5kQnVmZmVyIiwiX2JvdW5kQnVmZmVyIiwiYnVmZmVyU3ViRGF0YSIsImRyYXdUeXBlIiwiU1RBVElDX0RSQVciLCJEWU5BTUlDX0RSQVciLCJidWZmZXJEYXRhIiwiY2hlY2tDb21wYXRpYmlsaXR5IiwiZ2VvbWV0cnlBdHRyaWJ1dGVzIiwic2hhZGVyQXR0cmlidXRlcyIsImF0dHJpYnV0ZURhdGEiLCJnZXRTaWduYXR1cmUiLCJhdHRyaWJzIiwic3RyaW5ncyIsInNpZ25hdHVyZSIsInZhb09iamVjdEhhc2giLCJ0ZW1wU3RyaWRlIiwidGVtcFN0YXJ0IiwiYXR0cmliU2l6ZSIsImNyZWF0ZUJ1ZmZlciIsImRpc3Bvc2VCdWZmZXIiLCJkZWxldGVCdWZmZXIiLCJkaXNwb3NlR2VvbWV0cnkiLCJidWYiLCJ2YW9JZCIsImxhc3RCdWZmZXIiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJieXRlU2l6ZSIsImdsVHlwZSIsIlVOU0lHTkVEX0lOVCIsImRyYXdFbGVtZW50cyIsImRyYXdBcnJheXMiLCJNYXNrRGF0YSIsImF1dG9EZXRlY3QiLCJwb29sZWQiLCJpc01hc2tEYXRhIiwiX3N0ZW5jaWxDb3VudGVyIiwiX3NjaXNzb3JDb3VudGVyIiwiX3NjaXNzb3JSZWN0IiwiX3RhcmdldCIsImNvcHlDb3VudGVyc09yUmVzZXQiLCJtYXNrQWJvdmUiLCJjb21waWxlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVByb2dyYW0iLCJ2ZXJ0ZXhTcmMiLCJmcmFnbWVudFNyYyIsImF0dHJpYnV0ZUxvY2F0aW9ucyIsImdsVmVydFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJnbEZyYWdTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJWQUxJREFURV9TVEFUVVMiLCJnZXRFcnJvciIsImdldFByb2dyYW1JbmZvTG9nIiwiZGVsZXRlUHJvZ3JhbSIsImRlbGV0ZVNoYWRlciIsImJvb2xlYW5BcnJheSIsIm1heEZyYWdtZW50UHJlY2lzaW9uIiwidW5rbm93bkNvbnRleHQiLCJnZXRUZXN0Q29udGV4dCIsInNldFByZWNpc2lvbiIsInJlcXVlc3RlZFByZWNpc2lvbiIsIm1heFN1cHBvcnRlZFByZWNpc2lvbiIsInN1YnN0cmluZyIsInByZWNpc2lvbiIsIkhJR0giLCJNRURJVU0iLCJHTFNMX1RPX1NJWkUiLCJmbG9hdCIsInZlYzIiLCJ2ZWMzIiwidmVjNCIsImludCIsIml2ZWMyIiwiaXZlYzMiLCJpdmVjNCIsImJvb2wiLCJidmVjMiIsImJ2ZWMzIiwiYnZlYzQiLCJtYXQyIiwibWF0MyIsIm1hdDQiLCJzYW1wbGVyMkQiLCJtYXBTaXplIiwiR0xfVEFCTEUiLCJHTF9UT19HTFNMX1RZUEVTIiwiRkxPQVRfVkVDMiIsIkZMT0FUX1ZFQzMiLCJGTE9BVF9WRUM0IiwiSU5UIiwiSU5UX1ZFQzIiLCJJTlRfVkVDMyIsIklOVF9WRUM0IiwiQk9PTCIsIkJPT0xfVkVDMiIsIkJPT0xfVkVDMyIsIkJPT0xfVkVDNCIsIkZMT0FUX01BVDIiLCJGTE9BVF9NQVQzIiwiRkxPQVRfTUFUNCIsIlNBTVBMRVJfMkQiLCJJTlRfU0FNUExFUl8yRCIsIlVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEIiwiU0FNUExFUl9DVUJFIiwiSU5UX1NBTVBMRVJfQ1VCRSIsIlVOU0lHTkVEX0lOVF9TQU1QTEVSX0NVQkUiLCJTQU1QTEVSXzJEX0FSUkFZIiwiSU5UX1NBTVBMRVJfMkRfQVJSQVkiLCJVTlNJR05FRF9JTlRfU0FNUExFUl8yRF9BUlJBWSIsIm1hcFR5cGUiLCJ0eXBlTmFtZXMiLCJ0biIsInVuc2FmZUV2YWwiLCJ1bmlmb3JtUGFyc2VycyIsImNvZGUiLCJ1bmlmb3JtIiwiR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQiLCJzYW1wbGVyQ3ViZSIsInNhbXBsZXIyREFycmF5IiwiR0xTTF9UT19BUlJBWV9TRVRURVJTIiwiZnJhZ1RlbXBsYXRlIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJtYXhJZnMiLCJVSUQkMyIsIm5hbWVDYWNoZSIsIlByb2dyYW0iLCJkZWZhdWx0VmVydGV4U3JjIiwiZGVmYXVsdEZyYWdtZW50U3JjIiwiZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0Iiwic2hhZGVyRnJhZ21lbnQiLCJISUdIX0ZMT0FUIiwiZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24iLCJleHRyYWN0RGF0YSIsImdsUHJvZ3JhbXMiLCJnZXRBdHRyaWJ1dGVEYXRhIiwidW5pZm9ybURhdGEiLCJnZXRVbmlmb3JtRGF0YSIsImF0dHJpYnV0ZXNBcnJheSIsInRvdGFsQXR0cmlidXRlcyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmliRGF0YSIsImdldEFjdGl2ZUF0dHJpYiIsInRvdGFsVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJnZXRBY3RpdmVVbmlmb3JtIiwiU2hhZGVyIiwidW5pZm9ybUdyb3VwIiwiY2hlY2tVbmlmb3JtRXhpc3RzIiwiU3RhdGUiLCJwb2x5Z29uT2Zmc2V0IiwiYmxlbmQiLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJmb3IyZCIsImRlcHRoVGVzdCIsIkZpbHRlciIsImFUZXh0dXJlQ29vcmQiLCJmaWx0ZXJNYW5hZ2VyIiwiX2N1cnJlbnRTdGF0ZSIsInRlbXBNYXQiLCJUZXh0dXJlTWF0cml4IiwiY2xhbXBNYXJnaW4iLCJtYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwiX3RleHR1cmVJRCIsImNsYW1wT2Zmc2V0IiwiaXNTaW1wbGUiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwidGV4QmFzZSIsIm1hcmdpbiIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJtYXNrTWF0cml4IiwibWFza1Nwcml0ZSIsIm5wbUFscGhhIiwib3RoZXJNYXRyaXgiLCJtYXNrQ2xhbXAiLCJNYXNrU3lzdGVtIiwiZW5hYmxlU2Npc3NvciIsImFscGhhTWFza1Bvb2wiLCJtYXNrRGF0YVBvb2wiLCJhbHBoYU1hc2tJbmRleCIsInNldE1hc2tTdGFjayIsInNjaXNzb3IiLCJtYXNrRGF0YU9yVGFyZ2V0IiwibWFza0RhdGEiLCJkZXRlY3QiLCJTQ0lTU09SIiwiU1RFTkNJTCIsIlNQUklURSIsInB1c2hTcHJpdGVNYXNrIiwicG9wU3ByaXRlTWFzayIsImlzRmFzdFJlY3QiLCJyb3RYIiwicm90WFkiLCJhbHBoYU1hc2tGaWx0ZXIiLCJzdGFzaEZpbHRlckFyZWEiLCJBYnN0cmFjdE1hc2tTeXN0ZW0iLCJnbENvbnN0IiwiZ2V0U3RhY2tMZW5ndGgiLCJjdXJTdGFja0xlbiIsIm5ld1N0YWNrTGVuIiwiZGlzYWJsZSIsImVuYWJsZSIsIl91c2VDdXJyZW50IiwiU2Npc3NvclN5c3RlbSIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsIlNDSVNTT1JfVEVTVCIsInByZXZEYXRhIiwicnQiLCJwcm9qZWN0aW9uIiwiU3RlbmNpbFN5c3RlbSIsIlNURU5DSUxfVEVTVCIsInByZXZNYXNrQ291bnQiLCJjb2xvck1hc2siLCJzdGVuY2lsRnVuYyIsIkVRVUFMIiwiX2dldEJpdHdpc2VNYXNrIiwic3RlbmNpbE9wIiwiS0VFUCIsIklOQ1IiLCJTVEVOQ0lMX0JVRkZFUl9CSVQiLCJjbGVhclN0ZW5jaWwiLCJERUNSIiwiUHJvamVjdGlvblN5c3RlbSIsImRlZmF1bHRGcmFtZSIsInByb2plY3Rpb25NYXRyaXgiLCJjYWxjdWxhdGVQcm9qZWN0aW9uIiwic3luY1VuaWZvcm1Hcm91cCIsImdsb2JhbHMiLCJfZGVzdGluYXRpb25GcmFtZSIsIl9yZXNvbHV0aW9uIiwiX21hdHJpeCIsInRlbXBSZWN0MiIsInZpZXdwb3J0RnJhbWUiLCJSZW5kZXJUZXh0dXJlU3lzdGVtIiwiX2JhY2tncm91bmRDb2xvclJnYmEiLCJkZWZhdWx0TWFza1N0YWNrIiwic2NyZWVuIiwiR0xQcm9ncmFtIiwidW5pZm9ybUdyb3VwcyIsIlVJRCQ0IiwiZGVmYXVsdFN5bmNEYXRhIiwidGV4dHVyZUNvdW50IiwiU2hhZGVyU3lzdGVtIiwic3lzdGVtQ2hlY2siLCJjYWNoZSIsInVuc2FmZUV2YWxTdXBwb3J0ZWQiLCJkb250U3luYyIsImdsUHJvZ3JhbSIsImdlbmVyYXRlU2hhZGVyIiwic2V0VW5pZm9ybXMiLCJzeW5jRGF0YSIsImdldGdsUHJvZ3JhbSIsImNyZWF0ZVN5bmNHcm91cHMiLCJmdW5jRnJhZ21lbnRzIiwicGFyc2VkIiwidGVtcGxhdGUiLCJnZW5lcmF0ZVVuaWZvcm1zU3luYyIsImF0dHJpYk1hcCIsInNoYWRlclByb2dyYW0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJTdGF0ZVN5c3RlbSIsInN0YXRlSWQiLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIk1VTFRJUExZIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIk9WRVJMQVkiLCJEQVJLRU4iLCJMSUdIVEVOIiwiQ09MT1JfRE9ER0UiLCJDT0xPUl9CVVJOIiwiSEFSRF9MSUdIVCIsIlNPRlRfTElHSFQiLCJESUZGRVJFTkNFIiwiRVhDTFVTSU9OIiwiSFVFIiwiU0FUVVJBVElPTiIsIkxVTUlOT1NJVFkiLCJTUkNfQUxQSEEiLCJTUkNfSU4iLCJEU1RfQUxQSEEiLCJaRVJPIiwiU1JDX09VVCIsIk9ORV9NSU5VU19EU1RfQUxQSEEiLCJTUkNfQVRPUCIsIkRTVF9PVkVSIiwiRFNUX0lOIiwiRFNUX09VVCIsIkRTVF9BVE9QIiwiWE9SIiwiU1VCVFJBQ1QiLCJGVU5DX1JFVkVSU0VfU1VCVFJBQ1QiLCJGVU5DX0FERCIsIm1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSIsImRpZmYiLCJmb3JjZVN0YXRlIiwidXBkYXRlQ2hlY2siLCJjaGVja0JsZW5kTW9kZSIsImNoZWNrUG9seWdvbk9mZnNldCIsIlBPTFlHT05fT0ZGU0VUX0ZJTEwiLCJERVBUSF9URVNUIiwiQ1VMTF9GQUNFIiwiZnJvbnRGYWNlIiwic2V0QmxlbmRNb2RlIiwiYmxlbmRGdW5jIiwiYmxlbmRGdW5jU2VwYXJhdGUiLCJibGVuZEVxdWF0aW9uU2VwYXJhdGUiLCJzZXRQb2x5Z29uT2Zmc2V0IiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsIlRleHR1cmVHQ1N5c3RlbSIsImNoZWNrQ291bnQiLCJtYXhJZGxlIiwiY2hlY2tDb3VudE1heCIsIk1BTlVBTCIsInRtIiwibWFuYWdlZFRleHR1cmVzIiwid2FzUmVtb3ZlZCIsImRlc3Ryb3lUZXh0dXJlIiwidW5sb2FkIiwiR0xUZXh0dXJlIiwiVGV4dHVyZVN5c3RlbSIsImN1cnJlbnRMb2NhdGlvbiIsIl91bmtub3duQm91bmRUZXh0dXJlcyIsInVua25vd25UZXh0dXJlIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwiZW1wdHlUZXh0dXJlMkQiLCJiaW5kVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJ0ZXh0dXJlR0MiLCJpbml0VGV4dHVyZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVwZGF0ZVRleHR1cmUiLCJpbml0VGV4dHVyZVR5cGUiLCJSR0JBMzJGIiwiSEFMRl9GTE9BVCIsIlJHQkExNkYiLCJ1cGRhdGVUZXh0dXJlU3R5bGUiLCJza2lwUmVtb3ZlIiwiZGVsZXRlVGV4dHVyZSIsIlBPVzIiLCJDTEFNUCIsImdlbmVyYXRlTWlwbWFwIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIkxJTkVBUl9NSVBNQVBfTElORUFSIiwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCIsImFuaXNvdHJvcGljRXh0IiwibGV2ZWwiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZW1wTWF0cml4IiwiUmVuZGVyZXIiLCJwcmVyZW5kZXIiLCJhZGRTeXN0ZW0iLCJpbml0UGx1Z2lucyIsIl9fcGx1Z2lucyIsInByZW11bHRpcGxpZWRBbHBoYSIsInBvd2VyUHJlZmVyZW5jZSIsImxvZyIsInNheUhlbGxvIiwiY29udGV4dE9wdGlvbnMiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0Iiwic3VjY2VzcyIsIkNsYXNzUmVmIiwic2tpcFVwZGF0ZVRyYW5zZm9ybSIsImlzTG9zdCIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwicmVtb3ZlVmlldyIsInJlZ2lzdGVyUGx1Z2luIiwicGx1Z2luTmFtZSIsImN0b3IiLCJBYnN0cmFjdFJlbmRlcmVyIiwiVU5LTk9XTiIsInJvdW5kUGl4ZWxzIiwiYXV0b1Jlc2l6ZSIsIl9iYWNrZ3JvdW5kQ29sb3IiLCJfYmFja2dyb3VuZENvbG9yU3RyaW5nIiwic3RhdGljTWFwIiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwidGhpc0FueSIsImRlZmF1bHRGaWx0ZXIiLCJCYXRjaERyYXdDYWxsIiwiQmF0Y2hUZXh0dXJlQXJyYXkiLCJWaWV3YWJsZUJ1ZmZlciIsInJhd0JpbmFyeURhdGEiLCJ1aW50MzJWaWV3IiwiZmxvYXQzMlZpZXciLCJfaW50OFZpZXciLCJJbnQ4QXJyYXkiLCJfdWludDhWaWV3IiwiX2ludDE2VmlldyIsIkludDE2QXJyYXkiLCJfdWludDE2VmlldyIsIl9pbnQzMlZpZXciLCJzaXplT2YiLCJBYnN0cmFjdEJhdGNoUmVuZGVyZXIiLCJzaGFkZXJHZW5lcmF0b3IiLCJnZW9tZXRyeUNsYXNzIiwidmVydGV4U2l6ZSIsIl92ZXJ0ZXhDb3VudCIsIl9pbmRleENvdW50IiwiX2J1ZmZlcmVkRWxlbWVudHMiLCJfYnVmZmVyZWRUZXh0dXJlcyIsIl9idWZmZXJTaXplIiwiX3NoYWRlciIsIl9wYWNrZWRHZW9tZXRyaWVzIiwiX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUiLCJfZmx1c2hJZCIsIl9hQnVmZmVycyIsIl9pQnVmZmVycyIsIk1BWF9URVhUVVJFUyIsIm9uUHJlcmVuZGVyIiwiX2RjSW5kZXgiLCJfYUluZGV4IiwiX2lJbmRleCIsIl9hdHRyaWJ1dGVCdWZmZXIiLCJfaW5kZXhCdWZmZXIiLCJfdGVtcEJvdW5kVGV4dHVyZXMiLCJjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIiwiaW5pdEZsdXNoQnVmZmVycyIsIl9kcmF3Q2FsbFBvb2wiLCJfdGV4dHVyZUFycmF5UG9vbCIsIk1BWF9TUFJJVEVTIiwiTUFYX1RBIiwiaW5kaWNlcyIsImJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMiLCJ0ZXh0dXJlQXJyYXlzIiwiVElDSyIsImNvdW50VGV4QXJyYXlzIiwiYnVpbGREcmF3Q2FsbHMiLCJmaW5pc2giLCJkcmF3Q2FsbHMiLCJkY0luZGV4IiwiYUluZGV4IiwiaUluZGV4IiwiZHJhd0NhbGwiLCJzcHJpdGVCbGVuZE1vZGUiLCJwYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeSIsImJpbmRBbmRDbGVhclRleEFycmF5IiwidGV4dHVyZVN5c3RlbSIsInVwZGF0ZUdlb21ldHJ5IiwicGFja2VkR2VvbWV0cmllcyIsImF0dHJpYnV0ZUJ1ZmZlciIsIl9idWZmZXIiLCJkcmF3QmF0Y2hlcyIsImRjQ291bnQiLCJzdGF0ZVN5c3RlbSIsImN1clRleEFycmF5IiwiX2IiLCJnZXRBdHRyaWJ1dGVCdWZmZXIiLCJnZXRJbmRleEJ1ZmZlciIsInJvdW5kZWRQMiIsInJvdW5kZWRTaXplSW5kZXgiLCJyb3VuZGVkU2l6ZSIsInBhY2tlZFZlcnRpY2VzIiwiaW5kaWNpZXMiLCJ0ZXh0dXJlSWQiLCJhcmdiIiwiX3RpbnRSR0IiLCJCYXRjaFNoYWRlckdlbmVyYXRvciIsInByb2dyYW1DYWNoZSIsImRlZmF1bHRHcm91cENhY2hlIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsIkJhdGNoR2VvbWV0cnkiLCJkZWZhdWx0VmVydGV4JDIiLCJkZWZhdWx0RnJhZ21lbnQkMiIsIkJhdGNoUmVuZGVyZXIiLCJCYXRjaFBsdWdpbkZhY3RvcnkiLCJ2ZXJ0ZXgiLCJmcmFnbWVudCIsIkJhdGNoUGx1Z2luIiwiQXBwbGljYXRpb24iLCJmb3JjZUNhbnZhcyIsImF1dG9EZXRlY3RSZW5kZXJlciIsInN0YWdlIiwiX3BsdWdpbnMiLCJwbHVnaW4iLCJzdGFnZU9wdGlvbnMiLCJyZXZlcnNlIiwiUmVzaXplUGx1Z2luIiwiZG9tIiwicXVldWVSZXNpemUiLCJfcmVzaXplVG8iLCJjYW5jZWxSZXNpemUiLCJfcmVzaXplSWQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInJlc2l6ZVRvIiwiVEVNUF9SRUNUIiwiRXh0cmFjdCIsImV4dHJhY3QiLCJpbWFnZSIsInF1YWxpdHkiLCJiYXNlNjQiLCJ0b0RhdGFVUkwiLCJmbGlwWSIsImdlbmVyYXRlZCIsImNhbnZhc0J1ZmZlciIsIndlYmdsUGl4ZWxzIiwicmVhZFBpeGVscyIsImNhbnZhc0RhdGEiLCJnZXRJbWFnZURhdGEiLCJhcnJheVBvc3REaXZpZGUiLCJwdXRJbWFnZURhdGEiLCJ0YXJnZXRfMSIsInBpeGVscyIsIl9ub29wIiwiZWFjaFNlcmllcyIsIml0ZXJhdG9yIiwiZGVmZXJOZXh0Iiwib25seU9uY2UiLCJjYWxsRm4iLCJfZGVmaW5lUHJvcGVydGllcyIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfbm9vcCQxIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJ0aW1lb3V0IiwibG9hZFR5cGUiLCJfZGV0ZXJtaW5lTG9hZFR5cGUiLCJ4aHJUeXBlIiwibWV0YWRhdGEiLCJ4aHIiLCJUWVBFIiwicHJvZ3Jlc3NDaHVuayIsIl9kZXF1ZXVlIiwiX29uTG9hZEJpbmRpbmciLCJfZWxlbWVudFRpbWVyIiwiX2JvdW5kQ29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX2JvdW5kT25Qcm9ncmVzcyIsIl9vblByb2dyZXNzIiwiX2JvdW5kT25UaW1lb3V0IiwiX29uVGltZW91dCIsIl9ib3VuZFhock9uRXJyb3IiLCJfeGhyT25FcnJvciIsIl9ib3VuZFhock9uVGltZW91dCIsIl94aHJPblRpbWVvdXQiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwib25TdGFydCIsIm9uUHJvZ3Jlc3MiLCJvbkNvbXBsZXRlIiwib25BZnRlck1pZGRsZXdhcmUiLCJzZXRFeHRlbnNpb25Mb2FkVHlwZSIsImV4dG5hbWUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJfcHJvdG8iLCJfY2xlYXJFdmVudHMiLCJfZmluaXNoIiwiYWJvcnQiLCJ4ZHIiLCJFTVBUWV9HSUYiLCJmaXJzdENoaWxkIiwiaXNMb2FkaW5nIiwiaXNDb21wbGV0ZSIsIkxPQURJTkciLCJfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJMT0FEX1RZUEUiLCJJTUFHRSIsIl9sb2FkRWxlbWVudCIsIkFVRElPIiwiX2xvYWRTb3VyY2VFbGVtZW50IiwiVklERU8iLCJYSFIiLCJfbG9hZFhkciIsIl9sb2FkWGhyIiwiX2hhc0ZsYWciLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwiQ09NUExFVEUiLCJsb2FkRWxlbWVudCIsInNraXBTb3VyY2UiLCJBdWRpbyIsImlzQ29jb29uSlMiLCJtaW1lVHlwZXMiLCJtaW1lVHlwZSIsIl9jcmVhdGVTb3VyY2UiLCJfbWltZVR5cGVzIiwiX2RldGVybWluZVhoclR5cGUiLCJvcGVuIiwiWEhSX1JFU1BPTlNFX1RZUEUiLCJKU09OIiwiRE9DVU1FTlQiLCJyZXNwb25zZVR5cGUiLCJURVhUIiwic2VuZCIsIm5vZGVOYW1lIiwibGVuZ3RoQ29tcHV0YWJsZSIsInRvdGFsIiwicmVxVHlwZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJ0ZXh0IiwicmVzcG9uc2VUZXh0IiwiQlVGRkVSIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiWE1MIiwicmVzcG9uc2UiLCJyZXNwb25zZVVSTCIsIm9yaWdpbiIsImlzRGF0YVVybCIsInNsYXNoSW5kZXgiLCJxdWVyeVN0YXJ0IiwiaGFzaFN0YXJ0IiwiX2dldE1pbWVGcm9tWGhyVHlwZSIsIkJMT0IiLCJERUZBVUxUIiwiZ2lmIiwicG5nIiwiYm1wIiwianBnIiwianBlZyIsInRpZiIsInRpZmYiLCJ3ZWJwIiwidGdhIiwibXAzIiwib2dnIiwid2F2IiwibXA0Iiwid2VibSIsInhodG1sIiwiaHRtbCIsImh0bSIsInhtbCIsInRteCIsInRzeCIsImpzb24iLCJ0eHQiLCJ0dGYiLCJvdGYiLCJVUkwiLCJ3ZWJraXRVUkwiLCJjYWNoaW5nIiwicGFyc2luZyIsIkJsb2IiLCJjcmVhdGVPYmplY3RVUkwiLCJibG9iIiwicmV2b2tlT2JqZWN0VVJMIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJpbngiLCJieXRlYnVmZmVyIiwiZW5jb2RlZENoYXJJbmRleGVzIiwiam54IiwiX2pueCIsImVuY29kZUJpbmFyeSIsInJneEV4dHJhY3RVcmxIYXNoIiwiTG9hZGVyIiwiYmFzZVVybCIsImNvbmN1cnJlbmN5IiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwid29ya2VyIiwid29ya2VycyIsIl90YXNrcyIsInNhdHVyYXRlZCIsInVuc2F0dXJhdGVkIiwiZW1wdHkiLCJkcmFpbiIsIl9pbnNlcnQiLCJraWxsIiwidGFzayIsInJ1bm5pbmciLCJpZGxlIiwicmVzdW1lIiwiaW5zZXJ0QXRGcm9udCIsIm9uTG9hZCIsIl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSIsInByZSIsIl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlIiwidXNlIiwicGFyZW50UmVzb3VyY2UiLCJfcHJlcGFyZVVybCIsImluY29tcGxldGVDaGlsZHJlbiIsIl9pMiIsImVhY2hDaHVuayIsIl9pMyIsIl9vblN0YXJ0IiwiX29uQ29tcGxldGUiLCJjaHVuayIsImRlcXVldWUiLCJfdGhpczIiLCJfb25Mb2FkIiwiX3RoaXMzIiwiTG9hZGVyUmVzb3VyY2UiLCJUZXh0dXJlTG9hZGVyIiwiQXBwTG9hZGVyUGx1Z2luIiwic2hhcmVkTG9hZGVyIiwibG9hZGVyIiwiUGFydGljbGVDb250YWluZXIiLCJtYXhTaXplIiwicHJvcGVydGllcyIsImJhdGNoU2l6ZSIsIl9wcm9wZXJ0aWVzIiwiX21heFNpemUiLCJfYmF0Y2hTaXplIiwiX2J1ZmZlcnMiLCJfYnVmZmVyVXBkYXRlSURzIiwic2V0UHJvcGVydGllcyIsIl90aW50IiwidGludFJnYiIsInBhcnRpY2xlIiwic21hbGxlc3RDaGlsZEluZGV4IiwiTElORV9KT0lOIiwiTElORV9DQVAiLCJQYXJ0aWNsZUJ1ZmZlciIsImR5bmFtaWNQcm9wZXJ0eUZsYWdzIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJzdGF0aWNQcm9wZXJ0aWVzIiwicHJvcGVydHkiLCJhdHRyaWJ1dGVOYW1lIiwidXBsb2FkRnVuY3Rpb24iLCJzdGF0aWNTdHJpZGUiLCJzdGF0aWNCdWZmZXIiLCJzdGF0aWNEYXRhIiwic3RhdGljRGF0YVVpbnQzMiIsImR5bmFtaWNTdHJpZGUiLCJkeW5hbWljQnVmZmVyIiwiZHluYW1pY0RhdGEiLCJkeW5hbWljRGF0YVVpbnQzMiIsImluaXRCdWZmZXJzIiwiZHluYW1pY09mZnNldCIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsImR5bkJ1ZmZlciIsInN0YXRpY09mZnNldCIsInN0YXRCdWZmZXIiLCJ1cGxvYWREeW5hbWljIiwic3RhcnRJbmRleCIsImFtb3VudCIsInVwbG9hZFN0YXRpYyIsIlBhcnRpY2xlUmVuZGVyZXIiLCJ1cGxvYWRWZXJ0aWNlcyIsInVwbG9hZFBvc2l0aW9uIiwidXBsb2FkUm90YXRpb24iLCJ1cGxvYWRVdnMiLCJ1cGxvYWRUaW50IiwidG90YWxDaGlsZHJlbiIsImdlbmVyYXRlQnVmZmVycyIsInJnYiIsInVDb2xvciIsInVwZGF0ZVN0YXRpYyIsIl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIiLCJiaWQiLCJ3MCIsIncxIiwiaDAiLCJoMSIsInNwcml0ZVBvc2l0aW9uIiwic3ByaXRlUm90YXRpb24iLCJ0ZXh0dXJlVXZzIiwiR1JBUEhJQ1NfQ1VSVkVTIiwiYWRhcHRpdmUiLCJtYXhMZW5ndGgiLCJtaW5TZWdtZW50cyIsIm1heFNlZ21lbnRzIiwiZXBzaWxvbiIsIl9zZWdtZW50c0NvdW50IiwiZGVmYXVsdFNlZ21lbnRzIiwiRmlsbFN0eWxlIiwiY29sb3IiLCJidWlsZFBvbHkiLCJidWlsZCIsImdyYXBoaWNzRGF0YSIsInNoYXBlIiwidHJpYW5ndWxhdGUiLCJncmFwaGljc0dlb21ldHJ5IiwidmVydHMiLCJob2xlQXJyYXkiLCJ2ZXJ0UG9zIiwiYnVpbGRDaXJjbGUiLCJjaXJjbGVEYXRhIiwiZWxsaXBzZURhdGEiLCJ0b3RhbFNlZ3MiLCJzZWciLCJjZW50ZXIiLCJjaXJjbGUiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJmcm9tWCIsImZyb21ZIiwiY3BYIiwiY3BZIiwidG9YIiwidG9ZIiwieGEiLCJ5YSIsInhiIiwieWIiLCJidWlsZFJvdW5kZWRSZWN0YW5nbGUiLCJycmVjdERhdGEiLCJ2ZWNQb3MiLCJzcXVhcmUiLCJueCIsIm55IiwiaW5uZXJXZWlnaHQiLCJvdXRlcldlaWdodCIsImV4eCIsImV5eSIsImVpeCIsImVpeSIsImVveCIsImVveSIsImV4IiwiZXkiLCJjeDJwMHgiLCJjeTJwMHkiLCJhbmdsZTAiLCJhbmdsZTEiLCJzdGFydEFuZ2xlIiwiYW5nbGVEaWZmIiwiYWJzQW5nbGVEaWZmIiwic2VnQ291bnQiLCJhbmdsZUluYyIsImJ1aWxkTGluZSIsImxpbmVTdHlsZSIsIm5hdGl2ZSIsImNsb3NlZFNoYXBlIiwiYnVpbGROYXRpdmVMaW5lIiwiY2xvc2VQb2ludEVwcyIsImZpcnN0UG9pbnQiLCJsYXN0UG9pbnQiLCJjbG9zZWRQYXRoIiwibWlkUG9pbnRYIiwibWlkUG9pbnRZIiwiaW5kZXhDb3VudCIsImluZGV4U3RhcnQiLCJ3aWR0aFNxdWFyZWQiLCJtaXRlckxpbWl0U3F1YXJlZCIsIm1pdGVyTGltaXQiLCJwZXJweCIsInBlcnB5IiwicGVycDF4IiwicGVycDF5IiwiZGlzdCIsInJhdGlvIiwiYWxpZ25tZW50IiwiY2FwIiwiUk9VTkQiLCJTUVVBUkUiLCJkeDAiLCJkeTAiLCJkeDEiLCJkeTEiLCJjcm9zcyIsImMyIiwicGRpc3QiLCJpbXgiLCJpbXkiLCJvbXgiLCJvbXkiLCJpbnNpZGVXZWlnaHQiLCJCRVZFTCIsImVwczIiLCJidWlsZE5vbk5hdGl2ZUxpbmUiLCJURVhUX0dSQURJRU5UIiwiU3RhciIsImlubmVyUmFkaXVzIiwiQXJjVXRpbHMiLCJjdXJ2ZVRvIiwibW0iLCJkZCIsImNjIiwidHQiLCJrMSIsImsyIiwiajEiLCJqMiIsInF5IiwiZW5kQW5nbGUiLCJhbnRpY2xvY2t3aXNlIiwiYXJjIiwiX3N0YXJ0WCIsIl9zdGFydFkiLCJfYW50aWNsb2Nrd2lzZSIsInN3ZWVwIiwidGhldGEiLCJ0aGV0YTIiLCJjVGhldGEiLCJzVGhldGEiLCJzZWdNaW51cyIsInJlbWFpbmRlciIsIkJlemllclV0aWxzIiwiY3VydmVMZW5ndGgiLCJjcFgyIiwiY3BZMiIsInQyIiwidDMiLCJudCIsIm50MiIsIm50MyIsInByZXZYIiwicHJldlkiLCJkdCIsImR0MiIsImR0MyIsIlF1YWRyYXRpY1V0aWxzIiwiYTMyIiwiYmEiLCJCYXRjaFBhcnQiLCJhdHRyaWJTdGFydCIsImVuZEF0dHJpYiIsIkZJTExfQ09NTUFORFMiLCJyZWN0RGF0YSIsIkJBVENIX1BPT0wiLCJEUkFXX0NBTExfUE9PTCIsIkdyYXBoaWNzRGF0YSIsInRtcFBvaW50IiwidG1wQm91bmRzIiwiR3JhcGhpY3NHZW9tZXRyeSIsImluZGljZXNVaW50MTYiLCJjb2xvcnMiLCJ0ZXh0dXJlSWRzIiwiYmF0Y2hEaXJ0eSIsImNhY2hlRGlydHkiLCJjbGVhckRpcnR5IiwiYmF0Y2hlcyIsInNoYXBlSW5kZXgiLCJib3VuZHNEaXJ0eSIsImJvdW5kc1BhZGRpbmciLCJiYXRjaGFibGUiLCJiYXRjaFBhcnQiLCJkcmF3U2hhcGUiLCJkcmF3SG9sZSIsImxhc3RTaGFwZSIsImhpdEhvbGUiLCJpXzEiLCJ1cGRhdGVCYXRjaGVzIiwiYWxsb3czMkluZGljZXMiLCJ2YWxpZGF0ZUJhdGNoaW5nIiwiY3VycmVudFN0eWxlIiwidHJhbnNmb3JtUG9pbnRzIiwibmV4dFRleHR1cmUiLCJpbmRleF8xIiwiYXR0cmliSW5kZXgiLCJSRVBFQVQiLCJwcm9jZXNzRmlsbCIsInByb2Nlc3NMaW5lIiwiX2NvbXBhcmVTdHlsZXMiLCJhZGRVdnMiLCJuZWVkMzIiLCJpc0JhdGNoYWJsZSIsInBhY2tCYXRjaGVzIiwic3R5bGVBIiwic3R5bGVCIiwiZmlsbCIsImxpbmUiLCJCQVRDSEFCTEVfU0laRSIsImN1cnJlbnRHcm91cCIsImN1cnJlbnRUZXh0dXJlIiwiZHJhd01vZGUiLCJMSU5FUyIsImFkZENvbG9ycyIsImFkZFRleHR1cmVJZHMiLCJwYWNrQXR0cmlidXRlcyIsImdsUG9pbnRzIiwiZjMyIiwidTMyIiwicHJvY2Vzc0hvbGVzIiwic2VxdWVuY2VCb3VuZHMiLCJjdXJNYXRyaXgiLCJuZXh0TWF0cml4IiwibGluZVdpZHRoIiwiZWxsaXBzZSIsInBvbHkiLCJyZ2JhIiwidXZzU3RhcnQiLCJhZGp1c3RVdnMiLCJMaW5lU3R5bGUiLCJCVVRUIiwiTUlURVIiLCJ0ZW1wIiwiREVGQVVMVF9TSEFERVJTIiwiR3JhcGhpY3MiLCJfZ2VvbWV0cnkiLCJfZmlsbFN0eWxlIiwiX2xpbmVTdHlsZSIsIl9ob2xlTW9kZSIsImN1cnJlbnRQYXRoIiwiYmF0Y2hUaW50IiwiX3RyYW5zZm9ybUlEIiwiZmluaXNoUG9seSIsImxpbmVUZXh0dXJlU3R5bGUiLCJzdGFydFBvbHkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJfaW5pdEN1cnZlIiwicXVhZHJhdGljQ3VydmVUbyIsImJlemllckN1cnZlVG8iLCJhcmNUbyIsInJhZGl1c18xIiwic3RhcnRYIiwic3RhcnRZIiwieERpZmYiLCJ5RGlmZiIsImJlZ2luRmlsbCIsImJlZ2luVGV4dHVyZUZpbGwiLCJlbmRGaWxsIiwiZHJhd1JlY3QiLCJkcmF3Um91bmRlZFJlY3QiLCJkcmF3Q2lyY2xlIiwiZHJhd0VsbGlwc2UiLCJkcmF3UG9seWdvbiIsImRyYXdTdGFyIiwiX3BvcHVsYXRlQmF0Y2hlcyIsIl9yZW5kZXJCYXRjaGVkIiwiX3JlbmRlckRpcmVjdCIsImdJIiwiX2JhdGNoUkdCIiwiY2FsY3VsYXRlVmVydGljZXMiLCJjYWxjdWxhdGVUaW50cyIsIl9yZXNvbHZlRGlyZWN0U2hhZGVyIiwiX3JlbmRlckRyYXdDYWxsRGlyZWN0IiwiZ3JvdXBUZXh0dXJlQ291bnQiLCJfVEVNUF9QT0lOVCIsInRpbnRSR0IiLCJ3dElEIiwiY2xvc2VQYXRoIiwic2V0TWF0cml4IiwiYmVnaW5Ib2xlIiwiZW5kSG9sZSIsInRlbXBQb2ludCIsIlNwcml0ZSIsIl9hbmNob3IiLCJfb25BbmNob3JVcGRhdGUiLCJfY2FjaGVkVGludCIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RyYW5zZm9ybVRyaW1tZWRJRCIsIl90ZXh0dXJlVHJpbW1lZElEIiwiX3JvdW5kUGl4ZWxzIiwiX29uVGV4dHVyZVVwZGF0ZSIsImNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyIsImRlc3Ryb3lCYXNlVGV4dHVyZSIsImRlZmF1bHRTdHlsZSIsImFsaWduIiwiYnJlYWtXb3JkcyIsImRyb3BTaGFkb3ciLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Qmx1ciIsImRyb3BTaGFkb3dDb2xvciIsImRyb3BTaGFkb3dEaXN0YW5jZSIsImZpbGxHcmFkaWVudFR5cGUiLCJMSU5FQVJfVkVSVElDQUwiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwibGluZUpvaW4iLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJ0ZXh0QmFzZWxpbmUiLCJ3aGl0ZVNwYWNlIiwid29yZFdyYXAiLCJ3b3JkV3JhcFdpZHRoIiwibGVhZGluZyIsImdlbmVyaWNGb250RmFtaWxpZXMiLCJUZXh0U3R5bGUiLCJzdHlsZUlEIiwiZGVlcENvcHlQcm9wZXJ0aWVzIiwiY2xvbmVkUHJvcGVydGllcyIsIl9hbGlnbiIsIl9icmVha1dvcmRzIiwiX2Ryb3BTaGFkb3ciLCJfZHJvcFNoYWRvd0FscGhhIiwiX2Ryb3BTaGFkb3dBbmdsZSIsIl9kcm9wU2hhZG93Qmx1ciIsIl9kcm9wU2hhZG93Q29sb3IiLCJvdXRwdXRDb2xvciIsImdldENvbG9yIiwiX2Ryb3BTaGFkb3dEaXN0YW5jZSIsIl9maWxsIiwiX2ZpbGxHcmFkaWVudFR5cGUiLCJfZmlsbEdyYWRpZW50U3RvcHMiLCJhcnJheTEiLCJhcnJheTIiLCJhcmVBcnJheXNFcXVhbCIsIl9mb250RmFtaWx5IiwiX2ZvbnRTaXplIiwiX2ZvbnRTdHlsZSIsIl9mb250VmFyaWFudCIsIl9mb250V2VpZ2h0IiwiX2xldHRlclNwYWNpbmciLCJfbGluZUhlaWdodCIsIl9sZWFkaW5nIiwiX2xpbmVKb2luIiwiX21pdGVyTGltaXQiLCJfcGFkZGluZyIsIl9zdHJva2UiLCJfc3Ryb2tlVGhpY2tuZXNzIiwiX3RleHRCYXNlbGluZSIsIl90cmltIiwiX3doaXRlU3BhY2UiLCJfd29yZFdyYXAiLCJfd29yZFdyYXBXaWR0aCIsInRvRm9udFN0cmluZyIsImZvbnRTaXplU3RyaW5nIiwiZm9udEZhbWlsaWVzIiwiZ2V0U2luZ2xlQ29sb3IiLCJwcm9wZXJ0eU9iaiIsIlRleHRNZXRyaWNzIiwibGluZXMiLCJsaW5lV2lkdGhzIiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsIl9jYW52YXMiLCJmb250IiwibWVhc3VyZUZvbnQiLCJhc2NlbnQiLCJjb2xsYXBzZVNwYWNlcyIsImNvbGxhcHNlTmV3bGluZXMiLCJjYW5QcmVwZW5kU3BhY2VzIiwidG9rZW5zIiwidG9rZW5pemUiLCJ0b2tlbiIsImlzTmV3bGluZSIsImFkZExpbmUiLCJjdXJySXNCcmVha2luZ1NwYWNlIiwiaXNCcmVha2luZ1NwYWNlIiwibGFzdElzQnJlYWtpbmdTcGFjZSIsInRva2VuV2lkdGgiLCJnZXRGcm9tQ2FjaGUiLCJjYW5CcmVha1dvcmRzIiwiY2hhcmFjdGVycyIsIndvcmRXcmFwU3BsaXQiLCJjaGFyIiwibmV4dENoYXIiLCJsYXN0Q2hhciIsImNhbkJyZWFrQ2hhcnMiLCJjaGFyYWN0ZXJXaWR0aCIsImlzTGFzdFRva2VuIiwibmV3TGluZSIsInRyaW1SaWdodCIsInNwYWNpbmciLCJfbmV3bGluZXMiLCJfYnJlYWtpbmdTcGFjZXMiLCJfdG9rZW4iLCJfY2hhciIsIl9uZXh0Q2hhciIsIl9pbmRleCIsIl9mb250cyIsImRlc2NlbnQiLCJfY29udGV4dCIsIm1ldHJpY3NTdHJpbmciLCJNRVRSSUNTX1NUUklORyIsIkJBU0VMSU5FX1NZTUJPTCIsImJhc2VsaW5lIiwiQkFTRUxJTkVfTVVMVElQTElFUiIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiY2xlYXJNZXRyaWNzIiwiZGVmYXVsdERlc3Ryb3lPcHRpb25zIiwiVGV4dCIsIm93bkNhbnZhcyIsIl9vd25DYW52YXMiLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwic3Ryb2tlVGV4dCIsInRyaW1tZWQiLCJyaWdodCIsImJvdHRvbSIsInRyaW1DYW52YXMiLCJtZXRyaWNzIiwiZ3JhZGllbnQiLCJkcm9wU2hhZG93Q29ycmVjdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJsYXN0SXRlcmF0aW9uU3RvcCIsImdyYWRTdG9wTGluZUhlaWdodCIsInRoaXNMaW5lVG9wIiwiZ2xvYmFsU3RvcCIsImNsYW1wZWRTdG9wIiwiYWRkQ29sb3JTdG9wIiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsIlVQTE9BRFNfUEVSX0ZSQU1FIiwiQ291bnRMaW1pdGVyIiwibWF4SXRlbXNQZXJGcmFtZSIsIml0ZW1zTGVmdCIsImJlZ2luRnJhbWUiLCJhbGxvd2VkVG9VcGxvYWQiLCJmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMiLCJfdGV4dHVyZXMiLCJmaW5kQmFzZVRleHR1cmUiLCJmaW5kVGV4dHVyZSIsImRyYXdUZXh0IiwiX2hlbHBlciIsImNhbGN1bGF0ZVRleHRTdHlsZSIsImZpbmRUZXh0IiwiZmluZFRleHRTdHlsZSIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInVwbG9hZEdyYXBoaWNzIiwiZmluZEdyYXBoaWNzIiwiUHJlcGFyZSIsInVwbG9hZEhvb2tIZWxwZXIiLCJyZWdpc3RlckZpbmRIb29rIiwicmVnaXN0ZXJVcGxvYWRIb29rIiwiQmFzZVByZXBhcmUiLCJsaW1pdGVyIiwiYWRkSG9va3MiLCJ1cGxvYWRIb29rcyIsImNvbXBsZXRlcyIsInRpY2tpbmciLCJkZWxheWVkVGljayIsInByZXBhcmVJdGVtcyIsImRvbmUiLCJ0aWNrIiwiVVRJTElUWSIsInVwbG9hZGVkIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJTcHJpdGVzaGVldCIsIlRpbWVMaW1pdGVyIiwibWF4TWlsbGlzZWNvbmRzIiwiZnJhbWVTdGFydCIsInJlc29sdXRpb25GaWxlbmFtZSIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJmcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJtZXRhIiwiQkFUQ0hfU0laRSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJUaWxpbmdTcHJpdGUiLCJ0aWxlVHJhbnNmb3JtIiwidXZSZXNwZWN0QW5jaG9yIiwiVGlsaW5nU3ByaXRlUmVuZGVyZXIiLCJzaW1wbGVTaGFkZXIiLCJ0cyIsImJhc2VUZXgiLCJ1diIsIkgiLCJ1TWFwQ29vcmQiLCJ1VHJhbnNmb3JtIiwiTWVzaEJhdGNoVXZzIiwiX2J1ZmZlclVwZGF0ZUlkIiwiX3RleHR1cmVVcGRhdGVJZCIsInRlbXBQb2x5Z29uIiwiTWVzaCIsInZlcnRleERpcnR5IiwiYmF0Y2hVdnMiLCJfcmVuZGVyVG9CYXRjaCIsIl9yZW5kZXJEZWZhdWx0IiwiY2FsY3VsYXRlVXZzIiwibWF0ZXJpYWwiLCJ2ZXJ0ZXhEaXJ0eUlkIiwiZ2VvbVV2cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJNZXNoTWF0ZXJpYWwiLCJ1VGV4dHVyZU1hdHJpeCIsIl9jb2xvckRpcnR5IiwiX2FscGhhIiwiTWVzaEdlb21ldHJ5IiwidmVydGljZXNCdWZmZXIiLCJ1dnNCdWZmZXIiLCJfdXBkYXRlSWQiLCJCaXRtYXBGb250RGF0YSIsImluZm8iLCJjb21tb24iLCJwYWdlIiwia2VybmluZyIsIlRleHRGb3JtYXQiLCJyYXdEYXRhIiwiY2hhcnMiLCJrZXJuaW5ncyIsImF0dHJpYnV0ZUxpc3QiLCJpdGVtRGF0YSIsInN0clZhbHVlIiwiZmxvYXRWYWx1ZSIsImZhY2UiLCJmaWxlIiwieG9mZnNldCIsInlvZmZzZXQiLCJ4YWR2YW5jZSIsImZpcnN0Iiwic2Vjb25kIiwiWE1MRm9ybWF0IiwiWE1MRG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIlhNTFN0cmluZ0Zvcm1hdCIsInhtbFR4dCIsImZvcm1hdHMiLCJhdXRvRGV0ZWN0Rm9ybWF0IiwiZ2VuZXJhdGVGaWxsU3R5bGUiLCJkcmF3R2x5cGgiLCJCaXRtYXBGb250IiwicGFnZVRleHR1cmVzIiwicGFnZV8xIiwiX2MiLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhBZHZhbmNlIiwiX2QiLCJpbnN0YWxsIiwiZm9udERhdGEiLCJhdmFpbGFibGUiLCJ1bmluc3RhbGwiLCJ0ZXh0U3R5bGUiLCJkZWZhdWx0T3B0aW9ucyIsInRleHR1cmVXaWR0aCIsInRleHR1cmVIZWlnaHQiLCJjaGFyc0xpc3QiLCJzdGFydENvZGUiLCJlbmRDb2RlIiwial8xIiwicmVzb2x2ZUNoYXJhY3RlcnMiLCJwb3NpdGlvblgiLCJwb3NpdGlvblkiLCJtYXhDaGFySGVpZ2h0IiwidGV4dHVyZUdseXBoV2lkdGgiLCJBTFBIQSIsIk5VTUVSSUMiLCJBTFBIQU5VTUVSSUMiLCJBU0NJSSIsInBhZ2VNZXNoRGF0YVBvb2wiLCJjaGFyUmVuZGVyRGF0YVBvb2wiLCJCaXRtYXBGb250TG9hZGVyIiwiQml0bWFwVGV4dCIsIl91cGdyYWRlU3R5bGUiLCJzdHlsZURlZmF1bHRzIiwibWF4V2lkdGgiLCJmb250TmFtZSIsIl9hY3RpdmVQYWdlc01lc2hEYXRhIiwiX3RleHRXaWR0aCIsIl90ZXh0SGVpZ2h0IiwiX2ZvbnROYW1lIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJfdGV4dHVyZUNhY2hlIiwidGV4dExlbmd0aCIsInByZXZDaGFyQ29kZSIsImxhc3RMaW5lV2lkdGgiLCJsYXN0QnJlYWtQb3MiLCJsYXN0QnJlYWtXaWR0aCIsInNwYWNlc1JlbW92ZWQiLCJtYXhMaW5lSGVpZ2h0IiwiY2hhckNvZGUiLCJjaGFyRGF0YSIsImNoYXJSZW5kZXJEYXRhIiwibGluZUFsaWduT2Zmc2V0cyIsImFsaWduT2Zmc2V0IiwibGVuQ2hhcnMiLCJwYWdlc01lc2hEYXRhIiwibmV3UGFnZXNNZXNoRGF0YSIsImFjdGl2ZVBhZ2VzTWVzaERhdGEiLCJiYXNlVGV4dHVyZVVpZCIsInBhZ2VNZXNoRGF0YSIsInZlcnRleENvdW50IiwidXZzQ291bnQiLCJtZXNoIiwidG90YWxfMSIsInhQb3MiLCJ5UG9zIiwicGFnZU1lc2giLCJ0ZXh0dXJlRnJhbWUiLCJhbmNob3JPZmZzZXRYIiwiYW5jaG9yT2Zmc2V0WSIsImlfMiIsInRleHR1cmVCdWZmZXIiLCJ2YWxpZGF0ZSIsInZhbHVlU3BsaXQiLCJyZWdpc3RlckZvbnQiLCJnZXRCYXNlVXJsIiwicGFnZUZpbGUiLCJiaXRtYXBGb250IiwiYml0bWFwUmVzb3VyY2UiLCJyZXNVcmwiLCJkaXJuYW1lIiwiZGlyIiwiQWxwaGFGaWx0ZXIiLCJ1QWxwaGEiLCJHQVVTU0lBTl9WQUxVRVMiLCI1IiwiNyIsIjkiLCIxMSIsIjEzIiwiMTUiLCJCbHVyRmlsdGVyUGFzcyIsImhvcml6b250YWwiLCJzdHJlbmd0aCIsImtlcm5lbFNpemUiLCJ2ZXJ0U3JjIiwiaGFsZkxlbmd0aCIsInZlcnRTb3VyY2UiLCJibHVyTG9vcCIsImJsdXIiLCJnZW5lcmF0ZUJsdXJWZXJ0U291cmNlIiwiZnJhZ1NyYyIsImtlcm5lbCIsImZyYWdTb3VyY2UiLCJnZW5lcmF0ZUJsdXJGcmFnU291cmNlIiwiX3F1YWxpdHkiLCJwYXNzZXMiLCJyZW5kZXJUYXJnZXQiLCJCbHVyRmlsdGVyIiwiYmx1clhGaWx0ZXIiLCJibHVyWUZpbHRlciIsInJlcGVhdEVkZ2VQaXhlbHMiLCJ4U3RyZW5ndGgiLCJ5U3RyZW5ndGgiLCJ1cGRhdGVQYWRkaW5nIiwiX3JlcGVhdEVkZ2VQaXhlbHMiLCJDb2xvck1hdHJpeEZpbHRlciIsIl9sb2FkTWF0cml4IiwibXVsdGlwbHkiLCJuZXdNYXRyaXgiLCJfbXVsdGlwbHkiLCJfY29sb3JNYXRyaXgiLCJicmlnaHRuZXNzIiwiZ3JleXNjYWxlIiwiYmxhY2tBbmRXaGl0ZSIsImh1ZSIsImNvc1IiLCJzaW5SIiwic3FyVyIsImNvbnRyYXN0Iiwic2F0dXJhdGUiLCJkZXNhdHVyYXRlIiwibmVnYXRpdmUiLCJzZXBpYSIsInRlY2huaWNvbG9yIiwicG9sYXJvaWQiLCJ0b0JHUiIsImtvZGFjaHJvbWUiLCJicm93bmkiLCJ2aW50YWdlIiwiY29sb3JUb25lIiwiZGVzYXR1cmF0aW9uIiwidG9uZWQiLCJsaWdodENvbG9yIiwiZGFya0NvbG9yIiwibFIiLCJsRyIsImxCIiwiZFIiLCJkRyIsImRCIiwibmlnaHQiLCJpbnRlbnNpdHkiLCJwcmVkYXRvciIsImxzZCIsImdyYXlzY2FsZSIsIkRpc3BsYWNlbWVudEZpbHRlciIsIm1hcFNhbXBsZXIiLCJmaWx0ZXJNYXRyaXgiLCJsZW5YIiwibGVuWSIsIk5vaXNlRmlsdGVyIiwibm9pc2UiLCJzZWVkIiwicmFuZG9tIiwidU5vaXNlIiwidVNlZWQiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsIkNhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXIiLCJvcmlnaW5hbFJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzIiwib3JpZ2luYWxHZXRMb2NhbEJvdW5kcyIsIm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtIiwib3JpZ2luYWxEZXN0cm95Iiwib3JpZ2luYWxNYXNrIiwib3JpZ2luYWxGaWx0ZXJBcmVhIiwib3JpZ2luYWxDb250YWluc1BvaW50IiwiY2FjaGVBc0JpdG1hcCIsInJlbmRlckNhbnZhcyIsIl9yZW5kZXJDYWNoZWQiLCJfcmVuZGVyQ2FjaGVkQ2FudmFzIiwiX2NhY2hlQXNCaXRtYXBEZXN0cm95IiwiX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0IiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0IiwiY2FjaGVBbHBoYSIsImNhY2hlZFJlbmRlclRleHR1cmUiLCJjYWNoZWRTb3VyY2VGcmFtZSIsImNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0iLCJfY2FsY3VsYXRlQ2FjaGVkQm91bmRzIiwiX2dldENhY2hlZExvY2FsQm91bmRzIiwiY2FjaGVkU3ByaXRlIiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzIiwiX3JlbmRlckNhbnZhcyIsImNhY2hlZFJlbmRlclRhcmdldCIsIl9wcm9qVHJhbnNmb3JtIiwiZ2V0Q2hpbGRCeU5hbWUiLCJkZWVwIiwiZ2V0R2xvYmFsUG9zaXRpb24iLCJQbGFuZUdlb21ldHJ5Iiwic2VnV2lkdGgiLCJzZWdIZWlnaHQiLCJzZWdtZW50c1giLCJzZWdtZW50c1kiLCJzaXplWCIsInNpemVZIiwidG90YWxTdWIiLCJ4cG9zIiwieXBvcyIsInZhbHVlMiIsInZhbHVlMyIsInZhbHVlNCIsIlJvcGVHZW9tZXRyeSIsInRleHR1cmVTY2FsZSIsImRpc3RhbmNlIiwidXBkYXRlVmVydGljZXMiLCJuZXh0UG9pbnQiLCJwZXJwWCIsInBlcnBZIiwicGVycExlbmd0aCIsIlNpbXBsZVBsYW5lIiwiU2ltcGxlUm9wZSIsInJvcGVHZW9tZXRyeSIsIm1lc2hNYXRlcmlhbCIsInZlcnRpY2VzWCIsInZlcnRpY2VzWSIsInBsYW5lR2VvbWV0cnkiLCJ0ZXh0dXJlVXBkYXRlZCIsIlNpbXBsZU1lc2giLCJOaW5lU2xpY2VQbGFuZSIsImxlZnRXaWR0aCIsInRvcEhlaWdodCIsInJpZ2h0V2lkdGgiLCJib3R0b21IZWlnaHQiLCJfb3JpZ1dpZHRoIiwiX29yaWdIZWlnaHQiLCJfbGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJfdG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsIl9yZWZyZXNoIiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwiX2dldE1pblNjYWxlIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsInNjYWxlVyIsInNjYWxlSCIsIl91dnciLCJfdXZoIiwiQW5pbWF0ZWRTcHJpdGUiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwidXBkYXRlQW5jaG9yIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsIl9wbGF5aW5nIiwiX3ByZXZpb3VzRnJhbWUiLCJnb3RvQW5kU3RvcCIsImZyYW1lTnVtYmVyIiwicHJldmlvdXNGcmFtZSIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRQbGF5IiwiZWxhcHNlZCIsImxhZyIsImZyb21GcmFtZXMiLCJmcm9tSW1hZ2VzIiwiaW1hZ2VzIiwiVHJhbnNmb3JtT3B0aW9ucyIsImFwcCIsIm9uQXNzZXRzTG9hZGVkIiwibG9hZEFzc2V0cyIsImxvYWRpbmdTY3JlZW4iLCJnZW5lcmF0ZUxvYWRpbmdTY3JlZW4iLCJhcHBXaWR0aCIsImFwcEhlaWdodCIsInBsYXlUZXh0Iiwicm93cyIsImNvbHMiLCJpbml0VmFsdWUiLCJhcHBseU9mZnNldHMiLCJkWCIsImRZIiwiZm9yRWFjaENlbGwiLCJyb3dJbmRleCIsImNlbGwiLCJjb2xsSW5kZXgiLCJjb2xsIiwiY29sbGlzaW9uIiwiaXNJbkJvdW5kcyIsImJvdW5kWCIsImJvdW5kWSIsImNsb2NrV2lzZSIsImZyb20yZEFycmF5IiwiaW5uZXJBcnJheSIsIkJMT0NLX1NJREVfTEVOR1RIIiwiaW5mb1BhbmVsTGF5b3V0IiwibGF5b3V0IiwiQ09MUyIsIlJPV1MiLCJDT0xPUlMiLCJXSU5fQ09MT1IiLCJFTVBUWV9DT0xPUiIsImdmeCIsImluaXRDZWxsc0dGWCIsImNlbGxzIiwiZ2V0RmlsbGVkUm93cyIsInJlZHVjZSIsImV2ZXJ5IiwiYXBwbHlXaW5Sb3dzIiwiaGFzV2luUm93cyIsImNsZWFyV2luUm93cyIsInJlZHJhdyIsImlzSW50ZXJhY3RpdmUiLCJmYWxsaW5nVGV0cm9taW5vIiwiZ3JpZCIsIkdyaWQiLCJzZXRJbnRlcmFjdGl2ZSIsIm5ld1ZhbHVlIiwiaXNHcmlkQ29sbGlzaW9uIiwiZHJhd0dhbWVTdGF0ZSIsIm9wdGlvbiIsIkRPV04iLCJ0cnlNb3ZlRG93biIsIlJPVEFURSIsInRyeVJvdGF0ZSIsIkxFRlQiLCJ0cnlNb3ZlSG9yaXpvbnRhbGx5IiwiUklHSFQiLCJwcm9jZXNzR3JpZENvbGxpc2lvbiIsIm1vdmUiLCJhbGVydCIsImhpZGUiLCJzY2FsZVRvV2luZG93Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJzZXR1cEltYWdlcyIsImNlbGxDb3VudCIsImdldFNoYXBlIiwiYWxpZ25Ub0NlbnRlciIsInNob3ciLCJUZXRyb21pbm8iLCJ0aWNrZXJDb25maWciLCJSQVdfVElDS19EVVJBVElPTiIsIkJVUk5TX1BFUl9MRVZFTCIsIkxFVkVMUyIsImluaXRCRyIsImluaXROZXh0VGV0cm9taW5vIiwibGV2ZWxUZXh0IiwiaW5pdFRleHRCbG9jayIsImJ1cm5zVGV4dCIsIndyYXBwZXIiLCJhZGRUaXRsZSIsImJsb2NrIiwiZ2V0TmV4dFNoYXBlIiwiZ2V0TGV2ZWwiLCJsZXZlbFZhbHVlIiwidXBkYXRlTmV4dFRldHJvbWlubyIsInVwZGF0ZVZhbHVlcyIsImJ1cm5lZFJvd3MiLCJidXJuc1ZhbHVlIiwicmF3TGV2ZWxzVmFsdWUiLCJjb25maWciLCJyYXdUaWNrRHVyYXRpb24iLCJsZXZlbHMiLCJjdXJyZW50TGV2ZWwiLCJnZXRUaWNrRHVyYXRpb24iLCJzZXRDdXJyZW50TGV2ZWwiLCJpbml0QXBwIiwibW9kZWwiLCJNb2RlbCIsIkZhbGxpbmdUZXRyb21pbm8iLCJpbmZvUGFuZWwiLCJJbmZvUGFuZWwiLCJzZXR1cEludGVyYWN0aW9uIiwicGxheVdpbiIsInZhbHVlcyIsImluY2x1ZGVzIl0sIm1hcHBpbmdzIjoiO2tDQUtBLFNBQVNBLEVBQU9DLEVBQU1DLEVBQWFDLEdBRS9CQSxFQUFNQSxHQUFPLEVBRWIsSUFPSUMsRUFBTUMsRUFBTUMsRUFBTUMsRUFBTUMsRUFBR0MsRUFBR0MsRUFQOUJDLEVBQVdULEdBQWVBLEVBQVlVLE9BQ3RDQyxFQUFXRixFQUFXVCxFQUFZLEdBQUtDLEVBQU1GLEVBQUtXLE9BQ2xERSxFQUFZQyxFQUFXZCxFQUFNLEVBQUdZLEVBQVVWLEdBQUssR0FDL0NhLEVBQVksR0FFaEIsSUFBS0YsR0FBYUEsRUFBVUcsT0FBU0gsRUFBVUksS0FBTSxPQUFPRixFQU81RCxHQUhJTCxJQUFVRyxFQXFQbEIsU0FBd0JiLEVBQU1DLEVBQWFZLEVBQVdYLEdBQ2xELElBQ0lnQixFQUFHQyxFQUFpQkMsRUFEcEJDLEVBQVEsR0FHWixJQUFLSCxFQUFJLEVBQUdDLEVBQU1sQixFQUFZVSxPQUFRTyxFQUFJQyxFQUFLRCxLQUczQ0UsRUFBT04sRUFBV2QsRUFGVkMsRUFBWWlCLEdBQUtoQixFQUNuQmdCLEVBQUlDLEVBQU0sRUFBSWxCLEVBQVlpQixFQUFJLEdBQUtoQixFQUFNRixFQUFLVyxPQUNoQlQsR0FBSyxNQUM1QmtCLEVBQUtKLE9BQU1JLEVBQUtFLFNBQVUsR0FD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SUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFNlIsRUFBSSxHQUFNOVIsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFNlIsRUFBSSxHQUFNOVIsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFNlIsRUFBSSxHQUFNOVIsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQU9ELEVBQUUsR0FFN0U4UixFQUFJLElBQU85UixFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekU2UixFQUFJLElBQU85UixFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekU2UixFQUFJLElBQU85UixFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekU2UixFQUFJLElBQU85UixFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekU2UixFQUFJLElBQU85UixFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFBT0QsRUFBRSxJQUVsRjhSLEVBQUksSUFBTzlSLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTZSLEVBQUksSUFBTzlSLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTZSLEVBQUksSUFBTzlSLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTZSLEVBQUksSUFBTzlSLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTZSLEVBQUksSUFBTzlSLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUFPRCxFQUFFLElBQzNFOFIsR0FTWCszRixFQUFrQnJrRyxVQUFVMGtHLGFBQWUsU0FBVXQvRSxHQUVqRCxJQUFJNXBCLEVBQUksSUFBSTZhLGFBQWErTyxHQUt6QixPQUpBNXBCLEVBQUUsSUFBTSxJQUNSQSxFQUFFLElBQU0sSUFDUkEsRUFBRSxLQUFPLElBQ1RBLEVBQUUsS0FBTyxJQUNGQSxHQVNYNm9HLEVBQWtCcmtHLFVBQVUya0csV0FBYSxTQUFVbHFHLEVBQUc4cEcsR0FDbEQsSUFBSW4vRSxFQUFTLENBQ1QzcUIsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUdBLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHQSxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ2hCeUQsS0FBS29tRyxZQUFZbC9FLEVBQVFtL0UsSUFTN0JGLEVBQWtCcmtHLFVBQVU0a0csVUFBWSxTQUFVaGdGLEVBQU8yL0UsR0FDckQsSUFBSW4vRSxFQUFTLENBQ1RSLEVBQU9BLEVBQU9BLEVBQU8sRUFBRyxFQUN4QkEsRUFBT0EsRUFBT0EsRUFBTyxFQUFHLEVBQ3hCQSxFQUFPQSxFQUFPQSxFQUFPLEVBQUcsRUFDeEIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNoQjFtQixLQUFLb21HLFlBQVlsL0UsRUFBUW0vRSxJQVE3QkYsRUFBa0Jya0csVUFBVTZrRyxjQUFnQixTQUFVTixHQU1sRHJtRyxLQUFLb21HLFlBTFEsQ0FDVCxHQUFLLEdBQUssR0FBSyxFQUFHLEVBQ2xCLEdBQUssR0FBSyxHQUFLLEVBQUcsRUFDbEIsR0FBSyxHQUFLLEdBQUssRUFBRyxFQUNsQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ1NDLElBUzdCRixFQUFrQnJrRyxVQUFVOGtHLElBQU0sU0FBVW4vRSxFQUFVNCtFLEdBQ2xENStFLEdBQVlBLEdBQVksR0FBSyxJQUFNcnRCLEtBQUtvb0IsR0FDeEMsSUFBSXFrRixFQUFPenNHLEtBQUt5c0IsSUFBSVksR0FDaEJxL0UsRUFBTzFzRyxLQUFLMHNCLElBQUlXLEdBY2hCbFosRUFBSSxFQUFJLEVBQ1J3NEYsR0FBTzkrRSxFQWRBN3RCLEtBQUs2dEIsTUFjQTFaLEdBVVoyWSxFQUFTLENBVEgyL0UsR0FBUyxFQUFNQSxHQUFRdDRGLEVBQ3RCQSxHQUFLLEVBQU1zNEYsR0FBVUUsRUFBT0QsRUFDNUJ2NEYsR0FBSyxFQUFNczRGLEdBQVVFLEVBQU9ELEVBUXBCLEVBQUcsRUFQWHY0RixHQUFLLEVBQU1zNEYsR0FBVUUsRUFBT0QsRUFDN0JELEVBQVF0NEYsR0FBSyxFQUFNczRGLEdBQ2xCdDRGLEdBQUssRUFBTXM0RixHQUFVRSxFQUFPRCxFQU1wQixFQUFHLEVBTFh2NEYsR0FBSyxFQUFNczRGLEdBQVVFLEVBQU9ELEVBQzVCdjRGLEdBQUssRUFBTXM0RixHQUFVRSxFQUFPRCxFQUM3QkQsRUFBUXQ0RixHQUFLLEVBQU1zNEYsR0FJVixFQUFHLEVBQ2xCLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDaEI3bUcsS0FBS29tRyxZQUFZbC9FLEVBQVFtL0UsSUFXN0JGLEVBQWtCcmtHLFVBQVVrbEcsU0FBVyxTQUFVenVCLEVBQVE4dEIsR0FDckQsSUFBSXAyRixHQUFLc29FLEdBQVUsR0FBSyxFQUNwQmx0RSxHQUFLLElBQU80RSxFQUFJLEdBQ2hCaVgsRUFBUyxDQUNUalgsRUFBRyxFQUFHLEVBQUcsRUFBRzVFLEVBQ1osRUFBRzRFLEVBQUcsRUFBRyxFQUFHNUUsRUFDWixFQUFHLEVBQUc0RSxFQUFHLEVBQUc1RSxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDaEJyTCxLQUFLb21HLFlBQVlsL0UsRUFBUW0vRSxJQVU3QkYsRUFBa0Jya0csVUFBVW1sRyxTQUFXLFNBQVUxdUIsRUFBUTh0QixRQUN0QyxJQUFYOXRCLElBQXFCQSxFQUFTLEdBQ2xDLElBQUkxL0UsRUFBYyxFQUFUMC9FLEVBQWEsRUFBSyxFQUN2QnovRSxHQUFnQixJQUFWRCxFQUFJLEdBQ1ZxdUIsRUFBUyxDQUNUcnVCLEVBQUdDLEVBQUdBLEVBQUcsRUFBRyxFQUNaQSxFQUFHRCxFQUFHQyxFQUFHLEVBQUcsRUFDWkEsRUFBR0EsRUFBR0QsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNoQm1ILEtBQUtvbUcsWUFBWWwvRSxFQUFRbS9FLElBUTdCRixFQUFrQnJrRyxVQUFVb2xHLFdBQWEsV0FDckNsbkcsS0FBS2luRyxVQUFVLElBUW5CZCxFQUFrQnJrRyxVQUFVcWxHLFNBQVcsU0FBVWQsR0FNN0NybUcsS0FBS29tRyxZQUxRLEVBQ1IsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNiLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFDYixFQUFHLEdBQUksRUFBRyxFQUFHLEVBQ2IsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNTQyxJQVE3QkYsRUFBa0Jya0csVUFBVXNsRyxNQUFRLFNBQVVmLEdBTTFDcm1HLEtBQUtvbUcsWUFMUSxDQUNULEtBQU8sU0FBVyxVQUFZLEVBQUcsRUFDakMsS0FBTyxTQUFXLFVBQVksRUFBRyxFQUNqQyxLQUFPLFNBQVcsVUFBWSxFQUFHLEVBQ2pDLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDU0MsSUFRN0JGLEVBQWtCcmtHLFVBQVV1bEcsWUFBYyxTQUFVaEIsR0FNaERybUcsS0FBS29tRyxZQUxRLENBQ1Qsb0JBQXFCLG1CQUFxQixtQkFBcUIsRUFBRyxvQkFDakUsa0JBQW9CLG9CQUFxQixtQkFBcUIsR0FBSSxtQkFDbEUsa0JBQW9CLGtCQUFvQixrQkFBbUIsRUFBRyxtQkFDL0QsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNTQyxJQVE3QkYsRUFBa0Jya0csVUFBVXdsRyxTQUFXLFNBQVVqQixHQU03Q3JtRyxLQUFLb21HLFlBTFEsQ0FDVCxPQUFRLE1BQVEsS0FBTyxFQUFHLEdBQ3pCLEtBQU8sT0FBUSxLQUFPLEVBQUcsR0FDekIsTUFBUSxLQUFPLE1BQU8sRUFBRyxFQUMxQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ1NDLElBUTdCRixFQUFrQnJrRyxVQUFVeWxHLE1BQVEsU0FBVWxCLEdBTTFDcm1HLEtBQUtvbUcsWUFMUSxDQUNULEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDU0MsSUFRN0JGLEVBQWtCcmtHLFVBQVUwbEcsV0FBYSxTQUFVbkIsR0FNL0NybUcsS0FBS29tRyxZQUxRLENBQ1Qsb0JBQXFCLG1CQUFxQixtQkFBcUIsRUFBRyxtQkFDakUsbUJBQXFCLG9CQUFxQixtQkFBcUIsRUFBRyxvQkFDbEUsb0JBQXNCLGtCQUFvQixtQkFBb0IsRUFBRyxrQkFDbEUsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNTQyxJQVE3QkYsRUFBa0Jya0csVUFBVTJsRyxPQUFTLFNBQVVwQixHQU0zQ3JtRyxLQUFLb21HLFlBTFEsQ0FDVCxrQkFBb0Isb0JBQXNCLGtCQUFvQixFQUFHLG1CQUNoRSxvQkFBc0Isa0JBQW9CLG1CQUFxQixHQUFJLGtCQUNwRSxvQkFBc0IsbUJBQXFCLG1CQUFxQixHQUFJLGtCQUNwRSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ1NDLElBUTdCRixFQUFrQnJrRyxVQUFVNGxHLFFBQVUsU0FBVXJCLEdBTTVDcm1HLEtBQUtvbUcsWUFMUSxDQUNULGtCQUFvQixtQkFBcUIsbUJBQXFCLEVBQUcsa0JBQ2pFLG1CQUFxQixrQkFBb0IsbUJBQXFCLEVBQUcsa0JBQ2pFLG1CQUFxQixrQkFBb0Isa0JBQW9CLEVBQUcsa0JBQ2hFLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDU0MsSUFZN0JGLEVBQWtCcmtHLFVBQVU2bEcsVUFBWSxTQUFVQyxFQUFjQyxFQUFPQyxFQUFZQyxFQUFXMUIsR0FLMUYsSUFBSTJCLElBRkpGLEVBQWFBLEdBQWMsV0FFRixHQUFNLEtBQVEsSUFDbkNHLEdBQU9ILEdBQWMsRUFBSyxLQUFRLElBQ2xDSSxHQUFtQixJQUFiSixHQUFxQixJQUMzQkssSUFKSkosRUFBWUEsR0FBYSxVQUlELEdBQU0sS0FBUSxJQUNsQ0ssR0FBT0wsR0FBYSxFQUFLLEtBQVEsSUFDakNNLEdBQWtCLElBQVpOLEdBQW9CLElBQzFCN2dGLEVBQVMsQ0FDVCxHQUFLLElBQU0sSUFBTSxFQUFHLEVBQ3BCOGdGLEVBQUlDLEVBQUlDLEVBWlpOLEVBQWVBLEdBQWdCLEdBWUQsRUFDMUJPLEVBQUlDLEVBQUlDLEVBWlpSLEVBQVFBLEdBQVMsSUFZTSxFQUNuQkcsRUFBS0csRUFBSUYsRUFBS0csRUFBSUYsRUFBS0csRUFBSSxFQUFHLEdBQ2xDcm9HLEtBQUtvbUcsWUFBWWwvRSxFQUFRbS9FLElBUzdCRixFQUFrQnJrRyxVQUFVd21HLE1BQVEsU0FBVUMsRUFBV2xDLEdBRXJELElBQUluL0UsRUFBUyxFQUNLLEdBRmxCcWhGLEVBQVlBLEdBQWEsS0FFQUEsRUFBVyxFQUFHLEVBQUcsR0FDckNBLEVBQVcsRUFBR0EsRUFBVyxFQUFHLEVBQzdCLEVBQUdBLEVBQXVCLEVBQVpBLEVBQWlCLEVBQUcsRUFDbEMsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNoQnZvRyxLQUFLb21HLFlBQVlsL0UsRUFBUW0vRSxJQVc3QkYsRUFBa0Jya0csVUFBVTBtRyxTQUFXLFNBQVVqd0IsRUFBUTh0QixHQUNyRCxJQUFJbi9FLEVBQVMsQ0FFVCxtQkFBcUJxeEQsR0FDcEIsa0JBQW9CQSxHQUNwQixtQkFBcUJBLEVBQ3RCLEVBQUlBLEVBQ0osbUJBQXNCQSxHQUVyQixtQkFBcUJBLEVBQ3RCLGtCQUFvQkEsR0FDbkIsa0JBQW9CQSxFQUNyQixFQUFJQSxHQUNILGtCQUFvQkEsR0FFcEIsbUJBQXFCQSxHQUNyQixtQkFBcUJBLEVBQ3RCLGtCQUFvQkEsRUFDcEIsRUFBSUEsRUFDSixrQkFBcUJBLEVBRXJCLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDaEJ2NEUsS0FBS29tRyxZQUFZbC9FLEVBQVFtL0UsSUFVN0JGLEVBQWtCcmtHLFVBQVUybUcsSUFBTSxTQUFVcEMsR0FNeENybUcsS0FBS29tRyxZQUxRLENBQ1QsR0FBSSxHQUFLLEdBQUssRUFBRyxHQUNoQixHQUFLLEdBQUksR0FBSyxFQUFHLEdBQ2pCLElBQU0sR0FBSyxFQUFHLEVBQUcsRUFDbEIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNTQyxJQU03QkYsRUFBa0Jya0csVUFBVTg2QixNQUFRLFdBTWhDNThCLEtBQUtvbUcsWUFMUSxDQUNULEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDUyxJQUU3QnZrRyxPQUFPZ0csZUFBZXMrRixFQUFrQnJrRyxVQUFXLFNBQVUsQ0FPekQrVSxJQUFLLFdBQ0QsT0FBTzdXLEtBQUt1N0MsU0FBU2orQyxHQUV6QjRrQixJQUFLLFNBQVV0Z0IsR0FDWDVCLEtBQUt1N0MsU0FBU2orQyxFQUFJc0UsR0FFdEJ1RyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ2RyxPQUFPZ0csZUFBZXMrRixFQUFrQnJrRyxVQUFXLFFBQVMsQ0FXeEQrVSxJQUFLLFdBQ0QsT0FBTzdXLEtBQUt1N0MsU0FBUzJvRCxRQUV6QmhpRixJQUFLLFNBQVV0Z0IsR0FDWDVCLEtBQUt1N0MsU0FBUzJvRCxPQUFTdGlHLEdBRTNCdUcsWUFBWSxFQUNaQyxjQUFjLElBRVgrOUYsRUF0ZDJCLENBdWRwQ3gwQyxJQUVGdzBDLEdBQWtCcmtHLFVBQVU0bUcsVUFBWXZDLEdBQWtCcmtHLFVBQVU0a0csVUN0ZnBFLElBQUksR0FBZ0IsU0FBUzNsRyxFQUFHeEUsR0FJNUIsT0FIQSxHQUFnQnNGLE9BQU80c0IsZ0JBQ2xCLENBQUV2b0IsVUFBVyxjQUFnQlksT0FBUyxTQUFVL0YsRUFBR3hFLEdBQUt3RSxFQUFFbUYsVUFBWTNKLElBQ3ZFLFNBQVV3RSxFQUFHeEUsR0FBSyxJQUFLLElBQUl2QixLQUFLdUIsRUFBU0EsRUFBRTBJLGVBQWVqSyxLQUFNK0YsRUFBRS9GLEdBQUt1QixFQUFFdkIsTUFDeEQrRixFQUFHeEUsS0ErQlksU0FBVXN5QixHQU05QyxTQUFTODVFLEVBQW1CMXFELEVBQVF2M0IsR0FDaEMsSUFBSW9JLEVBQVE5dUIsS0FDUjZ5RCxFQUFhLElBQUk3c0MsR0FrQnJCLE9BakJBaTRCLEVBQU9odkIsWUFBYSxHQUNwQkgsRUFBUUQsRUFBTzdzQixLQUFLaEMsS0E5QmYsdXJCQUZFLDhmQWdDcUMsQ0FDeEM0b0csV0FBWTNxRCxFQUFPQyxTQUNuQjJxRCxhQUFjaDJDLEVBQ2Ruc0MsTUFBTyxDQUFFN3RCLEVBQUcsRUFBR0MsRUFBRyxHQUNsQjJ1QixTQUFVLElBQUl0UCxhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsT0FDbkNuWSxNQUNBOHlELFdBQWE3VSxFQUNuQm52QixFQUFNK2pDLFdBQWFBLEVBQ2Zuc0MsVUFDQUEsRUFBUSxJQU1ab0ksRUFBTXBJLE1BQVEsSUFBSWhCLEdBQU1nQixFQUFPQSxHQUN4Qm9JLEdBdERmLFNBQW1CL3RCLEVBQUd4RSxHQUVsQixTQUFTb3lCLElBQU8zdUIsS0FBS2tFLFlBQWNuRCxFQURuQyxHQUFjQSxFQUFHeEUsR0FFakJ3RSxFQUFFZSxVQUFrQixPQUFOdkYsRUFBYXNGLE9BQU9vRSxPQUFPMUosSUFBTW95QixFQUFHN3NCLFVBQVl2RixFQUFFdUYsVUFBVyxJQUFJNnNCLElBMEIvRSxDQUFVZzZFLEVBQW9COTVFLEdBbUM5Qjg1RSxFQUFtQjdtRyxVQUFVMEYsTUFBUSxTQUFVcXFELEVBQWUxakQsRUFBT2QsRUFBUWl3QyxHQUV6RXQ5QyxLQUFLdTdDLFNBQVNzdEQsYUFBZWgzQyxFQUFjOVQsc0JBQXNCLzlDLEtBQUs2eUQsV0FBWTd5RCxLQUFLOHlELFlBQ3ZGOXlELEtBQUt1N0MsU0FBUzcwQixNQUFNN3RCLEVBQUltSCxLQUFLMG1CLE1BQU03dEIsRUFDbkNtSCxLQUFLdTdDLFNBQVM3MEIsTUFBTTV0QixFQUFJa0gsS0FBSzBtQixNQUFNNXRCLEVBRW5DLElBQUlvekIsRUFBS2xzQixLQUFLOHlELFdBQVcvbkMsZUFDckIrOUUsRUFBTzF1RyxLQUFLNnRCLEtBQU1pRSxFQUFHNXZCLEVBQUk0dkIsRUFBRzV2QixFQUFNNHZCLEVBQUczdkIsRUFBSTJ2QixFQUFHM3ZCLEdBQzVDd3NHLEVBQU8zdUcsS0FBSzZ0QixLQUFNaUUsRUFBRzF2QixFQUFJMHZCLEVBQUcxdkIsRUFBTTB2QixFQUFHbnJCLEVBQUltckIsRUFBR25yQixHQUNuQyxJQUFUK25HLEdBQXVCLElBQVRDLElBQ2Qvb0csS0FBS3U3QyxTQUFTOXpCLFNBQVMsR0FBS3lFLEVBQUc1dkIsRUFBSXdzRyxFQUNuQzlvRyxLQUFLdTdDLFNBQVM5ekIsU0FBUyxHQUFLeUUsRUFBRzN2QixFQUFJdXNHLEVBQ25DOW9HLEtBQUt1N0MsU0FBUzl6QixTQUFTLEdBQUt5RSxFQUFHMXZCLEVBQUl1c0csRUFDbkMvb0csS0FBS3U3QyxTQUFTOXpCLFNBQVMsR0FBS3lFLEVBQUduckIsRUFBSWdvRyxHQUd2Q2wzQyxFQUFjclUsWUFBWXg5QyxLQUFNbU8sRUFBT2QsRUFBUWl3QyxJQUVuRHo3QyxPQUFPZ0csZUFBZThnRyxFQUFtQjdtRyxVQUFXLE1BQU8sQ0FNdkQrVSxJQUFLLFdBQ0QsT0FBTzdXLEtBQUt1N0MsU0FBU3F0RCxZQUV6QjFtRixJQUFLLFNBQVV0Z0IsR0FDWDVCLEtBQUt1N0MsU0FBU3F0RCxXQUFhaG5HLEdBRS9CdUcsWUFBWSxFQUNaQyxjQUFjLElBbkVpQixDQXNFckN1cEQsSUE1RkYsSUNjMEM5aUMsR0E1QnRDLEdBQWdCLFNBQVM5dEIsRUFBR3hFLEdBSTVCLE9BSEEsR0FBZ0JzRixPQUFPNHNCLGdCQUNsQixDQUFFdm9CLFVBQVcsY0FBZ0JZLE9BQVMsU0FBVS9GLEVBQUd4RSxHQUFLd0UsRUFBRW1GLFVBQVkzSixJQUN2RSxTQUFVd0UsRUFBR3hFLEdBQUssSUFBSyxJQUFJdkIsS0FBS3VCLEVBQVNBLEVBQUUwSSxlQUFlakssS0FBTStGLEVBQUUvRixHQUFLdUIsRUFBRXZCLE1BQ3hEK0YsRUFBR3hFLEtBRzVCLFNBQW1Cd0UsRUFBR3hFLEdBRWxCLFNBQVNveUIsSUFBTzN1QixLQUFLa0UsWUFBY25ELEVBRG5DLEdBQWNBLEVBQUd4RSxHQUVqQndFLEVBQUVlLFVBQWtCLE9BQU52RixFQUFhc0YsT0FBT29FLE9BQU8xSixJQUFNb3lCLEVBQUc3c0IsVUFBWXZGLEVBQUV1RixVQUFXLElBQUk2c0IsSUFtQi9FLEVBQ0EsV0FFSSxPQUFPRSxHQUFPN3NCLEtBQUtoQyxLQW5CZCxnb0NBRUUsMHpJQWlCdUNBLE9BSlo2dUIsR0FPeEM4aUMsSUF0QkYsSUNiSSxHQUFnQixTQUFTNXdELEVBQUd4RSxHQUk1QixPQUhBLEdBQWdCc0YsT0FBTzRzQixnQkFDbEIsQ0FBRXZvQixVQUFXLGNBQWdCWSxPQUFTLFNBQVUvRixFQUFHeEUsR0FBS3dFLEVBQUVtRixVQUFZM0osSUFDdkUsU0FBVXdFLEVBQUd4RSxHQUFLLElBQUssSUFBSXZCLEtBQUt1QixFQUFTQSxFQUFFMEksZUFBZWpLLEtBQU0rRixFQUFFL0YsR0FBS3VCLEVBQUV2QixNQUN4RCtGLEVBQUd4RSxLQXNCSyxTQUFVc3lCLEdBTXZDLFNBQVNtNkUsRUFBWUMsRUFBT0MsUUFDVixJQUFWRCxJQUFvQkEsRUFBUSxTQUNuQixJQUFUQyxJQUFtQkEsRUFBTzl1RyxLQUFLK3VHLFVBQ25DLElBQUlyNkUsRUFBUUQsRUFBTzdzQixLQUFLaEMsS0FBTWloRSxHQXRCdkIscXVCQXNCc0QsQ0FDekRtb0MsT0FBUSxFQUNSQyxNQUFPLEtBQ0xycEcsS0FHTixPQUZBOHVCLEVBQU1tNkUsTUFBUUEsRUFDZG42RSxFQUFNbzZFLEtBQU9BLEVBQ05wNkUsR0FsQ2YsU0FBbUIvdEIsRUFBR3hFLEdBRWxCLFNBQVNveUIsSUFBTzN1QixLQUFLa0UsWUFBY25ELEVBRG5DLEdBQWNBLEVBQUd4RSxHQUVqQndFLEVBQUVlLFVBQWtCLE9BQU52RixFQUFhc0YsT0FBT29FLE9BQU8xSixJQUFNb3lCLEVBQUc3c0IsVUFBWXZGLEVBQUV1RixVQUFXLElBQUk2c0IsSUFpQi9FLENBQVVxNkUsRUFBYW42RSxHQWdCdkJodEIsT0FBT2dHLGVBQWVtaEcsRUFBWWxuRyxVQUFXLFFBQVMsQ0FPbEQrVSxJQUFLLFdBQ0QsT0FBTzdXLEtBQUt1N0MsU0FBUzZ0RCxRQUV6QmxuRixJQUFLLFNBQVV0Z0IsR0FDWDVCLEtBQUt1N0MsU0FBUzZ0RCxPQUFTeG5HLEdBRTNCdUcsWUFBWSxFQUNaQyxjQUFjLElBRWxCdkcsT0FBT2dHLGVBQWVtaEcsRUFBWWxuRyxVQUFXLE9BQVEsQ0FNakQrVSxJQUFLLFdBQ0QsT0FBTzdXLEtBQUt1N0MsU0FBUzh0RCxPQUV6Qm5uRixJQUFLLFNBQVV0Z0IsR0FDWDVCLEtBQUt1N0MsU0FBUzh0RCxNQUFRem5HLEdBRTFCdUcsWUFBWSxFQUNaQyxjQUFjLElBOUNVLENBaUQ5QnVwRCxJQTlERixJQ3hCSTIzQyxHQUFjLElBQUl0akYsR0FDdEI0SSxHQUFjOXNCLFVBQVV5bkcsZ0JBQWlCLEVBQ3pDMzZFLEdBQWM5c0IsVUFBVTBuRyxXQUFhLEtBUXJDLElBQUlDLEdBQ0EsV0FDSXpwRyxLQUFLMHBHLGVBQWlCLEtBQ3RCMXBHLEtBQUsycEcsZUFBaUIsS0FDdEIzcEcsS0FBSzRwRyxxQkFBdUIsS0FDNUI1cEcsS0FBSzZwRyx3QkFBMEIsS0FDL0I3cEcsS0FBSzhwRyx1QkFBeUIsS0FDOUI5cEcsS0FBSytwRyx3QkFBMEIsS0FDL0IvcEcsS0FBS2dxRyxnQkFBa0IsS0FDdkJocUcsS0FBS2lxRyxhQUFlLEtBQ3BCanFHLEtBQUtrcUcsbUJBQXFCLEtBQzFCbHFHLEtBQUttcUcsc0JBQXdCLEtBQzdCbnFHLEtBQUtpK0MsT0FBUyxNQUl0QnA4QyxPQUFPa0csaUJBQWlCNm1CLEdBQWM5c0IsVUFBVyxDQWE3Q3NvRyxjQUFlLENBQ1h2ekYsSUFBSyxXQUNELE9BQU83VyxLQUFLdXBHLGdCQUVoQnJuRixJQUFLLFNBQVV0Z0IsR0FLWCxJQUFJdEosRUFKQTBILEtBQUt1cEcsaUJBQW1CM25HLElBRzVCNUIsS0FBS3VwRyxlQUFpQjNuRyxFQUVsQkEsR0FDSzVCLEtBQUt3cEcsYUFDTnhwRyxLQUFLd3BHLFdBQWEsSUFBSUMsS0FFMUJueEcsRUFBTzBILEtBQUt3cEcsWUFDUEcsZUFBaUIzcEcsS0FBSzJ6QixPQUMzQnI3QixFQUFLc3hHLHFCQUF1QjVwRyxLQUFLcXFHLGFBQ2pDL3hHLEVBQUt5eEcsd0JBQTBCL3BHLEtBQUsrckIsZ0JBQ3BDenpCLEVBQUt1eEcsd0JBQTBCN3BHLEtBQUt3d0IsZ0JBQ3BDbDRCLEVBQUt3eEcsdUJBQXlCOXBHLEtBQUt5d0IsZUFDbkNuNEIsRUFBSzB4RyxnQkFBa0JocUcsS0FBS2lpQixRQUM1QjNwQixFQUFLNnhHLHNCQUF3Qm5xRyxLQUFLeStCLGNBQ2xDbm1DLEVBQUsyeEcsYUFBZWpxRyxLQUFLOHZCLE1BQ3pCeDNCLEVBQUs0eEcsbUJBQXFCbHFHLEtBQUtzdkIsV0FDL0J0dkIsS0FBSzJ6QixPQUFTM3pCLEtBQUtzcUcsY0FDbkJ0cUcsS0FBS3FxRyxhQUFlcnFHLEtBQUt1cUcsb0JBQ3pCdnFHLEtBQUtpaUIsUUFBVWppQixLQUFLd3FHLHlCQUdwQmx5RyxFQUFPMEgsS0FBS3dwRyxZQUNIdnJELFFBQ0xqK0MsS0FBS3lxRyw4QkFFVHpxRyxLQUFLMnpCLE9BQVNyN0IsRUFBS3F4RyxlQUNuQjNwRyxLQUFLcXFHLGFBQWUveEcsRUFBS3N4RyxxQkFDekI1cEcsS0FBS3d3QixnQkFBa0JsNEIsRUFBS3V4Ryx3QkFDNUI3cEcsS0FBS3l3QixlQUFpQm40QixFQUFLd3hHLHVCQUMzQjlwRyxLQUFLaWlCLFFBQVUzcEIsRUFBSzB4RyxnQkFDcEJocUcsS0FBSytyQixnQkFBa0J6ekIsRUFBS3l4Ryx3QkFDNUIvcEcsS0FBS3krQixjQUFnQm5tQyxFQUFLNnhHLHNCQUMxQm5xRyxLQUFLOHZCLE1BQVF4M0IsRUFBSzJ4RyxhQUNsQmpxRyxLQUFLc3ZCLFdBQWFoM0IsRUFBSzR4Ryx5QkFhdkN0N0UsR0FBYzlzQixVQUFVd29HLGNBQWdCLFNBQXVCMTJFLElBQ3RENXpCLEtBQUtndkIsU0FBV2h2QixLQUFLbXZCLFlBQWMsSUFBTW52QixLQUFLaXZCLGFBR25EanZCLEtBQUswcUcseUJBQXlCOTJFLEdBQzlCNXpCLEtBQUt3cEcsV0FBV3ZyRCxPQUFPbjJCLFVBQVU2RCxTQUFXM3JCLEtBQUs4bkIsVUFBVTZELFNBQzNEM3JCLEtBQUt3cEcsV0FBV3ZyRCxPQUFPOXVCLFdBQWFudkIsS0FBS212QixXQUN6Q252QixLQUFLd3BHLFdBQVd2ckQsT0FBT25xQixRQUFRRixLQVVuQ2hGLEdBQWM5c0IsVUFBVTRvRyx5QkFBMkIsU0FBa0M5MkUsR0FDakYsSUFBSTV6QixLQUFLd3BHLGFBQWN4cEcsS0FBS3dwRyxXQUFXdnJELE9BQXZDLENBSUEsSUFBSTBzRCxFQUFhM3FHLEtBQUsyZixNQUN0QjNmLEtBQUsyZixNQUFRLEVBRWJpVSxFQUFTRyxNQUFNQyxRQU1mLElBQUlsRyxFQUFTOXRCLEtBQUt5d0IsZUFBZSxNQUFNLEdBQU01TixRQUU3QyxHQUFJN2lCLEtBQUt1dkIsUUFBUyxDQUNkLElBQUlxdEIsRUFBVTU4QyxLQUFLdXZCLFFBQVEsR0FBR3F0QixRQUM5Qjl1QixFQUFPNUssSUFBSTA1QixHQUVmOXVCLEVBQU9wSyxLQUFLdEgsRUFBU0csWUFHckIsSUFBSXF1RixFQUFzQmgzRSxFQUFTeWpCLGNBQWM3YyxRQUM3Q3F3RSxFQUFvQmozRSxFQUFTeWpCLGNBQWNzRSxZQUFZOTRCLFFBQ3ZEaW9GLEVBQTRCbDNFLEVBQVN1aEMsV0FBV3J0QyxVQUloRHV2QixFQUFnQmxCLEdBQWNsd0MsT0FBTyxDQUFFcVgsTUFBT3dRLEVBQU94USxNQUFPQyxPQUFRdVEsRUFBT3ZRLFNBQzNFbXNGLEVBQWlCLGlCQUFtQmpwRixLQUN4Q3pnQixLQUFLd3BHLFdBQVdFLGVBQWlCQSxFQUNqQ25oRSxHQUFZa0MsV0FBVzRNLEVBQWN0USxZQUFhMmlFLEdBQ2xEbjFELEdBQVE5SixXQUFXNE0sRUFBZXF5RCxHQUVsQyxJQUFJcHNHLEVBQUkwQyxLQUFLOG5CLFVBQVVrRCxlQUFlaEksT0FBT3NtRixJQUFhbmhGLFNBQVMxQixXQUFXcUgsRUFBT2oxQixHQUFJaTFCLEVBQU9oMUIsR0FFaEdrSCxLQUFLMnpCLE9BQVMzekIsS0FBS3dwRyxXQUFXRyxlQUM5Qi8xRSxFQUFTRCxPQUFPM3pCLEtBQU1xM0MsR0FBZSxFQUFNLzVDLEdBQUcsR0FFOUNzMkIsRUFBU3VoQyxXQUFXcnRDLFVBQVlnakYsRUFDaENsM0UsRUFBU3lqQixjQUFjcGhCLEtBQUsyMEUsRUFBcUJDLEdBRWpEN3FHLEtBQUsyekIsT0FBUzN6QixLQUFLc3FHLGNBRW5CdHFHLEtBQUsrckIsZ0JBQWtCL3JCLEtBQUsrd0IsNkJBQzVCL3dCLEtBQUt3d0IsZ0JBQWtCeHdCLEtBQUsrcUcsdUJBQzVCL3FHLEtBQUt5d0IsZUFBaUJ6d0IsS0FBS2dyRyxzQkFDM0JockcsS0FBSzh2QixNQUFRLEtBQ2I5dkIsS0FBS3N2QixXQUFhLEtBRWxCLElBQUkyN0UsRUFBZSxJQUFJbGdCLEdBQU8xekMsR0FDOUI0ekQsRUFBYW5qRixVQUFVaUQsZUFBaUIvcUIsS0FBSzhuQixVQUFVaUQsZUFDdkRrZ0YsRUFBYXgyRCxPQUFPNTdDLEdBQU1pMUIsRUFBT2oxQixFQUFJaTFCLEVBQU94USxNQUM1QzJ0RixFQUFheDJELE9BQU8zN0MsR0FBTWcxQixFQUFPaDFCLEVBQUlnMUIsRUFBT3ZRLE9BQzVDMHRGLEVBQWF0ckYsTUFBUWdyRixFQUNyQk0sRUFBYXg3RSxRQUFVenZCLEtBQUt5dkIsUUFDNUJ6dkIsS0FBS3dwRyxXQUFXdnJELE9BQVNndEQsRUFDekJqckcsS0FBSzhuQixVQUFVOEQsV0FBYSxFQUV2QjVyQixLQUFLa3ZCLE9BTU5sdkIsS0FBSytyQixtQkFMTC9yQixLQUFLMHhCLG1CQUNMMXhCLEtBQUsrckIsa0JBQ0wvckIsS0FBSzR4QixrQkFBa0IsT0FNM0I1eEIsS0FBS3krQixjQUFnQndzRSxFQUFheHNFLGNBQWN4SSxLQUFLZzFFLEtBVXpEcjhFLEdBQWM5c0IsVUFBVXlvRyxvQkFBc0IsU0FBNkIzMkUsSUFDbEU1ekIsS0FBS2d2QixTQUFXaHZCLEtBQUttdkIsWUFBYyxJQUFNbnZCLEtBQUtpdkIsYUFHbkRqdkIsS0FBS2tyRywrQkFBK0J0M0UsR0FDcEM1ekIsS0FBS3dwRyxXQUFXdnJELE9BQU85dUIsV0FBYW52QixLQUFLbXZCLFdBQ3pDbnZCLEtBQUt3cEcsV0FBV3ZyRCxPQUFPa3RELGNBQWN2M0UsS0FXekNoRixHQUFjOXNCLFVBQVVvcEcsK0JBQWlDLFNBQXdDdDNFLEdBQzdGLElBQUk1ekIsS0FBS3dwRyxhQUFjeHBHLEtBQUt3cEcsV0FBV3ZyRCxPQUF2QyxDQUlBLElBQUlud0IsRUFBUzl0QixLQUFLeXdCLGVBQWUsTUFBTSxHQUNuQ2s2RSxFQUFhM3FHLEtBQUsyZixNQUN0QjNmLEtBQUsyZixNQUFRLEVBQ2IsSUFBSXlyRixFQUFxQngzRSxFQUFTdHVCLFFBQzlCd2xHLEVBQTRCbDNFLEVBQVN5M0UsZUFDekN2OUUsRUFBT3BLLEtBQUt0SCxFQUFTRyxZQUNyQixJQUFJODZCLEVBQWdCbEIsR0FBY2x3QyxPQUFPLENBQUVxWCxNQUFPd1EsRUFBT3hRLE1BQU9DLE9BQVF1USxFQUFPdlEsU0FDM0Vtc0YsRUFBaUIsaUJBQW1CanBGLEtBQ3hDemdCLEtBQUt3cEcsV0FBV0UsZUFBaUJBLEVBQ2pDbmhFLEdBQVlrQyxXQUFXNE0sRUFBY3RRLFlBQWEyaUUsR0FDbERuMUQsR0FBUTlKLFdBQVc0TSxFQUFlcXlELEdBRWxDLElBQUlwc0csRUFBSWdzRyxHQUNSdHBHLEtBQUs4bkIsVUFBVWtELGVBQWVoSSxPQUFPMWxCLEdBQ3JDQSxFQUFFNnFCLFNBQ0Y3cUIsRUFBRTJvQixJQUFNNkgsRUFBT2oxQixFQUNmeUUsRUFBRTRvQixJQUFNNEgsRUFBT2gxQixFQUdma0gsS0FBS3FxRyxhQUFlcnFHLEtBQUt3cEcsV0FBV0kscUJBQ3BDaDJFLEVBQVNELE9BQU8zekIsS0FBTXEzQyxHQUFlLEVBQU0vNUMsR0FBRyxHQUU5Q3MyQixFQUFTdHVCLFFBQVU4bEcsRUFDbkJ4M0UsRUFBU3kzRSxlQUFpQlAsRUFDMUI5cUcsS0FBS3FxRyxhQUFlcnFHLEtBQUt1cUcsb0JBRXpCdnFHLEtBQUsrckIsZ0JBQWtCL3JCLEtBQUsrd0IsNkJBQzVCL3dCLEtBQUt3d0IsZ0JBQWtCeHdCLEtBQUsrcUcsdUJBQzVCL3FHLEtBQUt5d0IsZUFBaUJ6d0IsS0FBS2dyRyxzQkFDM0JockcsS0FBSzh2QixNQUFRLEtBQ2I5dkIsS0FBS3N2QixXQUFhLEtBRWxCLElBQUkyN0UsRUFBZSxJQUFJbGdCLEdBQU8xekMsR0FDOUI0ekQsRUFBYW5qRixVQUFVaUQsZUFBaUIvcUIsS0FBSzhuQixVQUFVaUQsZUFDdkRrZ0YsRUFBYXgyRCxPQUFPNTdDLEdBQU1pMUIsRUFBT2oxQixFQUFJaTFCLEVBQU94USxNQUM1QzJ0RixFQUFheDJELE9BQU8zN0MsR0FBTWcxQixFQUFPaDFCLEVBQUlnMUIsRUFBT3ZRLE9BQzVDMHRGLEVBQWF0ckYsTUFBUWdyRixFQUNyQk0sRUFBYXg3RSxRQUFVenZCLEtBQUt5dkIsUUFDNUJ6dkIsS0FBS3dwRyxXQUFXdnJELE9BQVNndEQsRUFDekJqckcsS0FBSzhuQixVQUFVOEQsV0FBYSxFQUV2QjVyQixLQUFLa3ZCLE9BTU5sdkIsS0FBSytyQixtQkFMTC9yQixLQUFLa3ZCLE9BQVMwRSxFQUFTdEQseUJBQ3ZCdHdCLEtBQUsrckIsa0JBQ0wvckIsS0FBS2t2QixPQUFTLE1BTWxCbHZCLEtBQUt5K0IsY0FBZ0J3c0UsRUFBYXhzRSxjQUFjeEksS0FBS2cxRSxLQU96RHI4RSxHQUFjOXNCLFVBQVVpcEcsdUJBQXlCLFdBQzdDL3FHLEtBQUt5dkIsUUFBUTNOLFFBQ2I5aEIsS0FBS3dwRyxXQUFXdnJELE9BQU9uMkIsVUFBVTZELFNBQVczckIsS0FBSzhuQixVQUFVNkQsU0FDM0QzckIsS0FBS3dwRyxXQUFXdnJELE9BQU94cUIsbUJBQ3ZCenpCLEtBQUt5dkIsUUFBUWpELFNBQVd4c0IsS0FBSzJ2QixXQVFqQ2YsR0FBYzlzQixVQUFVa3BHLHNCQUF3QixXQUM1QyxPQUFPaHJHLEtBQUt3cEcsV0FBV3ZyRCxPQUFPeHRCLGVBQWUsT0FPakQ3QixHQUFjOXNCLFVBQVUyb0csNEJBQThCLFdBQ2xEenFHLEtBQUt3cEcsV0FBV3ZyRCxPQUFPQyxTQUFTajhCLFNBQVEsR0FDeENqaUIsS0FBS3dwRyxXQUFXdnJELE9BQVMsS0FDekIxVixHQUFZOEIsZ0JBQWdCcnFDLEtBQUt3cEcsV0FBV0UsZ0JBQzVDbjFELEdBQVFsSyxnQkFBZ0JycUMsS0FBS3dwRyxXQUFXRSxnQkFDeEMxcEcsS0FBS3dwRyxXQUFXRSxlQUFpQixNQVVyQzk2RSxHQUFjOXNCLFVBQVUwb0csc0JBQXdCLFNBQStCNTZGLEdBQzNFNVAsS0FBS29xRyxlQUFnQixFQUNyQnBxRyxLQUFLaWlCLFFBQVFyUyxJQ2hUakJnZixHQUFjOXNCLFVBQVV1RSxLQUFPLEtBWS9COHJCLEdBQVVyd0IsVUFBVXdwRyxlQUFpQixTQUF3QmpsRyxFQUFNa2xHLEdBQy9ELElBQUssSUFBSS94RyxFQUFJLEVBQUcwRyxFQUFJRixLQUFLa1gsU0FBU2plLE9BQVFPLEVBQUkwRyxFQUFHMUcsSUFDN0MsR0FBSXdHLEtBQUtrWCxTQUFTMWQsR0FBRzZNLE9BQVNBLEVBQzFCLE9BQU9yRyxLQUFLa1gsU0FBUzFkLEdBRzdCLEdBQUkreEcsRUFDQSxJQUFTL3hHLEVBQUksRUFBRzBHLEVBQUlGLEtBQUtrWCxTQUFTamUsT0FBUU8sRUFBSTBHLEVBQUcxRyxJQUU3QyxHQURZd0csS0FBS2tYLFNBQVMxZCxHQUNmOHhHLGVBQVgsQ0FHQSxJQUFJdGpHLEVBQVNoSSxLQUFLa1gsU0FBUzFkLEdBQUc4eEcsZUFBZWpsRyxHQUFNLEdBQ25ELEdBQUkyQixFQUNBLE9BQU9BLEVBSW5CLE9BQU8sTUN4Qlg0bUIsR0FBYzlzQixVQUFVMHBHLGtCQUFvQixTQUEyQjMrRSxFQUFPMEQsR0FVMUUsWUFUYyxJQUFWMUQsSUFBb0JBLEVBQVEsSUFBSW5ILFNBQ2pCLElBQWY2SyxJQUF5QkEsR0FBYSxHQUN0Q3Z3QixLQUFLa3ZCLE9BQ0xsdkIsS0FBS2t2QixPQUFPNEIsU0FBUzl3QixLQUFLa29CLFNBQVUyRSxFQUFPMEQsSUFHM0MxRCxFQUFNaDBCLEVBQUltSCxLQUFLa29CLFNBQVNydkIsRUFDeEJnMEIsRUFBTS96QixFQUFJa0gsS0FBS2tvQixTQUFTcHZCLEdBRXJCK3pCLEdDSlgsSUFBSSxHQUFnQixTQUFTOXJCLEVBQUd4RSxHQUk1QixPQUhBLEdBQWdCc0YsT0FBTzRzQixnQkFDbEIsQ0FBRXZvQixVQUFXLGNBQWdCWSxPQUFTLFNBQVUvRixFQUFHeEUsR0FBS3dFLEVBQUVtRixVQUFZM0osSUFDdkUsU0FBVXdFLEVBQUd4RSxHQUFLLElBQUssSUFBSXZCLEtBQUt1QixFQUFTQSxFQUFFMEksZUFBZWpLLEtBQU0rRixFQUFFL0YsR0FBS3VCLEVBQUV2QixNQUN4RCtGLEVBQUd4RSxJQUc1QixTQUFTLEdBQVV3RSxFQUFHeEUsR0FFbEIsU0FBU295QixJQUFPM3VCLEtBQUtrRSxZQUFjbkQsRUFEbkMsR0FBY0EsRUFBR3hFLEdBRWpCd0UsRUFBRWUsVUFBa0IsT0FBTnZGLEVBQWFzRixPQUFPb0UsT0FBTzFKLElBQU1veUIsRUFBRzdzQixVQUFZdkYsRUFBRXVGLFVBQVcsSUFBSTZzQixHQUduRixJQUFJODhFLEdBQStCLFNBQVU1OEUsR0FFekMsU0FBUzQ4RSxFQUFjbnVGLEVBQU9DLEVBQVFtdUYsRUFBVUMsUUFDOUIsSUFBVnJ1RixJQUFvQkEsRUFBUSxVQUNqQixJQUFYQyxJQUFxQkEsRUFBUyxVQUNqQixJQUFibXVGLElBQXVCQSxFQUFXLFNBQ3BCLElBQWRDLElBQXdCQSxFQUFZLElBQ3hDLElBQUk3OEUsRUFBUUQsRUFBTzdzQixLQUFLaEMsT0FBU0EsS0FNakMsT0FMQTh1QixFQUFNNDhFLFNBQVdBLEVBQ2pCNThFLEVBQU02OEUsVUFBWUEsRUFDbEI3OEUsRUFBTXhSLE1BQVFBLEVBQ2R3UixFQUFNdlIsT0FBU0EsRUFDZnVSLEVBQU0wckQsUUFDQzFyRCxFQXVDWCxPQW5EQSxHQUFVMjhFLEVBQWU1OEUsR0FrQnpCNDhFLEVBQWMzcEcsVUFBVTA0RSxNQUFRLFdBUzVCLElBUkEsSUFBSXhMLEVBQVFodkUsS0FBSzByRyxTQUFXMXJHLEtBQUsyckcsVUFDN0I5d0IsRUFBUSxHQUNSOS9CLEVBQU0sR0FDTjhvQixFQUFVLEdBQ1YrbkMsRUFBWTVyRyxLQUFLMHJHLFNBQVcsRUFDNUJHLEVBQVk3ckcsS0FBSzJyRyxVQUFZLEVBQzdCRyxFQUFTOXJHLEtBQVUsTUFBSTRyRyxFQUN2QkcsRUFBUy9yRyxLQUFXLE9BQUk2ckcsRUFDbkJyeUcsRUFBSSxFQUFHQSxFQUFJdzFFLEVBQU94MUUsSUFBSyxDQUM1QixJQUFJWCxFQUFLVyxFQUFJd0csS0FBSzByRyxTQUNkNXlHLEVBQU1VLEVBQUl3RyxLQUFLMHJHLFNBQVksRUFDL0I3d0IsRUFBTWhoRixLQUFLaEIsRUFBSWl6RyxFQUFPaHpHLEVBQUlpekcsR0FDMUJoeEQsRUFBSWxoRCxLQUFLaEIsRUFBSSt5RyxFQUFXOXlHLEVBQUkreUcsR0FFaEMsSUFBSUcsRUFBV0osRUFBWUMsRUFDM0IsSUFBU3J5RyxFQUFJLEVBQUdBLEVBQUl3eUcsRUFBVXh5RyxJQUFLLENBQy9CLElBQUl5eUcsRUFBT3p5RyxFQUFJb3lHLEVBQ1hNLEVBQVExeUcsRUFBSW95RyxFQUFhLEVBQ3pCaHFHLEVBQVNzcUcsRUFBT2xzRyxLQUFLMHJHLFNBQVlPLEVBQ2pDRSxFQUFVRCxFQUFPbHNHLEtBQUswckcsU0FBWU8sRUFBTyxFQUN6Q0csR0FBV0YsRUFBTyxHQUFLbHNHLEtBQUswckcsU0FBWU8sRUFDeENJLEdBQVdILEVBQU8sR0FBS2xzRyxLQUFLMHJHLFNBQVlPLEVBQU8sRUFDbkRwb0MsRUFBUWhxRSxLQUFLK0gsRUFBT3VxRyxFQUFRQyxFQUFRRCxFQUFRRSxFQUFRRCxHQUV4RHBzRyxLQUFLODRDLFFBQVEsR0FBR3hnRCxLQUFPLElBQUk2ZixhQUFhMGlFLEdBQ3hDNzZFLEtBQUs4NEMsUUFBUSxHQUFHeGdELEtBQU8sSUFBSTZmLGFBQWE0aUMsR0FDeEMvNkMsS0FBS2c1QyxZQUFZMWdELEtBQU8sSUFBSStmLFlBQVl3ckQsR0FFeEM3akUsS0FBSzg0QyxRQUFRLEdBQUc1aEIsU0FDaEJsM0IsS0FBSzg0QyxRQUFRLEdBQUc1aEIsU0FDaEJsM0IsS0FBS2c1QyxZQUFZOWhCLFVBRWR1MEUsRUFwRHVCLENBcURoQzdPLElBaUJFMFAsR0FBOEIsU0FBVXo5RSxHQWF4QyxTQUFTeTlFLEVBQWFodkYsRUFBT3NILEVBQVEybkYsUUFDbkIsSUFBVmp2RixJQUFvQkEsRUFBUSxVQUNYLElBQWpCaXZGLElBQTJCQSxFQUFlLEdBQzlDLElBQUl6OUUsRUFBUUQsRUFBTzdzQixLQUFLaEMsS0FBTSxJQUFJbVksYUFBNkIsRUFBaEJ5TSxFQUFPM3JCLFFBQWEsSUFBSWtmLGFBQTZCLEVBQWhCeU0sRUFBTzNyQixRQUFhLElBQUlvZixZQUFrQyxHQUFyQnVNLEVBQU8zckIsT0FBUyxNQUFZK0csS0FtQnJKLE9BZEE4dUIsRUFBTWxLLE9BQVNBLEVBTWZrSyxFQUFNd0YsT0FBU2hYLEVBTWZ3UixFQUFNeTlFLGFBQWVBLEVBQ3JCejlFLEVBQU0wckQsUUFDQzFyRCxFQStIWCxPQWpLQSxHQUFVdzlFLEVBQWN6OUUsR0FvQ3hCaHRCLE9BQU9nRyxlQUFleWtHLEVBQWF4cUcsVUFBVyxRQUFTLENBTW5EK1UsSUFBSyxXQUNELE9BQU83VyxLQUFLczBCLFFBRWhCbnNCLFlBQVksRUFDWkMsY0FBYyxJQU1sQmtrRyxFQUFheHFHLFVBQVUwNEUsTUFBUSxXQUMzQixJQUFJNTFELEVBQVM1a0IsS0FBSzRrQixPQUNsQixHQUFLQSxFQUFMLENBRUEsSUFBSW8yQixFQUFlaDdDLEtBQUt3NUMsVUFBVSxtQkFDOUJ5QixFQUFXajdDLEtBQUt3NUMsVUFBVSxpQkFDMUJSLEVBQWNoNUMsS0FBSzA1QyxXQUV2QixLQUFJOTBCLEVBQU8zckIsT0FBUyxHQUFwQixDQUlJK2hELEVBQWExaUQsS0FBS1csT0FBUyxJQUFNMnJCLEVBQU8zckIsU0FDeEMraEQsRUFBYTFpRCxLQUFPLElBQUk2ZixhQUE2QixFQUFoQnlNLEVBQU8zckIsUUFDNUNnaUQsRUFBUzNpRCxLQUFPLElBQUk2ZixhQUE2QixFQUFoQnlNLEVBQU8zckIsUUFDeEMrL0MsRUFBWTFnRCxLQUFPLElBQUkrZixZQUFrQyxHQUFyQnVNLEVBQU8zckIsT0FBUyxLQUV4RCxJQUFJOGhELEVBQU1FLEVBQVMzaUQsS0FDZnVyRSxFQUFVN3FCLEVBQVkxZ0QsS0FDMUJ5aUQsRUFBSSxHQUFLLEVBQ1RBLEVBQUksR0FBSyxFQUNUQSxFQUFJLEdBQUssRUFDVEEsRUFBSSxHQUFLLEVBS1QsSUFKQSxJQUFJdzlCLEVBQVMsRUFDVGgvRSxFQUFPcXJCLEVBQU8sR0FDZCs2RSxFQUFlMy9GLEtBQUtzMEIsT0FBU3QwQixLQUFLdXNHLGFBQ2xDdjlCLEVBQVFwcUQsRUFBTzNyQixPQUNWTyxFQUFJLEVBQUdBLEVBQUl3MUUsRUFBT3gxRSxJQUFLLENBRTVCLElBQUltTCxFQUFZLEVBQUpuTCxFQUNaLEdBQUl3RyxLQUFLdXNHLGFBQWUsRUFBRyxDQUV2QixJQUFJdG9GLEVBQUsxcUIsRUFBS1YsRUFBSStyQixFQUFPcHJCLEdBQUdYLEVBQ3hCcXJCLEVBQUszcUIsRUFBS1QsRUFBSThyQixFQUFPcHJCLEdBQUdWLEVBQ3hCMHpHLEVBQVdweUcsS0FBSzZ0QixLQUFNaEUsRUFBS0EsRUFBT0MsRUFBS0EsR0FDM0MzcUIsRUFBT3FyQixFQUFPcHJCLEdBQ2QrK0UsR0FBVWkwQixFQUFXN00sT0FJckJwbkIsRUFBUy8rRSxHQUFLdzFFLEVBQVEsR0FFMUJqMEIsRUFBSXAyQyxHQUFTNHpFLEVBQ2J4OUIsRUFBSXAyQyxFQUFRLEdBQUssRUFDakJvMkMsRUFBSXAyQyxFQUFRLEdBQUs0ekUsRUFDakJ4OUIsRUFBSXAyQyxFQUFRLEdBQUssRUFFckIsSUFBSSs1RSxFQUFhLEVBQ2pCLElBQVNsbEYsRUFBSSxFQUFHQSxFQUFJdzFFLEVBQVEsRUFBR3gxRSxJQUN2Qm1MLEVBQVksRUFBSm5MLEVBQ1pxcUUsRUFBUTZhLEtBQWdCLzVFLEVBQ3hCay9ELEVBQVE2YSxLQUFnQi81RSxFQUFRLEVBQ2hDay9ELEVBQVE2YSxLQUFnQi81RSxFQUFRLEVBQ2hDay9ELEVBQVE2YSxLQUFnQi81RSxFQUFRLEVBQ2hDay9ELEVBQVE2YSxLQUFnQi81RSxFQUFRLEVBQ2hDay9ELEVBQVE2YSxLQUFnQi81RSxFQUFRLEVBR3BDczJDLEVBQVMvakIsU0FDVDhoQixFQUFZOWhCLFNBQ1psM0IsS0FBS3lzRyxvQkFLVEgsRUFBYXhxRyxVQUFVMnFHLGVBQWlCLFdBQ3BDLElBQUk3bkYsRUFBUzVrQixLQUFLNGtCLE9BQ2xCLEtBQUlBLEVBQU8zckIsT0FBUyxHQUFwQixDQVNBLElBTkEsSUFDSXl6RyxFQURBcHVCLEVBQVkxNUQsRUFBTyxHQUVuQituRixFQUFRLEVBQ1JDLEVBQVEsRUFDUmpzRyxFQUFXWCxLQUFLODRDLFFBQVEsR0FBR3hnRCxLQUMzQjAyRSxFQUFRcHFELEVBQU8zckIsT0FDVk8sRUFBSSxFQUFHQSxFQUFJdzFFLEVBQU94MUUsSUFBSyxDQUM1QixJQUFJcXpCLEVBQVFqSSxFQUFPcHJCLEdBQ2ZtTCxFQUFZLEVBQUpuTCxFQU9ab3pHLEtBTElGLEVBREFsekcsRUFBSW9yQixFQUFPM3JCLE9BQVMsRUFDUjJyQixFQUFPcHJCLEVBQUksR0FHWHF6QixHQUVJaDBCLEVBQUl5bEYsRUFBVXpsRixHQUNsQzh6RyxFQUFRRCxFQUFVNXpHLEVBQUl3bEYsRUFBVXhsRixFQUNoQyxJQUFJK3pHLEVBQWF6eUcsS0FBSzZ0QixLQUFNMGtGLEVBQVFBLEVBQVVDLEVBQVFBLEdBQ2xEbHRHLEVBQU1NLEtBQUt1c0csYUFBZSxFQUFJdnNHLEtBQUt1c0csYUFBZXZzRyxLQUFLczBCLE9BQVMsRUFBSXQwQixLQUFLczBCLE9BQVMsRUFDdEZxNEUsR0FBU0UsRUFDVEQsR0FBU0MsRUFDVEYsR0FBU2p0RyxFQUNUa3RHLEdBQVNsdEcsRUFDVGlCLEVBQVNnRSxHQUFTa29CLEVBQU1oMEIsRUFBSTh6RyxFQUM1QmhzRyxFQUFTZ0UsRUFBUSxHQUFLa29CLEVBQU0vekIsRUFBSTh6RyxFQUNoQ2pzRyxFQUFTZ0UsRUFBUSxHQUFLa29CLEVBQU1oMEIsRUFBSTh6RyxFQUNoQ2hzRyxFQUFTZ0UsRUFBUSxHQUFLa29CLEVBQU0vekIsRUFBSTh6RyxFQUNoQ3R1QixFQUFZenhELEVBRWhCN3NCLEtBQUs4NEMsUUFBUSxHQUFHNWhCLFdBRXBCbzFFLEVBQWF4cUcsVUFBVW8xQixPQUFTLFdBQ3hCbDNCLEtBQUt1c0csYUFBZSxFQUNwQnZzRyxLQUFLdzZFLFFBR0x4NkUsS0FBS3lzRyxrQkFHTkgsRUFsS3NCLENBbUsvQjFQLElBc0VFa1EsSUFyRDRCLFNBQVVqK0UsR0FTdEMsU0FBU2srRSxFQUFXcmhFLEVBQVM5bUIsRUFBUTJuRixRQUNaLElBQWpCQSxJQUEyQkEsRUFBZSxHQUM5QyxJQUFJejlFLEVBQVE5dUIsS0FDUmd0RyxFQUFlLElBQUlWLEdBQWE1Z0UsRUFBUW51QixPQUFRcUgsRUFBUTJuRixHQUN4RFUsRUFBZSxJQUFJelEsR0FBYTl3RCxHQVlwQyxPQVhJNmdFLEVBQWUsSUFFZjdnRSxFQUFRM0UsWUFBWTRCLFNBQVcxdkIsRUFBV3VzRSxTQUU5QzEyRCxFQUFRRCxFQUFPN3NCLEtBQUtoQyxLQUFNZ3RHLEVBQWNDLElBQWlCanRHLE1BTW5EcXhDLFlBQWEsRUFDWnZpQixFQXhCWCxHQUFVaStFLEVBQVlsK0UsR0EwQnRCaytFLEVBQVdqckcsVUFBVWd5QixRQUFVLFNBQVVGLEdBQ3JDLElBQUl1bUIsRUFBV242QyxLQUFLbTZDLFVBQ2hCbjZDLEtBQUtxeEMsWUFBYzhJLEVBQVM3bEIsU0FBV3QwQixLQUFLMjlDLE9BQU9qUyxRQUFRbnVCLFVBQzNENDhCLEVBQVM3bEIsT0FBU3QwQixLQUFLMjlDLE9BQU9qUyxRQUFRbnVCLE9BQ3RDNDhCLEVBQVNqakIsVUFFYnJJLEVBQU8vc0IsVUFBVWd5QixRQUFROXhCLEtBQUtoQyxLQUFNNHpCLElBakNiLENBb0M3QituRSxJQWlCK0IsU0FBVTlzRSxHQU92QyxTQUFTaStFLEVBQVlwaEUsRUFBU3doRSxFQUFXQyxHQUNyQyxJQUFJcitFLEVBQVE5dUIsS0FDUm90RyxFQUFnQixJQUFJM0IsR0FBYy8vRCxFQUFRcHVCLE1BQU9vdUIsRUFBUW51QixPQUFRMnZGLEVBQVdDLEdBQzVFRixFQUFlLElBQUl6USxHQUFham9ELEdBQVF3QixPQUk1QyxPQUhBam5CLEVBQVFELEVBQU83c0IsS0FBS2hDLEtBQU1vdEcsRUFBZUgsSUFBaUJqdEcsTUFFcEQwckMsUUFBVUEsRUFDVDVjLEVBOENYLE9BM0RBLEdBQVVnK0UsRUFBYWorRSxHQW1CdkJpK0UsRUFBWWhyRyxVQUFVdXJHLGVBQWlCLFdBQ25DcnRHLEtBQUtxeUQsV0FBYXJ5RCxLQUFLMjlDLE9BQU9qUyxRQUFRc0osVUFDdEMsSUFBSW1GLEVBQVduNkMsS0FBS202QyxTQUNwQkEsRUFBUzc4QixNQUFRdGQsS0FBSzI5QyxPQUFPalMsUUFBUXB1QixNQUNyQzY4QixFQUFTNThCLE9BQVN2ZCxLQUFLMjlDLE9BQU9qUyxRQUFRbnVCLE9BQ3RDNDhCLEVBQVNxZ0MsU0FFYjM0RSxPQUFPZ0csZUFBZWlsRyxFQUFZaHJHLFVBQVcsVUFBVyxDQUNwRCtVLElBQUssV0FDRCxPQUFPN1csS0FBSzI5QyxPQUFPalMsU0FFdkJ4cEIsSUFBSyxTQUFVdGdCLEdBSVA1QixLQUFLMjlDLE9BQU9qUyxVQUFZOXBDLElBRzVCNUIsS0FBSzI5QyxPQUFPalMsUUFBVTlwQyxFQUN0QjVCLEtBQUtxeUQsWUFBYyxFQUNmendELEVBQU1tbEMsWUFBWXdDLE1BQ2xCdnBDLEtBQUtxdEcsaUJBR0x6ckcsRUFBTTJELEtBQUssU0FBVXZGLEtBQUtxdEcsZUFBZ0JydEcsUUFHbERtSSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEIwa0csRUFBWWhyRyxVQUFVZ3lCLFFBQVUsU0FBVUYsR0FDbEM1ekIsS0FBS3F5RCxhQUFlcnlELEtBQUsyOUMsT0FBT2pTLFFBQVFzSixXQUN4Q2gxQyxLQUFLcXRHLGlCQUVUeCtFLEVBQU8vc0IsVUFBVWd5QixRQUFROXhCLEtBQUtoQyxLQUFNNHpCLElBRXhDazVFLEVBQVlockcsVUFBVW1nQixRQUFVLFNBQVVyUyxHQUN0QzVQLEtBQUsyOUMsT0FBT2pTLFFBQVEvakMsSUFBSSxTQUFVM0gsS0FBS3F0RyxlQUFnQnJ0RyxNQUN2RDZ1QixFQUFPL3NCLFVBQVVtZ0IsUUFBUWpnQixLQUFLaEMsS0FBTTRQLElBRWpDazlGLEVBNURxQixDQTZEOUJuUixLQ3pYRSxJRG1ZNEIsU0FBVTlzRSxHQVN0QyxTQUFTeStFLEVBQVc1aEUsRUFBUy9xQyxFQUFVbzZDLEVBQUs4b0IsRUFBUzBpQixRQUNqQyxJQUFaNzZDLElBQXNCQSxFQUFVNkksR0FBUTVuQixPQUM1QyxJQUFJbUMsRUFBUTl1QixLQUNSbTZDLEVBQVcsSUFBSXlpRCxHQUFhajhGLEVBQVVvNkMsRUFBSzhvQixHQUMvQzFwQixFQUFTWCxVQUFVLG1CQUFtQm5CLFFBQVMsRUFDL0MsSUFBSTQwRCxFQUFlLElBQUl6USxHQUFhOXdELEdBT3BDLE9BTkE1YyxFQUFRRCxFQUFPN3NCLEtBQUtoQyxLQUFNbTZDLEVBQVU4eUQsRUFBYyxLQUFNMW1CLElBQWF2bUYsTUFLL0RxeEMsWUFBYSxFQUNadmlCLEVBcEJYLEdBQVV3K0UsRUFBWXorRSxHQXNCdEJodEIsT0FBT2dHLGVBQWV5bEcsRUFBV3hyRyxVQUFXLFdBQVksQ0FLcEQrVSxJQUFLLFdBQ0QsT0FBTzdXLEtBQUttNkMsU0FBU1gsVUFBVSxtQkFBbUJsaEQsTUFFdEQ0cEIsSUFBSyxTQUFVdGdCLEdBQ1g1QixLQUFLbTZDLFNBQVNYLFVBQVUsbUJBQW1CbGhELEtBQU9zSixHQUV0RHVHLFlBQVksRUFDWkMsY0FBYyxJQUVsQmtsRyxFQUFXeHJHLFVBQVVneUIsUUFBVSxTQUFVRixHQUNqQzV6QixLQUFLcXhDLFlBQ0xyeEMsS0FBS202QyxTQUFTWCxVQUFVLG1CQUFtQnRpQixTQUUvQ3JJLEVBQU8vc0IsVUFBVWd5QixRQUFROXhCLEtBQUtoQyxLQUFNNHpCLElBekNiLENBNEM3QituRSxJQWtDa0MsU0FBVTlzRSxHQVMxQyxTQUFTMCtFLEVBQWU3aEUsRUFBUzhoRSxFQUFXQyxFQUFXQyxFQUFZQyxRQUM3QyxJQUFkSCxJQUF3QkEsRUExQ1YsU0EyQ0EsSUFBZEMsSUFBd0JBLEVBM0NWLFNBNENDLElBQWZDLElBQXlCQSxFQTVDWCxTQTZDRyxJQUFqQkMsSUFBMkJBLEVBN0NiLElBOENsQixJQUFJNytFLEVBQVFELEVBQU83c0IsS0FBS2hDLEtBQU11MEMsR0FBUXdCLE1BQU8sRUFBRyxJQUFNLzFDLEtBK0N0RCxPQTlDQTh1QixFQUFNOCtFLFdBQWFsaUUsRUFBUThJLEtBQUtsM0IsTUFDaEN3UixFQUFNKytFLFlBQWNuaUUsRUFBUThJLEtBQUtqM0IsT0FPakN1UixFQUFNd0YsT0FBU3hGLEVBQU04K0UsV0FPckI5K0UsRUFBTXlGLFFBQVV6RixFQUFNKytFLFlBT3RCLytFLEVBQU1nL0UsV0FBYU4sRUFPbkIxK0UsRUFBTWkvRSxZQUFjTCxFQU9wQjUrRSxFQUFNay9FLFdBQWFQLEVBT25CMytFLEVBQU1tL0UsY0FBZ0JOLEVBRXRCNytFLEVBQU00YyxRQUFVQSxFQUNUNWMsRUE1RFgsR0FBVXkrRSxFQUFnQjErRSxHQThEMUIwK0UsRUFBZXpyRyxVQUFVdXJHLGVBQWlCLFdBQ3RDcnRHLEtBQUtxeUQsV0FBYXJ5RCxLQUFLMjlDLE9BQU9qUyxRQUFRc0osVUFDdENoMUMsS0FBS2t1RyxZQUVUcnNHLE9BQU9nRyxlQUFlMGxHLEVBQWV6ckcsVUFBVyxXQUFZLENBQ3hEK1UsSUFBSyxXQUNELE9BQU83VyxLQUFLbTZDLFNBQVNYLFVBQVUsbUJBQW1CbGhELE1BRXRENHBCLElBQUssU0FBVXRnQixHQUNYNUIsS0FBS202QyxTQUFTWCxVQUFVLG1CQUFtQmxoRCxLQUFPc0osR0FFdER1RyxZQUFZLEVBQ1pDLGNBQWMsSUFNbEJtbEcsRUFBZXpyRyxVQUFVcXNHLHlCQUEyQixXQUNoRCxJQUFJeHRHLEVBQVdYLEtBQUtXLFNBQ2hCK2xCLEVBQVExbUIsS0FBS291RyxlQUNqQnp0RyxFQUFTLEdBQUtBLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU1YLEtBQUtndUcsV0FBYXRuRixFQUM3RS9sQixFQUFTLElBQU1BLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU1YLEtBQUt1MEIsUUFBV3YwQixLQUFLaXVHLGNBQWdCdm5GLEVBQ2pHL2xCLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTVgsS0FBS3UwQixTQU1yRWc1RSxFQUFlenJHLFVBQVV1c0csdUJBQXlCLFdBQzlDLElBQUkxdEcsRUFBV1gsS0FBS1csU0FDaEIrbEIsRUFBUTFtQixLQUFLb3VHLGVBQ2pCenRHLEVBQVMsR0FBS0EsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTVgsS0FBSzh0RyxXQUFhcG5GLEVBQzdFL2xCLEVBQVMsR0FBS0EsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTVgsS0FBS3MwQixPQUFVdDBCLEtBQUsrdEcsWUFBY3JuRixFQUM3Ri9sQixFQUFTLEdBQUtBLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU1YLEtBQUtzMEIsUUFRcEVpNUUsRUFBZXpyRyxVQUFVc3NHLGFBQWUsV0FDcEMsSUFBSTcvRixFQUFJdk8sS0FBSzh0RyxXQUFhOXRHLEtBQUsrdEcsWUFDM0JPLEVBQVN0dUcsS0FBS3MwQixPQUFTL2xCLEVBQUksRUFBTXZPLEtBQUtzMEIsT0FBUy9sQixFQUMvQ2dHLEVBQUl2VSxLQUFLZ3VHLFdBQWFodUcsS0FBS2l1RyxjQUMzQk0sRUFBU3Z1RyxLQUFLdTBCLFFBQVVoZ0IsRUFBSSxFQUFNdlUsS0FBS3UwQixRQUFVaGdCLEVBRXJELE9BRFluYSxLQUFLcUYsSUFBSTZ1RyxFQUFRQyxJQUdqQzFzRyxPQUFPZ0csZUFBZTBsRyxFQUFlenJHLFVBQVcsUUFBUyxDQU1yRCtVLElBQUssV0FDRCxPQUFPN1csS0FBS3MwQixRQUVoQnBTLElBQUssU0FBVXRnQixHQUNYNUIsS0FBS3MwQixPQUFTMXlCLEVBQ2Q1QixLQUFLa3VHLFlBRVQvbEcsWUFBWSxFQUNaQyxjQUFjLElBRWxCdkcsT0FBT2dHLGVBQWUwbEcsRUFBZXpyRyxVQUFXLFNBQVUsQ0FNdEQrVSxJQUFLLFdBQ0QsT0FBTzdXLEtBQUt1MEIsU0FFaEJyUyxJQUFLLFNBQVV0Z0IsR0FDWDVCLEtBQUt1MEIsUUFBVTN5QixFQUNmNUIsS0FBS2t1RyxZQUVUL2xHLFlBQVksRUFDWkMsY0FBYyxJQUVsQnZHLE9BQU9nRyxlQUFlMGxHLEVBQWV6ckcsVUFBVyxZQUFhLENBTXpEK1UsSUFBSyxXQUNELE9BQU83VyxLQUFLOHRHLFlBRWhCNXJGLElBQUssU0FBVXRnQixHQUNYNUIsS0FBSzh0RyxXQUFhbHNHLEVBQ2xCNUIsS0FBS2t1RyxZQUVUL2xHLFlBQVksRUFDWkMsY0FBYyxJQUVsQnZHLE9BQU9nRyxlQUFlMGxHLEVBQWV6ckcsVUFBVyxhQUFjLENBTTFEK1UsSUFBSyxXQUNELE9BQU83VyxLQUFLK3RHLGFBRWhCN3JGLElBQUssU0FBVXRnQixHQUNYNUIsS0FBSyt0RyxZQUFjbnNHLEVBQ25CNUIsS0FBS2t1RyxZQUVUL2xHLFlBQVksRUFDWkMsY0FBYyxJQUVsQnZHLE9BQU9nRyxlQUFlMGxHLEVBQWV6ckcsVUFBVyxZQUFhLENBTXpEK1UsSUFBSyxXQUNELE9BQU83VyxLQUFLZ3VHLFlBRWhCOXJGLElBQUssU0FBVXRnQixHQUNYNUIsS0FBS2d1RyxXQUFhcHNHLEVBQ2xCNUIsS0FBS2t1RyxZQUVUL2xHLFlBQVksRUFDWkMsY0FBYyxJQUVsQnZHLE9BQU9nRyxlQUFlMGxHLEVBQWV6ckcsVUFBVyxlQUFnQixDQU01RCtVLElBQUssV0FDRCxPQUFPN1csS0FBS2l1RyxlQUVoQi9yRixJQUFLLFNBQVV0Z0IsR0FDWDVCLEtBQUtpdUcsY0FBZ0Jyc0csRUFDckI1QixLQUFLa3VHLFlBRVQvbEcsWUFBWSxFQUNaQyxjQUFjLElBS2xCbWxHLEVBQWV6ckcsVUFBVW9zRyxTQUFXLFdBQ2hDLElBQUl4aUUsRUFBVTFyQyxLQUFLMHJDLFFBQ2ZxUCxFQUFNLzZDLEtBQUttNkMsU0FBU3JCLFFBQVEsR0FBR3hnRCxLQUNuQzBILEtBQUs0dEcsV0FBYWxpRSxFQUFROEksS0FBS2wzQixNQUMvQnRkLEtBQUs2dEcsWUFBY25pRSxFQUFROEksS0FBS2ozQixPQUNoQyxJQUFJaXhGLEVBQU8sRUFBTXh1RyxLQUFLNHRHLFdBQ2xCYSxFQUFPLEVBQU16dUcsS0FBSzZ0RyxZQUN0Qjl5RCxFQUFJLEdBQUtBLEVBQUksR0FBS0EsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFDdENBLEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLEdBQUtBLEVBQUksR0FBSyxFQUNwQ0EsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQ3ZDQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU0sRUFDeENBLEVBQUksR0FBS0EsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTXl6RCxFQUFPeHVHLEtBQUs4dEcsV0FDbkQveUQsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQUt5ekQsRUFBT3h1RyxLQUFLK3RHLFlBQ3hEaHpELEVBQUksR0FBS0EsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTTB6RCxFQUFPenVHLEtBQUtndUcsV0FDbkRqekQsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQUswekQsRUFBT3p1RyxLQUFLaXVHLGNBQ3pEanVHLEtBQUttdUcsMkJBQ0xudUcsS0FBS3F1Ryx5QkFDTHJ1RyxLQUFLbTZDLFNBQVNyQixRQUFRLEdBQUc1aEIsU0FDekJsM0IsS0FBS202QyxTQUFTckIsUUFBUSxHQUFHNWhCLFVBdE9FLENBeU9qQzQxRSxJQzFyQmtCLFNBQVMvckcsRUFBR3hFLEdBSTVCLE9BSEEsR0FBZ0JzRixPQUFPNHNCLGdCQUNsQixDQUFFdm9CLFVBQVcsY0FBZ0JZLE9BQVMsU0FBVS9GLEVBQUd4RSxHQUFLd0UsRUFBRW1GLFVBQVkzSixJQUN2RSxTQUFVd0UsRUFBR3hFLEdBQUssSUFBSyxJQUFJdkIsS0FBS3VCLEVBQVNBLEVBQUUwSSxlQUFlakssS0FBTStGLEVBQUUvRixHQUFLdUIsRUFBRXZCLE1BQ3hEK0YsRUFBR3hFLE1BMENRLFNBQVVzeUIsR0FPMUMsU0FBUzYvRSxFQUFlLzJELEVBQVV0RyxRQUNYLElBQWZBLElBQXlCQSxHQUFhLEdBQzFDLElBQUl2aUIsRUFBUUQsRUFBTzdzQixLQUFLaEMsS0FBTTIzQyxFQUFTLGFBQWNwRCxHQUFVb0QsRUFBUyxHQUFLQSxFQUFTLEdBQUdqTSxVQUFZMXJDLEtBcUdyRyxPQWhHQTh1QixFQUFNZ29FLFVBQVksS0FLbEJob0UsRUFBTTYvRSxXQUFhLEtBUW5CNy9FLEVBQU1xaEIsWUFBY2tCLEVBUXBCdmlCLEVBQU1zaEIsc0JBQXVCLEVBTzdCdGhCLEVBQU04L0UsZUFBaUIsRUFPdkI5L0UsRUFBTSsvRSxNQUFPLEVBYWIvL0UsRUFBTWdnRixjQUFlLEVBVXJCaGdGLEVBQU1nOUMsV0FBYSxLQVVuQmg5QyxFQUFNaWdGLGNBQWdCLEtBV3RCamdGLEVBQU1rZ0YsT0FBUyxLQU9mbGdGLEVBQU1tZ0YsYUFBZSxFQUNyQm5nRixFQUFNb2dGLFVBQVcsRUFPakJwZ0YsRUFBTXFnRixlQUFpQixLQUN2QnJnRixFQUFNNm9CLFNBQVdBLEVBQ1Y3b0IsR0FySmYsU0FBbUIvdEIsRUFBR3hFLEdBRWxCLFNBQVNveUIsSUFBTzN1QixLQUFLa0UsWUFBY25ELEVBRG5DLEdBQWNBLEVBQUd4RSxHQUVqQndFLEVBQUVlLFVBQWtCLE9BQU52RixFQUFhc0YsT0FBT29FLE9BQU8xSixJQUFNb3lCLEVBQUc3c0IsVUFBWXZGLEVBQUV1RixVQUFXLElBQUk2c0IsSUFxQy9FLENBQVUrL0UsRUFBZ0I3L0UsR0FtSDFCNi9FLEVBQWU1c0csVUFBVTdGLEtBQU8sV0FDdkIrRCxLQUFLa3ZHLFdBR1ZsdkcsS0FBS2t2RyxVQUFXLEVBQ1psdkcsS0FBS213QyxhQUFlbndDLEtBQUtvd0MsdUJBQ3pCOVcsR0FBTzRCLE9BQU9ULE9BQU96NkIsS0FBS2szQixPQUFRbDNCLE1BQ2xDQSxLQUFLb3dDLHNCQUF1QixLQU9wQ3MrRCxFQUFlNXNHLFVBQVV3dkMsS0FBTyxXQUN4QnR4QyxLQUFLa3ZHLFdBR1RsdkcsS0FBS2t2RyxVQUFXLEVBQ1psdkcsS0FBS213QyxjQUFnQm53QyxLQUFLb3dDLHVCQUMxQjlXLEdBQU80QixPQUFPNVEsSUFBSXRxQixLQUFLazNCLE9BQVFsM0IsS0FBTW0xQixHQUFnQjYyQixNQUNyRGhzRCxLQUFLb3dDLHNCQUF1QixLQVFwQ3MrRCxFQUFlNXNHLFVBQVVzdEcsWUFBYyxTQUFVQyxHQUM3Q3J2RyxLQUFLL0QsT0FDTCxJQUFJcXpHLEVBQWdCdHZHLEtBQUt1dkcsYUFDekJ2dkcsS0FBS2l2RyxhQUFlSSxFQUNoQkMsSUFBa0J0dkcsS0FBS3V2RyxjQUN2QnZ2RyxLQUFLNjlELGlCQVFiNndDLEVBQWU1c0csVUFBVTB0RyxZQUFjLFNBQVVILEdBQzdDLElBQUlDLEVBQWdCdHZHLEtBQUt1dkcsYUFDekJ2dkcsS0FBS2l2RyxhQUFlSSxFQUNoQkMsSUFBa0J0dkcsS0FBS3V2RyxjQUN2QnZ2RyxLQUFLNjlELGdCQUVUNzlELEtBQUtzeEMsUUFPVG85RCxFQUFlNXNHLFVBQVVvMUIsT0FBUyxTQUFVZ0MsR0FDeEMsR0FBS2w1QixLQUFLa3ZHLFNBQVYsQ0FHQSxJQUFJTyxFQUFVenZHLEtBQUs0dUcsZUFBaUIxMUUsRUFDaENvMkUsRUFBZ0J0dkcsS0FBS3V2RyxhQUN6QixHQUF3QixPQUFwQnZ2RyxLQUFLMnVHLFdBQXFCLENBQzFCLElBQUllLEVBQU0xdkcsS0FBS2l2RyxhQUFlLEVBQUlqdkcsS0FBSzJ1RyxXQUFXM3VHLEtBQUt1dkcsY0FFdkQsSUFEQUcsR0FBT0QsRUFBVSxHQUFLLElBQ2ZDLEVBQU0sR0FDVDF2RyxLQUFLaXZHLGVBQ0xTLEdBQU8xdkcsS0FBSzJ1RyxXQUFXM3VHLEtBQUt1dkcsY0FFaEMsSUFBSW53RyxFQUFPaEYsS0FBS2dGLEtBQUtZLEtBQUs0dUcsZUFBaUIxMUUsR0FFM0MsSUFEQWw1QixLQUFLaXZHLGFBQWU3MEcsS0FBS3NTLE1BQU0xTSxLQUFLaXZHLGNBQzdCUyxHQUFPMXZHLEtBQUsydUcsV0FBVzN1RyxLQUFLdXZHLGVBQy9CRyxHQUFPMXZHLEtBQUsydUcsV0FBVzN1RyxLQUFLdXZHLGNBQWdCbndHLEVBQzVDWSxLQUFLaXZHLGNBQWdCN3ZHLEVBRXpCWSxLQUFLaXZHLGNBQWdCUyxFQUFNMXZHLEtBQUsydUcsV0FBVzN1RyxLQUFLdXZHLG1CQUdoRHZ2RyxLQUFLaXZHLGNBQWdCUSxFQUVyQnp2RyxLQUFLaXZHLGFBQWUsSUFBTWp2RyxLQUFLNnVHLE1BQy9CN3VHLEtBQUtvdkcsWUFBWSxHQUNicHZHLEtBQUs4ckUsWUFDTDlyRSxLQUFLOHJFLGNBR0o5ckUsS0FBS2l2RyxjQUFnQmp2RyxLQUFLODJGLFVBQVU3OUYsU0FBVytHLEtBQUs2dUcsTUFDekQ3dUcsS0FBS292RyxZQUFZcHZHLEtBQUs4MkYsVUFBVTc5RixPQUFTLEdBQ3JDK0csS0FBSzhyRSxZQUNMOXJFLEtBQUs4ckUsY0FHSndqQyxJQUFrQnR2RyxLQUFLdXZHLGVBQ3hCdnZHLEtBQUs2dUcsTUFBUTd1RyxLQUFLZ3ZHLFNBQ2RodkcsS0FBSzR1RyxlQUFpQixHQUFLNXVHLEtBQUt1dkcsYUFBZUQsR0FHMUN0dkcsS0FBSzR1RyxlQUFpQixHQUFLNXVHLEtBQUt1dkcsYUFBZUQsSUFGcER0dkcsS0FBS2d2RyxTQU1iaHZHLEtBQUs2OUQsbUJBUWI2d0MsRUFBZTVzRyxVQUFVKzdELGNBQWdCLFdBQ3JDLElBQUkweEMsRUFBZXZ2RyxLQUFLdXZHLGFBQ3BCdnZHLEtBQUttdkcsaUJBQW1CSSxJQUc1QnZ2RyxLQUFLbXZHLGVBQWlCSSxFQUN0QnZ2RyxLQUFLaytDLFNBQVdsK0MsS0FBSzgyRixVQUFVeVksR0FDL0J2dkcsS0FBS3F5RCxZQUFjLEVBQ25CcnlELEtBQUtxckYsbUJBQXFCLEVBQzFCcnJGLEtBQUtrckYsWUFBYyxTQUNuQmxyRixLQUFLKzZDLElBQU0vNkMsS0FBS2srQyxTQUFTdEosS0FBS2YsV0FDMUI3ekMsS0FBSzh1RyxjQUNMOXVHLEtBQUtnckYsUUFBUWxvRSxTQUFTOWlCLEtBQUtrK0MsU0FBU25KLGVBRXBDLzBDLEtBQUsrdUcsZUFDTC91RyxLQUFLK3VHLGNBQWMvdUcsS0FBS3V2RyxnQkFhaENiLEVBQWU1c0csVUFBVW1nQixRQUFVLFNBQVVyUyxHQUN6QzVQLEtBQUsvRCxPQUNMNHlCLEVBQU8vc0IsVUFBVW1nQixRQUFRamdCLEtBQUtoQyxLQUFNNFAsR0FDcEM1UCxLQUFLOHJFLFdBQWEsS0FDbEI5ckUsS0FBSyt1RyxjQUFnQixLQUNyQi91RyxLQUFLZ3ZHLE9BQVMsTUFTbEJOLEVBQWVpQixXQUFhLFNBQVV4VyxHQUVsQyxJQURBLElBQUl4aEQsRUFBVyxHQUNObitDLEVBQUksRUFBR0EsRUFBSTIvRixFQUFPbGdHLFNBQVVPLEVBQ2pDbStDLEVBQVM5OUMsS0FBSzA2QyxHQUFReHBDLEtBQUtvdUYsRUFBTzMvRixLQUV0QyxPQUFPLElBQUlrMUcsRUFBZS8yRCxJQVM5QisyRCxFQUFla0IsV0FBYSxTQUFVQyxHQUVsQyxJQURBLElBQUlsNEQsRUFBVyxHQUNObitDLEVBQUksRUFBR0EsRUFBSXEyRyxFQUFPNTJHLFNBQVVPLEVBQ2pDbStDLEVBQVM5OUMsS0FBSzA2QyxHQUFReHBDLEtBQUs4a0csRUFBT3IyRyxLQUV0QyxPQUFPLElBQUlrMUcsRUFBZS8yRCxJQUU5QjkxQyxPQUFPZ0csZUFBZTZtRyxFQUFlNXNHLFVBQVcsY0FBZSxDQVMzRCtVLElBQUssV0FDRCxPQUFPN1csS0FBSzgyRixVQUFVNzlGLFFBRTFCa1AsWUFBWSxFQUNaQyxjQUFjLElBRWxCdkcsT0FBT2dHLGVBQWU2bUcsRUFBZTVzRyxVQUFXLFdBQVksQ0FNeEQrVSxJQUFLLFdBQ0QsT0FBTzdXLEtBQUs4MkYsV0FFaEI1MEUsSUFBSyxTQUFVdGdCLEdBQ1gsR0FBSUEsRUFBTSxhQUFjMnlDLEdBQ3BCdjBDLEtBQUs4MkYsVUFBWWwxRixFQUNqQjVCLEtBQUsydUcsV0FBYSxTQUVqQixDQUNEM3VHLEtBQUs4MkYsVUFBWSxHQUNqQjkyRixLQUFLMnVHLFdBQWEsR0FDbEIsSUFBSyxJQUFJbjFHLEVBQUksRUFBR0EsRUFBSW9JLEVBQU0zSSxPQUFRTyxJQUM5QndHLEtBQUs4MkYsVUFBVWo5RixLQUFLK0gsRUFBTXBJLEdBQUdreUMsU0FDN0IxckMsS0FBSzJ1RyxXQUFXOTBHLEtBQUsrSCxFQUFNcEksR0FBRzBnQyxNQUd0Q2w2QixLQUFLbXZHLGVBQWlCLEtBQ3RCbnZHLEtBQUtvdkcsWUFBWSxHQUNqQnB2RyxLQUFLNjlELGlCQUVUMTFELFlBQVksRUFDWkMsY0FBYyxJQUVsQnZHLE9BQU9nRyxlQUFlNm1HLEVBQWU1c0csVUFBVyxlQUFnQixDQU81RCtVLElBQUssV0FDRCxJQUFJMDRGLEVBQWVuMUcsS0FBS3NTLE1BQU0xTSxLQUFLaXZHLGNBQWdCanZHLEtBQUs4MkYsVUFBVTc5RixPQUlsRSxPQUhJczJHLEVBQWUsSUFDZkEsR0FBZ0J2dkcsS0FBSzgyRixVQUFVNzlGLFFBRTVCczJHLEdBRVhwbkcsWUFBWSxFQUNaQyxjQUFjLElBRWxCdkcsT0FBT2dHLGVBQWU2bUcsRUFBZTVzRyxVQUFXLFVBQVcsQ0FPdkQrVSxJQUFLLFdBQ0QsT0FBTzdXLEtBQUtrdkcsVUFFaEIvbUcsWUFBWSxFQUNaQyxjQUFjLElBRWxCdkcsT0FBT2dHLGVBQWU2bUcsRUFBZTVzRyxVQUFXLGFBQWMsQ0FNMUQrVSxJQUFLLFdBQ0QsT0FBTzdXLEtBQUttd0MsYUFFaEJqdUIsSUFBSyxTQUFVdGdCLEdBQ1BBLElBQVU1QixLQUFLbXdDLGNBQ2Zud0MsS0FBS213QyxZQUFjdnVDLEdBQ2Q1QixLQUFLbXdDLGFBQWVud0MsS0FBS293QyxzQkFDMUI5VyxHQUFPNEIsT0FBT1QsT0FBT3o2QixLQUFLazNCLE9BQVFsM0IsTUFDbENBLEtBQUtvd0Msc0JBQXVCLEdBRXZCcHdDLEtBQUttd0MsY0FBZ0Jud0MsS0FBS293QyxzQkFBd0Jwd0MsS0FBS2t2RyxXQUM1RDUxRSxHQUFPNEIsT0FBTzVRLElBQUl0cUIsS0FBS2szQixPQUFRbDNCLE1BQy9CQSxLQUFLb3dDLHNCQUF1QixLQUl4Q2pvQyxZQUFZLEVBQ1pDLGNBQWMsSUFoWWEsQ0FtWWpDMmlGLElDZzJCRjdyQixHQUFTa0IsZUFBZSxnQkFBaUJockMsSUFDekM4cEMsR0FBU2tCLGVBQWUsVUFBVytILElBQ25DakosR0FBU2tCLGVBQWUsY0FBZXBoQyxJQUN2Q2tnQyxHQUFTa0IsZUFBZSxXQUFZcVksSUFDcEN2WixHQUFTa0IsZUFBZSxVQUFXcTNCLElBQ25DdjRCLEdBQVNrQixlQUFlLFFBQVNzRyxJQUNqQ3hILEdBQVNrQixlQUFlLGVBQWdCMjZCLElBQ3hDLGtCQUFzQjZGLElBQ3RCLGtCQUFzQnZHLElBQ3RCdHpCLEdBQVkzRyxlQUFlL2tDLElBQzNCMHJDLEdBQVkzRyxlQUFldVYsSUFVM0IsSUMzekNZbTZCLEdDSFosY0FJSSxXQUFZQyxFQUF1QkMsR0FBbkMsV0FDSWh3RyxLQUFLNjFFLE9BQVNrNkIsRUFBSWw2QixPQUNsQjcxRSxLQUFLaXdHLGFBQ0xqd0csS0FBSzYxRSxPQUFPNXVDLE1BQUssV0FDYjhvRSxFQUFJN29DLE1BQU03MUMsWUFBWSxFQUFLNitFLGVBQzNCRixPQUVKaHdHLEtBQUttd0csc0JBQXNCSixFQUFJaDVDLE9BQU96NUMsTUFBT3l5RixFQUFJaDVDLE9BQU94NUMsUUFDeER3eUYsRUFBSTdvQyxNQUFNLzFDLFNBQVNueEIsS0FBS2t3RyxlQWtCaEMsT0FmSSxZQUFBRCxXQUFBLFdBQ0lqd0csS0FBSzYxRSxPQUFPdnJELElBQUksUUFBUywyQkFHN0IsWUFBQTZsRixzQkFBQSxTQUFzQkMsRUFBa0JDLEdBQ3BDLElBQU03NkUsRUFBUSxJQUFJLEdBQWUsQ0FDN0I4MkQsV0FBWSxRQUNaQyxTQUFVLEdBQ1ZyRyxLQUFNLFlBRUpvcUIsRUFBVyxJQUFJLEdBQVUsYUFBYzk2RSxHQUM3Qzg2RSxFQUFTejNHLEdBQUt1M0csRUFBV0UsRUFBU2h6RixPQUFTLEVBQzNDZ3pGLEVBQVN4M0csR0FBS3UzRyxFQUFZQyxFQUFTL3lGLFFBQVUsRUFDN0N2ZCxLQUFLa3dHLGNBQWdCSSxHQUU3QixFQTlCQSxHQ0tBLGNBS0ksV0FBWUMsRUFBY0MsRUFBY0MsR0FDcEN6d0csS0FBS2tuQixPQUFTLElBQUlwZ0IsTUFBTXlwRyxHQUFNcnFCLEtBQUssSUFDOUI3N0UsS0FBSSxXQUFNLFdBQUl2RCxNQUFNMHBHLEdBQU10cUIsS0FBS3VxQixNQW9INUMsT0FqSEksWUFBQTd6RSxNQUFBLFNBQU0vakMsRUFBV0MsR0FDYmtILEtBQUt3NkMsUUFBVSxDQUFDM2hELEVBQUMsRUFBRUMsRUFBQyxJQUd4QixZQUFBNDNHLGFBQUEsU0FBYUMsRUFBWUMsR0FDckI1d0csS0FBS3c2QyxRQUFRM2hELEdBQUs4M0csRUFDbEIzd0csS0FBS3c2QyxRQUFRMWhELEdBQUs4M0csR0FPdEIsWUFBQUMsWUFBQSxTQUFZcnVHLEdBQ1J4QyxLQUFLa25CLE9BQU96YyxTQUFRLFNBQUNtZSxFQUFLa29GLEdBQ3RCbG9GLEVBQUluZSxTQUFRLFNBQUNzbUcsRUFBTUMsR0FDZnh1RyxFQUFTdXVHLEVBQU1ELEVBQVVFLFVBU3JDLFlBQUExbUYsSUFBQSxTQUFJcEQsR0FBSixXQUNJQSxFQUFPMnBGLGFBQVksU0FBQ0UsRUFBTW5vRixFQUFLcW9GLEdBRXZCRixFQUFPLElBQ1AsRUFBSzdwRixPQUFPMEIsRUFBTTFCLEVBQU9zekIsUUFBUTFoRCxHQUFHbTRHLEVBQU8vcEYsRUFBT3N6QixRQUFRM2hELEdBQUtrNEcsT0FZM0UsWUFBQUcsVUFBQSxTQUFVaHFGLEVBQWdCeXBGLEVBQVFDLFFBQVIsSUFBQUQsTUFBQSxRQUFRLElBQUFDLE1BQUEsR0FDOUIsSUFBSyxJQUFJaG9GLEVBQU0sRUFBR0EsRUFBTTFCLEVBQU9BLE9BQU9qdUIsT0FBUTJ2QixJQUMxQyxJQUFLLElBQUlxb0YsRUFBTyxFQUFHQSxFQUFPL3BGLEVBQU9BLE9BQU8wQixHQUFLM3ZCLE9BQVFnNEcsSUFDakQsR0FBSS9wRixFQUFPQSxPQUFPMEIsR0FBS3FvRixHQUFRLEVBQUcsQ0FDOUIsSUFBTXA0RyxFQUFJbzRHLEVBQU8vcEYsRUFBT3N6QixRQUFRM2hELEVBQUk4M0csRUFDOUI3M0csRUFBSTh2QixFQUFNMUIsRUFBT3N6QixRQUFRMWhELEVBQUk4M0csRUFDbkMsSUFBSzV3RyxLQUFLa25CLE9BQU9wdUIsSUFBTWtILEtBQUtrbkIsT0FBT3B1QixHQUFHRCxHQUFLLEVBQ3ZDLE9BQU8sRUFLdkIsT0FBTyxHQVFYLFlBQUFzNEcsV0FBQSxTQUFXQyxFQUFnQkMsR0FDdkIsSUFBSyxJQUFJem9GLEVBQU0sRUFBR0EsRUFBTTVvQixLQUFLa25CLE9BQU9qdUIsT0FBUTJ2QixJQUN4QyxJQUFLLElBQUlxb0YsRUFBTyxFQUFHQSxFQUFPanhHLEtBQUtrbkIsT0FBTzBCLEdBQUszdkIsT0FBUWc0RyxJQUMvQyxHQUFJanhHLEtBQUtrbkIsT0FBTzBCLEdBQUtxb0YsR0FBUSxFQUFHLENBQzVCLElBQU1wNEcsRUFBSW80RyxFQUFPanhHLEtBQUt3NkMsUUFBUTNoRCxFQUN4QkMsRUFBSTh2QixFQUFNNW9CLEtBQUt3NkMsUUFBUTFoRCxFQUM3QixHQUFJRCxFQUFJLEdBQUtBLEdBQUt1NEcsR0FBVXQ0RyxHQUFLdTRHLEVBQzdCLE9BQU8sRUFLdkIsT0FBTyxHQWVYLFlBQUExcUYsT0FBQSxTQUFPMnFGLEdBSUgsSSxNQUFTeDRHLEVBQUksRUFBR0EsRUFBSWtILEtBQUtrbkIsT0FBT2p1QixPQUFRSCxJQUNwQyxJQUFLLElBQUlELEVBQUksRUFBR0EsRUFBSUMsRUFBR0QsSUFDbkIsRUFBeUMsQ0FBQ21ILEtBQUtrbkIsT0FBT3B1QixHQUFHRCxHQUFJbUgsS0FBS2tuQixPQUFPcnVCLEdBQUdDLElBQTNFa0gsS0FBS2tuQixPQUFPcnVCLEdBQUdDLEdBQUUsS0FBRWtILEtBQUtrbkIsT0FBT3B1QixHQUFHRCxHQUFFLEtBSTdDeTRHLEVBQ0l0eEcsS0FBS2tuQixPQUFPemMsU0FBUSxTQUFDbWUsR0FBTyxPQUFBQSxFQUFJMCtDLGFBQ2hDdG5FLEtBQUtrbkIsT0FBT29nRCxXQUdwQixZQUFBemtELE1BQUEsV0FDSSxPQUFPbUQsRUFBT3VyRixZQUFZdnhHLEtBQUtrbkIsU0FHNUIsRUFBQXFxRixZQUFQLFNBQW1CbHhGLEdBRWYsSUFBTTZHLEVBQVMsSUFBSWxCLEVBQU8sRUFBRyxHQUU3QixPQURBa0IsRUFBT0EsT0FBUzdHLEVBQUloVyxLQUFJLFNBQUFtbkcsR0FBYyxPQUFBQSxFQUFXanJHLFdBQzFDMmdCLEdBRWYsRUEzSEEsR0NQYXVxRixHQUFvQixHQUlwQkMsR0FDRixJQU9FQyxHQUFTLENBQ2xCcjBGLE1BQU9zMEYsSUFDUHIwRixPQUFRczBGLEtDZENDLEdBQVMsQ0FDbEIsRUFDQSxTQUNBLE1BQ0EsSUFDQSxTQUNBLE1BQ0EsUUFDQSxTQUNBLEcsMGRDSkosZUFRSSxXQUFZdkIsRUFBY0MsRUFBY3RoRixHQUF4QyxNQUNJLFlBQU1xaEYsRUFBTUMsRUFBTSxJQUFFLEssT0FQeEIsRUFBQXVCLFVBQVksRUFDWixFQUFBQyxZQUFjLEVBT1YsRUFBS3hCLEtBQU9BLEVBQ1osRUFBS0QsS0FBT0EsRUFDWixFQUFLMEIsSUFBTSxFQUFLQyxhQUFhaGpGLEdBQzdCLEVBQUtuQyxTQUFTbUMsRyxFQW9GdEIsT0FqRzBCLFFBcUJ0QixZQUFBZ2pGLGFBQUEsU0FBYWhqRixHQUNULElBQU1pakYsRUFBUSxJQUFJLEdBR2xCLE9BREFBLEVBQU16ckYsTUFBTXhFLElBQUl1dkYsSUFDVHZpRixFQUFPaUMsU0FBU2doRixJQU8zQixZQUFBcGxGLFNBQUEsU0FBU21DLEdBQ0wsSUFBTTRrQixFQUFRLElBQUksR0FDbEJBLEVBQU1rcUMsVUFBVSxFQUFHLFNBQVUsR0FDN0JscUMsRUFBTXkxQyxTQUFTLEVBQUcsRUFBR3ZwRixLQUFLd3dHLEtBQU9pQixHQUFtQnp4RyxLQUFLdXdHLEtBQU9rQixJQUNoRTM5RCxFQUFNdzFDLFVBQ05wNkQsRUFBT2lDLFNBQVMyaUIsSUFRcEIsWUFBQXMrRCxjQUFBLHNCQUNJLE9BQU9weUcsS0FBS2tuQixPQUFPbXJGLFFBQU8sU0FBQzN4RyxFQUFRODVCLEVBQVNoaEMsR0FJeEMsT0FISWdoQyxFQUFRODNFLE9BQU0sU0FBQXZCLEdBQVEsT0FBQUEsSUFBUyxFQUFLaUIsZ0JBQ3BDdHhHLEVBQU83RyxLQUFLTCxHQUVUa0gsSUFDUixLQU1QLFlBQUE2eEcsYUFBQSxzQkFDSXZ5RyxLQUFLb3lHLGdCQUFnQjNuRyxTQUFRLFNBQUFxbUcsR0FDekIsRUFBSzVwRixPQUFPNHBGLEdBQVU1cUIsS0FBSyxFQUFLNnJCLGVBSXhDLFlBQUFTLFdBQUEsV0FDSSxPQUFPeHlHLEtBQUtveUcsZ0JBQWdCbjVHLE9BQVMsR0FNekMsWUFBQXc1RyxhQUFBLHNCQUNJenlHLEtBQUtveUcsZ0JBQWdCM25HLFNBQVEsU0FBQXFtRyxHQUN6QixFQUFLNXBGLE9BQU9wWSxPQUFPZ2lHLEVBQVUsR0FDN0IsRUFBSzVwRixPQUFPN1MsUUFBUSxJQUFJdk4sTUFBTSxFQUFLMHBHLE1BQU10cUIsS0FBSyxFQUFLOHJCLGtCQVEzRCxZQUFBVSxPQUFBLHNCQUNJMXlHLEtBQUtpeUcsSUFBSW53RixRQUVUOWhCLEtBQUs2d0csYUFBWSxTQUFDRSxFQUFNRCxFQUFVRSxHQUM5QixFQUFLaUIsSUFBSTdvQixVQUFVMG9CLEdBQU9mLElBRTFCLEVBQUtrQixJQUFJMW9CLFNBQVN5bkIsRUFBV0YsRUFBVSxFQUFHLEdBQzFDLEVBQUttQixJQUFJM29CLGNBSWpCLFlBQUExc0QsTUFBQSxzQkFDSTU4QixLQUFLNndHLGFBQVksU0FBQ0UsRUFBTUQsRUFBVUUsR0FDOUIsRUFBSzlwRixPQUFPNHBGLEdBQVVFLEdBQWEsRUFBS2dCLGdCQUdwRCxFQWpHQSxDQUEwQixLTEExQixTQUFZbEMsR0FDUixpQkFDQSxtQkFDQSxtQkFDQSxxQkFKSixDQUFZQSxRQUFnQixLQVU1QixrQkFRSSxXQUFZNWdGLEVBQXdCME4sR0FIcEMsS0FBQSsxRSxlQUFnQixFQUlaM3lHLEtBQUtreEIsVUFBWWhDLEVBQ2pCbHZCLEtBQUs0eUcsaUJBQW1CLEtBQ3hCNXlHLEtBQUs2eUcsS0FBTyxJQUFJQyxHR3pCSixHQUNBLEdId0JxQjl5RyxLQUFLa3hCLFdBQ3RDbHhCLEtBQUs0OEIsTUFBUUEsRUE0R3JCLE9BekdJLFlBQUFtMkUsZUFBQSxTQUFlQyxHQUNYaHpHLEtBQUsyeUcsY0FBZ0JLLEdBT3pCLFlBQUE5QixVQUFBLFNBQVVscEcsR0FDTixJQUFNbXBHLEVBQWFucEcsRUFBT21wRyxXR3JDZCxHQURBLElIdUNOOEIsRUFBa0JqekcsS0FBSzZ5RyxLQUFLM0IsVUFBVWxwRyxHQUU1QyxPQUFRbXBHLEdBQWM4QixHQU0xQixZQUFBQyxjQUFBLFcsTUFDSWx6RyxLQUFLNnlHLEtBQUtILFNBQ1csUUFBckIsRUFBQTF5RyxLQUFLNHlHLHdCQUFnQixTQUFFRixVQU8zQixZQUFBNXFGLFVBQUEsU0FBVXFyRixHQUVOLEdBQThCLE9BQTFCbnpHLEtBQUs0eUcsa0JBQThCNXlHLEtBQUsyeUcsY0FBNUMsQ0FJQSxPQUFRUSxHQUNKLEtBQUtyRCxHQUFpQnNELEtBQ2xCcHpHLEtBQUtxekcsY0FDTCxNQUNKLEtBQUt2RCxHQUFpQndELE9BQ2xCdHpHLEtBQUt1ekcsWUFDTCxNQUNKLEtBQUt6RCxHQUFpQjBELEtBQ2xCeHpHLEtBQUt5ekcscUJBQXFCLEdBQzFCLE1BQ0osS0FBSzNELEdBQWlCNEQsTUFDbEIxekcsS0FBS3l6RyxvQkFBb0IsR0FDekIsTUFDSixRQUNJMXlGLFFBQVFuVSxNQUFNLDBDQUEwQ2tqRyxHQUFnQixTQUFTcUQsR0FHekZuekcsS0FBS2t6RyxrQkFNVCxZQUFBRyxZQUFBLFdBQ1FyekcsS0FBSzZ5RyxLQUFLM0IsVUFBVWx4RyxLQUFLNHlHLGlCQUFpQmw0QixNQUFPLEVBQUcsR0FDcEQxNkUsS0FBSzJ6Ryx1QkFFTDN6RyxLQUFLNHlHLGlCQUFpQmdCLEtBQUssRUFBRyxJQU90QyxZQUFBRCxxQkFBQSxXQUVJM3pHLEtBQUs2eUcsS0FBS3ZvRixJQUFJdHFCLEtBQUs0eUcsaUJBQWlCbDRCLE9BR2hDMTZFLEtBQUs2eUcsS0FBS0wsY0FDVnh5RyxLQUFLK3lHLGdCQUFlLEdBR1EsSUFBNUIveUcsS0FBSzR5RyxpQkFBaUI5NUcsSUFDdEIrNkcsTUFBTSxjQUNON3pHLEtBQUs0OEIsU0FJVDU4QixLQUFLNHlHLGlCQUFpQmtCLE9BQ3RCOXpHLEtBQUs0eUcsaUJBQW1CLE1BRzVCLFlBQUFhLG9CQUFBLFNBQW9COUMsR0FFaEIzd0csS0FBSzR5RyxpQkFBaUJnQixLQUFLakQsRUFBSSxHQUUzQjN3RyxLQUFLa3hHLFVBQVVseEcsS0FBSzR5RyxpQkFBaUJsNEIsUUFFckMxNkUsS0FBSzR5RyxpQkFBaUJnQixNQUFNakQsRUFBSSxJQUl4QyxZQUFBNEMsVUFBQSxXQUVJdnpHLEtBQUs0eUcsaUJBQWlCbDRCLE1BQU0vekQsUUFBTyxHQUUvQjNtQixLQUFLa3hHLFVBQVVseEcsS0FBSzR5RyxpQkFBaUJsNEIsUUFFckMxNkUsS0FBSzR5RyxpQkFBaUJsNEIsTUFBTS96RCxRQUFPLElBRy9DLEVBeEhBLEdNZk8sU0FBU290RixHQUFjdHlGLEdBRTFCLElBQU04RixFQUFTMWlCLE9BQU9nakUsV0FBYXBtRCxFQUFPdXlGLFlBQ3BDeHNGLEVBQVMzaUIsT0FBT2lqRSxZQUFjcm1ELEVBQU93eUYsYUFHckN2dEYsRUFBUXRzQixLQUFLcUYsSUFBSThuQixFQUFRQyxHQUMvQi9GLEVBQU8rVCxNQUFNMU4sVUFBWSxTQUFXcEIsRUFBUSxJLDhkQ0NoRCxlQUdJLFdBQVl3SSxHQUFaLE1BQ0ksY0FBTyxLLE9BQ1BBLEVBQU9pQyxTQUFTLEdBRWhCLEVBQUt6SyxNQUFNeEUsSUFBSXV2RixJLEVBMER2QixPQWpFK0IsUUFVM0IsWUFBQTcwRSxNQUFBLFNBQU04OUMsR0FDRjE2RSxLQUFLMDZFLE1BQVFBLEVBRWIxNkUsS0FBS2t6QixpQkFFTGx6QixLQUFLazBHLGVBTVQsWUFBQUEsWUFBQSxzQkFDSWwwRyxLQUFLMDZFLE1BQU1tMkIsYUFBWSxXQUNuQixJQUFNNXlELEVBQVMsSUFBSSxHQUVuQkEsRUFBTzNnQyxNQUFRMmdDLEVBQU8xZ0MsT0FBUyxFQUMvQixFQUFLNFQsU0FBUzhzQixPQU90QixZQUFBeTBELE9BQUEsc0JBQ1F5QixFQUFZLEVBRWhCbjBHLEtBQUswNkUsTUFBTW0yQixhQUFZLFNBQUNFLEVBQU1ub0YsRUFBS3FvRixHQUUvQixJQUFNaHpELEVBQVMsRUFBS2pyQixXQUFXbWhGLEdBRy9CbDJELEVBQU92UyxRQUFVcWxFLEVBQU8sRUFDcEIsU0FDQSxTQUdKOXlELEVBQU8vMUIsU0FBU2hHLElBQUkrdUYsRUFBTXJvRixHQUcxQnExQixFQUFPditCLEtBQU9veUYsR0FBT2YsR0FFckJvRCxRQUlSLFlBQUFDLFNBQUEsV0FDSSxPQUFPcDBHLEtBQUswNkUsT0FNaEIsWUFBQTI1QixjQUFBLFdBQ0lyMEcsS0FBS25ILEdBQUttSCxLQUFLc2QsTUFBUSxHQUUvQixFQWpFQSxDQUErQixJLDBkQ0ovQiw0QiwrQ0EyQ0EsT0EzQ3NDLFFBRWxDLFlBQUFzZixNQUFBLFNBQU04OUMsR0FDRixZQUFNOTlDLE1BQUssVUFBQzg5QyxHQUVaMTZFLEtBQUtxMEcsZ0JBRUxyMEcsS0FBS3MwRyxRQU1ULFlBQUFELGNBQUEsV0FDSSxJQUVNaDVCLEVBRmlCamhGLEtBQUtzUyxNQUFNa2xHLEdBQ2R4M0csS0FBS3NTLE1BQU0xTSxLQUFLMDZFLE1BQU14ekQsT0FBT2p1QixPQUFTLEdBRzFEK0csS0FBS2xILEVBQUksRUFDVGtILEtBQUtuSCxFQUFJd2lGLEVBQVNvMkIsR0FDbEJ6eEcsS0FBSzA2RSxNQUFNOTlDLE1BQU15K0MsRUFBUSxJQVE3QixZQUFBdTRCLEtBQUEsU0FBS2pELEVBQVlDLEdBQ2I1d0csS0FBS25ILEdBQUs0NEcsR0FBb0JkLEVBQzlCM3dHLEtBQUtsSCxHQUFLMjRHLEdBQW9CYixFQUc5QjV3RyxLQUFLMDZFLE1BQU1nMkIsYUFBYUMsRUFBSUMsSUFHaEMsWUFBQWtELEtBQUEsV0FDSTl6RyxLQUFLZ3ZCLFNBQVUsR0FHbkIsWUFBQXNsRixLQUFBLFdBQ0l0MEcsS0FBS2d2QixTQUFVLEdBRXZCLEVBM0NBLENBQXNDdWxGLElDRmhDLEdBQVMsQ0FDWCxDQUNJLENBQUMsRUFBRyxFQUFHLEVBQUcsR0FDVixDQUFDLEVBQUcsRUFBRyxFQUFHLEdBQ1YsQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUNWLENBQUMsRUFBRyxFQUFHLEVBQUcsSUFFZCxDQUNJLENBQUMsRUFBRyxFQUFHLEdBQ1AsQ0FBQyxFQUFHLEVBQUcsR0FDUCxDQUFDLEVBQUcsRUFBRyxJQUVYLENBQ0ksQ0FBQyxFQUFHLEVBQUcsR0FDUCxDQUFDLEVBQUcsRUFBRyxHQUNQLENBQUMsRUFBRyxFQUFHLElBRVgsQ0FDSSxDQUFDLEVBQUcsR0FDSixDQUFDLEVBQUcsSUFFUixDQUNJLENBQUMsRUFBRyxFQUFHLEdBQ1AsQ0FBQyxFQUFHLEVBQUcsR0FDUCxDQUFDLEVBQUcsRUFBRyxJQUVYLENBQ0ksQ0FBQyxFQUFHLEVBQUcsR0FDUCxDQUFDLEVBQUcsRUFBRyxHQUNQLENBQUMsRUFBRyxFQUFHLElBRVgsQ0FDSSxDQUFDLEVBQUcsRUFBRyxHQUNQLENBQUMsRUFBRyxFQUFHLEdBQ1AsQ0FBQyxFQUFHLEVBQUcsS0FFYmxxRyxLQUFJLFNBQUFnVyxHQUFPLHNCQUFtQkEsTUN0Q25CbTBGLEdBQWUsQ0FDeEJDLGtCQUFtQixJQUNuQkMsZ0JBQWlCLEdBQ2pCQyxPQUFRLENBQ0osRUFDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsSywwZENQUixlQVFJLFdBQVl6bEYsR0FBWixNQUNJLGNBQU8sSyxPQUNQQSxFQUFPaUMsU0FBUyxHQUVoQixFQUFLdDRCLEVBQUkrNEcsSUFFVCxFQUFLMW9GLE9BQ0wsRUFBSzBULFEsRUFtSGIsT0FsSStCLFFBbUIzQixZQUFBMVQsS0FBQSxXQUNJbHBCLEtBQUs0MEcsU0FDTDUwRyxLQUFLMUcsS0FBTzBHLEtBQUs2MEcsb0JBQ2pCNzBHLEtBQUs4MEcsVUFBWTkwRyxLQUFLKzBHLGNSckJuQixJUXFCd0QsVUFDM0QvMEcsS0FBS2cxRyxVQUFZaDFHLEtBQUsrMEcsY1JyQm5CLElRcUJ3RCxpQkFNL0QsWUFBQUgsT0FBQSxXQUNJLElBQU0zQyxFQUFNLElBQUksR0FDaEJBLEVBQUk3b0IsVUFBVSxTQUFVLElBR3hCNm9CLEVBQUkxb0IsVUFBUyxJQUE0QixFQUFHbW9CLEdBQXVCRyxLQUNuRUksRUFBSTNvQixVQUNKdHBGLEtBQUtteEIsU0FBUzhnRixJQU1sQixZQUFBNEMsa0JBQUEsV0FDSSxJQUFNSSxFQUFVajFHLEtBQUtteEIsU0FBUyxJQUFJLElBS2xDLE9BSkE4akYsRUFBUW44RyxFUjVDTixJUThDRmtILEtBQUtrMUcsU0FBU0QsRUFBUyxRQUVoQixJQUFJVixHQUFVVSxJQVF6QixZQUFBRixjQUFBLFNBQWN0NkQsRUFBZ0I3akIsR0FDMUIsSUFBTXErRSxFQUFVajFHLEtBQUtteEIsU0FBUyxJQUFJLElBQ2xDOGpGLEVBQVFuOEcsRUFBSTJoRCxFQUVaejZDLEtBQUtrMUcsU0FBU0QsRUFBU3IrRSxHQUV2QixJQUFNaDFCLEVBQVEsSUFBSSxHQUFVLEdBQUksQ0FDNUIwcUYsV0FBWSxTQUNaQyxTQUFVLE1BTWQsT0FGQTNxRixFQUFNNnlDLE9BQU81N0MsRUFBSSxHQUVWbzhHLEVBQVE5akYsU0FBU3Z2QixJQVE1QixZQUFBc3pHLFNBQUEsU0FBU0MsRUFBdUIvbEMsR0FDNUIsSUFBTXg0QyxFQUFRdStFLEVBQU1oa0YsU0FBUyxJQUFJLEdBQVVpK0MsRUFBTSxDQUM3Q2tkLFdBQVksUUFDWkMsU0FBVSxHQUNWckcsS0FBTSxXQUlWLE9BRkF0dkQsRUFBTTZkLE9BQU92eUIsSUFBSSxJQUNqQjBVLEVBQU05OUIsR1JsRkksR1FtRkhxOEcsRUFBTWhrRixTQUFTeUYsSUFJMUIsWUFBQXcrRSxhQUFBLFdBQ0ksT0FBT3AxRyxLQUFLMUcsS0FBSzg2RyxXQUFXdnhGLFNBR2hDLFlBQUF3eUYsU0FBQSxXQUNJLE9BQU9yMUcsS0FBS3MxRyxZQU1oQixZQUFBQyxvQkFBQSxXQUNJdjFHLEtBQUsxRyxLQUFLc2pDLE1GbkVQLEdBQU94aUMsS0FBS3NTLE1BQU10UyxLQUFLK3VHLFNBQVcsR0FBT2x3RyxVRW9FNUMrRyxLQUFLMUcsS0FBS281RyxTQUNWMXlHLEtBQUsxRyxLQUFLKzZHLGlCQU9kLFlBQUFtQixhQUFBLFNBQWFDLEdBQ1R6MUcsS0FBSzAxRyxZQUFjRCxFQUNuQixJQUFNRSxFQUFpQnY3RyxLQUFLc1MsTUFBTTFNLEtBQUswMUcsV0FBYWxCLEdBQWFFLGlCQUNqRTEwRyxLQUFLczFHLFdBQWFsN0csS0FBS3FGLElBQUlrMkcsRUFBZ0JuQixHQUFhRyxPQUFPMTdHLE9BQVMsR0FFeEUrRyxLQUFLZzFHLFVBQVU1bEMsS0FBT3B2RSxLQUFLMDFHLFdBQVczekcsV0FFdEMvQixLQUFLODBHLFVBQVUxbEMsTUFBUXB2RSxLQUFLczFHLFdBQWEsR0FBR3Z6RyxZQU1oRCxZQUFBNjZCLE1BQUEsV0FDSTU4QixLQUFLMDFHLFdBQWEsRUFDbEIxMUcsS0FBS3MxRyxXQUFhLEVBQ2xCdDFHLEtBQUt3MUcsYUFBYSxHQUNsQngxRyxLQUFLdTFHLHVCQUViLEVBbElBLENBQStCLElDRC9CLGNBTUksV0FBWUssR0FDUjUxRyxLQUFLNjFHLGdCQUFrQkQsRUFBT25CLGtCQUM5QnowRyxLQUFLODFHLE9BQVNGLEVBQU9qQixPQUNyQjMwRyxLQUFLKzFHLGFBQWUvMUcsS0FBSzgxRyxPQUFPLEdBVXhDLE9BUEksWUFBQUUsZ0JBQUEsV0FDSSxPQUFPaDJHLEtBQUs2MUcsZ0JBQWtCNzFHLEtBQUsrMUcsY0FHdkMsWUFBQUUsZ0JBQUEsU0FBZ0J0eEcsR0FDWjNFLEtBQUsrMUcsYUFBZS8xRyxLQUFLODFHLE9BQU9ueEcsSUFFeEMsRUFuQkEsR0NIQSxJQ1FBLFdBUUksd0JBQ0kzRSxLQUFLK3ZHLElBQU0vdkcsS0FBS2syRyxVQUVoQixJQUFJLEdBQU9sMkcsS0FBSyt2RyxLQUFLLFdBQU0sU0FBS3gxRyxXQWdHeEMsT0E3RkksWUFBQTI3RyxRQUFBLFdBQ0ksSUFBTW5HLEVBQU0sSUFBSSxHQUFpQixDQUM3Qnp5RixNQUFPcTBGLEdBQU9yMEYsTUFDZEMsT0FBUW8wRixHQUFPcDBGLFNBWW5CLE9BVkExWSxPQUFPNmMsU0FBU3FWLEtBQUtDLFlBQVkrNEUsRUFBSWh6RixNQUdyQ2czRixHQUFjaEUsRUFBSWh6RixNQUdsQmxZLE9BQU8weEIsaUJBQWlCLFVBQVUsV0FDOUJ3OUUsR0FBY2hFLEVBQUloekYsU0FHZmd6RixHQUdMLFlBQUF4MUcsTUFBTixXLG9vQ0FDSXlGLEtBQUt1N0IsT0FBUyxJQUFJLEdBQU9pNUUsSUFDekJ4MEcsS0FBS20yRyxNQUFRLElBQUlDLEdBQU1wMkcsS0FBSyt2RyxJQUFJN29DLE9BQU8sV0FBTSxTQUFLdHFDLFdBQ2xENThCLEtBQUs0eUcsaUJBQW1CLElBQUl5RCxHQUFpQnIyRyxLQUFLK3ZHLElBQUk3b0MsT0FDdERsbkUsS0FBS3MyRyxVQUFZLElBQUlDLEdBQVV2MkcsS0FBSyt2RyxJQUFJN29DLE9BRXhDbG5FLEtBQUt3MkcsbUIsaUJBSUQsU0FBTXgyRyxLQUFLMjhDLFMsY0FBWCxTLDRUQUlSLFlBQUFBLE1BQUEsV0FDSSxPQUFPMzhDLEtBQUttMkcsTUFBTXRELEtBQUtMLGFBQ25CeHlHLEtBQUt5MkcsVUFDTHoyRyxLQUFLNHpHLFFBTWIsWUFBQUEsS0FBQSxzQkFTSSxPQVJvQyxPQUFoQzV6RyxLQUFLbTJHLE1BQU12RCxtQkFDWDV5RyxLQUFLNHlHLGlCQUFpQmgyRSxNQUFNNThCLEtBQUtzMkcsVUFBVWxCLGdCQUMzQ3AxRyxLQUFLczJHLFVBQVVmLHNCQUNmdjFHLEtBQUttMkcsTUFBTXZELGlCQUFtQjV5RyxLQUFLNHlHLGtCQUd2QzV5RyxLQUFLbTJHLE1BQU1ydUYsVUFBVWdvRixHQUFpQnNELE1BRS9CLElBQUloeUcsU0FBYyxTQUFBRCxHQUFXLE9BQUFpQixXQUFXakIsRUFBUyxFQUFLbzZCLE9BQU95NkUsdUJBTXhFLFlBQUFTLFFBQUEsc0JBVUksT0FSQXoyRyxLQUFLbTJHLE1BQU10RCxLQUFLTixlQUVoQnZ5RyxLQUFLbTJHLE1BQU1qRCxnQkFFWGx6RyxLQUFLczJHLFVBQVVkLGFBQWF4MUcsS0FBS20yRyxNQUFNdEQsS0FBS1QsZ0JBQWdCbjVHLFFBRTVEK0csS0FBS3U3QixPQUFPMDZFLGdCQUFnQmoyRyxLQUFLczJHLFVBQVVqQixZQUVwQyxJQUFJajBHLFNBQWMsU0FBQUQsR0FBVyxPQUFBaUIsWUFBVyxXQUMzQyxFQUFLK3pHLE1BQU10RCxLQUFLSixlQUVoQixFQUFLMEQsTUFBTXBELGdCQUFlLEdBQzFCNXhHLE1BQ0QsRUFBS282QixPQUFPeTZFLHVCQU1uQixZQUFBcDVFLE1BQUEsV0FDSTU4QixLQUFLbTJHLE1BQU10RCxLQUFLajJFLFFBQ2hCNThCLEtBQUt1N0IsT0FBTzA2RSxnQkFBZ0IsR0FDNUJqMkcsS0FBS3MyRyxVQUFVMTVFLFNBTW5CLFlBQUE0NUUsaUJBQUEsc0JBQ0k5MEYsU0FBUzZVLGlCQUFpQixXQUFXLFNBQUM5NkIsR0FDOUJvRyxPQUFPNjBHLE9BQU81RyxJQUFrQjZHLFNBQVNsN0csRUFBRXl6RCxPQUMzQyxFQUFLaW5ELE1BQU1ydUYsVUFBVXJzQixFQUFFeXpELFVBSXZDLEVBM0dBLEsiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAxIC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0pO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcblxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxuICAgIHZhciBwID0gZWFyLm5leHQubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBlYXIucHJldikge1xuICAgICAgICBpZiAocG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciBtaW5UWCA9IGEueCA8IGIueCA/IChhLnggPCBjLnggPyBhLnggOiBjLngpIDogKGIueCA8IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1pblRZID0gYS55IDwgYi55ID8gKGEueSA8IGMueSA/IGEueSA6IGMueSkgOiAoYi55IDwgYy55ID8gYi55IDogYy55KSxcbiAgICAgICAgbWF4VFggPSBhLnggPiBiLnggPyAoYS54ID4gYy54ID8gYS54IDogYy54KSA6IChiLnggPiBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtYXhUWSA9IGEueSA+IGIueSA/IChhLnkgPiBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA+IGMueSA/IGIueSA6IGMueSk7XG5cbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xuICAgIHZhciBtaW5aID0gek9yZGVyKG1pblRYLCBtaW5UWSwgbWluWCwgbWluWSwgaW52U2l6ZSksXG4gICAgICAgIG1heFogPSB6T3JkZXIobWF4VFgsIG1heFRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBwID0gZWFyLnByZXZaLFxuICAgICAgICBuID0gZWFyLm5leHRaO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKHApO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgICAgICBvdXRlck5vZGUgPSBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xuICAgIHJldHVybiBhLnggLSBiLng7XG59XG5cbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICBvdXRlck5vZGUgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xuICAgIGlmIChvdXRlck5vZGUpIHtcbiAgICAgICAgdmFyIGIgPSBzcGxpdFBvbHlnb24ob3V0ZXJOb2RlLCBob2xlKTtcblxuICAgICAgICAvLyBmaWx0ZXIgY29sbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcblxuICAgIHZhciBzdG9wID0gbSxcbiAgICAgICAgbXggPSBtLngsXG4gICAgICAgIG15ID0gbS55LFxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcbiAgICAgICAgdGFuO1xuXG4gICAgcCA9IG07XG5cbiAgICBkbyB7XG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XG5cbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcblxuICAgICAgICAgICAgaWYgKGxvY2FsbHlJbnNpZGUocCwgaG9sZSkgJiZcbiAgICAgICAgICAgICAgICAodGFuIDwgdGFuTWluIHx8ICh0YW4gPT09IHRhbk1pbiAmJiAocC54ID4gbS54IHx8IChwLnggPT09IG0ueCAmJiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSkpKSkpIHtcbiAgICAgICAgICAgICAgICBtID0gcDtcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0b3ApO1xuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIHdoZXRoZXIgc2VjdG9yIGluIHZlcnRleCBtIGNvbnRhaW5zIHNlY3RvciBpbiB2ZXJ0ZXggcCBpbiB0aGUgc2FtZSBjb29yZGluYXRlc1xuZnVuY3Rpb24gc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkge1xuICAgIHJldHVybiBhcmVhKG0ucHJldiwgbSwgcC5wcmV2KSA8IDAgJiYgYXJlYShwLm5leHQsIG0sIG0ubmV4dCkgPCAwO1xufVxuXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnogPT09IG51bGwpIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XG4gICAgcC5wcmV2WiA9IG51bGw7XG5cbiAgICBzb3J0TGlua2VkKHApO1xufVxuXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcbiAgICAgICAgaW5TaXplID0gMTtcblxuICAgIGRvIHtcbiAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIGxpc3QgPSBudWxsO1xuICAgICAgICB0YWlsID0gbnVsbDtcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcblxuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XG4gICAgICAgICAgICBxID0gcDtcbiAgICAgICAgICAgIHBTaXplID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHBTaXplKys7XG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xuXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcblxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwID0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xuICAgICAgICBpblNpemUgKj0gMjtcblxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xuXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXG4gICAgeCA9IDMyNzY3ICogKHggLSBtaW5YKSAqIGludlNpemU7XG4gICAgeSA9IDMyNzY3ICogKHkgLSBtaW5ZKSAqIGludlNpemU7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJiAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlc1xuICAgICAgICAgICAobG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKSAmJiAvLyBsb2NhbGx5IHZpc2libGVcbiAgICAgICAgICAgIChhcmVhKGEucHJldiwgYSwgYi5wcmV2KSB8fCBhcmVhKGEsIGIucHJldiwgYikpIHx8IC8vIGRvZXMgbm90IGNyZWF0ZSBvcHBvc2l0ZS1mYWNpbmcgc2VjdG9yc1xuICAgICAgICAgICAgZXF1YWxzKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2Vcbn1cblxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xufVxuXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcbiAgICB2YXIgbzEgPSBzaWduKGFyZWEocDEsIHExLCBwMikpO1xuICAgIHZhciBvMiA9IHNpZ24oYXJlYShwMSwgcTEsIHEyKSk7XG4gICAgdmFyIG8zID0gc2lnbihhcmVhKHAyLCBxMiwgcDEpKTtcbiAgICB2YXIgbzQgPSBzaWduKGFyZWEocDIsIHEyLCBxMSkpO1xuXG4gICAgaWYgKG8xICE9PSBvMiAmJiBvMyAhPT0gbzQpIHJldHVybiB0cnVlOyAvLyBnZW5lcmFsIGNhc2VcblxuICAgIGlmIChvMSA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHAyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHAyIGFyZSBjb2xsaW5lYXIgYW5kIHAyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMiA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHEyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHEyIGFyZSBjb2xsaW5lYXIgYW5kIHEyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMyA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHAxLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMlxuICAgIGlmIChvNCA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHExLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHExIGFyZSBjb2xsaW5lYXIgYW5kIHExIGxpZXMgb24gcDJxMlxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwclxuZnVuY3Rpb24gb25TZWdtZW50KHAsIHEsIHIpIHtcbiAgICByZXR1cm4gcS54IDw9IE1hdGgubWF4KHAueCwgci54KSAmJiBxLnggPj0gTWF0aC5taW4ocC54LCByLngpICYmIHEueSA8PSBNYXRoLm1heChwLnksIHIueSkgJiYgcS55ID49IE1hdGgubWluKHAueSwgci55KTtcbn1cblxuZnVuY3Rpb24gc2lnbihudW0pIHtcbiAgICByZXR1cm4gbnVtID4gMCA/IDEgOiBudW0gPCAwID8gLTEgOiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IG51bGw7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiKGZ1bmN0aW9uKGdsb2JhbCl7XG5cbi8vXG4vLyBDaGVjayBmb3IgbmF0aXZlIFByb21pc2UgYW5kIGl0IGhhcyBjb3JyZWN0IGludGVyZmFjZVxuLy9cblxudmFyIE5hdGl2ZVByb21pc2UgPSBnbG9iYWxbJ1Byb21pc2UnXTtcbnZhciBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID1cbiAgTmF0aXZlUHJvbWlzZSAmJlxuICAvLyBTb21lIG9mIHRoZXNlIG1ldGhvZHMgYXJlIG1pc3NpbmcgZnJvbVxuICAvLyBGaXJlZm94L0Nocm9tZSBleHBlcmltZW50YWwgaW1wbGVtZW50YXRpb25zXG4gICdyZXNvbHZlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyZWplY3QnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ2FsbCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAncmFjZScgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAvLyBPbGRlciB2ZXJzaW9uIG9mIHRoZSBzcGVjIGhhZCBhIHJlc29sdmVyIG9iamVjdFxuICAvLyBhcyB0aGUgYXJnIHJhdGhlciB0aGFuIGEgZnVuY3Rpb25cbiAgKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlc29sdmU7XG4gICAgbmV3IE5hdGl2ZVByb21pc2UoZnVuY3Rpb24ocil7IHJlc29sdmUgPSByOyB9KTtcbiAgICByZXR1cm4gdHlwZW9mIHJlc29sdmUgPT09ICdmdW5jdGlvbic7XG4gIH0pKCk7XG5cblxuLy9cbi8vIGV4cG9ydCBpZiBuZWNlc3Nhcnlcbi8vXG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgZXhwb3J0cylcbntcbiAgLy8gbm9kZS5qc1xuICBleHBvcnRzLlByb21pc2UgPSBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gIGV4cG9ydHMuUG9seWZpbGwgPSBQcm9taXNlO1xufVxuZWxzZVxue1xuICAvLyBBTURcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuICB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gbmF0aXZlUHJvbWlzZVN1cHBvcnRlZCA/IE5hdGl2ZVByb21pc2UgOiBQcm9taXNlO1xuICAgIH0pO1xuICB9XG4gIGVsc2VcbiAge1xuICAgIC8vIGluIGJyb3dzZXIgYWRkIHRvIGdsb2JhbFxuICAgIGlmICghbmF0aXZlUHJvbWlzZVN1cHBvcnRlZClcbiAgICAgIGdsb2JhbFsnUHJvbWlzZSddID0gUHJvbWlzZTtcbiAgfVxufVxuXG5cbi8vXG4vLyBQb2x5ZmlsbFxuLy9cblxudmFyIFBFTkRJTkcgPSAncGVuZGluZyc7XG52YXIgU0VBTEVEID0gJ3NlYWxlZCc7XG52YXIgRlVMRklMTEVEID0gJ2Z1bGZpbGxlZCc7XG52YXIgUkVKRUNURUQgPSAncmVqZWN0ZWQnO1xudmFyIE5PT1AgPSBmdW5jdGlvbigpe307XG5cbmZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8vIGFzeW5jIGNhbGxzXG52YXIgYXN5bmNTZXRUaW1lciA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnID8gc2V0SW1tZWRpYXRlIDogc2V0VGltZW91dDtcbnZhciBhc3luY1F1ZXVlID0gW107XG52YXIgYXN5bmNUaW1lcjtcblxuZnVuY3Rpb24gYXN5bmNGbHVzaCgpe1xuICAvLyBydW4gcHJvbWlzZSBjYWxsYmFja3NcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3luY1F1ZXVlLmxlbmd0aDsgaSsrKVxuICAgIGFzeW5jUXVldWVbaV1bMF0oYXN5bmNRdWV1ZVtpXVsxXSk7XG5cbiAgLy8gcmVzZXQgYXN5bmMgYXN5bmNRdWV1ZVxuICBhc3luY1F1ZXVlID0gW107XG4gIGFzeW5jVGltZXIgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYXN5bmNDYWxsKGNhbGxiYWNrLCBhcmcpe1xuICBhc3luY1F1ZXVlLnB1c2goW2NhbGxiYWNrLCBhcmddKTtcblxuICBpZiAoIWFzeW5jVGltZXIpXG4gIHtcbiAgICBhc3luY1RpbWVyID0gdHJ1ZTtcbiAgICBhc3luY1NldFRpbWVyKGFzeW5jRmx1c2gsIDApO1xuICB9XG59XG5cblxuZnVuY3Rpb24gaW52b2tlUmVzb2x2ZXIocmVzb2x2ZXIsIHByb21pc2UpIHtcbiAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIH1cblxuICB0cnkge1xuICAgIHJlc29sdmVyKHJlc29sdmVQcm9taXNlLCByZWplY3RQcm9taXNlKTtcbiAgfSBjYXRjaChlKSB7XG4gICAgcmVqZWN0UHJvbWlzZShlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzdWJzY3JpYmVyKXtcbiAgdmFyIG93bmVyID0gc3Vic2NyaWJlci5vd25lcjtcbiAgdmFyIHNldHRsZWQgPSBvd25lci5zdGF0ZV87XG4gIHZhciB2YWx1ZSA9IG93bmVyLmRhdGFfOyAgXG4gIHZhciBjYWxsYmFjayA9IHN1YnNjcmliZXJbc2V0dGxlZF07XG4gIHZhciBwcm9taXNlID0gc3Vic2NyaWJlci50aGVuO1xuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpXG4gIHtcbiAgICBzZXR0bGVkID0gRlVMRklMTEVEO1xuICAgIHRyeSB7XG4gICAgICB2YWx1ZSA9IGNhbGxiYWNrKHZhbHVlKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSlcbiAge1xuICAgIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpXG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcblxuICAgIGlmIChzZXR0bGVkID09PSBSRUpFQ1RFRClcbiAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpIHtcbiAgdmFyIHJlc29sdmVkO1xuXG4gIHRyeSB7XG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xuXG4gICAgaWYgKHZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykpXG4gICAge1xuICAgICAgdmFyIHRoZW4gPSB2YWx1ZS50aGVuOyAgLy8gdGhlbiBzaG91bGQgYmUgcmV0cml2ZWQgb25seSBvbmNlXG5cbiAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHtcbiAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdW5jdGlvbih2YWwpe1xuICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHZhbClcbiAgICAgICAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWwpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICByZWplY3QocHJvbWlzZSwgZSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSl7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSB8fCAhaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmdWxmaWxsKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHZhbHVlO1xuXG4gICAgYXN5bmNDYWxsKHB1Ymxpc2hGdWxmaWxsbWVudCwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHByb21pc2UsIHJlYXNvbil7XG4gIGlmIChwcm9taXNlLnN0YXRlXyA9PT0gUEVORElORylcbiAge1xuICAgIHByb21pc2Uuc3RhdGVfID0gU0VBTEVEO1xuICAgIHByb21pc2UuZGF0YV8gPSByZWFzb247XG5cbiAgICBhc3luY0NhbGwocHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBjYWxsYmFja3MgPSBwcm9taXNlLnRoZW5fO1xuICBwcm9taXNlLnRoZW5fID0gdW5kZWZpbmVkO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgaW52b2tlQ2FsbGJhY2soY2FsbGJhY2tzW2ldKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoRnVsZmlsbG1lbnQocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gRlVMRklMTEVEO1xuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoUmVqZWN0aW9uKHByb21pc2Upe1xuICBwcm9taXNlLnN0YXRlXyA9IFJFSkVDVEVEO1xuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG4vKipcbiogQGNsYXNzXG4qL1xuZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcil7XG4gIGlmICh0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZSBjb25zdHJ1Y3RvciB0YWtlcyBhIGZ1bmN0aW9uIGFyZ3VtZW50Jyk7XG5cbiAgaWYgKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlID09PSBmYWxzZSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGYWlsZWQgdG8gY29uc3RydWN0IFxcJ1Byb21pc2VcXCc6IFBsZWFzZSB1c2UgdGhlIFxcJ25ld1xcJyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLicpO1xuXG4gIHRoaXMudGhlbl8gPSBbXTtcblxuICBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgdGhpcyk7XG59XG5cblByb21pc2UucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUHJvbWlzZSxcblxuICBzdGF0ZV86IFBFTkRJTkcsXG4gIHRoZW5fOiBudWxsLFxuICBkYXRhXzogdW5kZWZpbmVkLFxuXG4gIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKXtcbiAgICB2YXIgc3Vic2NyaWJlciA9IHtcbiAgICAgIG93bmVyOiB0aGlzLFxuICAgICAgdGhlbjogbmV3IHRoaXMuY29uc3RydWN0b3IoTk9PUCksXG4gICAgICBmdWxmaWxsZWQ6IG9uRnVsZmlsbG1lbnQsXG4gICAgICByZWplY3RlZDogb25SZWplY3Rpb25cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc3RhdGVfID09PSBGVUxGSUxMRUQgfHwgdGhpcy5zdGF0ZV8gPT09IFJFSkVDVEVEKVxuICAgIHtcbiAgICAgIC8vIGFscmVhZHkgcmVzb2x2ZWQsIGNhbGwgY2FsbGJhY2sgYXN5bmNcbiAgICAgIGFzeW5jQ2FsbChpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlcik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAvLyBzdWJzY3JpYmVcbiAgICAgIHRoaXMudGhlbl8ucHVzaChzdWJzY3JpYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3Vic2NyaWJlci50aGVuO1xuICB9LFxuXG4gICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gIH1cbn07XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24ocHJvbWlzZXMpe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShwcm9taXNlcykpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBQcm9taXNlLmFsbCgpLicpO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciByZW1haW5pbmcgPSAwO1xuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoaW5kZXgpe1xuICAgICAgcmVtYWluaW5nKys7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICBpZiAoIS0tcmVtYWluaW5nKVxuICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBwcm9taXNlOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldO1xuXG4gICAgICBpZiAocHJvbWlzZSAmJiB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZXIoaSksIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc3VsdHNbaV0gPSBwcm9taXNlO1xuICAgIH1cblxuICAgIGlmICghcmVtYWluaW5nKVxuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UucmFjZSgpLicpO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgZWxzZVxuICAgICAgICByZXNvbHZlKHByb21pc2UpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IENsYXNzKVxuICAgIHJldHVybiB2YWx1ZTtcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUpe1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufTtcblxufSkodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgTWluaVNpZ25hbEJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgIGlmIChvbmNlID09PSB1bmRlZmluZWQpIG9uY2UgPSBmYWxzZTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsQmluZGluZyk7XG5cbiAgICB0aGlzLl9mbiA9IGZuO1xuICAgIHRoaXMuX29uY2UgPSBvbmNlO1xuICAgIHRoaXMuX3RoaXNBcmcgPSB0aGlzQXJnO1xuICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWxCaW5kaW5nLCBbe1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhpcy5fb3duZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWxCaW5kaW5nO1xufSkoKTtcblxuZnVuY3Rpb24gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHNlbGYsIG5vZGUpIHtcbiAgaWYgKCFzZWxmLl9oZWFkKSB7XG4gICAgc2VsZi5faGVhZCA9IG5vZGU7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fdGFpbC5fbmV4dCA9IG5vZGU7XG4gICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH1cblxuICBub2RlLl9vd25lciA9IHNlbGY7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbnZhciBNaW5pU2lnbmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbCk7XG5cbiAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsLCBbe1xuICAgIGtleTogJ2hhbmRsZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcnMoKSB7XG4gICAgICB2YXIgZXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKGV4aXN0cykgcmV0dXJuICEhbm9kZTtcblxuICAgICAgdmFyIGVlID0gW107XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2hhcygpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGUuX293bmVyID09PSB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc3BhdGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fb25jZSkgdGhpcy5kZXRhY2gobm9kZSk7XG4gICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3VtZW50cyk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjYWRkKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgZmFsc2UsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgdHJ1ZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNkZXRhY2goKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5fb3duZXIgIT09IHRoaXMpIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobm9kZS5fcHJldikgbm9kZS5fcHJldi5fbmV4dCA9IG5vZGUuX25leHQ7XG4gICAgICBpZiAobm9kZS5fbmV4dCkgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7XG5cbiAgICAgIGlmIChub2RlID09PSB0aGlzLl9oZWFkKSB7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBub2RlLl9uZXh0O1xuICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgdGhpcy5fdGFpbCA9IG5vZGUuX3ByZXY7XG4gICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2hBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2hBbGwoKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiB0aGlzO1xuXG4gICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbDtcbn0pKCk7XG5cbk1pbmlTaWduYWwuTWluaVNpZ25hbEJpbmRpbmcgPSBNaW5pU2lnbmFsQmluZGluZztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWluaVNpZ25hbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBwYXJzZVVSSSAoc3RyLCBvcHRzKSB7XG4gIGlmICghc3RyKSByZXR1cm4gdW5kZWZpbmVkXG5cbiAgb3B0cyA9IG9wdHMgfHwge31cblxuICB2YXIgbyA9IHtcbiAgICBrZXk6IFtcbiAgICAgICdzb3VyY2UnLFxuICAgICAgJ3Byb3RvY29sJyxcbiAgICAgICdhdXRob3JpdHknLFxuICAgICAgJ3VzZXJJbmZvJyxcbiAgICAgICd1c2VyJyxcbiAgICAgICdwYXNzd29yZCcsXG4gICAgICAnaG9zdCcsXG4gICAgICAncG9ydCcsXG4gICAgICAncmVsYXRpdmUnLFxuICAgICAgJ3BhdGgnLFxuICAgICAgJ2RpcmVjdG9yeScsXG4gICAgICAnZmlsZScsXG4gICAgICAncXVlcnknLFxuICAgICAgJ2FuY2hvcidcbiAgICBdLFxuICAgIHE6IHtcbiAgICAgIG5hbWU6ICdxdWVyeUtleScsXG4gICAgICBwYXJzZXI6IC8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZ1xuICAgIH0sXG4gICAgcGFyc2VyOiB7XG4gICAgICBzdHJpY3Q6IC9eKD86KFteOlxcLz8jXSspOik/KD86XFwvXFwvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKT8oKCgoPzpbXj8jXFwvXSpcXC8pKikoW14/I10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS8sXG4gICAgICBsb29zZTogL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvXG4gICAgfVxuICB9XG5cbiAgdmFyIG0gPSBvLnBhcnNlcltvcHRzLnN0cmljdE1vZGUgPyAnc3RyaWN0JyA6ICdsb29zZSddLmV4ZWMoc3RyKVxuICB2YXIgdXJpID0ge31cbiAgdmFyIGkgPSAxNFxuXG4gIHdoaWxlIChpLS0pIHVyaVtvLmtleVtpXV0gPSBtW2ldIHx8ICcnXG5cbiAgdXJpW28ucS5uYW1lXSA9IHt9XG4gIHVyaVtvLmtleVsxMl1dLnJlcGxhY2Uoby5xLnBhcnNlciwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDEpIHVyaVtvLnEubmFtZV1bJDFdID0gJDJcbiAgfSlcblxuICByZXR1cm4gdXJpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyc2VVUklcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuMy4yIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjMuMicsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHsgLy8gaW4gTm9kZS5qcyBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7IC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgeyAvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBvYmpba10ubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKHYpKTtcbiAgICAgICAgfSkuam9pbihzZXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmpba10pKTtcbiAgICAgIH1cbiAgICB9KS5qb2luKHNlcCk7XG5cbiAgfVxuXG4gIGlmICghbmFtZSkgcmV0dXJuICcnO1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArXG4gICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9iaikpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZSgncHVueWNvZGUnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMXG4gICAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy5cbiAgICAvLyBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgbm90IGFsbG93ZWQgZm9yIHZhcmlvdXMgcmVhc29ucy5cbiAgICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksXG5cbiAgICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gICAgYXV0b0VzY2FwZSA9IFsnXFwnJ10uY29uY2F0KHVud2lzZSksXG4gICAgLy8gQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gICAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoXG4gICAgLy8gdGhlbS5cbiAgICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sXG4gICAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gICAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnc3RyaW5nJztcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuICB9LFxuICBpc051bGw6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09IG51bGw7XG4gIH1cbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCIvKiFcbiAqIEBwaXhpL3BvbHlmaWxsIC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL3BvbHlmaWxsIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9seWZpbGwgfSBmcm9tICdlczYtcHJvbWlzZS1wb2x5ZmlsbCc7XG5pbXBvcnQgb2JqZWN0QXNzaWduIGZyb20gJ29iamVjdC1hc3NpZ24nO1xuXG4vLyBTdXBwb3J0IGZvciBJRSA5IC0gMTEgd2hpY2ggZG9lcyBub3QgaW5jbHVkZSBQcm9taXNlc1xuaWYgKCF3aW5kb3cuUHJvbWlzZSkge1xuICAgIHdpbmRvdy5Qcm9taXNlID0gUG9seWZpbGw7XG59XG5cbi8vIFJlZmVyZW5jZXM6XG5pZiAoIU9iamVjdC5hc3NpZ24pIHtcbiAgICBPYmplY3QuYXNzaWduID0gb2JqZWN0QXNzaWduO1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE1Nzk2NzFcbi8vIGh0dHA6Ly91cGRhdGVzLmh0bWw1cm9ja3MuY29tLzIwMTIvMDUvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLUFQSS1ub3ctd2l0aC1zdWItbWlsbGlzZWNvbmQtcHJlY2lzaW9uXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS90aW1oYWxsLzQwNzg2MTRcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS90cmVlL21hc3Rlci9wb2x5ZmlsbHMvcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4vLyBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggQnJvd3NlcmZpeVxuLy8gQnJvd3NlcmlmeSBhdXRvbWF0aWNhbGx5IGRldGVjdHMgdGhlIHVzZSBvZiBgZ2xvYmFsYCBhbmQgcGFzc2VzIHRoZVxuLy8gY29ycmVjdCByZWZlcmVuY2Ugb2YgYGdsb2JhbGAsIGBzZWxmYCwgYW5kIGZpbmFsbHkgYHdpbmRvd2BcbnZhciBPTkVfRlJBTUVfVElNRSA9IDE2O1xuLy8gRGF0ZS5ub3dcbmlmICghKERhdGUubm93ICYmIERhdGUucHJvdG90eXBlLmdldFRpbWUpKSB7XG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiBub3coKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9O1xufVxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoISh3aW5kb3cucGVyZm9ybWFuY2UgJiYgd2luZG93LnBlcmZvcm1hbmNlLm5vdykpIHtcbiAgICB2YXIgc3RhcnRUaW1lXzEgPSBEYXRlLm5vdygpO1xuICAgIGlmICghd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cbiAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZV8xOyB9O1xufVxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG52YXIgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG4gICAgdmFyIHAgPSB2ZW5kb3JzW3hdO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbcCArIFwiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvd1twICsgXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXVxuICAgICAgICB8fCB3aW5kb3dbcCArIFwiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xufVxuaWYgKCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNhbGxiYWNrICsgXCJpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgZGVsYXkgPSBPTkVfRlJBTUVfVElNRSArIGxhc3RUaW1lIC0gY3VycmVudFRpbWU7XG4gICAgICAgIGlmIChkZWxheSA8IDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cbmlmICghd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGlkKSB7IHJldHVybiBjbGVhclRpbWVvdXQoaWQpOyB9O1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXG5pZiAoIU1hdGguc2lnbikge1xuICAgIE1hdGguc2lnbiA9IGZ1bmN0aW9uIG1hdGhTaWduKHgpIHtcbiAgICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4ID4gMCA/IDEgOiAtMTtcbiAgICB9O1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzSW50ZWdlclxuaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKSB7XG4gICAgTnVtYmVyLmlzSW50ZWdlciA9IGZ1bmN0aW9uIG51bWJlcklzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuICAgIH07XG59XG5cbmlmICghd2luZG93LkFycmF5QnVmZmVyKSB7XG4gICAgd2luZG93LkFycmF5QnVmZmVyID0gQXJyYXk7XG59XG5pZiAoIXdpbmRvdy5GbG9hdDMyQXJyYXkpIHtcbiAgICB3aW5kb3cuRmxvYXQzMkFycmF5ID0gQXJyYXk7XG59XG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MzJBcnJheSA9IEFycmF5O1xufVxuaWYgKCF3aW5kb3cuVWludDE2QXJyYXkpIHtcbiAgICB3aW5kb3cuVWludDE2QXJyYXkgPSBBcnJheTtcbn1cbmlmICghd2luZG93LlVpbnQ4QXJyYXkpIHtcbiAgICB3aW5kb3cuVWludDhBcnJheSA9IEFycmF5O1xufVxuaWYgKCF3aW5kb3cuSW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5JbnQzMkFycmF5ID0gQXJyYXk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb2x5ZmlsbC5lcy5qcy5tYXBcbiIsInZhciBhcHBsZUlwaG9uZSA9IC9pUGhvbmUvaTtcbnZhciBhcHBsZUlwb2QgPSAvaVBvZC9pO1xudmFyIGFwcGxlVGFibGV0ID0gL2lQYWQvaTtcbnZhciBhcHBsZVVuaXZlcnNhbCA9IC9cXGJpT1MtdW5pdmVyc2FsKD86LispTWFjXFxiL2k7XG52YXIgYW5kcm9pZFBob25lID0gL1xcYkFuZHJvaWQoPzouKylNb2JpbGVcXGIvaTtcbnZhciBhbmRyb2lkVGFibGV0ID0gL0FuZHJvaWQvaTtcbnZhciBhbWF6b25QaG9uZSA9IC8oPzpTRDQ5MzBVUnxcXGJTaWxrKD86LispTW9iaWxlXFxiKS9pO1xudmFyIGFtYXpvblRhYmxldCA9IC9TaWxrL2k7XG52YXIgd2luZG93c1Bob25lID0gL1dpbmRvd3MgUGhvbmUvaTtcbnZhciB3aW5kb3dzVGFibGV0ID0gL1xcYldpbmRvd3MoPzouKylBUk1cXGIvaTtcbnZhciBvdGhlckJsYWNrQmVycnkgPSAvQmxhY2tCZXJyeS9pO1xudmFyIG90aGVyQmxhY2tCZXJyeTEwID0gL0JCMTAvaTtcbnZhciBvdGhlck9wZXJhID0gL09wZXJhIE1pbmkvaTtcbnZhciBvdGhlckNocm9tZSA9IC9cXGIoQ3JpT1N8Q2hyb21lKSg/Oi4rKU1vYmlsZS9pO1xudmFyIG90aGVyRmlyZWZveCA9IC9Nb2JpbGUoPzouKylGaXJlZm94XFxiL2k7XG52YXIgaXNBcHBsZVRhYmxldE9uSW9zMTMgPSBmdW5jdGlvbiAobmF2aWdhdG9yKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBuYXZpZ2F0b3IucGxhdGZvcm0gPT09ICdNYWNJbnRlbCcgJiZcbiAgICAgICAgdHlwZW9mIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMSAmJlxuICAgICAgICB0eXBlb2YgTVNTdHJlYW0gPT09ICd1bmRlZmluZWQnKTtcbn07XG5mdW5jdGlvbiBjcmVhdGVNYXRjaCh1c2VyQWdlbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlZ2V4KSB7IHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7IH07XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc01vYmlsZShwYXJhbSkge1xuICAgIHZhciBuYXYgPSB7XG4gICAgICAgIHVzZXJBZ2VudDogJycsXG4gICAgICAgIHBsYXRmb3JtOiAnJyxcbiAgICAgICAgbWF4VG91Y2hQb2ludHM6IDBcbiAgICB9O1xuICAgIGlmICghcGFyYW0gJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmF2ID0ge1xuICAgICAgICAgICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgcGxhdGZvcm06IG5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgIG1heFRvdWNoUG9pbnRzOiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcGFyYW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG5hdi51c2VyQWdlbnQgPSBwYXJhbTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGFyYW0gJiYgcGFyYW0udXNlckFnZW50KSB7XG4gICAgICAgIG5hdiA9IHtcbiAgICAgICAgICAgIHVzZXJBZ2VudDogcGFyYW0udXNlckFnZW50LFxuICAgICAgICAgICAgcGxhdGZvcm06IHBhcmFtLnBsYXRmb3JtLFxuICAgICAgICAgICAgbWF4VG91Y2hQb2ludHM6IHBhcmFtLm1heFRvdWNoUG9pbnRzIHx8IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdi51c2VyQWdlbnQ7XG4gICAgdmFyIHRtcCA9IHVzZXJBZ2VudC5zcGxpdCgnW0ZCQU4nKTtcbiAgICBpZiAodHlwZW9mIHRtcFsxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXNlckFnZW50ID0gdG1wWzBdO1xuICAgIH1cbiAgICB0bXAgPSB1c2VyQWdlbnQuc3BsaXQoJ1R3aXR0ZXInKTtcbiAgICBpZiAodHlwZW9mIHRtcFsxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdXNlckFnZW50ID0gdG1wWzBdO1xuICAgIH1cbiAgICB2YXIgbWF0Y2ggPSBjcmVhdGVNYXRjaCh1c2VyQWdlbnQpO1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIGFwcGxlOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2goYXBwbGVJcGhvbmUpICYmICFtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgaXBvZDogbWF0Y2goYXBwbGVJcG9kKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFwcGxlSXBob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhcHBsZVRhYmxldCkgfHwgaXNBcHBsZVRhYmxldE9uSW9zMTMobmF2KSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2god2luZG93c1Bob25lKSxcbiAgICAgICAgICAgIHVuaXZlcnNhbDogbWF0Y2goYXBwbGVVbml2ZXJzYWwpLFxuICAgICAgICAgICAgZGV2aWNlOiAobWF0Y2goYXBwbGVJcGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVJcG9kKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlVGFibGV0KSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKGFwcGxlVW5pdmVyc2FsKSB8fFxuICAgICAgICAgICAgICAgIGlzQXBwbGVUYWJsZXRPbklvczEzKG5hdikpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKHdpbmRvd3NQaG9uZSlcbiAgICAgICAgfSxcbiAgICAgICAgYW1hem9uOiB7XG4gICAgICAgICAgICBwaG9uZTogbWF0Y2goYW1hem9uUGhvbmUpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uUGhvbmUpICYmIG1hdGNoKGFtYXpvblRhYmxldCksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFtYXpvblBob25lKSB8fCBtYXRjaChhbWF6b25UYWJsZXQpXG4gICAgICAgIH0sXG4gICAgICAgIGFuZHJvaWQ6IHtcbiAgICAgICAgICAgIHBob25lOiAoIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiYgbWF0Y2goYW1hem9uUGhvbmUpKSB8fFxuICAgICAgICAgICAgICAgICghbWF0Y2god2luZG93c1Bob25lKSAmJiBtYXRjaChhbmRyb2lkUGhvbmUpKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKHdpbmRvd3NQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2goYW1hem9uUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoKGFuZHJvaWRQaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAobWF0Y2goYW1hem9uVGFibGV0KSB8fCBtYXRjaChhbmRyb2lkVGFibGV0KSksXG4gICAgICAgICAgICBkZXZpY2U6ICghbWF0Y2god2luZG93c1Bob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhbWF6b25QaG9uZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW1hem9uVGFibGV0KSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbmRyb2lkUGhvbmUpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFuZHJvaWRUYWJsZXQpKSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaCgvXFxib2todHRwXFxiL2kpXG4gICAgICAgIH0sXG4gICAgICAgIHdpbmRvd3M6IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgdGFibGV0OiBtYXRjaCh3aW5kb3dzVGFibGV0KSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2god2luZG93c1Bob25lKSB8fCBtYXRjaCh3aW5kb3dzVGFibGV0KVxuICAgICAgICB9LFxuICAgICAgICBvdGhlcjoge1xuICAgICAgICAgICAgYmxhY2tiZXJyeTogbWF0Y2gob3RoZXJCbGFja0JlcnJ5KSxcbiAgICAgICAgICAgIGJsYWNrYmVycnkxMDogbWF0Y2gob3RoZXJCbGFja0JlcnJ5MTApLFxuICAgICAgICAgICAgb3BlcmE6IG1hdGNoKG90aGVyT3BlcmEpLFxuICAgICAgICAgICAgZmlyZWZveDogbWF0Y2gob3RoZXJGaXJlZm94KSxcbiAgICAgICAgICAgIGNocm9tZTogbWF0Y2gob3RoZXJDaHJvbWUpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChvdGhlckJsYWNrQmVycnkpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJCbGFja0JlcnJ5MTApIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJPcGVyYSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckZpcmVmb3gpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2gob3RoZXJDaHJvbWUpXG4gICAgICAgIH0sXG4gICAgICAgIGFueTogZmFsc2UsXG4gICAgICAgIHBob25lOiBmYWxzZSxcbiAgICAgICAgdGFibGV0OiBmYWxzZVxuICAgIH07XG4gICAgcmVzdWx0LmFueSA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC5hbmRyb2lkLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0LndpbmRvd3MuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQub3RoZXIuZGV2aWNlO1xuICAgIHJlc3VsdC5waG9uZSA9XG4gICAgICAgIHJlc3VsdC5hcHBsZS5waG9uZSB8fCByZXN1bHQuYW5kcm9pZC5waG9uZSB8fCByZXN1bHQud2luZG93cy5waG9uZTtcbiAgICByZXN1bHQudGFibGV0ID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLnRhYmxldCB8fCByZXN1bHQuYW5kcm9pZC50YWJsZXQgfHwgcmVzdWx0LndpbmRvd3MudGFibGV0O1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc01vYmlsZS5qcy5tYXAiLCIvKiFcbiAqIEBwaXhpL2NvbnN0YW50cyAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9jb25zdGFudHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRTtcbihmdW5jdGlvbiAoUkVOREVSRVJfVFlQRSkge1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiQ0FOVkFTXCJdID0gMl0gPSBcIkNBTlZBU1wiO1xufSkoUkVOREVSRVJfVFlQRSB8fCAoUkVOREVSRVJfVFlQRSA9IHt9KSk7XG4vKipcbiAqIEJpdHdpc2UgT1Igb2YgbWFza3MgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCVUZGRVJfQklUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIEluZGljYXRlcyB0aGUgYnVmZmVycyBjdXJyZW50bHkgZW5hYmxlZCBmb3IgY29sb3Igd3JpdGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSCAtIEluZGljYXRlcyB0aGUgZGVwdGggYnVmZmVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBJbmRpY2F0ZXMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICovXG52YXIgQlVGRkVSX0JJVFM7XG4oZnVuY3Rpb24gKEJVRkZFUl9CSVRTKSB7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xufSkoQlVGRkVSX0JJVFMgfHwgKEJVRkZFUl9CSVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNVQlRSQUNUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFhPUlxuICovXG52YXIgQkxFTkRfTU9ERVM7XG4oZnVuY3Rpb24gKEJMRU5EX01PREVTKSB7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xufSkoQkxFTkRfTU9ERVMgfHwgKEJMRU5EX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVM7XG4oZnVuY3Rpb24gKERSQVdfTU9ERVMpIHtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJQT0lOVFNcIl0gPSAwXSA9IFwiUE9JTlRTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORVNcIl0gPSAxXSA9IFwiTElORVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX0xPT1BcIl0gPSAyXSA9IFwiTElORV9MT09QXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9TVFJJUFwiXSA9IDNdID0gXCJMSU5FX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVTXCJdID0gNF0gPSBcIlRSSUFOR0xFU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX1NUUklQXCJdID0gNV0gPSBcIlRSSUFOR0xFX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfRkFOXCJdID0gNl0gPSBcIlRSSUFOR0xFX0ZBTlwiO1xufSkoRFJBV19NT0RFUyB8fCAoRFJBV19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTO1xuKGZ1bmN0aW9uIChGT1JNQVRTKSB7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCQVwiXSA9IDY0MDhdID0gXCJSR0JBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCXCJdID0gNjQwN10gPSBcIlJHQlwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkFMUEhBXCJdID0gNjQwNl0gPSBcIkFMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFXCJdID0gNjQwOV0gPSBcIkxVTUlOQU5DRVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRV9BTFBIQVwiXSA9IDY0MTBdID0gXCJMVU1JTkFOQ0VfQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9DT01QT05FTlRcIl0gPSA2NDAyXSA9IFwiREVQVEhfQ09NUE9ORU5UXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfU1RFTkNJTFwiXSA9IDM0MDQxXSA9IFwiREVQVEhfU1RFTkNJTFwiO1xufSkoRk9STUFUUyB8fCAoRk9STUFUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGFyZ2V0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkQ9MzU1M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVA9MzQwNjdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEX0FSUkFZPTM1ODY2XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZPTM0MDcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aPTM0MDc0XG4gKi9cbnZhciBUQVJHRVRTO1xuKGZ1bmN0aW9uIChUQVJHRVRTKSB7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRFwiXSA9IDM1NTNdID0gXCJURVhUVVJFXzJEXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUFwiXSA9IDM0MDY3XSA9IFwiVEVYVFVSRV9DVUJFX01BUFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRfQVJSQVlcIl0gPSAzNTg2Nl0gPSBcIlRFWFRVUkVfMkRfQVJSQVlcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIl0gPSAzNDA2OV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiXSA9IDM0MDcwXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCJdID0gMzQwNzFdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIl0gPSAzNDA3Ml0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiXSA9IDM0MDczXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCJdID0gMzQwNzRdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIjtcbn0pKFRBUkdFVFMgfHwgKFRBUkdFVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbnZhciBUWVBFUztcbihmdW5jdGlvbiAoVFlQRVMpIHtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0JZVEVcIl0gPSA1MTIxXSA9IFwiVU5TSUdORURfQllURVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRcIl0gPSA1MTIzXSA9IFwiVU5TSUdORURfU0hPUlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCJdID0gMzM2MzVdID0gXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiXSA9IDMyODE5XSA9IFwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXSA9IDMyODIwXSA9IFwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiRkxPQVRcIl0gPSA1MTI2XSA9IFwiRkxPQVRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkhBTEZfRkxPQVRcIl0gPSAzNjE5M10gPSBcIkhBTEZfRkxPQVRcIjtcbn0pKFRZUEVTIHx8IChUWVBFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVM7XG4oZnVuY3Rpb24gKFNDQUxFX01PREVTKSB7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJORUFSRVNUXCJdID0gMF0gPSBcIk5FQVJFU1RcIjtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIkxJTkVBUlwiXSA9IDFdID0gXCJMSU5FQVJcIjtcbn0pKFNDQUxFX01PREVTIHx8IChTQ0FMRV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTO1xuKGZ1bmN0aW9uIChXUkFQX01PREVTKSB7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiQ0xBTVBcIl0gPSAzMzA3MV0gPSBcIkNMQU1QXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiUkVQRUFUXCJdID0gMTA0OTddID0gXCJSRVBFQVRcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJNSVJST1JFRF9SRVBFQVRcIl0gPSAzMzY0OF0gPSBcIk1JUlJPUkVEX1JFUEVBVFwiO1xufSkoV1JBUF9NT0RFUyB8fCAoV1JBUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIE1pcG1hcCBmaWx0ZXJpbmcgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30gYWZmZWN0cyBkZWZhdWx0IHRleHR1cmUgZmlsdGVyaW5nLlxuICogTWlwbWFwcyBhcmUgZ2VuZXJhdGVkIGZvciBhIGJhc2VUZXh0dXJlIGlmIGl0cyBgbWlwbWFwYCBmaWVsZCBpcyBgT05gLFxuICogb3IgaXRzIGBQT1cyYCBhbmQgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3dlcnMgb2YgMi5cbiAqIER1ZSB0byBwbGF0Zm9ybSByZXN0cmljdGlvbiwgYE9OYCBvcHRpb24gd2lsbCB3b3JrIGxpa2UgYFBPVzJgIGZvciB3ZWJnbC0xLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIE1JUE1BUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gT0ZGIC0gTm8gbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPVzIgLSBHZW5lcmF0ZSBtaXBtYXBzIGlmIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OIC0gQWx3YXlzIGdlbmVyYXRlIG1pcG1hcHNcbiAqL1xudmFyIE1JUE1BUF9NT0RFUztcbihmdW5jdGlvbiAoTUlQTUFQX01PREVTKSB7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9GRlwiXSA9IDBdID0gXCJPRkZcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiUE9XMlwiXSA9IDFdID0gXCJQT1cyXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OXCJdID0gMl0gPSBcIk9OXCI7XG59KShNSVBNQVBfTU9ERVMgfHwgKE1JUE1BUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byB0cmVhdCB0ZXh0dXJlcyB3aXRoIHByZW11bHRpcGxpZWQgYWxwaGFcbiAqXG4gKiBAbmFtZSBBTFBIQV9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9fUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgbGVhdmUgaXQgbGlrZSB0aGF0LlxuICogIE9wdGlvbiBmb3IgY29tcHJlc3NlZCBhbmQgZGF0YSB0ZXh0dXJlcyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdHlwZWQgYXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExZX09OX1VQTE9BRCAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgcHJlbXVsdGlwbHkgb24gdXBsb2FkLlxuICogIERlZmF1bHQgb3B0aW9uLCB1c2VkIGZvciBhbGwgbG9hZGVkIGltYWdlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIGFscmVhZHkgcHJlbXVsdGlwbGllZFxuICogIEV4YW1wbGU6IHNwaW5lIGF0bGFzZXMgd2l0aCBgX3BtYWAgc3VmZml4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5QTSAtIEFsaWFzIGZvciBOT19QUkVNVUxUSVBMSUVEX0FMUEhBLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOUEFDSyAtIERlZmF1bHQgb3B0aW9uLCBhbGlhcyBmb3IgUFJFTVVMVElQTFlfT05fVVBMT0FELlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBNQSAtIEFsaWFzIGZvciBQUkVNVUxUSVBMSUVEX0FMUEhBLlxuICovXG52YXIgQUxQSEFfTU9ERVM7XG4oZnVuY3Rpb24gKEFMUEhBX01PREVTKSB7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOUE1cIl0gPSAwXSA9IFwiTlBNXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJVTlBBQ0tcIl0gPSAxXSA9IFwiVU5QQUNLXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQTUFcIl0gPSAyXSA9IFwiUE1BXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMF0gPSBcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiXSA9IDFdID0gXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExZX0FMUEhBXCI7XG59KShBTFBIQV9NT0RFUyB8fCAoQUxQSEFfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBIb3cgdG8gY2xlYXIgcmVuZGVyVGV4dHVyZXMgaW4gZmlsdGVyXG4gKlxuICogQG5hbWUgQ0xFQVJfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMRU5EIC0gUHJlc2VydmUgdGhlIGluZm9ybWF0aW9uIGluIHRoZSB0ZXh0dXJlLCBibGVuZCBhYm92ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMRUFSIC0gTXVzdCB1c2UgYGdsLmNsZWFyYCBvcGVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTElUIC0gQ2xlYXIgb3IgYmxpdCBpdCwgZGVwZW5kcyBvbiBkZXZpY2UgYW5kIGxldmVsIG9mIHBhcmFub2lhXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk8gLSBBbGlhcyBmb3IgQkxFTkQsIHNhbWUgYXMgYGZhbHNlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gWUVTIC0gQWxpYXMgZm9yIENMRUFSLCBzYW1lIGFzIGB0cnVlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEFsaWFzIGZvciBCTElUXG4gKi9cbnZhciBDTEVBUl9NT0RFUztcbihmdW5jdGlvbiAoQ0xFQVJfTU9ERVMpIHtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJZRVNcIl0gPSAxXSA9IFwiWUVTXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJBVVRPXCJdID0gMl0gPSBcIkFVVE9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMRU5EXCJdID0gMF0gPSBcIkJMRU5EXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJDTEVBUlwiXSA9IDFdID0gXCJDTEVBUlwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxJVFwiXSA9IDJdID0gXCJCTElUXCI7XG59KShDTEVBUl9NT0RFUyB8fCAoQ0xFQVJfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBHQ19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIGhhcHBlbiBwZXJpb2RpY2FsbHkgYXV0b21hdGljYWxseVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1BTlVBTCAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIG5lZWQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5XG4gKi9cbnZhciBHQ19NT0RFUztcbihmdW5jdGlvbiAoR0NfTU9ERVMpIHtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIkFVVE9cIl0gPSAwXSA9IFwiQVVUT1wiO1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiTUFOVUFMXCJdID0gMV0gPSBcIk1BTlVBTFwiO1xufSkoR0NfTU9ERVMgfHwgKEdDX01PREVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY29uc3RhbnRcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTjtcbihmdW5jdGlvbiAoUFJFQ0lTSU9OKSB7XG4gICAgUFJFQ0lTSU9OW1wiTE9XXCJdID0gXCJsb3dwXCI7XG4gICAgUFJFQ0lTSU9OW1wiTUVESVVNXCJdID0gXCJtZWRpdW1wXCI7XG4gICAgUFJFQ0lTSU9OW1wiSElHSFwiXSA9IFwiaGlnaHBcIjtcbn0pKFBSRUNJU0lPTiB8fCAoUFJFQ0lTSU9OID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtYXNrIGltcGxlbWVudGF0aW9ucy5cbiAqIFdlIHVzZSBgdHlwZWAgc3VmZml4IGJlY2F1c2UgaXQgbGVhZHMgdG8gdmVyeSBkaWZmZXJlbnQgYmVoYXZpb3Vyc1xuICpcbiAqIEBuYW1lIE1BU0tfVFlQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBNYXNrIGlzIGlnbm9yZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ0lTU09SIC0gU2Npc3NvciBtYXNrLCByZWN0YW5nbGUgb24gc2NyZWVuLCBjaGVhcFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBTdGVuY2lsIG1hc2ssIDEtYml0LCBtZWRpdW0sIHdvcmtzIG9ubHkgaWYgcmVuZGVyZXIgc3VwcG9ydHMgc3RlbmNpbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNQUklURSAtIE1hc2sgdGhhdCB1c2VzIFNwcml0ZU1hc2tGaWx0ZXIsIHVzZXMgdGVtcG9yYXJ5IFJlbmRlclRleHR1cmVcbiAqL1xudmFyIE1BU0tfVFlQRVM7XG4oZnVuY3Rpb24gKE1BU0tfVFlQRVMpIHtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTQ0lTU09SXCJdID0gMV0gPSBcIlNDSVNTT1JcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTVEVOQ0lMXCJdID0gMl0gPSBcIlNURU5DSUxcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTUFJJVEVcIl0gPSAzXSA9IFwiU1BSSVRFXCI7XG59KShNQVNLX1RZUEVTIHx8IChNQVNLX1RZUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtdWx0aS1zYW1wbGluZyBhbnRpYWxpYXNpbmcuXG4gKlxuICogQHNlZSBQSVhJLkZyYW1lYnVmZmVyI211bHRpc2FtcGxlXG4gKlxuICogQG5hbWUgTVNBQV9RVUFMSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTm8gbXVsdGlzYW1wbGluZyBmb3IgdGhpcyByZW5kZXJUZXh0dXJlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XIC0gVHJ5IDIgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE1FRElVTSAtIFRyeSA0IHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIIC0gVHJ5IDggc2FtcGxlc1xuICovXG52YXIgTVNBQV9RVUFMSVRZO1xuKGZ1bmN0aW9uIChNU0FBX1FVQUxJVFkpIHtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkxPV1wiXSA9IDJdID0gXCJMT1dcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTUVESVVNXCJdID0gNF0gPSBcIk1FRElVTVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJISUdIXCJdID0gOF0gPSBcIkhJR0hcIjtcbn0pKE1TQUFfUVVBTElUWSB8fCAoTVNBQV9RVUFMSVRZID0ge30pKTtcblxuZXhwb3J0IHsgQUxQSEFfTU9ERVMsIEJMRU5EX01PREVTLCBCVUZGRVJfQklUUywgQ0xFQVJfTU9ERVMsIERSQVdfTU9ERVMsIEVOViwgRk9STUFUUywgR0NfTU9ERVMsIE1BU0tfVFlQRVMsIE1JUE1BUF9NT0RFUywgTVNBQV9RVUFMSVRZLCBQUkVDSVNJT04sIFJFTkRFUkVSX1RZUEUsIFNDQUxFX01PREVTLCBUQVJHRVRTLCBUWVBFUywgV1JBUF9NT0RFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zZXR0aW5ncyAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9zZXR0aW5ncyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBpc01vYmlsZUNhbGwgZnJvbSAnaXNtb2JpbGVqcyc7XG5cbi8vIFRoZSBFU00vQ0pTIHZlcnNpb25zIG9mIGlzbW9iaWxlanMgb25seVxudmFyIGlzTW9iaWxlID0gaXNNb2JpbGVDYWxsKHdpbmRvdy5uYXZpZ2F0b3IpO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHJlY29tbWVuZGVkIHRleHR1cmUgdW5pdHMgdG8gdXNlLlxuICogSW4gdGhlb3J5IHRoZSBiaWdnZXIgdGhlIGJldHRlciwgYW5kIGZvciBkZXNrdG9wIHdlJ2xsIHVzZSBhcyBtYW55IGFzIHdlIGNhbi5cbiAqIEJ1dCBzb21lIG1vYmlsZSBkZXZpY2VzIHNsb3cgZG93biBpZiB0aGVyZSBpcyB0byBtYW55IGJyYW5jaGVzIGluIHRoZSBzaGFkZXIuXG4gKiBTbyBpbiBwcmFjdGljZSB0aGVyZSBzZWVtcyB0byBiZSBhIHN3ZWV0IHNwb3Qgc2l6ZSB0aGF0IHZhcmllcyBkZXBlbmRpbmcgb24gdGhlIGRldmljZS5cbiAqXG4gKiBJbiB2NCwgYWxsIG1vYmlsZSBkZXZpY2VzIHdlcmUgbGltaXRlZCB0byA0IHRleHR1cmUgdW5pdHMgYmVjYXVzZSBmb3IgdGhpcy5cbiAqIEluIHY1LCB3ZSBhbGxvdyBhbGwgdGV4dHVyZSB1bml0cyB0byBiZSB1c2VkIG9uIG1vZGVybiBBcHBsZSBvciBBbmRyb2lkIGRldmljZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG1heFJlY29tbWVuZGVkVGV4dHVyZXMobWF4KSB7XG4gICAgdmFyIGFsbG93TWF4ID0gdHJ1ZTtcbiAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKSB7XG4gICAgICAgIGlmIChpc01vYmlsZS5hcHBsZS5kZXZpY2UpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IChuYXZpZ2F0b3IudXNlckFnZW50KS5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKT8vKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhciBtYWpvclZlcnNpb24gPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHRleHR1cmUgdW5pdHMgb24gZGV2aWNlcyBiZWxvdyBpT1MgMTEsIHdoaWNoIHdpbGwgYmUgb2xkZXIgaGFyZHdhcmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uIDwgMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTW9iaWxlLmFuZHJvaWQuZGV2aWNlKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSAobmF2aWdhdG9yLnVzZXJBZ2VudCkubWF0Y2goL0FuZHJvaWRcXHMoWzAtOS5dKikvKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIHZhciBtYWpvclZlcnNpb24gPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHRleHR1cmUgdW5pdHMgb24gZGV2aWNlcyBiZWxvdyBBbmRyb2lkIDcgKE5vdWdhdCksIHdoaWNoIHdpbGwgYmUgb2xkZXIgaGFyZHdhcmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uIDwgNykge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd01heCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWxsb3dNYXggPyBtYXggOiA0O1xufVxuXG4vKipcbiAqIFVwbG9hZGluZyB0aGUgc2FtZSBidWZmZXIgbXVsdGlwbGUgdGltZXMgaW4gYSBzaW5nbGUgZnJhbWUgY2FuIGNhdXNlIHBlcmZvcm1hbmNlIGlzc3Vlcy5cbiAqIEFwcGFyZW50IG9uIGlPUyBzbyBvbmx5IGNoZWNrIGZvciB0aGF0IGF0IHRoZSBtb21lbnRcbiAqIFRoaXMgY2hlY2sgbWF5IGJlY29tZSBtb3JlIGNvbXBsZXggaWYgdGhpcyBpc3N1ZSBwb3BzIHVwIGVsc2V3aGVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNhblVwbG9hZFNhbWVCdWZmZXIoKSB7XG4gICAgcmV0dXJuICFpc01vYmlsZS5hcHBsZS5kZXZpY2U7XG59XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcHJlY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xudmFyIHNldHRpbmdzID0ge1xuICAgIC8qKlxuICAgICAqIElmIHNldCB0byB0cnVlIFdlYkdMIHdpbGwgYXR0ZW1wdCBtYWtlIHRleHR1cmVzIG1pbXBhcGVkIGJ5IGRlZmF1bHQuXG4gICAgICogTWlwbWFwcGluZyB3aWxsIG9ubHkgc3VjY2VlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIHVwbG9hZGVkIGhhcyBwb3dlciBvZiB0d28gZGltZW5zaW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBNSVBNQVBfVEVYVFVSRVNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLk1JUE1BUF9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLk1JUE1BUF9NT0RFUy5QT1cyXG4gICAgICovXG4gICAgTUlQTUFQX1RFWFRVUkVTOiAxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgYW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVzLlxuICAgICAqIFVzdWFsbHkgZnJvbSAwIHRvIDE2XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQU5JU09UUk9QSUNfTEVWRUxcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIEFOSVNPVFJPUElDX0xFVkVMOiAwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgUkVTT0xVVElPTjogMSxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGZpbHRlciByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEZJTFRFUl9SRVNPTFVUSU9OXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBGSUxURVJfUkVTT0xVVElPTjogMSxcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSB0ZXh0dXJlcyB0aGF0IHRoaXMgZGV2aWNlIHN1cHBvcnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMzJcbiAgICAgKi9cbiAgICBTUFJJVEVfTUFYX1RFWFRVUkVTOiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKDMyKSxcbiAgICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBzcHJpdGUgYmF0Y2ggc2l6ZS5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGFpbXMgdG8gYmFsYW5jZSBkZXNrdG9wIGFuZCBtb2JpbGUgZGV2aWNlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfQkFUQ0hfU0laRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA0MDk2XG4gICAgICovXG4gICAgU1BSSVRFX0JBVENIX1NJWkU6IDQwOTYsXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnMgaWYgbm9uZSBhcmUgc3VwcGxpZWQgdG8ge0BsaW5rIFBJWEkuUmVuZGVyZXJ9XG4gICAgICogb3Ige0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFJFTkRFUl9PUFRJT05TXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IHZpZXc9bnVsbFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uPTFcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFudGlhbGlhcz1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b0RlbnNpdHk9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zcGFyZW50PWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJhY2tncm91bmRDb2xvcj0weDAwMDAwMFxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQ9NjAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBsZWdhY3k9ZmFsc2VcbiAgICAgKi9cbiAgICBSRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICB2aWV3OiBudWxsLFxuICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICBhdXRvRGVuc2l0eTogZmFsc2UsXG4gICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICBsZWdhY3k6IGZhbHNlLFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5HQ19NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkdDX01PREVTLkFVVE9cbiAgICAgKi9cbiAgICBHQ19NT0RFOiAwLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heCBpZGxlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9JRExFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDM2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfSURMRTogNjAgKiA2MCxcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9DSEVDS19DT1VOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFdSQVBfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuV1JBUF9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLldSQVBfTU9ERVMuQ0xBTVBcbiAgICAgKi9cbiAgICBXUkFQX01PREU6IDMzMDcxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc2NhbGUgbW9kZSBmb3IgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU0NBTEVfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVJcbiAgICAgKi9cbiAgICBTQ0FMRV9NT0RFOiAxLFxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fVkVSVEVYXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogaU9TIGlzIGJlc3Qgc2V0IGF0IGhpZ2hwIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzM3NDJcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fRlJBR01FTlRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5NRURJVU1cbiAgICAgKi9cbiAgICBQUkVDSVNJT05fRlJBR01FTlQ6IGlzTW9iaWxlLmFwcGxlLmRldmljZSA/ICdoaWdocCcgOiAnbWVkaXVtcCcsXG4gICAgLyoqXG4gICAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogY2FuVXBsb2FkU2FtZUJ1ZmZlcigpLFxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYml0bWFwIGNyZWF0aW9uIGJlZm9yZSBpbWFnZSBsb2FkLiBUaGlzIGZlYXR1cmUgaXMgZXhwZXJpbWVudGFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgUk9VTkRfUElYRUxTOiBmYWxzZSxcbn07XG5cbmV4cG9ydCB7IGlzTW9iaWxlLCBzZXR0aW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0dGluZ3MuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3V0aWxzIC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL3V0aWxzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBpc01vYmlsZSB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGVhcmN1dCB9IGZyb20gJ2VhcmN1dCc7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3VybCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHVybCB9IGZyb20gJ3VybCc7XG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogVGhlIHByZWZpeCB0aGF0IGRlbm90ZXMgYSBVUkwgaXMgZm9yIGEgcmV0aW5hIGFzc2V0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFJFVElOQV9QUkVGSVhcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7UmVnRXhwfVxuICogQGRlZmF1bHQgL0AoWzAtOVxcLl0rKXgvXG4gKiBAZXhhbXBsZSBgQDJ4YFxuICovXG5zZXR0aW5ncy5SRVRJTkFfUFJFRklYID0gL0AoWzAtOVxcLl0rKXgvO1xuLyoqXG4gKiBTaG91bGQgdGhlIGBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0YCBmbGFnIGJlIGVuYWJsZWQgYXMgYSBjb250ZXh0IG9wdGlvbiB1c2VkIGluIHRoZSBgaXNXZWJHTFN1cHBvcnRlZGAgZnVuY3Rpb24uXG4gKiBGb3IgbW9zdCBzY2VuYXJpb3MgdGhpcyBzaG91bGQgYmUgbGVmdCBhcyB0cnVlLCBhcyBvdGhlcndpc2UgdGhlIHVzZXIgbWF5IGhhdmUgYSBwb29yIGV4cGVyaWVuY2UuXG4gKiBIb3dldmVyLCBpdCBjYW4gYmUgdXNlZnVsIHRvIGRpc2FibGUgdW5kZXIgY2VydGFpbiBzY2VuYXJpb3MsIHN1Y2ggYXMgaGVhZGxlc3MgdW5pdCB0ZXN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBGQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVFxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgdHJ1ZVxuICovXG5zZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCA9IHRydWU7XG5cbnZhciBzYWlkSGVsbG8gPSBmYWxzZTtcbnZhciBWRVJTSU9OID0gJzUuMy44Jztcbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZnVuY3Rpb24gc2tpcEhlbGxvKCkge1xuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG4vKipcbiAqIExvZ3Mgb3V0IHRoZSB2ZXJzaW9uIGFuZCByZW5kZXJlciBpbmZvcm1hdGlvbiBmb3IgdGhpcyBydW5uaW5nIGluc3RhbmNlIG9mIFBJWEkuXG4gKiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZWUgdGhpcyBtZXNzYWdlIHlvdSBjYW4gcnVuIGBQSVhJLnV0aWxzLnNraXBIZWxsbygpYCBiZWZvcmVcbiAqIGNyZWF0aW5nIHlvdXIgcmVuZGVyZXIuIEtlZXAgaW4gbWluZCB0aGF0IGRvaW5nIHRoYXQgd2lsbCBmb3JldmVyIG1ha2UgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoc2FpZEhlbGxvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgIHZhciBhcmdzID0gW1xuICAgICAgICAgICAgXCJcXG4gJWMgJWMgJWMgUGl4aUpTIFwiICsgVkVSU0lPTiArIFwiIC0gXFx1MjczMCBcIiArIHR5cGUgKyBcIiBcXHUyNzMwICAlYyAgJWMgIGh0dHA6Ly93d3cucGl4aWpzLmNvbS8gICVjICVjIFxcdTI2NjUlY1xcdTI2NjUlY1xcdTI2NjUgXFxuXFxuXCIsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnIF07XG4gICAgICAgIChfYSA9IHdpbmRvdy5jb25zb2xlKS5sb2cuYXBwbHkoX2EsIGFyZ3MpO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coXCJQaXhpSlMgXCIgKyBWRVJTSU9OICsgXCIgLSBcIiArIHR5cGUgKyBcIiAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9cIik7XG4gICAgfVxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbnZhciBzdXBwb3J0ZWQ7XG4vKipcbiAqIEhlbHBlciBmb3IgY2hlY2tpbmcgZm9yIFdlYkdMIHN1cHBvcnQuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkXG4gKiBAcmV0dXJuIHtib29sZWFufSBJcyBXZWJHTCBzdXBwb3J0ZWQuXG4gKi9cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IChmdW5jdGlvbiBzdXBwb3J0ZWQoKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBzZXR0aW5ncy5GQUlMX0lGX01BSk9SX1BFUkZPUk1BTkNFX0NBVkVBVCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSAoY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgY29udGV4dE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBjb250ZXh0T3B0aW9ucykpO1xuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcbiAgICAgICAgICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvc2VDb250ZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyIHRvIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyAobnVtYmVycyBmcm9tIDAuMCB0byAxLjApLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLmhleDJyZ2IoMHhmZmZmZmYpOyAvLyByZXR1cm5zIFsxLCAxLCAxXVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgycmdiXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gVGhlIGhleGFkZWNpbWFsIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gIHtudW1iZXJbXX0gW291dD1bXV0gLSBJZiBzdXBwbGllZCwgdGhpcyBhcnJheSB3aWxsIGJlIHVzZWQgcmF0aGVyIHRoYW4gcmV0dXJuaW5nIGEgbmV3IG9uZVxuICogQHJldHVybiB7bnVtYmVyW119IEFuIGFycmF5IHJlcHJlc2VudGluZyB0aGUgW1IsIEcsIEJdIG9mIHRoZSBjb2xvciB3aGVyZSBhbGwgdmFsdWVzIGFyZSBmbG9hdHMuXG4gKi9cbmZ1bmN0aW9uIGhleDJyZ2IoaGV4LCBvdXQpIHtcbiAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gW107IH1cbiAgICBvdXRbMF0gPSAoKGhleCA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoKGhleCA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhIHN0cmluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgyc3RyaW5nKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBcIiNmZmZmZmZcIlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgyc3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gTnVtYmVyIGluIGhleCAoZS5nLiwgYDB4ZmZmZmZmYClcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYCkuXG4gKi9cbmZ1bmN0aW9uIGhleDJzdHJpbmcoaGV4KSB7XG4gICAgdmFyIGhleFN0cmluZyA9IGhleC50b1N0cmluZygxNik7XG4gICAgaGV4U3RyaW5nID0gJzAwMDAwMCcuc3Vic3RyKDAsIDYgLSBoZXhTdHJpbmcubGVuZ3RoKSArIGhleFN0cmluZztcbiAgICByZXR1cm4gXCIjXCIgKyBoZXhTdHJpbmc7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgc3RyaW5nIHRvIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLnN0cmluZzJoZXgoXCIjZmZmZmZmXCIpOyAvLyByZXR1cm5zIDB4ZmZmZmZmXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHN0cmluZzJoZXhcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgLSBUaGUgc3RyaW5nIGNvbG9yIChlLmcuLCBgXCIjZmZmZmZmXCJgKVxuICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgaW4gaGV4YWRlY2ltYWwuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZzJoZXgoc3RyaW5nKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnICYmIHN0cmluZ1swXSA9PT0gJyMnKSB7XG4gICAgICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHIoMSk7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUludChzdHJpbmcsIDE2KTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgdG8gYSBoZXhhZGVjaW1hbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMucmdiMmhleChbMSwgMSwgMV0pOyAvLyByZXR1cm5zIDB4ZmZmZmZmXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHJnYjJoZXhcbiAqIEBwYXJhbSB7bnVtYmVyW119IHJnYiAtIEFycmF5IG9mIG51bWJlcnMgd2hlcmUgYWxsIHZhbHVlcyBhcmUgbm9ybWFsaXplZCBmbG9hdHMgZnJvbSAwLjAgdG8gMS4wLlxuICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgaW4gaGV4YWRlY2ltYWwuXG4gKi9cbmZ1bmN0aW9uIHJnYjJoZXgocmdiKSB7XG4gICAgcmV0dXJuICgoKHJnYlswXSAqIDI1NSkgPDwgMTYpICsgKChyZ2JbMV0gKiAyNTUpIDw8IDgpICsgKHJnYlsyXSAqIDI1NSB8IDApKTtcbn1cblxuLyoqXG4gKiBDb3JyZWN0cyBQaXhpSlMgYmxlbmQsIHRha2VzIHByZW11bHRpcGxpZWQgYWxwaGEgaW50byBhY2NvdW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlc1xuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcltdPn0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpIHtcbiAgICB2YXIgcG0gPSBbXTtcbiAgICB2YXIgbnBtID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKSB7XG4gICAgICAgIHBtW2ldID0gaTtcbiAgICAgICAgbnBtW2ldID0gaTtcbiAgICB9XG4gICAgcG1bQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgcG1bQkxFTkRfTU9ERVMuQUREX05QTV0gPSBCTEVORF9NT0RFUy5BREQ7XG4gICAgcG1bQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBCTEVORF9NT0RFUy5TQ1JFRU47XG4gICAgbnBtW0JMRU5EX01PREVTLk5PUk1BTF0gPSBCTEVORF9NT0RFUy5OT1JNQUxfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5BRERdID0gQkxFTkRfTU9ERVMuQUREX05QTTtcbiAgICBucG1bQkxFTkRfTU9ERVMuU0NSRUVOXSA9IEJMRU5EX01PREVTLlNDUkVFTl9OUE07XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuICAgIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogbWFwcyBwcmVtdWx0aXBseSBmbGFnIGFuZCBibGVuZE1vZGUgdG8gYWRqdXN0ZWQgYmxlbmRNb2RlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGNvbnN0IHByZW11bHRpcGx5QmxlbmRNb2RlXG4gKiBAdHlwZSB7QXJyYXk8bnVtYmVyW10+fVxuICovXG52YXIgcHJlbXVsdGlwbHlCbGVuZE1vZGUgPSBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpO1xuLyoqXG4gKiBjaGFuZ2VzIGJsZW5kTW9kZSBhY2NvcmRpbmcgdG8gdGV4dHVyZSBmb3JtYXRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgLSBzdXBwb3NlZCBibGVuZCBtb2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByZW11bHRpcGxpZWQgLSB3aGV0aGVyIHNvdXJjZSBpcyBwcmVtdWx0aXBsaWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0cnVlIGJsZW5kIG1vZGUgZm9yIHRoaXMgdGV4dHVyZVxuICovXG5mdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlKGJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZCkge1xuICAgIHJldHVybiBwcmVtdWx0aXBseUJsZW5kTW9kZVtwcmVtdWx0aXBsaWVkID8gMSA6IDBdW2JsZW5kTW9kZV07XG59XG4vKipcbiAqIGNvbWJpbmVzIHJnYiBhbmQgYWxwaGEgdG8gb3V0IGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVJnYmFcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSByZ2IgLSBpbnB1dCByZ2JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gLSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIC0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVJnYmEocmdiLCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSA9IHJnYlswXSAqIGFscGhhO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdICogYWxwaGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF07XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBwcmVtdWx0aXBsaWVzIHRpbnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHByZW11bHRpcGx5VGludFxuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgLSBpbnRlZ2VyIFJHQlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gZmxvYXRpbmcgcG9pbnQgYWxwaGEgKDAuMC0xLjApXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aW50IG11bHRpcGxpZWQgYnkgYWxwaGFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50KHRpbnQsIGFscGhhKSB7XG4gICAgaWYgKGFscGhhID09PSAxLjApIHtcbiAgICAgICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyB0aW50O1xuICAgIH1cbiAgICBpZiAoYWxwaGEgPT09IDAuMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIFIgPSAoKHRpbnQgPj4gMTYpICYgMHhGRik7XG4gICAgdmFyIEcgPSAoKHRpbnQgPj4gOCkgJiAweEZGKTtcbiAgICB2YXIgQiA9ICh0aW50ICYgMHhGRik7XG4gICAgUiA9ICgoUiAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIEcgPSAoKEcgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBCID0gKChCICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyAoUiA8PCAxNikgKyAoRyA8PCA4KSArIEI7XG59XG4vKipcbiAqIGNvbnZlcnRzIGludGVnZXIgdGludCBhbmQgZmxvYXQgYWxwaGEgdG8gdmVjNCBmb3JtLCBwcmVtdWx0aXBsaWVzIGJ5IGRlZmF1bHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYVxuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgLSBpbnB1dCB0aW50XG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gLSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYSh0aW50LCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSkge1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dFswXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzFdICo9IGFscGhhO1xuICAgICAgICBvdXRbMl0gKj0gYWxwaGE7XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogR2VuZXJpYyBNYXNrIFN0YWNrIGRhdGEgc3RydWN0dXJlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjcmVhdGVJbmRpY2VzRm9yUXVhZHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gTnVtYmVyIG9mIHF1YWRzXG4gKiBAcGFyYW0ge1VpbnQxNkFycmF5fFVpbnQzMkFycmF5fSBbb3V0QnVmZmVyXSAtIEJ1ZmZlciBmb3Igb3V0cHV0LCBsZW5ndGggaGFzIHRvIGJlIGA2ICogc2l6ZWBcbiAqIEByZXR1cm4ge1VpbnQxNkFycmF5fFVpbnQzMkFycmF5fSAtIFJlc3VsdGluZyBpbmRleCBidWZmZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUsIG91dEJ1ZmZlcikge1xuICAgIGlmIChvdXRCdWZmZXIgPT09IHZvaWQgMCkgeyBvdXRCdWZmZXIgPSBudWxsOyB9XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuICAgIHZhciB0b3RhbEluZGljZXMgPSBzaXplICogNjtcbiAgICBvdXRCdWZmZXIgPSBvdXRCdWZmZXIgfHwgbmV3IFVpbnQxNkFycmF5KHRvdGFsSW5kaWNlcyk7XG4gICAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPdXQgYnVmZmVyIGxlbmd0aCBpcyBpbmNvcnJlY3QsIGdvdCBcIiArIG91dEJ1ZmZlci5sZW5ndGggKyBcIiBhbmQgZXhwZWN0ZWQgXCIgKyB0b3RhbEluZGljZXMpO1xuICAgIH1cbiAgICAvLyBmaWxsIHRoZSBpbmRpY2VzIHdpdGggdGhlIHF1YWRzIHRvIGRyYXdcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbEluZGljZXM7IGkgKz0gNiwgaiArPSA0KSB7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMF0gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAxXSA9IGogKyAxO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDJdID0gaiArIDI7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgM10gPSBqICsgMDtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA0XSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDVdID0gaiArIDM7XG4gICAgfVxuICAgIHJldHVybiBvdXRCdWZmZXI7XG59XG5cbmZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCA9IHsgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSwgSW50MzJBcnJheTogSW50MzJBcnJheSwgVWludDhBcnJheTogVWludDhBcnJheSB9O1xuZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpIHtcbiAgICB2YXIgb3V0U2l6ZSA9IDA7XG4gICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgdmFyIHZpZXdzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgICAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIob3V0U2l6ZSAqIDQpO1xuICAgIHZhciBvdXQgPSBudWxsO1xuICAgIHZhciBsaXR0bGVPZmZzZXQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzaXplID0gc2l6ZXNbaV07XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpXTtcbiAgICAgICAgLypcbiAgICAgICAgQHRvZG8gVGhpcyBpcyB1bnNhZmUgY2FzdGluZyBidXQgY29uc2lzdGVudCB3aXRoIGhvdyB0aGUgY29kZSB3b3JrZWQgcHJldmlvdXNseS4gU2hvdWxkIGl0IHN0YXkgdGhpcyB3YXlcbiAgICAgICAgICAgICAgb3Igc2hvdWxkIGFuZCBgZ2V0QnVmZmVyVHlwZVVuc2FmZWAgZnVuY3Rpb24gYmUgZXhwb3NlZCB0aGF0IHRocm93cyBhbiBFcnJvciBpZiB1bnN1cHBvcnRlZCB0eXBlIGlzIHBhc3NlZD9cbiAgICAgICAgICovXG4gICAgICAgIHZhciB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG4gICAgICAgIGlmICghdmlld3NbdHlwZV0pIHtcbiAgICAgICAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXhTdGFydCA9ICgoaiAvIHNpemUgfCAwKSAqIHN0cmlkZSkgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBqICUgc2l6ZTtcbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG5cbi8vIFRha2VuIGZyb20gdGhlIGJpdC10d2lkZGxlIHBhY2thZ2Vcbi8qKlxuICogUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBuZXh0UG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IC0gaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gbmV4dFBvdzIodikge1xuICAgIHYgKz0gdiA9PT0gMCA/IDEgOiAwO1xuICAgIC0tdjtcbiAgICB2IHw9IHYgPj4+IDE7XG4gICAgdiB8PSB2ID4+PiAyO1xuICAgIHYgfD0gdiA+Pj4gNDtcbiAgICB2IHw9IHYgPj4+IDg7XG4gICAgdiB8PSB2ID4+PiAxNjtcbiAgICByZXR1cm4gdiArIDE7XG59XG4vKipcbiAqIENoZWNrcyBpZiBhIG51bWJlciBpcyBhIHBvd2VyIG9mIHR3by5cbiAqXG4gKiBAZnVuY3Rpb24gaXNQb3cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHZhbHVlIGlzIHBvd2VyIG9mIHR3b1xuICovXG5mdW5jdGlvbiBpc1BvdzIodikge1xuICAgIHJldHVybiAhKHYgJiAodiAtIDEpKSAmJiAoISF2KTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgY2VpbCBvZiBsb2cgYmFzZSAyXG4gKlxuICogQGZ1bmN0aW9uIGxvZzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiAtIGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGxvZ2FyaXRobSBiYXNlIDJcbiAqL1xuZnVuY3Rpb24gbG9nMih2KSB7XG4gICAgdmFyIHIgPSAodiA+IDB4RkZGRiA/IDEgOiAwKSA8PCA0O1xuICAgIHYgPj4+PSByO1xuICAgIHZhciBzaGlmdCA9ICh2ID4gMHhGRiA/IDEgOiAwKSA8PCAzO1xuICAgIHYgPj4+PSBzaGlmdDtcbiAgICByIHw9IHNoaWZ0O1xuICAgIHNoaWZ0ID0gKHYgPiAweEYgPyAxIDogMCkgPDwgMjtcbiAgICB2ID4+Pj0gc2hpZnQ7XG4gICAgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHgzID8gMSA6IDApIDw8IDE7XG4gICAgdiA+Pj49IHNoaWZ0O1xuICAgIHIgfD0gc2hpZnQ7XG4gICAgcmV0dXJuIHIgfCAodiA+PiAxKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgaXRlbXMgZnJvbSBhIGphdmFzY3JpcHQgYXJyYXkgd2l0aG91dCBnZW5lcmF0aW5nIGdhcmJhZ2VcbiAqXG4gKiBAZnVuY3Rpb24gcmVtb3ZlSXRlbXNcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIEFycmF5IHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggLSBzdGFydGluZyBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IC0gaG93IG1hbnkgdG8gcmVtb3ZlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUl0ZW1zKGFyciwgc3RhcnRJZHgsIHJlbW92ZUNvdW50KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgdmFyIGk7XG4gICAgaWYgKHN0YXJ0SWR4ID49IGxlbmd0aCB8fCByZW1vdmVDb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KTtcbiAgICB2YXIgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnQ7XG4gICAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XTtcbiAgICB9XG4gICAgYXJyLmxlbmd0aCA9IGxlbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHNpZ24gb2YgbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzaWduXG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIHRoZSBudW1iZXIgdG8gY2hlY2sgdGhlIHNpZ24gb2ZcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgYG5gIGlzIDAsIC0xIGlmIGBuYCBpcyBuZWdhdGl2ZSwgMSBpZiBgbmAgaXMgcG9zaXRpdmVcbiAqL1xuZnVuY3Rpb24gc2lnbihuKSB7XG4gICAgaWYgKG4gPT09IDApXG4gICAgICAgIHsgcmV0dXJuIDA7IH1cbiAgICByZXR1cm4gbiA8IDAgPyAtMSA6IDE7XG59XG5cbnZhciBuZXh0VWlkID0gMDtcbi8qKlxuICogR2V0cyB0aGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdWlkXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyIHRvIHVzZS5cbiAqL1xuZnVuY3Rpb24gdWlkKCkge1xuICAgIHJldHVybiArK25leHRVaWQ7XG59XG5cbi8vIEEgbWFwIG9mIHdhcm5pbmcgbWVzc2FnZXMgYWxyZWFkeSBmaXJlZFxudmFyIHdhcm5pbmdzID0ge307XG4vKipcbiAqIEhlbHBlciBmb3Igd2FybmluZyBkZXZlbG9wZXJzIGFib3V0IGRlcHJlY2F0ZWQgZmVhdHVyZXMgJiBzZXR0aW5ncy5cbiAqIEEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzIGlzIGdpdmVuOyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmVcbiAqIGRlcHJlY2F0ZWQgbWV0aG9kcy9wcm9wZXJ0aWVzL2NsYXNzZXMgYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVwcmVjYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gVGhlIHZlcnNpb24gd2hlcmUgdGhlIGZlYXR1cmUgYmVjYW1lIGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gTWVzc2FnZSBzaG91bGQgaW5jbHVkZSB3aGF0IGlzIGRlcHJlY2F0ZWQsIHdoZXJlLCBhbmQgdGhlIG5ldyBzb2x1dGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtpZ25vcmVEZXB0aD0zXSAtIFRoZSBudW1iZXIgb2Ygc3RlcHMgdG8gaWdub3JlIGF0IHRoZSB0b3Agb2YgdGhlIGVycm9yIHN0YWNrXG4gKiAgICAgICAgdGhpcyBpcyBtb3N0bHkgdG8gaWdub3JlIGludGVybmFsIGRlcHJlY2F0aW9uIGNhbGxzLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGlvbih2ZXJzaW9uLCBtZXNzYWdlLCBpZ25vcmVEZXB0aCkge1xuICAgIGlmIChpZ25vcmVEZXB0aCA9PT0gdm9pZCAwKSB7IGlnbm9yZURlcHRoID0gMzsgfVxuICAgIC8vIElnbm9yZSBkdXBsaWNhdFxuICAgIGlmICh3YXJuaW5nc1ttZXNzYWdlXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICAvLyBIYW5kbGUgSUUgPCAxMCBhbmQgU2FmYXJpIDwgNlxuICAgIGlmICh0eXBlb2Ygc3RhY2sgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1lc3NhZ2UgKyBcIlxcbkRlcHJlY2F0ZWQgc2luY2UgdlwiICsgdmVyc2lvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBjaG9wIG9mZiB0aGUgc3RhY2sgdHJhY2Ugd2hpY2ggaW5jbHVkZXMgUGl4aUpTIGludGVybmFsIGNhbGxzXG4gICAgICAgIHN0YWNrID0gc3RhY2suc3BsaXQoJ1xcbicpLnNwbGljZShpZ25vcmVEZXB0aCkuam9pbignXFxuJyk7XG4gICAgICAgIGlmIChjb25zb2xlLmdyb3VwQ29sbGFwc2VkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKCclY1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAlYyVzJywgJ2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JywgJ2ZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsIG1lc3NhZ2UgKyBcIlxcbkRlcHJlY2F0ZWQgc2luY2UgdlwiICsgdmVyc2lvbik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJywgbWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgd2FybmluZ3NbbWVzc2FnZV0gPSB0cnVlO1xufVxuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUHJvZ3JhbUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIFByb2dyYW1DYWNoZSA9IHt9O1xuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRleHR1cmVDYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEJhc2VUZXh0dXJlQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgQmFzZVRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbiAqIERlc3Ryb3lzIGFsbCB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlKCkge1xuICAgIHZhciBrZXk7XG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIFRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogUmVtb3ZlcyBhbGwgdGV4dHVyZXMgZnJvbSBjYWNoZSwgYnV0IGRvZXMgbm90IGRlc3Ryb3kgdGhlbVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGUoKSB7XG4gICAgdmFyIGtleTtcbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBCYXNlVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gc2l6ZSB0byBiZSB1c2VkIGFzIGEgdGFyZ2V0IGZvciByZW5kZXJpbmcgdG8uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICovXG52YXIgQ2FudmFzUmVuZGVyVGFyZ2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgY2FudmFzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIENhbnZhcyBvYmplY3QgdGhhdCBiZWxvbmdzIHRvIHRoaXMgQ2FudmFzUmVuZGVyVGFyZ2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBvYmplY3QgcmVwcmVzZW50aW5nIGEgdHdvLWRpbWVuc2lvbmFsIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGNhbnZhcyB0aGF0IHdhcyBjcmVhdGVkIGJ5IHRoZSBDYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgY2FudmFzLlxuICAgICAqXG4gICAgICovXG4gICAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDYW52YXNSZW5kZXJUYXJnZXQ7XG59KCkpO1xuXG4vKipcbiAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVycyBmcm9tIGEgY2FudmFzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB0cmltQ2FudmFzXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY2FudmFzIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtvYmplY3R9IFRyaW0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmltQ2FudmFzKGNhbnZhcykge1xuICAgIC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3JlbXkvNzg0NTA4XG4gICAgdmFyIHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBwaXhlbHMgPSBpbWFnZURhdGEuZGF0YTtcbiAgICB2YXIgbGVuID0gcGl4ZWxzLmxlbmd0aDtcbiAgICB2YXIgYm91bmQgPSB7XG4gICAgICAgIHRvcDogbnVsbCxcbiAgICAgICAgbGVmdDogbnVsbCxcbiAgICAgICAgcmlnaHQ6IG51bGwsXG4gICAgICAgIGJvdHRvbTogbnVsbCxcbiAgICB9O1xuICAgIHZhciBkYXRhID0gbnVsbDtcbiAgICB2YXIgaTtcbiAgICB2YXIgeDtcbiAgICB2YXIgeTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpICsgM10gIT09IDApIHtcbiAgICAgICAgICAgIHggPSAoaSAvIDQpICUgd2lkdGg7XG4gICAgICAgICAgICB5ID0gfn4oKGkgLyA0KSAvIHdpZHRoKTtcbiAgICAgICAgICAgIGlmIChib3VuZC50b3AgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC50b3AgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kLmxlZnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHggPCBib3VuZC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm91bmQucmlnaHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYm91bmQucmlnaHQgPCB4KSB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3VuZC5ib3R0b20gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYm91bmQuYm90dG9tIDwgeSkge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJvdW5kLnRvcCAhPT0gbnVsbCkge1xuICAgICAgICB3aWR0aCA9IGJvdW5kLnJpZ2h0IC0gYm91bmQubGVmdDtcbiAgICAgICAgaGVpZ2h0ID0gYm91bmQuYm90dG9tIC0gYm91bmQudG9wICsgMTtcbiAgICAgICAgZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGJvdW5kLmxlZnQsIGJvdW5kLnRvcCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZWdleHAgZm9yIGRhdGEgVVJJLlxuICogQmFzZWQgb246IHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcmFnaW5nd2luZC9kYXRhLXVyaS1yZWdleH1cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IERBVEFfVVJJXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4YW1wbGUgZGF0YTppbWFnZS9wbmc7YmFzZTY0XG4gKi9cbnZhciBEQVRBX1VSSSA9IC9eXFxzKmRhdGE6KD86KFtcXHctXSspXFwvKFtcXHcrLi1dKykpPyg/OjtjaGFyc2V0PShbXFx3LV0rKSk/KD86OyhiYXNlNjQpKT8sKC4qKS9pO1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAaW50ZXJmYWNlIERlY29tcG9zZWREYXRhVXJpXG4gKi9cbi8qKlxuICogdHlwZSwgZWcuIGBpbWFnZWBcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBtZWRpYVR5cGVcbiAqL1xuLyoqXG4gKiBTdWIgdHlwZSwgZWcuIGBwbmdgXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gc3ViVHlwZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBjaGFyc2V0XG4gKi9cbi8qKlxuICogRGF0YSBlbmNvZGluZywgZWcuIGBiYXNlNjRgXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaSNcbiAqIEBtZW1iZXIge3N0cmluZ30gZW5jb2RpbmdcbiAqL1xuLyoqXG4gKiBUaGUgYWN0dWFsIGRhdGFcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLkRlY29tcG9zZWREYXRhVXJpI1xuICogQG1lbWJlciB7c3RyaW5nfSBkYXRhXG4gKi9cbi8qKlxuICogU3BsaXQgYSBkYXRhIFVSSSBpbnRvIGNvbXBvbmVudHMuIFJldHVybnMgdW5kZWZpbmVkIGlmXG4gKiBwYXJhbWV0ZXIgYGRhdGFVcmlgIGlzIG5vdCBhIHZhbGlkIGRhdGEgVVJJLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaVxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSB0aGUgZGF0YSBVUkkgdG8gY2hlY2tcbiAqIEByZXR1cm4ge1BJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcml8dW5kZWZpbmVkfSBUaGUgZGVjb21wb3NlZCBkYXRhIHVyaSBvciB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKSB7XG4gICAgdmFyIGRhdGFVcmlNYXRjaCA9IERBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG4gICAgaWYgKGRhdGFVcmlNYXRjaCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVkaWFUeXBlOiBkYXRhVXJpTWF0Y2hbMV0gPyBkYXRhVXJpTWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN1YlR5cGU6IGRhdGFVcmlNYXRjaFsyXSA/IGRhdGFVcmlNYXRjaFsyXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2hhcnNldDogZGF0YVVyaU1hdGNoWzNdID8gZGF0YVVyaU1hdGNoWzNdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmNvZGluZzogZGF0YVVyaU1hdGNoWzRdID8gZGF0YVVyaU1hdGNoWzRdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhVXJpTWF0Y2hbNV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbnZhciB0ZW1wQW5jaG9yO1xuLyoqXG4gKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICogTmlwcGVkIGZyb20gdGhlIHJlc291cmNlIGxvYWRlciFcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwsIGxvYykge1xuICAgIGlmIChsb2MgPT09IHZvaWQgMCkgeyBsb2MgPSB3aW5kb3cubG9jYXRpb247IH1cbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcbiAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG4gICAgLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgdmFyIHBhcnNlZFVybCA9IHBhcnNlKHRlbXBBbmNob3IuaHJlZik7XG4gICAgdmFyIHNhbWVQb3J0ID0gKCFwYXJzZWRVcmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycpIHx8IChwYXJzZWRVcmwucG9ydCA9PT0gbG9jLnBvcnQpO1xuICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgIGlmIChwYXJzZWRVcmwuaG9zdG5hbWUgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcGFyc2VkVXJsLnByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZ2V0IHRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0IGJ5IGxvb2tpbmcgZm9yIHRoZSBwcmVmaXhcbiAqIHVzZWQgYnkgc3ByaXRlc2hlZXRzIGFuZCBpbWFnZSB1cmxzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmxcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSB0aGUgaW1hZ2UgcGF0aFxuICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWU9MV0gLSB0aGUgZGVmYXVsdFZhbHVlIGlmIG5vIGZpbGVuYW1lIHByZWZpeCBpcyBzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXRcbiAqL1xuZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsKHVybCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModXJsKTtcbiAgICBpZiAocmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChyZXNvbHV0aW9uWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMTtcbn1cblxuLyoqXG4gKiBHZW5lcmFsaXplZCBjb252ZW5pZW5jZSB1dGlsaXRpZXMgZm9yIFBJWEkuXG4gKiBAZXhhbXBsZVxuICogLy8gRXh0ZW5kIFBJWEkncyBpbnRlcm5hbCBFdmVudCBFbWl0dGVyLlxuICogY2xhc3MgTXlFbWl0dGVyIGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXIge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICAgc3VwZXIoKTtcbiAqICAgICAgY29uc29sZS5sb2coXCJFbWl0dGVyIGNyZWF0ZWQhXCIpO1xuICogICB9XG4gKiB9XG4gKlxuICogLy8gR2V0IGluZm8gb24gY3VycmVudCBkZXZpY2VcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaXNNb2JpbGUpO1xuICpcbiAqIC8vIENvbnZlcnQgaGV4IGNvbG9yIHRvIHN0cmluZ1xuICogY29uc29sZS5sb2coUElYSS51dGlscy5oZXgyc3RyaW5nKDB4ZmYwMGZmKSk7IC8vIHJldHVybnM6IFwiI2ZmMDBmZlwiXG4gKiBAbmFtZXNwYWNlIFBJWEkudXRpbHNcbiAqL1xuXG5leHBvcnQgeyBCYXNlVGV4dHVyZUNhY2hlLCBDYW52YXNSZW5kZXJUYXJnZXQsIERBVEFfVVJJLCBQcm9ncmFtQ2FjaGUsIFRleHR1cmVDYWNoZSwgY2xlYXJUZXh0dXJlQ2FjaGUsIGNvcnJlY3RCbGVuZE1vZGUsIGNyZWF0ZUluZGljZXNGb3JRdWFkcywgZGVjb21wb3NlRGF0YVVyaSwgZGVwcmVjYXRpb24sIGRlc3Ryb3lUZXh0dXJlQ2FjaGUsIGRldGVybWluZUNyb3NzT3JpZ2luLCBnZXRCdWZmZXJUeXBlLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGhleDJyZ2IsIGhleDJzdHJpbmcsIGludGVybGVhdmVUeXBlZEFycmF5cywgaXNQb3cyLCBpc1dlYkdMU3VwcG9ydGVkLCBsb2cyLCBuZXh0UG93MiwgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50LCBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIHJlbW92ZUl0ZW1zLCByZ2IyaGV4LCBzYXlIZWxsbywgc2lnbiwgc2tpcEhlbGxvLCBzdHJpbmcyaGV4LCB0cmltQ2FudmFzLCB1aWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tYXRoIC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL21hdGggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gUElfMlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBJXzIgPSBNYXRoLlBJICogMjtcbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgcmFkaWFucyB0byBkZWdyZWVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBSQURfVE9fREVHXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUkFEX1RPX0RFRyA9IDE4MCAvIE1hdGguUEk7XG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gREVHX1RPX1JBRFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xudmFyIFNIQVBFUztcbihmdW5jdGlvbiAoU0hBUEVTKSB7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlBPTFlcIl0gPSAwXSA9IFwiUE9MWVwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJSRUNUXCJdID0gMV0gPSBcIlJFQ1RcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiQ0lSQ1wiXSA9IDJdID0gXCJDSVJDXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIkVMSVBcIl0gPSAzXSA9IFwiRUxJUFwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJSUkVDXCJdID0gNF0gPSBcIlJSRUNcIjtcbn0pKFNIQVBFUyB8fCAoU0hBUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgaWRlbnRpZnkgc2hhcGVzLCBtYWlubHkgdG8gcHJldmVudCBgaW5zdGFuY2VvZmAgY2FsbHMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTSEFQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7ZW51bX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0xZIFBvbHlnb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUNUIFJlY3RhbmdsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENJUkMgQ2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gRUxJUCBFbGxpcHNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gUlJFQyBSb3VuZGVkIFJlY3RhbmdsZVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG4vKipcbiAqIFNpemUgb2JqZWN0LCBjb250YWlucyB3aWR0aCBhbmQgaGVpZ2h0XG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElTaXplXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGggLSBXaWR0aCBjb21wb25lbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgY29tcG9uZW50XG4gKi9cbi8qKlxuICogUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIGRlZmluZWQgYnkgaXRzIHBvc2l0aW9uLCBhcyBpbmRpY2F0ZWQgYnkgaXRzIHRvcC1sZWZ0IGNvcm5lclxuICogcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVjdGFuZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IE51bWJlcih4KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBOdW1iZXIoaGVpZ2h0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUkVDVDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwibGVmdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJyaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSByaWdodCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcInRvcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcImJvdHRvbVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZSwgXCJFTVBUWVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbnN0YW50IGVtcHR5IHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBBbiBlbXB0eSByZWN0YW5nbGVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW5vdGhlciByZWN0YW5nbGUgdG8gdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB0aGlzLndpZHRoID0gcmVjdGFuZ2xlLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoaXMgcmVjdGFuZ2xlIHRvIGFub3RoZXIgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGdpdmVuIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgcmVjdGFuZ2xlLnggPSB0aGlzLng7XG4gICAgICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgICAgICByZWN0YW5nbGUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICByZWN0YW5nbGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgIHJldHVybiByZWN0YW5nbGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqIElmIHBhZGRpbmdZIGlzIG9taXR0ZWQsIGJvdGggcGFkZGluZ1ggYW5kIHBhZGRpbmdZIHdpbGwgYmUgc2V0IHRvIHBhZGRpbmdYLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWD0wXSAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1k9MF0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBpZiAocGFkZGluZ1ggPT09IHZvaWQgMCkgeyBwYWRkaW5nWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZGRpbmdZID09PSB2b2lkIDApIHsgcGFkZGluZ1kgPSBwYWRkaW5nWDsgfVxuICAgICAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcbiAgICAgICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5tYXgodGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgICAgIHZhciB4MiA9IE1hdGgubWluKHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgdmFyIHkxID0gTWF0aC5tYXgodGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIHZhciB5MiA9IE1hdGgubWluKHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHgyIC0geDEsIDApO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh5MiAtIHkxLCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyByZWN0YW5nbGUgdGhhdCB3YXkgaXRzIGNvcm5lcnMgbGllIG9uIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSByZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlcHM9MC4wMDFdIHByZWNpc2lvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZXBzKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IDE7IH1cbiAgICAgICAgaWYgKGVwcyA9PT0gdm9pZCAwKSB7IGVwcyA9IDAuMDAxOyB9XG4gICAgICAgIHZhciB4MiA9IE1hdGguY2VpbCgodGhpcy54ICsgdGhpcy53aWR0aCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHZhciB5MiA9IE1hdGguY2VpbCgodGhpcy55ICsgdGhpcy5oZWlnaHQgLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnggPSBNYXRoLmZsb29yKCh0aGlzLnggKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLmZsb29yKCh0aGlzLnkgKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0geDIgLSB0aGlzLng7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB0aGlzLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgdGhpcyByZWN0YW5nbGUgdG8gaW5jbHVkZSB0aGUgcGFzc2VkIHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gaW5jbHVkZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5lbmxhcmdlID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICB2YXIgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgdmFyIHgyID0gTWF0aC5tYXgodGhpcy54ICsgdGhpcy53aWR0aCwgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpO1xuICAgICAgICB2YXIgeTEgPSBNYXRoLm1pbih0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgICAgIHRoaXMueCA9IHgxO1xuICAgICAgICB0aGlzLndpZHRoID0geDIgLSB4MTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB5MTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gUmVjdGFuZ2xlO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgQ2lyY2xlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0wXSAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENpcmNsZSh4LCB5LCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgeyByYWRpdXMgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5DSVJDO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBDaXJjbGUgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ2lyY2xlfSBhIGNvcHkgb2YgdGhlIENpcmNsZVxuICAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGNpcmNsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAgICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgICAgICB2YXIgZHggPSAodGhpcy54IC0geCk7XG4gICAgICAgIHZhciBkeSA9ICh0aGlzLnkgLSB5KTtcbiAgICAgICAgZHggKj0gZHg7XG4gICAgICAgIGR5ICo9IGR5O1xuICAgICAgICByZXR1cm4gKGR4ICsgZHkgPD0gcjIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgY2lyY2xlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgICB9O1xuICAgIHJldHVybiBDaXJjbGU7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEVsbGlwc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZXaWR0aD0wXSAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGFsZkhlaWdodD0wXSAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbGxpcHNlKHgsIHksIGhhbGZXaWR0aCwgaGFsZkhlaWdodCkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKGhhbGZXaWR0aCA9PT0gdm9pZCAwKSB7IGhhbGZXaWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhhbGZIZWlnaHQgPT09IHZvaWQgMCkgeyBoYWxmSGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gaGFsZldpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhhbGZIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkVMSVBcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLkVMSVA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIEVsbGlwc2UgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuRWxsaXBzZX0gYSBjb3B5IG9mIHRoZSBlbGxpcHNlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRzIGFyZSB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgICAgICB2YXIgbm9ybXggPSAoKHggLSB0aGlzLngpIC8gdGhpcy53aWR0aCk7XG4gICAgICAgIHZhciBub3JteSA9ICgoeSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodCk7XG4gICAgICAgIG5vcm14ICo9IG5vcm14O1xuICAgICAgICBub3JteSAqPSBub3JteTtcbiAgICAgICAgcmV0dXJuIChub3JteCArIG5vcm15IDw9IDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGVsbGlwc2UgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIEVsbGlwc2U7XG59KCkpO1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gZGVmaW5lIGEgc2hhcGUgdmlhIHVzZXIgZGVmaW5lZCBjby1vcmluYXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQb2x5Z29uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnRbXXxudW1iZXJbXX0gcG9pbnRzIC0gVGhpcyBjYW4gYmUgYW4gYXJyYXkgb2YgUG9pbnRzXG4gICAgICogIHRoYXQgZm9ybSB0aGUgcG9seWdvbiwgYSBmbGF0IGFycmF5IG9mIG51bWJlcnMgdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIFt4LHksIHgseSwgLi4uXSwgb3JcbiAgICAgKiAgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGFsbCB0aGUgcG9pbnRzIG9mIHRoZSBwb2x5Z29uIGUuZy5cbiAgICAgKiAgYG5ldyBQSVhJLlBvbHlnb24obmV3IFBJWEkuUG9pbnQoKSwgbmV3IFBJWEkuUG9pbnQoKSwgLi4uKWAsIG9yIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBmbGF0XG4gICAgICogIHgseSB2YWx1ZXMgZS5nLiBgbmV3IFBvbHlnb24oeCx5LCB4LHksIHgseSwgLi4uKWAgd2hlcmUgYHhgIGFuZCBgeWAgYXJlIE51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9seWdvbigpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBvaW50c1tfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZsYXQgPSBBcnJheS5pc0FycmF5KHBvaW50c1swXSkgPyBwb2ludHNbMF0gOiBwb2ludHM7XG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgICAgIGlmICh0eXBlb2YgZmxhdFswXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBwID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmbGF0Lmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwLnB1c2goZmxhdFtpXS54LCBmbGF0W2ldLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmxhdCA9IHA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBmbGF0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5QT0xZXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5QT0xZO1xuICAgICAgICAvKipcbiAgICAgICAgICogYGZhbHNlYCBhZnRlciBtb3ZlVG8sIGB0cnVlYCBhZnRlciBgY2xvc2VQYXRoYC4gSW4gYWxsIG90aGVyIGNhc2VzIGl0IGlzIGB0cnVlYC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9seWdvbn0gYSBjb3B5IG9mIHRoZSBwb2x5Z29uXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cy5zbGljZSgpO1xuICAgICAgICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgICAgIHBvbHlnb24uY2xvc2VTdHJva2UgPSB0aGlzLmNsb3NlU3Ryb2tlO1xuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gICAgICovXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB2YXIgaW5zaWRlID0gZmFsc2U7XG4gICAgICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgICAgIHZhciB4aSA9IHRoaXMucG9pbnRzW2kgKiAyXTtcbiAgICAgICAgICAgIHZhciB5aSA9IHRoaXMucG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHZhciB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgICAgIHZhciB5aiA9IHRoaXMucG9pbnRzWyhqICogMikgKyAxXTtcbiAgICAgICAgICAgIHZhciBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT09ICh5aiA+IHkpKSAmJiAoeCA8ICgoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpKSArIHhpKTtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgfTtcbiAgICByZXR1cm4gUG9seWdvbjtcbn0oKSk7XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUm91bmRlZFJlY3RhbmdsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0yMF0gLSBDb250cm9scyB0aGUgcmFkaXVzIG9mIHRoZSByb3VuZGVkIGNvcm5lcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAwOyB9XG4gICAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgeyByYWRpdXMgPSAyMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJSRUNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJSRUM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHkgPj0gdGhpcy55ICsgdGhpcy5yYWRpdXMgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKVxuICAgICAgICAgICAgICAgICAgICB8fCAoeCA+PSB0aGlzLnggKyB0aGlzLnJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIHZhciByYWRpdXMyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBSb3VuZGVkUmVjdGFuZ2xlO1xufSgpKTtcblxuLyoqXG4gKiBDb21tb24gaW50ZXJmYWNlIGZvciBwb2ludHMuIEJvdGggUG9pbnQgYW5kIE9ic2VydmFibGVQb2ludCBpbXBsZW1lbnQgaXRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW50ZXJmYWNlIElQb2ludERhdGFcbiAqL1xuLyoqXG4gKiBYIGNvb3JkXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnREYXRhI1xuICogQG1lbWJlciB7bnVtYmVyfSB4XG4gKi9cbi8qKlxuICogWSBjb29yZFxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50RGF0YSNcbiAqIEBtZW1iZXIge251bWJlcn0geVxuICovXG5cbi8qKlxuICogQ29tbW9uIGludGVyZmFjZSBmb3IgcG9pbnRzLiBCb3RoIFBvaW50IGFuZCBPYnNlcnZhYmxlUG9pbnQgaW1wbGVtZW50IGl0XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGludGVyZmFjZSBJUG9pbnRcbiAqIEBleHRlbmRzIFBJWEkuSVBvaW50RGF0YVxuICovXG4vKipcbiAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICpcbiAqIEBtZXRob2Qgc2V0XG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IFt5PXhdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAqL1xuLyoqXG4gKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICogQG1ldGhvZCBjb3B5RnJvbVxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tXG4gKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gKi9cbi8qKlxuICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAqIEBtZXRob2QgY29weVRvXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAqXG4gKiBAbWV0aG9kIGVxdWFsc1xuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gKi9cblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgSVBvaW50XG4gKi9cbnZhciBQb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICB0aGlzLnNldChwLngsIHAueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcC5zZXQodGhpcy54LCB0aGlzLnkpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy54KSAmJiAocC55ID09PSB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSB4OyB9XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFBvaW50O1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQW4gT2JzZXJ2YWJsZVBvaW50IGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBJUG9pbnRcbiAqL1xudmFyIE9ic2VydmFibGVQb2ludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzY29wZSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUsIHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgdGhpcy5jYiA9IGNiO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50LlxuICAgICAqIFRoZSBjYWxsYmFjayBhbmQgc2NvcGUgcGFyYW1zIGNhbiBiZSBvdmVyaWRkZW4gb3RoZXJ3aXNlIHRoZXkgd2lsbCBkZWZhdWx0XG4gICAgICogdG8gdGhlIGNsb25lIG9iamVjdCdzIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYj1udWxsXSAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc2NvcGU9bnVsbF0gLSBvd25lciBvZiBjYWxsYmFja1xuICAgICAqIEByZXR1cm4ge1BJWEkuT2JzZXJ2YWJsZVBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChjYiwgc2NvcGUpIHtcbiAgICAgICAgaWYgKGNiID09PSB2b2lkIDApIHsgY2IgPSB0aGlzLmNiOyB9XG4gICAgICAgIGlmIChzY29wZSA9PT0gdm9pZCAwKSB7IHNjb3BlID0gdGhpcy5zY29wZTsgfVxuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUsIHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0geDsgfVxuICAgICAgICBpZiAodGhpcy5feCAhPT0geCB8fCB0aGlzLl95ICE9PSB5KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIGlmICh0aGlzLl94ICE9PSBwLnggfHwgdGhpcy5feSAhPT0gcC55KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0gcC54O1xuICAgICAgICAgICAgdGhpcy5feSA9IHAueTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gICAgICogQHJldHVybnMge1BJWEkuSVBvaW50fSBHaXZlbiBwb2ludCB3aXRoIHZhbHVlcyB1cGRhdGVkXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBwLnNldCh0aGlzLl94LCB0aGlzLl95KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAocC54ID09PSB0aGlzLl94KSAmJiAocC55ID09PSB0aGlzLl95KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5feCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZVBvaW50O1xufSgpKTtcblxuLyoqXG4gKiBUaGUgUGl4aUpTIE1hdHJpeCBhcyBhIGNsYXNzIG1ha2VzIGl0IGEgbG90IGZhc3Rlci5cbiAqXG4gKiBIZXJlIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaXQ6XG4gKiBgYGBqc1xuICogfCBhIHwgYyB8IHR4fFxuICogfCBiIHwgZCB8IHR5fFxuICogfCAwIHwgMCB8IDEgfFxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXRyaXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthPTFdIC0geCBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYj0wXSAtIHggc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYz0wXSAtIHkgc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZD0xXSAtIHkgc2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3R4PTBdIC0geCB0cmFuc2xhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHk9MF0gLSB5IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWF0cml4KGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICBpZiAoYSA9PT0gdm9pZCAwKSB7IGEgPSAxOyB9XG4gICAgICAgIGlmIChiID09PSB2b2lkIDApIHsgYiA9IDA7IH1cbiAgICAgICAgaWYgKGMgPT09IHZvaWQgMCkgeyBjID0gMDsgfVxuICAgICAgICBpZiAoZCA9PT0gdm9pZCAwKSB7IGQgPSAxOyB9XG4gICAgICAgIGlmICh0eCA9PT0gdm9pZCAwKSB7IHR4ID0gMDsgfVxuICAgICAgICBpZiAodHkgPT09IHZvaWQgMCkgeyB0eSA9IDA7IH1cbiAgICAgICAgdGhpcy5hcnJheSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYyA9IGM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZCA9IGQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHggPSB0eDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eSA9IHR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgTWF0cml4IG9iamVjdCBiYXNlZCBvbiB0aGUgZ2l2ZW4gYXJyYXkuIFRoZSBFbGVtZW50IHRvIE1hdHJpeCBtYXBwaW5nIG9yZGVyIGlzIGFzIGZvbGxvd3M6XG4gICAgICpcbiAgICAgKiBhID0gYXJyYXlbMF1cbiAgICAgKiBiID0gYXJyYXlbMV1cbiAgICAgKiBjID0gYXJyYXlbM11cbiAgICAgKiBkID0gYXJyYXlbNF1cbiAgICAgKiB0eCA9IGFycmF5WzJdXG4gICAgICogdHkgPSBhcnJheVs1XVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgYXJyYXkgdGhhdCB0aGUgbWF0cml4IHdpbGwgYmUgcG9wdWxhdGVkIGZyb20uXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5mcm9tQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdGhpcy5hID0gYXJyYXlbMF07XG4gICAgICAgIHRoaXMuYiA9IGFycmF5WzFdO1xuICAgICAgICB0aGlzLmMgPSBhcnJheVszXTtcbiAgICAgICAgdGhpcy5kID0gYXJyYXlbNF07XG4gICAgICAgIHRoaXMudHggPSBhcnJheVsyXTtcbiAgICAgICAgdGhpcy50eSA9IGFycmF5WzVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogc2V0cyB0aGUgbWF0cml4IHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgdGhpcy50eCA9IHR4O1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKHRyYW5zcG9zZSwgb3V0KSB7XG4gICAgICAgIGlmICghdGhpcy5hcnJheSkge1xuICAgICAgICAgICAgdGhpcy5hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoOSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFycmF5ID0gb3V0IHx8IHRoaXMuYXJyYXk7XG4gICAgICAgIGlmICh0cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlIHRvIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiByZW5kZXJpbmcpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAocG9zLCBuZXdQb3MpIHtcbiAgICAgICAgbmV3UG9zID0gKG5ld1BvcyB8fCBuZXcgUG9pbnQoKSk7XG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuYSAqIHgpICsgKHRoaXMuYyAqIHkpICsgdGhpcy50eDtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5iICogeCkgKyAodGhpcy5kICogeSkgKyB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGludmVyc2Ugb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlIHRvIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiBpbnB1dClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCBpbnZlcnNlLXRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5SW52ZXJzZSA9IGZ1bmN0aW9uIChwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSAobmV3UG9zIHx8IG5ldyBQb2ludCgpKTtcbiAgICAgICAgdmFyIGlkID0gMSAvICgodGhpcy5hICogdGhpcy5kKSArICh0aGlzLmMgKiAtdGhpcy5iKSk7XG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuZCAqIGlkICogeCkgKyAoLXRoaXMuYyAqIGlkICogeSkgKyAoKCh0aGlzLnR5ICogdGhpcy5jKSAtICh0aGlzLnR4ICogdGhpcy5kKSkgKiBpZCk7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYSAqIGlkICogeSkgKyAoLXRoaXMuYiAqIGlkICogeCkgKyAoKCgtdGhpcy50eSAqIHRoaXMuYSkgKyAodGhpcy50eCAqIHRoaXMuYikpICogaWQpO1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeCBieVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gSG93IG11Y2ggdG8gdHJhbnNsYXRlIHkgYnlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMudHggKz0geDtcbiAgICAgICAgdGhpcy50eSArPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBzY2FsZSB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgbWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgYW1vdW50IHRvIHNjYWxlIGhvcml6b250YWxseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgcm90YXRpb24gdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSAtIFRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdGhpcy5hID0gKGExICogY29zKSAtICh0aGlzLmIgKiBzaW4pO1xuICAgICAgICB0aGlzLmIgPSAoYTEgKiBzaW4pICsgKHRoaXMuYiAqIGNvcyk7XG4gICAgICAgIHRoaXMuYyA9IChjMSAqIGNvcykgLSAodGhpcy5kICogc2luKTtcbiAgICAgICAgdGhpcy5kID0gKGMxICogc2luKSArICh0aGlzLmQgKiBjb3MpO1xuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIGNvcykgLSAodGhpcy50eSAqIHNpbik7XG4gICAgICAgIHRoaXMudHkgPSAodHgxICogc2luKSArICh0aGlzLnR5ICogY29zKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGFwcGVuZC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB0aGlzLmEgPSAobWF0cml4LmEgKiBhMSkgKyAobWF0cml4LmIgKiBjMSk7XG4gICAgICAgIHRoaXMuYiA9IChtYXRyaXguYSAqIGIxKSArIChtYXRyaXguYiAqIGQxKTtcbiAgICAgICAgdGhpcy5jID0gKG1hdHJpeC5jICogYTEpICsgKG1hdHJpeC5kICogYzEpO1xuICAgICAgICB0aGlzLmQgPSAobWF0cml4LmMgKiBiMSkgKyAobWF0cml4LmQgKiBkMSk7XG4gICAgICAgIHRoaXMudHggPSAobWF0cml4LnR4ICogYTEpICsgKG1hdHJpeC50eSAqIGMxKSArIHRoaXMudHg7XG4gICAgICAgIHRoaXMudHkgPSAobWF0cml4LnR4ICogYjEpICsgKG1hdHJpeC50eSAqIGQxKSArIHRoaXMudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaXRpb24gb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gUG9zaXRpb24gb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFggLSBQaXZvdCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WSAtIFBpdm90IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYIC0gU2NhbGUgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBTY2FsZSBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gUm90YXRpb24gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WCAtIFNrZXcgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WSAtIFNrZXcgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHgsIHksIHBpdm90WCwgcGl2b3RZLCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSkge1xuICAgICAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYyA9IC1NYXRoLnNpbihyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICAgICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgICAgIHRoaXMudHggPSB4IC0gKChwaXZvdFggKiB0aGlzLmEpICsgKHBpdm90WSAqIHRoaXMuYykpO1xuICAgICAgICB0aGlzLnR5ID0geSAtICgocGl2b3RYICogdGhpcy5iKSArIChwaXZvdFkgKiB0aGlzLmQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBwcmVwZW5kXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKSB7XG4gICAgICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgICAgICB0aGlzLmEgPSAoYTEgKiBtYXRyaXguYSkgKyAodGhpcy5iICogbWF0cml4LmMpO1xuICAgICAgICAgICAgdGhpcy5iID0gKGExICogbWF0cml4LmIpICsgKHRoaXMuYiAqIG1hdHJpeC5kKTtcbiAgICAgICAgICAgIHRoaXMuYyA9IChjMSAqIG1hdHJpeC5hKSArICh0aGlzLmQgKiBtYXRyaXguYyk7XG4gICAgICAgICAgICB0aGlzLmQgPSAoYzEgKiBtYXRyaXguYikgKyAodGhpcy5kICogbWF0cml4LmQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHggPSAodHgxICogbWF0cml4LmEpICsgKHRoaXMudHkgKiBtYXRyaXguYykgKyBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSAodHgxICogbWF0cml4LmIpICsgKHRoaXMudHkgKiBtYXRyaXguZCkgKyBtYXRyaXgudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyB0aGUgbWF0cml4ICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgYW5kIHJvdGF0aW9uKSBhbmQgc2V0cyB0aGUgcHJvcGVydGllcyBvbiB0byBhIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYXBwbHkgdGhlIHByb3BlcnRpZXMgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5UcmFuc2Zvcm19IFRoZSB0cmFuc2Zvcm0gd2l0aCB0aGUgbmV3bHkgYXBwbGllZCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5kZWNvbXBvc2UgPSBmdW5jdGlvbiAodHJhbnNmb3JtKSB7XG4gICAgICAgIC8vIHNvcnQgb3V0IHJvdGF0aW9uIC8gc2tldy4uXG4gICAgICAgIHZhciBhID0gdGhpcy5hO1xuICAgICAgICB2YXIgYiA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkID0gdGhpcy5kO1xuICAgICAgICB2YXIgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgICAgIHZhciBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG4gICAgICAgIHZhciBkZWx0YSA9IE1hdGguYWJzKHNrZXdYICsgc2tld1kpO1xuICAgICAgICBpZiAoZGVsdGEgPCAwLjAwMDAxIHx8IE1hdGguYWJzKFBJXzIgLSBkZWx0YSkgPCAwLjAwMDAxKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBza2V3WTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSB0cmFuc2Zvcm0uc2tldy55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IDA7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gc2tld1g7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoKGEgKiBhKSArIChiICogYikpO1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueSA9IE1hdGguc3FydCgoYyAqIGMpICsgKGQgKiBkKSk7XG4gICAgICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eDtcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIxID0gdGhpcy5iO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIHZhciBuID0gKGExICogZDEpIC0gKGIxICogYzEpO1xuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9ICgoYzEgKiB0aGlzLnR5KSAtIChkMSAqIHR4MSkpIC8gbjtcbiAgICAgICAgdGhpcy50eSA9IC0oKGExICogdGhpcy50eSkgLSAoYjEgKiB0eDEpKSAvIG47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoaXMgTWF0cml4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICB0aGlzLmIgPSAwO1xuICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICB0aGlzLnR4ID0gMDtcbiAgICAgICAgdGhpcy50eSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBNYXRyaXggb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IEEgY29weSBvZiB0aGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBnaXZlbiBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hdHJpeCBnaXZlbiBpbiBwYXJhbWV0ZXIgd2l0aCBpdHMgdmFsdWVzIHVwZGF0ZWQuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gdGhpc1xuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHRoaXMuYSA9IG1hdHJpeC5hO1xuICAgICAgICB0aGlzLmIgPSBtYXRyaXguYjtcbiAgICAgICAgdGhpcy5jID0gbWF0cml4LmM7XG4gICAgICAgIHRoaXMuZCA9IG1hdHJpeC5kO1xuICAgICAgICB0aGlzLnR4ID0gbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgsIFwiSURFTlRJVFlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeCwgXCJURU1QX01BVFJJWFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRlbXAgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE1hdHJpeDtcbn0oKSk7XG5cbi8vIFlvdXIgZnJpZW5kbHkgbmVpZ2hib3VyIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RpaGVkcmFsX2dyb3VwXG4vKlxuICogVHJhbnNmb3JtIG1hdHJpeCBmb3Igb3BlcmF0aW9uIG4gaXM6XG4gKiB8IHV4IHwgdnggfFxuICogfCB1eSB8IHZ5IHxcbiAqL1xudmFyIHV4ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDFdO1xudmFyIHV5ID0gWzAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ4ID0gWzAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xudmFyIHZ5ID0gWzEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTFdO1xuLyoqXG4gKiBbQ2F5bGV5IFRhYmxlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXlsZXlfdGFibGV9XG4gKiBmb3IgdGhlIGNvbXBvc2l0aW9uIG9mIGVhY2ggcm90YXRpb24gaW4gdGhlIGRpaGVkZXJhbCBncm91cCBEOC5cbiAqXG4gKiBAdHlwZSBudW1iZXJbXVtdXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcm90YXRpb25DYXlsZXkgPSBbXTtcbi8qKlxuICogTWF0cmljZXMgZm9yIGVhY2ggYEdEOFN5bW1ldHJ5YCByb3RhdGlvbi5cbiAqXG4gKiBAdHlwZSBNYXRyaXhbXVxuICogQHByaXZhdGVcbiAqL1xudmFyIHJvdGF0aW9uTWF0cmljZXMgPSBbXTtcbi8qXG4gKiBBbGlhcyBmb3Ige0Bjb2RlIE1hdGguc2lnbn0uXG4gKi9cbnZhciBzaWdudW0gPSBNYXRoLnNpZ247XG4vKlxuICogSW5pdGlhbGl6ZXMgYHJvdGF0aW9uQ2F5bGV5YCBhbmQgYHJvdGF0aW9uTWF0cmljZXNgLiBJdCBpcyBjYWxsZWRcbiAqIG9ubHkgb25jZSBiZWxvdy5cbiAqL1xuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IFtdO1xuICAgICAgICByb3RhdGlvbkNheWxleS5wdXNoKHJvdyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7IGorKykge1xuICAgICAgICAgICAgLyogTXVsdGlwbGllcyByb3RhdGlvbiBtYXRyaWNlcyBpIGFuZCBqLiAqL1xuICAgICAgICAgICAgdmFyIF91eCA9IHNpZ251bSgodXhbaV0gKiB1eFtqXSkgKyAodnhbaV0gKiB1eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF91eSA9IHNpZ251bSgodXlbaV0gKiB1eFtqXSkgKyAodnlbaV0gKiB1eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF92eCA9IHNpZ251bSgodXhbaV0gKiB2eFtqXSkgKyAodnhbaV0gKiB2eVtqXSkpO1xuICAgICAgICAgICAgdmFyIF92eSA9IHNpZ251bSgodXlbaV0gKiB2eFtqXSkgKyAodnlbaV0gKiB2eVtqXSkpO1xuICAgICAgICAgICAgLyogRmluZHMgcm90YXRpb24gbWF0cml4IG1hdGNoaW5nIHRoZSBwcm9kdWN0IGFuZCBwdXNoZXMgaXQuICovXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDE2OyBrKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodXhba10gPT09IF91eCAmJiB1eVtrXSA9PT0gX3V5XG4gICAgICAgICAgICAgICAgICAgICYmIHZ4W2tdID09PSBfdnggJiYgdnlba10gPT09IF92eSkge1xuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICB2YXIgbWF0ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBtYXQuc2V0KHV4W2ldLCB1eVtpXSwgdnhbaV0sIHZ5W2ldLCAwLCAwKTtcbiAgICAgICAgcm90YXRpb25NYXRyaWNlcy5wdXNoKG1hdCk7XG4gICAgfVxufVxuaW5pdCgpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge251bWJlcn0gR0Q4U3ltbWV0cnlcbiAqIEBzZWUgUElYSS5ncm91cEQ4XG4gKi9cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgZGloZWRyYWwgZ3JvdXAgRDgsIHdoaWNoIGlzIHNpbWlsYXIgdG9cbiAqIFtncm91cCBENF17QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9EaWhlZHJhbEdyb3VwRDQuaHRtbH07XG4gKiBEOCBpcyB0aGUgc2FtZSBidXQgd2l0aCBkaWFnb25hbHMsIGFuZCBpdCBpcyB1c2VkIGZvciB0ZXh0dXJlXG4gKiByb3RhdGlvbnMuXG4gKlxuICogVGhlIGRpcmVjdGlvbnMgdGhlIFUtIGFuZCBWLSBheGVzIGFmdGVyIHJvdGF0aW9uXG4gKiBvZiBhbiBhbmdsZSBvZiBgYTogR0Q4Q29uc3RhbnRgIGFyZSB0aGUgdmVjdG9ycyBgKHVYKGEpLCB1WShhKSlgXG4gKiBhbmQgYCh2WChhKSwgdlkoYSkpYC4gVGhlc2UgYXJlbid0IG5lY2Vzc2FyaWx5IHVuaXQgdmVjdG9ycy5cbiAqXG4gKiAqKk9yaWdpbjoqKjxicj5cbiAqICBUaGlzIGlzIHRoZSBzbWFsbCBwYXJ0IG9mIGdhbWVvZmJvbWJzLmNvbSBwb3J0YWwgc3lzdGVtLiBJdCB3b3Jrcy5cbiAqXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5FXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5TRVxuICogQHNlZSBQSVhJLmdyb3VwRDguU1xuICogQHNlZSBQSVhJLmdyb3VwRDguU1dcbiAqIEBzZWUgUElYSS5ncm91cEQ4LldcbiAqIEBzZWUgUElYSS5ncm91cEQ4Lk5XXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5OXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5ORVxuICogQGF1dGhvciBJdmFuIEBpdmFucG9wZWx5c2hldlxuICogQG5hbWVzcGFjZSBQSVhJLmdyb3VwRDhcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBncm91cEQ4ID0ge1xuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMMKwICAgICAgIHwgRWFzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgRTogMCxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDQ1wrDihrsgICAgIHwgU291dGhlYXN0IHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgU0U6IDEsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCA5MMKw4oa7ICAgICB8IFNvdXRoICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFM6IDIsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxMzXCsOKGuyAgICB8IFNvdXRod2VzdCB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFNXOiAzLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTgwwrAgICAgIHwgV2VzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgVzogNCxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC0xMzXCsC8yMjXCsOKGuyB8IE5vcnRod2VzdCAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5XOiA1LFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTkwwrAvMjcwwrDihrsgIHwgTm9ydGggICAgICAgIHxcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTjogNixcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC00NcKwLzMxNcKw4oa7ICB8IE5vcnRoZWFzdCAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5FOiA3LFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgWS1heGlzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNSVJST1JfVkVSVElDQUw6IDgsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCB0aGUgbWFpbiBkaWFnb25hbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUFJTl9ESUFHT05BTDogMTAsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCBYLWF4aXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IHJldmVyc2UgZGlhZ29uYWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFJFVkVSU0VfRElBR09OQUw6IDE0LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eFtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eVtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eFtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eVtpbmRdOyB9LFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gc3ltbWV0cnkgd2hvc2Ugb3Bwb3NpdGVcbiAgICAgKiAgIGlzIG5lZWRlZC4gT25seSByb3RhdGlvbnMgaGF2ZSBvcHBvc2l0ZSBzeW1tZXRyaWVzIHdoaWxlXG4gICAgICogICByZWZsZWN0aW9ucyBkb24ndC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgb3Bwb3NpdGUgc3ltbWV0cnkgb2YgYHJvdGF0aW9uYFxuICAgICAqL1xuICAgIGludjogZnVuY3Rpb24gKHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpIC8vIHRydWUgb25seSBpZiBiZXR3ZWVuIDggJiAxNSAocmVmbGVjdGlvbnMpXG4gICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24gJiAxNTsgLy8gb3Igcm90YXRpb24gJSAxNlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoLXJvdGF0aW9uKSAmIDc7IC8vIG9yICg4IC0gcm90YXRpb24pICUgOFxuICAgIH0sXG4gICAgLyoqXG4gICAgICogQ29tcG9zZXMgdGhlIHR3byBEOCBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogVGFraW5nIGBeYCBhcyByZWZsZWN0aW9uOlxuICAgICAqXG4gICAgICogfCAgICAgICB8IEU9MCB8IFM9MiB8IFc9NCB8IE49NiB8IEVePTggfCBTXj0xMCB8IFdePTEyIHwgTl49MTQgfFxuICAgICAqIHwtLS0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tfC0tLS0tLXwtLS0tLS0tfC0tLS0tLS18LS0tLS0tLXxcbiAgICAgKiB8IEU9MCAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRV4gICB8IFNeICAgIHwgV14gICAgfCBOXiAgICB8XG4gICAgICogfCBTPTIgICB8IFMgICB8IFcgICB8IE4gICB8IEUgICB8IFNeICAgfCBXXiAgICB8IE5eICAgIHwgRV4gICAgfFxuICAgICAqIHwgVz00ICAgfCBXICAgfCBOICAgfCBFICAgfCBTICAgfCBXXiAgIHwgTl4gICAgfCBFXiAgICB8IFNeICAgIHxcbiAgICAgKiB8IE49NiAgIHwgTiAgIHwgRSAgIHwgUyAgIHwgVyAgIHwgTl4gICB8IEVeICAgIHwgU14gICAgfCBXXiAgICB8XG4gICAgICogfCBFXj04ICB8IEVeICB8IE5eICB8IFdeICB8IFNeICB8IEUgICAgfCBOICAgICB8IFcgICAgIHwgUyAgICAgfFxuICAgICAqIHwgU149MTAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXXiAgfCBTICAgIHwgRSAgICAgfCBOICAgICB8IFcgICAgIHxcbiAgICAgKiB8IFdePTEyIHwgV14gIHwgU14gIHwgRV4gIHwgTl4gIHwgVyAgICB8IFMgICAgIHwgRSAgICAgfCBOICAgICB8XG4gICAgICogfCBOXj0xNCB8IE5eICB8IFdeICB8IFNeICB8IEVeICB8IE4gICAgfCBXICAgICB8IFMgICAgIHwgRSAgICAgfFxuICAgICAqXG4gICAgICogW1RoaXMgaXMgYSBDYXlsZXkgdGFibGVde0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NheWxleV90YWJsZX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgcm93IGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uLCB3aGljaFxuICAgICAqICAgaXMgdGhlIGNvbHVtbiBpbiB0aGUgYWJvdmUgY2F5bGV5IHRhYmxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IENvbXBvc2VkIG9wZXJhdGlvblxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24gKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7IHJldHVybiAocm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdKTsgfSxcbiAgICAvKipcbiAgICAgKiBSZXZlcnNlIG9mIGBhZGRgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25TZWNvbmQgLSBTZWNvbmQgb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbkZpcnN0IC0gRmlyc3Qgb3BlcmF0aW9uXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gUmVzdWx0XG4gICAgICovXG4gICAgc3ViOiBmdW5jdGlvbiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHsgcmV0dXJuIChyb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bZ3JvdXBEOC5pbnYocm90YXRpb25GaXJzdCldKTsgfSxcbiAgICAvKipcbiAgICAgKiBBZGRzIDE4MCBkZWdyZWVzIHRvIHJvdGF0aW9uLCB3aGljaCBpcyBhIGNvbW11dGF0aXZlXG4gICAgICogb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gcm90YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJvdGF0ZWQgbnVtYmVyXG4gICAgICovXG4gICAgcm90YXRlMTgwOiBmdW5jdGlvbiAocm90YXRpb24pIHsgcmV0dXJuIHJvdGF0aW9uIF4gNDsgfSxcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHJvdGF0aW9uIGFuZ2xlIGlzIHZlcnRpY2FsLCBpLmUuIHNvdXRoXG4gICAgICogb3Igbm9ydGguIEl0IGRvZXNuJ3Qgd29yayBmb3IgcmVmbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKi9cbiAgICBpc1ZlcnRpY2FsOiBmdW5jdGlvbiAocm90YXRpb24pIHsgcmV0dXJuIChyb3RhdGlvbiAmIDMpID09PSAyOyB9LFxuICAgIC8qKlxuICAgICAqIEFwcHJveGltYXRlcyB0aGUgdmVjdG9yIGBWKGR4LGR5KWAgaW50byBvbmUgb2YgdGhlXG4gICAgICogZWlnaHQgZGlyZWN0aW9ucyBwcm92aWRlZCBieSBgZ3JvdXBEOGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gWC1jb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFktY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBBcHByb3hpbWF0aW9uIG9mIHRoZSB2ZWN0b3IgaW50b1xuICAgICAqICBvbmUgb2YgdGhlIGVpZ2h0IHN5bW1ldHJpZXMuXG4gICAgICovXG4gICAgYnlEaXJlY3Rpb246IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKSB7XG4gICAgICAgICAgICBpZiAoZHkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LlM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5OO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4Llc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguU0U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TVztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBncm91cEQ4Lk5FO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncm91cEQ4Lk5XO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogSGVscHMgc3ByaXRlIHRvIGNvbXBlbnNhdGUgdGV4dHVyZSBwYWNrZXIgcm90YXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gc3ByaXRlIHdvcmxkIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBUaGUgcm90YXRpb24gZmFjdG9yIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqL1xuICAgIG1hdHJpeEFwcGVuZFJvdGF0aW9uSW52OiBmdW5jdGlvbiAobWF0cml4LCByb3RhdGlvbiwgdHgsIHR5KSB7XG4gICAgICAgIGlmICh0eCA9PT0gdm9pZCAwKSB7IHR4ID0gMDsgfVxuICAgICAgICBpZiAodHkgPT09IHZvaWQgMCkgeyB0eSA9IDA7IH1cbiAgICAgICAgLy8gUGFja2VyIHVzZWQgXCJyb3RhdGlvblwiLCB3ZSB1c2UgXCJpbnYocm90YXRpb24pXCJcbiAgICAgICAgdmFyIG1hdCA9IHJvdGF0aW9uTWF0cmljZXNbZ3JvdXBEOC5pbnYocm90YXRpb24pXTtcbiAgICAgICAgbWF0LnR4ID0gdHg7XG4gICAgICAgIG1hdC50eSA9IHR5O1xuICAgICAgICBtYXRyaXguYXBwZW5kKG1hdCk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoYXQgdGFrZXMgY2FyZSBhYm91dCBpdHMgdmVyc2lvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJhbnNmb3JtKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAxLCAxKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGl2b3QgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2tldyA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy51cGRhdGVTa2V3LCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBhbW91bnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcm90YXRpb24gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3ggPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFktY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3ggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBZIGF4aXMsXG4gICAgICAgICAqIHRoZSBzZWNvbmQgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N5ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBZLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAgICAgKiB0aGUgc2Vjb25kIGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zeSA9IDE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2NhbElEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtXG4gICAgICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIHdvcmxkIHRyYW5zZm9ybS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93b3JsZElEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgcGFyZW50J3Mgd29ybGQgdHJhbnNmb3JtXG4gICAgICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGEgdmFsdWUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgc2tldyBvciB0aGUgcm90YXRpb24gY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVNrZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcueSk7XG4gICAgICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3LngpOyAvLyBjb3MsIGFkZGVkIFBJLzJcbiAgICAgICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy54KTsgLy8gc2luLCBhZGRlZCBQSS8yXG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAoKHRoaXMucGl2b3QueCAqIGx0LmEpICsgKHRoaXMucGl2b3QueSAqIGx0LmMpKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKCh0aGlzLnBpdm90LnggKiBsdC5iKSArICh0aGlzLnBpdm90LnkgKiBsdC5kKSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbG9jYWwgYW5kIHRoZSB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHBhcmVudFRyYW5zZm9ybSAtIFRoZSBwYXJlbnQgdHJhbnNmb3JtXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAocGFyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLng7XG4gICAgICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICgodGhpcy5waXZvdC54ICogbHQuYSkgKyAodGhpcy5waXZvdC55ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAoKHRoaXMucGl2b3QueCAqIGx0LmIpICsgKHRoaXMucGl2b3QueSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wYXJlbnRJRCAhPT0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEKSB7XG4gICAgICAgICAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgICAgICAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgd3QuYSA9IChsdC5hICogcHQuYSkgKyAobHQuYiAqIHB0LmMpO1xuICAgICAgICAgICAgd3QuYiA9IChsdC5hICogcHQuYikgKyAobHQuYiAqIHB0LmQpO1xuICAgICAgICAgICAgd3QuYyA9IChsdC5jICogcHQuYSkgKyAobHQuZCAqIHB0LmMpO1xuICAgICAgICAgICAgd3QuZCA9IChsdC5jICogcHQuYikgKyAobHQuZCAqIHB0LmQpO1xuICAgICAgICAgICAgd3QudHggPSAobHQudHggKiBwdC5hKSArIChsdC50eSAqIHB0LmMpICsgcHQudHg7XG4gICAgICAgICAgICB3dC50eSA9IChsdC50eCAqIHB0LmIpICsgKGx0LnR5ICogcHQuZCkgKyBwdC50eTtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBpZCBvZiB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgICAgIHRoaXMuX3dvcmxkSUQrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0ucHJvdG90eXBlLnNldEZyb21NYXRyaXggPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm0ucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSB0cmFuc2Zvcm1cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0uSURFTlRJVFkgPSBuZXcgVHJhbnNmb3JtKCk7XG4gICAgcmV0dXJuIFRyYW5zZm9ybTtcbn0oKSk7XG5cbi8qKlxuICogTWF0aCBjbGFzc2VzIGFuZCB1dGlsaXRpZXMgbWl4ZWQgaW50byBQSVhJIG5hbWVzcGFjZS5cbiAqXG4gKiBAbGVuZHMgUElYSVxuICovXG5cbmV4cG9ydCB7IENpcmNsZSwgREVHX1RPX1JBRCwgRWxsaXBzZSwgTWF0cml4LCBPYnNlcnZhYmxlUG9pbnQsIFBJXzIsIFBvaW50LCBQb2x5Z29uLCBSQURfVE9fREVHLCBSZWN0YW5nbGUsIFJvdW5kZWRSZWN0YW5nbGUsIFNIQVBFUywgVHJhbnNmb3JtLCBncm91cEQ4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRoLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9kaXNwbGF5IC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL2Rpc3BsYXkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSwgVHJhbnNmb3JtLCBSQURfVE9fREVHLCBERUdfVE9fUkFEIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIsIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIFNldHMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBjb250YWluZXIgcHJvcGVydHkgJ3NvcnRhYmxlQ2hpbGRyZW4nLlxuICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gKlxuICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICpcbiAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNPUlRBQkxFX0NISUxEUkVOXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTiA9IGZhbHNlO1xuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlcy5cbiAqXG4gKiBUaGlzIGNvdWxkIGJlIGNhbGxlZCBhbiBBeGlzLUFsaWduZWQgQm91bmRpbmcgQm94LlxuICogSXQgaXMgbm90IGFuIGFjdHVhbCBzaGFwZS4gSXQgaXMgYSBtdXRhYmxlIHRoaW5nOyBubyAnRU1QVFknIG9yIHRob3NlIGtpbmQgb2YgcHJvYmxlbXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQm91bmRzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvdW5kcygpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5yZWN0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0IGlzIHVwZGF0ZWQgdG8gX2JvdW5kc0lEIG9mIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHRvIGtlZXAgYm91bmRzIGluIHN5bmMgd2l0aCBjb250ZW50LlxuICAgICAgICAgKiBVcGRhdGVkIGZyb20gb3V0c2lkZSwgdGh1cyBwdWJsaWMgbW9kaWZpZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGRhdGVJRCA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYm91bmRzIGFyZSBlbXB0eS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgZW1wdHkuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5YID4gdGhpcy5tYXhYIHx8IHRoaXMubWluWSA+IHRoaXMubWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gICAgICpcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgaWYgKHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFkpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWN0YW5nbGUuRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgcmVjdCA9IHJlY3QgfHwgbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgcmVjdC54ID0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LnkgPSB0aGlzLm1pblk7XG4gICAgICAgIHJlY3Qud2lkdGggPSB0aGlzLm1heFggLSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QuaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gYWRkLlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2ludC55KTtcbiAgICAgICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2ludC55KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBxdWFkLCBub3QgdHJhbnNmb3JtZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRRdWFkID0gZnVuY3Rpb24gKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICB2YXIgeCA9IHZlcnRpY2VzWzBdO1xuICAgICAgICB2YXIgeSA9IHZlcnRpY2VzWzFdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IHZlcnRpY2VzWzJdO1xuICAgICAgICB5ID0gdmVydGljZXNbM107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gdmVydGljZXNbNF07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1s1XTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzddO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc3ByaXRlIGZyYW1lLCB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIHRyYW5zZm9ybSB0byBhcHBseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZSA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKSB7XG4gICAgICAgIHRoaXMuYWRkRnJhbWVNYXRyaXgodHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLCB4MCwgeTAsIHgxLCB5MSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgbXVsdGlwbGllZCBieSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG1hdHJpeCB0byBhcHBseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZU1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIHgwLCB5MCwgeDEsIHkxKSB7XG4gICAgICAgIHZhciBhID0gbWF0cml4LmE7XG4gICAgICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgICAgIHZhciBkID0gbWF0cml4LmQ7XG4gICAgICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgdmFyIHggPSAoYSAqIHgwKSArIChjICogeTApICsgdHg7XG4gICAgICAgIHZhciB5ID0gKGIgKiB4MCkgKyAoZCAqIHkwKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IChhICogeDEpICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDEpICsgKGQgKiB5MCkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSAoYSAqIHgwKSArIChjICogeTEpICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgwKSArIChkICogeTEpICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkxKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkxKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc2NyZWVuIHZlcnRpY2VzIGZyb20gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0ZXhEYXRhIC0gY2FsY3VsYXRlZCB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGV4RGF0YSA9IGZ1bmN0aW9uICh2ZXJ0ZXhEYXRhLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB2ZXJ0ZXhEYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gbWVzaCB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0aWNlcyA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuYWRkVmVydGljZXNNYXRyaXgodHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIG1lc2ggbWF0cml4XG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gbWVzaCBjb29yZGluYXRlcyBpbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkWD0wXSAtIHggcGFkZGluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkWT0wXSAtIHkgcGFkZGluZ1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGljZXNNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCwgcGFkWCwgcGFkWSkge1xuICAgICAgICBpZiAocGFkWCA9PT0gdm9pZCAwKSB7IHBhZFggPSAwOyB9XG4gICAgICAgIGlmIChwYWRZID09PSB2b2lkIDApIHsgcGFkWSA9IHBhZFg7IH1cbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICAgICAgdmFyIHggPSAoYSAqIHJhd1gpICsgKGMgKiByYXdZKSArIHR4O1xuICAgICAgICAgICAgdmFyIHkgPSAoZCAqIHJhd1kpICsgKGIgKiByYXdYKSArIHR5O1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHggLSBwYWRYKTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCB4ICsgcGFkWCk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgeSAtIHBhZFkpO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHkgKyBwYWRZKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUaGUgQm91bmRzIHRvIGJlIGFkZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHMgPSBmdW5jdGlvbiAoYm91bmRzKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICB0aGlzLm1pblggPSBib3VuZHMubWluWCA8IG1pblggPyBib3VuZHMubWluWCA6IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IGJvdW5kcy5taW5ZIDwgbWluWSA/IGJvdW5kcy5taW5ZIDogbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gYm91bmRzLm1heFggPiBtYXhYID8gYm91bmRzLm1heFggOiBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBib3VuZHMubWF4WSA+IG1heFkgPyBib3VuZHMubWF4WSA6IG1heFk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVGhlIEJvdW5kcyB0byBiZSBhZGRlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBtYXNrIC0gVE9ET1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzTWFzayA9IGZ1bmN0aW9uIChib3VuZHMsIG1hc2spIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG11bHRpcGxpZWQgYnkgbWF0cml4LiBCb3VuZHMgc2hvdWxkbid0IGJlIGVtcHR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gb3RoZXIgYm91bmRzXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbXVsdGlwbGljYXRvclxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzTWF0cml4ID0gZnVuY3Rpb24gKGJvdW5kcywgbWF0cml4KSB7XG4gICAgICAgIHRoaXMuYWRkRnJhbWVNYXRyaXgobWF0cml4LCBib3VuZHMubWluWCwgYm91bmRzLm1pblksIGJvdW5kcy5tYXhYLCBib3VuZHMubWF4WSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNBcmVhID0gZnVuY3Rpb24gKGJvdW5kcywgYXJlYSkge1xuICAgICAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IGFyZWEueCA/IGJvdW5kcy5taW5YIDogYXJlYS54O1xuICAgICAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IGFyZWEueSA/IGJvdW5kcy5taW5ZIDogYXJlYS55O1xuICAgICAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IGFyZWEueCArIGFyZWEud2lkdGggPyBib3VuZHMubWF4WCA6IChhcmVhLnggKyBhcmVhLndpZHRoKTtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogKGFyZWEueSArIGFyZWEuaGVpZ2h0KTtcbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFkcyBib3VuZHMgb2JqZWN0LCBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAgICAgKiBJZiBwYWRkaW5nWSBpcyBvbWl0dGVkLCBib3RoIHBhZGRpbmdYIGFuZCBwYWRkaW5nWSB3aWxsIGJlIHNldCB0byBwYWRkaW5nWC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1g9MF0gLSBUaGUgaG9yaXpvbnRhbCBwYWRkaW5nIGFtb3VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhZGRpbmdZPTBdIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBpZiAocGFkZGluZ1ggPT09IHZvaWQgMCkgeyBwYWRkaW5nWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZGRpbmdZID09PSB2b2lkIDApIHsgcGFkZGluZ1kgPSBwYWRkaW5nWDsgfVxuICAgICAgICBpZiAoIXRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1pblggLT0gcGFkZGluZ1g7XG4gICAgICAgICAgICB0aGlzLm1heFggKz0gcGFkZGluZ1g7XG4gICAgICAgICAgICB0aGlzLm1pblkgLT0gcGFkZGluZ1k7XG4gICAgICAgICAgICB0aGlzLm1heFkgKz0gcGFkZGluZ1k7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgcGFkZGVkIGZyYW1lLiAoeDAsIHkwKSBzaG91bGQgYmUgc3RyaWN0bHkgbGVzcyB0aGFuICh4MSwgeTEpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDAgLSBsZWZ0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSB0b3AgWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBib3R0b20gWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWRYIC0gcGFkZGluZyBYXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZFkgLSBwYWRkaW5nIFlcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lUGFkID0gZnVuY3Rpb24gKHgwLCB5MCwgeDEsIHkxLCBwYWRYLCBwYWRZKSB7XG4gICAgICAgIHgwIC09IHBhZFg7XG4gICAgICAgIHkwIC09IHBhZFk7XG4gICAgICAgIHgxICs9IHBhZFg7XG4gICAgICAgIHkxICs9IHBhZFk7XG4gICAgICAgIHRoaXMubWluWCA9IHRoaXMubWluWCA8IHgwID8gdGhpcy5taW5YIDogeDA7XG4gICAgICAgIHRoaXMubWF4WCA9IHRoaXMubWF4WCA+IHgxID8gdGhpcy5tYXhYIDogeDE7XG4gICAgICAgIHRoaXMubWluWSA9IHRoaXMubWluWSA8IHkwID8gdGhpcy5taW5ZIDogeTA7XG4gICAgICAgIHRoaXMubWF4WSA9IHRoaXMubWF4WSA+IHkxID8gdGhpcy5tYXhZIDogeTE7XG4gICAgfTtcbiAgICByZXR1cm4gQm91bmRzO1xufSgpKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gKlxuICogVGhpcyBpcyBhbiBhYnN0cmFjdCBjbGFzcyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIG9uIGl0cyBvd247IHJhdGhlciBpdCBzaG91bGQgYiBlIGV4dGVuZGVkLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBEaXNwbGF5T2JqZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEaXNwbGF5T2JqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERpc3BsYXlPYmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjcmVhdGUgVHJhbnNmb3JtIGZyb20gZmFjdG9yeVxuICAgICAgICAvKipcbiAgICAgICAgICogV29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZWNvbWUgcmVhZC1vbmx5IGxhdGVyLCBwbGVhc2UgZG8gbm90IGFzc2lnbiBhbnl0aGluZyB0aGVyZSB1bmxlc3MgeW91IGtub3cgd2hhdCBhcmUgeW91IGRvaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBvYmplY3QuIElmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24sIGFuZFxuICAgICAgICAgKiB0aGUgdXBkYXRlVHJhbnNmb3JtIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBvciBjYWxsIHVwZGF0ZVRyYW5zZm9ybSBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuIHRoaXMgb2JqZWN0IGJlIHJlbmRlcmVkLCBpZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduIGJ1dCB0aGUgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIG1ldGhvZHMgd2lsbCBzdGlsbCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXIgdGhhdCBjb250YWlucyB0aGlzIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbXVsdGlwbGllZCBhbHBoYSBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndvcmxkQWxwaGEgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hpY2ggaW5kZXggaW4gdGhlIGNoaWxkcmVuIGFycmF5IHRoZSBkaXNwbGF5IGNvbXBvbmVudCB3YXMgYmVmb3JlIHRoZSBwcmV2aW91cyB6SW5kZXggc29ydC5cbiAgICAgICAgICogVXNlZCBieSBjb250YWluZXJzIHRvIGhlbHAgc29ydCBvYmplY3RzIHdpdGggdGhlIHNhbWUgekluZGV4LCBieSB1c2luZyBwcmV2aW91cyBhcnJheSBpbmRleCBhcyB0aGUgZGVjaWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGFzdFNvcnRlZEluZGV4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqIEEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl96SW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgdGhlIGZpbHRlciBpcyBhcHBsaWVkIHRvLiBUaGlzIGlzIHVzZWQgYXMgbW9yZSBvZiBhbiBvcHRpbWl6YXRpb25cbiAgICAgICAgICogcmF0aGVyIHRoYW4gZmlndXJpbmcgb3V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGVhY2ggZnJhbWUgeW91IGNhbiBzZXQgdGhpcyByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gd29ya3MgYXMgYW4gaW50ZXJhY3Rpb24gbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBmaWx0ZXJzIGZvciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBUbyByZW1vdmUgZmlsdGVycyBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYCdudWxsJ2AuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgez9QSVhJLkZpbHRlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50bHkgZW5hYmxlZCBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIG9iamVjdCwgdGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBhbmQgc3RvcmUgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9jYWwgYm91bmRzIG9iamVjdCwgc3dhcHBlZCB3aXRoIGBfYm91bmRzYCB3aGVuIHVzaW5nIGBnZXRMb2NhbEJvdW5kcygpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZ3MgdGhlIGNhY2hlZCBib3VuZHMgYXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kc0lEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIG9mIHRoaXMgZGlzcGxheS1vYmplY3QncyBib3VuZHMtcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgb2YgdGhpcyBkaXNwbGF5LW9iamVjdCdzIGxvY2FsLWJvdW5kcyByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcmlnaW5hbCwgY2FjaGVkIG1hc2sgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ8UElYSS5NYXNrRGF0YXxudWxsfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWFzayA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNhZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIGFkZGVkIHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgcmVtb3ZlZCBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Nwcml0ZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyBhbnkgb3RoZXIgZGlzcGxheU9iamVjdCB1c2UgdGhpcyBvYmplY3QgYXMgYSBtYXNrP1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2YgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBtaXggaW4uXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5taXhpbiA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBrZXlzW2ldO1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSB1c2luZyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAtIHRoaXMgd29ya3MgZm9yIGFjY2Vzc29ycyBhbmQgbm9ybWFsIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgcHJvcGVydHlOYW1lLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IHVwZGF0ZXMgdHJhbnNmb3JtIG9mIGFsbCBvYmplY3RzIGZyb20gdGhlIHJvb3QgdG8gdGhpcyBvbmVcbiAgICAgKiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgdG9Mb2NhbCgpXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyFcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAvLyBtdWx0aXBseSB0aGUgYWxwaGFzLi5cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlXSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICAgICAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICAgICAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIChza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYm91bmRzLnVwZGF0ZUlEICE9PSB0aGlzLl9ib3VuZHNJRCkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIHZhciBwYXJlbnRSZWYgPSB0aGlzLnBhcmVudDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHdvcmxkQm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgICAgICB2YXIgd29ybGRCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB0aGlzLl9sb2NhbEJvdW5kcztcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSB3b3JsZEJvdW5kcztcbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEICs9IHRoaXMuX2JvdW5kc0lEIC0gd29ybGRCb3VuZHNJRDsgLy8gcmVmbGVjdCBzaWRlLWVmZmVjdHNcbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvR2xvYmFsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoc2tpcFVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBVcGRhdGUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbZnJvbV0gLSBUaGUgRGlzcGxheU9iamVjdCB0byBjYWxjdWxhdGUgdGhlIGdsb2JhbCBwb3NpdGlvbiBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBmcm9tLnRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBhZGQgdGhpcyBEaXNwbGF5T2JqZWN0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UGFyZW50OiBBcmd1bWVudCBtdXN0IGJlIGEgQ29udGFpbmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSwgcGl2b3RYLCBwaXZvdFkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChzY2FsZVggPT09IHZvaWQgMCkgeyBzY2FsZVggPSAxOyB9XG4gICAgICAgIGlmIChzY2FsZVkgPT09IHZvaWQgMCkgeyBzY2FsZVkgPSAxOyB9XG4gICAgICAgIGlmIChyb3RhdGlvbiA9PT0gdm9pZCAwKSB7IHJvdGF0aW9uID0gMDsgfVxuICAgICAgICBpZiAoc2tld1ggPT09IHZvaWQgMCkgeyBza2V3WCA9IDA7IH1cbiAgICAgICAgaWYgKHNrZXdZID09PSB2b2lkIDApIHsgc2tld1kgPSAwOyB9XG4gICAgICAgIGlmIChwaXZvdFggPT09IHZvaWQgMCkgeyBwaXZvdFggPSAwOyB9XG4gICAgICAgIGlmIChwaXZvdFkgPT09IHZvaWQgMCkgeyBwaXZvdFkgPSAwOyB9XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUueCA9ICFzY2FsZVggPyAxIDogc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB0aGlzLnBpdm90LnggPSBwaXZvdFg7XG4gICAgICAgIHRoaXMucGl2b3QueSA9IHBpdm90WTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCYXNlIGRlc3Ryb3kgbWV0aG9kIGZvciBnZW5lcmljIGRpc3BsYXkgb2JqZWN0cy4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgKiByZW1vdmUgdGhlIGRpc3BsYXkgb2JqZWN0IGZyb20gaXRzIHBhcmVudCBDb250YWluZXIgYXMgd2VsbCBhcyByZW1vdmVcbiAgICAgKiBhbGwgY3VycmVudCBldmVudCBsaXN0ZW5lcnMgYW5kIGludGVybmFsIHJlZmVyZW5jZXMuIERvIG5vdCB1c2UgYSBEaXNwbGF5T2JqZWN0XG4gICAgICogYWZ0ZXIgY2FsbGluZyBgZGVzdHJveSgpYC5cbiAgICAgKlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoX29wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaGl0QXJlYSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVzZWQgaW4gUmVuZGVyZXIsIGNhY2hlQXNCaXRtYXAgYW5kIG90aGVyIHBsYWNlcyB3aGVyZSB5b3UgY2FsbCBhbiBgdXBkYXRlVHJhbnNmb3JtYCBvbiByb290XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjYWNoZVBhcmVudCA9IGVsZW0uZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAqIGVsZW0udXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICogZWxlbS5kaXNhYmxlVGVtcFBhcmVudChjYWNoZVBhcmVudCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5EaXNwbGF5T2JqZWN0fSBjdXJyZW50IHBhcmVudFxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmVuYWJsZVRlbXBQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBteVBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICByZXR1cm4gbXlQYXJlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWlyIG1ldGhvZCBmb3IgYGVuYWJsZVRlbXBQYXJlbnRgXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNhY2hlUGFyZW50IGFjdHVhbCBwYXJlbnQgb2YgZWxlbWVudFxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc2FibGVUZW1wUGFyZW50ID0gZnVuY3Rpb24gKGNhY2hlUGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gY2FjaGVQYXJlbnQ7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwieFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwid29ybGRUcmFuc2Zvcm1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiB3b3JsZCAocGFyZW50KSBmYWN0b3JzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJsb2NhbFRyYW5zZm9ybVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmYuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJzY2FsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJwaXZvdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInNrZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2tldy5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwicm90YXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICAgICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiYW5nbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuZ2xlIG9mIHRoZSBvYmplY3QgaW4gZGVncmVlcy5cbiAgICAgICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAqIFJBRF9UT19ERUc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlICogREVHX1RPX1JBRDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ6SW5kZXhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogSWYgYSBjb250YWluZXIgaGFzIHRoZSBzb3J0YWJsZUNoaWxkcmVuIHByb3BlcnR5IHNldCB0byB0cnVlLCBjaGlsZHJlbiB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICogc29ydGVkIGJ5IHpJbmRleCB2YWx1ZTsgYSBoaWdoZXIgdmFsdWUgd2lsbCBtZWFuIGl0IHdpbGwgYmUgbW92ZWQgdG93YXJkcyB0aGUgZW5kIG9mIHRoZSBhcnJheSxcbiAgICAgICAgICogYW5kIHRodXMgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3pJbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3pJbmRleCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc29ydERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ3b3JsZFZpc2libGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBvYmplY3QgaXMgZ2xvYmFsbHkgdmlzaWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcztcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0udmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnBhcmVudDtcbiAgICAgICAgICAgIH0gd2hpbGUgKGl0ZW0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwibWFza1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIGEgbWFzayBmb3IgdGhlIGRpc3BsYXlPYmplY3QuIEEgbWFzayBpcyBhbiBvYmplY3QgdGhhdCBsaW1pdHMgdGhlIHZpc2liaWxpdHkgb2YgYW5cbiAgICAgICAgICogb2JqZWN0IHRvIHRoZSBzaGFwZSBvZiB0aGUgbWFzayBhcHBsaWVkIHRvIGl0LiBJbiBQaXhpSlMgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICAgICAqIHtAbGluayBQSVhJLkdyYXBoaWNzfSBvciBhIHtAbGluayBQSVhJLlNwcml0ZX0gb2JqZWN0LiBUaGlzIGFsbG93cyBmb3IgbXVjaCBmYXN0ZXIgbWFza2luZyBpbiBjYW52YXMgYXMgaXRcbiAgICAgICAgICogdXRpbGl0aWVzIHNoYXBlIGNsaXBwaW5nLiBUbyByZW1vdmUgYSBtYXNrLCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgbnVsbGAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEZvciBzcHJpdGUgbWFzayBib3RoIGFscGhhIGFuZCByZWQgY2hhbm5lbCBhcmUgdXNlZC4gQmxhY2sgbWFzayBpcyB0aGUgc2FtZSBhcyB0cmFuc3BhcmVudCBtYXNrLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmJlZ2luRmlsbCgweEZGMzMwMCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmRyYXdSZWN0KDUwLCAyNTAsIDEwMCwgMTAwKTtcbiAgICAgICAgICogZ3JhcGhpY3MuZW5kRmlsbCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICAgICAqIHNwcml0ZS5tYXNrID0gZ3JhcGhpY3M7XG4gICAgICAgICAqIEB0b2RvIEF0IHRoZSBtb21lbnQsIFBJWEkuQ2FudmFzUmVuZGVyZXIgZG9lc24ndCBzdXBwb3J0IFBJWEkuU3ByaXRlIGFzIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfFBJWEkuTWFza0RhdGF8bnVsbH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKHRoaXMuX21hc2subWFza09iamVjdCB8fCB0aGlzLl9tYXNrKTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuaXNNYXNrID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKHRoaXMuX21hc2subWFza09iamVjdCB8fCB0aGlzLl9tYXNrKTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LmlzTWFzayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRGlzcGxheU9iamVjdDtcbn0oRXZlbnRFbWl0dGVyKSk7XG52YXIgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGVtcG9yYXJ5RGlzcGxheU9iamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc29ydERpcnR5ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVGVtcG9yYXJ5RGlzcGxheU9iamVjdDtcbn0oRGlzcGxheU9iamVjdCkpO1xuLyoqXG4gKiBEaXNwbGF5T2JqZWN0IGRlZmF1bHQgdXBkYXRlVHJhbnNmb3JtLCBkb2VzIG5vdCB1cGRhdGUgY2hpbGRyZW4gb2YgY29udGFpbmVyLlxuICogV2lsbCBjcmFzaCBpZiB0aGVyZSdzIG5vIHBhcmVudCBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAZnVuY3Rpb24gZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtID0gRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5mdW5jdGlvbiBzb3J0Q2hpbGRyZW4oYSwgYikge1xuICAgIGlmIChhLnpJbmRleCA9PT0gYi56SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGEuX2xhc3RTb3J0ZWRJbmRleCAtIGIuX2xhc3RTb3J0ZWRJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG59XG4vKipcbiAqIEEgQ29udGFpbmVyIHJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIGRpc3BsYXkgb2JqZWN0cy5cbiAqXG4gKiBJdCBpcyB0aGUgYmFzZSBjbGFzcyBvZiBhbGwgZGlzcGxheSBvYmplY3RzIHRoYXQgYWN0IGFzIGEgY29udGFpbmVyIGZvciBvdGhlciBvYmplY3RzIChsaWtlIFNwcml0ZXMpLlxuICpcbiAqYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkRpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbnRhaW5lciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb250YWluZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGNvbnRhaW5lciB3aWxsIHNvcnQgaXRzIGNoaWxkcmVuIGJ5IHpJbmRleCB2YWx1ZVxuICAgICAgICAgKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGFjdHVhbGx5IGNoYW5nZXMgdGhlIG9yZGVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSwgc28gc2hvdWxkIGJlIHRyZWF0ZWRcbiAgICAgICAgICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAgICAgICAgICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAgICAgICAgICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3J0YWJsZUNoaWxkcmVuID0gc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgY2hpbGRyZW4gYmUgc29ydGVkIGJ5IHpJbmRleCBhdCB0aGUgbmV4dCB1cGRhdGVUcmFuc2Zvcm0gY2FsbC5cbiAgICAgICAgICogV2lsbCBnZXQgYXV0b21hdGljYWxseSBzZXQgdG8gdHJ1ZSBpZiBhIG5ldyBjaGlsZCBpcyBhZGRlZCwgb3IgaWYgYSBjaGlsZCdzIHpJbmRleCBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5Db250YWluZXIjY2hpbGRBZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgYWRkZWQgdG8gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IGFkZGVkIHRoZSBjaGlsZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIGFkZGVkIGNoaWxkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkRnJvbVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgcmVtb3ZlZCBmcm9tIHRoZSBDb250YWluZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdGhhdCByZW1vdmVkIHJlbW92ZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgZm9ybWVyIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIHJlbW92ZWQgY2hpbGRcbiAgICAgICAgICovXG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIG1ldGhvZCB0aGF0IGNhbiBiZSB1c2VkIGJ5IENvbnRhaW5lciBzdWJjbGFzc2VzIHdoZW5ldmVyIHRoZSBjaGlsZHJlbiBhcnJheSBpcyBtb2RpZmllZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIChfbGVuZ3RoKSB7XG4gICAgICAgIC8qIGVtcHR5ICovXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGRyZW4gLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcnJheSBhbmQgYWRkIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGhhcyBhIHBhcmVudCB0aGVuIGxldHMgcmVtb3ZlIGl0IGFzIFBpeGlKUyBvYmplY3RzIGNhbiBvbmx5IGV4aXN0IGluIG9uZSBwbGFjZVxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhlIGNvbnRhaW5lciBhdCBhIHNwZWNpZmllZCBpbmRleC4gSWYgdGhlIGluZGV4IGlzIG91dCBvZiBib3VuZHMgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gcGxhY2UgdGhlIGNoaWxkIGluXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjaGlsZCArIFwiYWRkQ2hpbGRBdDogVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiAoY2hpbGQsIGNoaWxkMikge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB2YXIgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgxXSA9IGNoaWxkMjtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDJdID0gY2hpbGQ7XG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleDEgPCBpbmRleDIgPyBpbmRleDEgOiBpbmRleDIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzdXBwbGllZCBEaXNwbGF5T2JqZWN0IG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgcG9zaXRpb24gb2YgYW4gZXhpc3RpbmcgY2hpbGQgaW4gdGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgZm9yIHdoaWNoIHlvdSB3YW50IHRvIGNoYW5nZSB0aGUgaW5kZXggbnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIHJlc3VsdGluZyBpbmRleCBudW1iZXIgZm9yIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBjdXJyZW50SW5kZXgsIDEpOyAvLyByZW1vdmUgZnJvbSBvbGQgcG9zaXRpb25cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTsgLy8gYWRkIGF0IG5ldyBwb3NpdGlvblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hpbGRBdDogSW5kZXggKFwiICsgaW5kZXggKyBcIikgZG9lcyBub3QgZXhpc3QuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgb25lIG9yIG1vcmUgY2hpbGRyZW4gZnJvbSB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkcmVuIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCByZW1vdmUgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGRBdChpbmRleCk7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWQuLlxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoaXMgY29udGFpbmVyIHRoYXQgYXJlIHdpdGhpbiB0aGUgYmVnaW4gYW5kIGVuZCBpbmRleGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbkluZGV4PTBdIC0gVGhlIGJlZ2lubmluZyBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZEluZGV4PXRoaXMuY2hpbGRyZW4ubGVuZ3RoXSAtIFRoZSBlbmRpbmcgcG9zaXRpb24uIERlZmF1bHQgdmFsdWUgaXMgc2l6ZSBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gTGlzdCBvZiByZW1vdmVkIGNoaWxkcmVuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZHJlbiA9IGZ1bmN0aW9uIChiZWdpbkluZGV4LCBlbmRJbmRleCkge1xuICAgICAgICBpZiAoYmVnaW5JbmRleCA9PT0gdm9pZCAwKSB7IGJlZ2luSW5kZXggPSAwOyB9XG4gICAgICAgIGlmIChlbmRJbmRleCA9PT0gdm9pZCAwKSB7IGVuZEluZGV4ID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IH1cbiAgICAgICAgdmFyIGJlZ2luID0gYmVnaW5JbmRleDtcbiAgICAgICAgdmFyIGVuZCA9IGVuZEluZGV4O1xuICAgICAgICB2YXIgcmFuZ2UgPSBlbmQgLSBiZWdpbjtcbiAgICAgICAgdmFyIHJlbW92ZWQ7XG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKSB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0ucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlZFtpXS50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0uZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgcmVtb3ZlZFtpXSwgdGhpcywgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdyZW1vdmVDaGlsZHJlbjogbnVtZXJpYyB2YWx1ZXMgYXJlIG91dHNpZGUgdGhlIGFjY2VwdGFibGUgcmFuZ2UuJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTb3J0cyBjaGlsZHJlbiBieSB6SW5kZXguIFByZXZpb3VzIG9yZGVyIGlzIG1hbnRhaW5lZCBmb3IgMiBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIHpJbmRleC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNvcnRDaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvcnRSZXF1aXJlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG4gICAgICAgICAgICBpZiAoIXNvcnRSZXF1aXJlZCAmJiBjaGlsZC56SW5kZXggIT09IDApIHtcbiAgICAgICAgICAgICAgICBzb3J0UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzb3J0UmVxdWlyZWQgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNvcnQoc29ydENoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gJiYgdGhpcy5zb3J0RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuc29ydENoaWxkcmVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgLy8gVE9ETzogZmlsdGVyK21hc2ssIG5lZWQgdG8gbWFzayBib3RoIHNvbWVob3dcbiAgICAgICAgICAgIGlmIChjaGlsZC5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKGNoaWxkLl9tYXNrLm1hc2tPYmplY3QgfHwgY2hpbGQuX21hc2spO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgbWFza09iamVjdC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHMoY2hpbGQuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBDaGlsZHJlblVwZGF0ZT1mYWxzZV0gLSBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIHN0b3AgcmUtY2FsY3VsYXRpb24gb2YgY2hpbGRyZW4gdHJhbnNmb3JtcyxcbiAgICAgKiAgaXQgd2FzIGRlZmF1bHQgYmVoYXZpb3VyIG9mIHBpeGkgNC4wLTUuMiBhbmQgY2F1c2VkIG1hbnkgcHJvYmxlbXMgdG8gdXNlcnMuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCwgc2tpcENoaWxkcmVuVXBkYXRlKSB7XG4gICAgICAgIGlmIChza2lwQ2hpbGRyZW5VcGRhdGUgPT09IHZvaWQgMCkgeyBza2lwQ2hpbGRyZW5VcGRhdGUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgICAgICBpZiAoIXNraXBDaGlsZHJlblVwZGF0ZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBPdmVycmlkZSB0aGlzIHRvXG4gICAgICogY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIHNwZWNpZmljIG9iamVjdCAobm90IGluY2x1ZGluZyBjaGlsZHJlbikuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBGSUxMIElOLy9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBkbyBhIHF1aWNrIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGVsZW1lbnQgaGFzIGEgbWFzayBvciBhIGZpbHRlci5cbiAgICAgICAgaWYgKHRoaXMuX21hc2sgfHwgKHRoaXMuZmlsdGVycyAmJiB0aGlzLmZpbHRlcnMubGVuZ3RoKSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgLy8gc2ltcGxlIHJlbmRlciBjaGlsZHJlbiFcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlciBhbmQgYWR2YW5jZWQgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7XG4gICAgICAgIHZhciBtYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlci5wdXNoKHRoaXMsIHRoaXMuX2VuYWJsZWRGaWx0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wdXNoKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0aGlzIG9iamVjdCB0byB0aGUgYmF0Y2gsIG9ubHkgcmVuZGVyZWQgaWYgaXQgaGFzIGEgdGV4dHVyZS5cbiAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgLy8gbm93IGxvb3AgdGhyb3VnaCB0aGUgY2hpbGRyZW4gYW5kIG1ha2Ugc3VyZSB0aGV5IGdldCByZW5kZXJlZFxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2sucG9wKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUbyBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAoX3JlbmRlcmVyKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgY29udGVudCBpdHNlbGYgZ2V0cyByZW5kZXJlZC4uLlxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyBhbmQgbGlzdGVuZXJzIGFzIHdlbGwgYXMgcmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXG4gICAgICogRG8gbm90IHVzZSBhIENvbnRhaW5lciBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHZhciBkZXN0cm95Q2hpbGRyZW4gPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5jaGlsZHJlbjtcbiAgICAgICAgdmFyIG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIGlmIChkZXN0cm95Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQ2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBvbGRDaGlsZHJlbltpXS5kZXN0cm95KG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGFpbmVyLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICAgICAgaWYgKHdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRhaW5lci5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKGhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHZhbHVlIC8gaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbnRhaW5lcjtcbn0oRGlzcGxheU9iamVjdCkpO1xuLyoqXG4gKiBDb250YWluZXIgZGVmYXVsdCB1cGRhdGVUcmFuc2Zvcm0sIGRvZXMgdXBkYXRlIGNoaWxkcmVuIG9mIGNvbnRhaW5lci5cbiAqIFdpbGwgY3Jhc2ggaWYgdGhlcmUncyBubyBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAZnVuY3Rpb24gY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmV4cG9ydCB7IEJvdW5kcywgQ29udGFpbmVyLCBEaXNwbGF5T2JqZWN0LCBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL2FjY2Vzc2liaWxpdHkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBpc01vYmlsZSwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYWNjZXNzaWJsZSBvYmplY3RzXG4gKiB1c2VkIGJ5IHtAbGluayBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJsZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgYWNjZXNzaWJsZVRhcmdldCA9IHtcbiAgICAvKipcbiAgICAgKiAgRmxhZyBmb3IgaWYgdGhlIG9iamVjdCBpcyBhY2Nlc3NpYmxlLiBJZiB0cnVlIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHdpbGwgb3ZlcmxheSBhXG4gICAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKiBJZiBhY2Nlc3NpYmxlVGl0bGUgQU5EIGFjY2Vzc2libGVIaW50IGhhcyBub3QgYmVlbiB0aGlzIHdpbGwgZGVmYXVsdCB0byAnZGlzcGxheU9iamVjdCBbdGFiSW5kZXhdJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7P3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIHRhYkluZGV4OiAwLFxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZURpdjogbnVsbCxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSB0eXBlIG9mIGRpdiB0aGUgYWNjZXNzaWJsZSBsYXllciBpcy4gU2NyZWVuIHJlYWRlcnMgdHJlYXQgdGhlIGVsZW1lbnQgZGlmZmVyZW50bHlcbiAgICAgKiBkZXBlbmRpbmcgb24gdGhpcyB0eXBlLiBEZWZhdWx0cyB0byBidXR0b24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCAnYnV0dG9uJ1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUeXBlOiAnYnV0dG9uJyxcbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSBwb2ludGVyLWV2ZW50cyB0aGUgYWNjZXNzaWJsZSBkaXYgd2lsbCB1c2VcbiAgICAgKiBEZWZhdWx0cyB0byBhdXRvLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQGRlZmF1bHQgJ2F1dG8nXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM6ICdhdXRvJyxcbiAgICAvKipcbiAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIHdpbGwgcHJldmVudCBhbnkgY2hpbGRyZW4gaW5zaWRlIHRoaXMgY29udGFpbmVyIHRvXG4gICAgICogYmUgYWNjZXNzaWJsZS4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlLFxuICAgIHJlbmRlcklkOiAtMSxcbn07XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbkRpc3BsYXlPYmplY3QubWl4aW4oYWNjZXNzaWJsZVRhcmdldCk7XG52YXIgS0VZX0NPREVfVEFCID0gOTtcbnZhciBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbnZhciBESVZfVE9VQ0hfUE9TX1ggPSAwO1xudmFyIERJVl9UT1VDSF9QT1NfWSA9IDA7XG52YXIgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG52YXIgRElWX0hPT0tfU0laRSA9IDE7XG52YXIgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbnZhciBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xudmFyIERJVl9IT09LX1pJTkRFWCA9IDI7XG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuIHJlYWRlcnMuXG4gKiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgUGl4aUpTIGNvbnRlbnQuXG4gKlxuICogQSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBtYWRlIGFjY2Vzc2libGUganVzdCBsaWtlIGl0IGNhbiBiZSBtYWRlIGludGVyYWN0aXZlLiBUaGlzIG1hbmFnZXIgd2lsbCBtYXAgdGhlXG4gKiBldmVudHMgYXMgaWYgdGhlIG1vdXNlIHdhcyBiZWluZyB1c2VkLCBtaW5pbWl6aW5nIHRoZSBlZmZvcnQgcmVxdWlyZWQgdG8gaW1wbGVtZW50LlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eWBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBY2Nlc3NpYmlsaXR5TWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7P0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gICAgICAgIGlmIChpc01vYmlsZS50YWJsZXQgfHwgaXNNb2JpbGUucGhvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVG91Y2hIb29rKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmlyc3Qgd2UgY3JlYXRlIGEgZGl2IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSBESVZfVE9VQ0hfUE9TX1ggKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gRElWX1RPVUNIX1BPU19ZICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWC50b1N0cmluZygpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGl2ID0gZGl2O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9vbCA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHZpc3VhbGx5IHNob3cgdGhlIGRpdnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uS2V5RG93biA9IHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogY291bnQgdG8gdGhyb3R0bGUgZGl2IHVwZGF0ZXMgb24gYW5kcm9pZCBkZXZpY2VzXG4gICAgICAgICAqIEB0eXBlIG51bWJlclxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlQ291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIGZyZXF1ZW5jeSB0byB1cGRhdGUgdGhlIGRpdiBlbGVtZW50cyAoKVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlRnJlcXVlbmN5ID0gNTAwOyAvLyAyZnBzXG4gICAgICAgIC8vIGxldCBsaXN0ZW4gZm9yIHRhYi4uIG9uY2UgcHJlc3NlZCB3ZSBjYW4gZmlyZSB1cCBhbmQgc2hvdyB0aGUgYWNjZXNzaWJpbGl0eSBsYXllclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLCBcImlzQWN0aXZlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWN0aXZlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZSwgXCJpc01vYmlsZUFjY2Vzc2liaWxpdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgdG91Y2ggaG9va3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jcmVhdGVUb3VjaEhvb2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUud2lkdGggPSBESVZfSE9PS19TSVpFICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IERJVl9IT09LX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnRvcCA9IERJVl9IT09LX1BPU19YICsgXCJweFwiO1xuICAgICAgICBob29rRGl2LnN0eWxlLmxlZnQgPSBESVZfSE9PS19QT1NfWSArIFwicHhcIjtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS56SW5kZXggPSBESVZfSE9PS19aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgICAgIGhvb2tEaXYudGl0bGUgPSAnc2VsZWN0IHRvIGVuYWJsZSBhY2Nlc3NhYmlsaXR5IGZvciB0aGlzIGNvbnRlbnQnO1xuICAgICAgICBob29rRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgX3RoaXMuZGVzdHJveVRvdWNoSG9vaygpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICAgICAgdGhpcy5faG9va0RpdiA9IGhvb2tEaXY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgdG91Y2ggaG9va3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95VG91Y2hIb29rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2hvb2tEaXYpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX2hvb2tEaXYpO1xuICAgICAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBwcmVzc2VzIHRoZSB0YWIga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBtb3ZlcyB0aGUgbW91c2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzQWN0aXZlIHx8IHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBjYXN0aW5nIHdoZW4gQ2FudmFzUmVuZGVyZXIgaXMgY29udmVydGVkXG4gICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUpO1xuICAgICAgICBpZiAodGhpcy5kaXYucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgcmVjdXJzaXZlIGZ1bmN0aW9uIHdpbGwgcnVuIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBhZGQgYW55IG5ldyBhY2Nlc3NpYmxlIG9iamVjdHMgdG8gdGhlIERPTSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNoZWNrLlxuICAgICAqL1xuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlIHx8ICFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVDaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGUgJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVySWQgPSB0aGlzLnJlbmRlcklkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWZvcmUgZWFjaCByZW5kZXIgdGhpcyBmdW5jdGlvbiB3aWxsIGVuc3VyZSB0aGF0IGFsbCBkaXZzIGFyZSBtYXBwZWQgY29ycmVjdGx5IHRvIHRoZWlyIERpc3BsYXlPYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKiBPbiBBbmRyb2lkIGRlZmF1bHQgd2ViIGJyb3dzZXIsIHRhYiBvcmRlciBzZWVtcyB0byBiZSBjYWxjdWxhdGVkIGJ5IHBvc2l0aW9uIHJhdGhlciB0aGFuIHRhYkluZGV4LFxuICAgICAgICAqICBtb3ZpbmcgYnV0dG9ucyBjYW4gY2F1c2UgZm9jdXMgdG8gZmxpY2tlciBiZXR3ZWVuIHR3byBidXR0b25zIG1ha2luZyBpdCBoYXJkL2ltcG9zc2libGUgdG8gbmF2aWdhdGUsXG4gICAgICAgICogIHNvIEkgYW0ganVzdCBydW5uaW5nIHVwZGF0ZSBldmVyeSBoYWxmIGEgc2Vjb25kLCBzZWVtcyB0byBmaXggaXQuXG4gICAgICAgICovXG4gICAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGlzTW9iaWxlLmFuZHJvaWQuZGV2aWNlICYmIG5vdyA8IHRoaXMuYW5kcm9pZFVwZGF0ZUNvdW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmRyb2lkVXBkYXRlQ291bnQgPSBub3cgKyB0aGlzLmFuZHJvaWRVcGRhdGVGcmVxdWVuY3k7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBjaGlsZHJlbi4uLlxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLnJlbmRlcmVyLnZpZXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgc3ggPSAocmVjdC53aWR0aCAvIHRoaXMucmVuZGVyZXIud2lkdGgpICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHN5ID0gKHJlY3QuaGVpZ2h0IC8gdGhpcy5yZW5kZXJlci5oZWlnaHQpICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGRpdiA9IHRoaXMuZGl2O1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IHJlY3QubGVmdCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHJlY3QudG9wICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5yZW5kZXJJZCAhPT0gdGhpcy5yZW5kZXJJZCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaSwgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXYucmVtb3ZlQ2hpbGQoY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9vbC5wdXNoKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZURpdiA9IG51bGw7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbWFwIGRpdiB0byBkaXNwbGF5Li5cbiAgICAgICAgICAgICAgICBkaXYgPSBjaGlsZC5fYWNjZXNzaWJsZURpdjtcbiAgICAgICAgICAgICAgICB2YXIgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XG4gICAgICAgICAgICAgICAgdmFyIHd0ID0gY2hpbGQud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAod3QudHggKyAoaGl0QXJlYS54ICogd3QuYSkpICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSAod3QudHkgKyAoaGl0QXJlYS55ICogd3QuZCkpICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiB3dC5hICogc3ggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBoaXRBcmVhLmhlaWdodCAqIHd0LmQgKiBzeSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdEFyZWEgPSBjaGlsZC5nZXRCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXBIaXRBcmVhKGhpdEFyZWEpO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGhpdEFyZWEueCAqIHN4ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gaGl0QXJlYS55ICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiBzeCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogc3kgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBidXR0b24gdGl0bGVzIGFuZCBoaW50cyBpZiB0aGV5IGV4aXN0IGFuZCB0aGV5J3ZlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpdi50aXRsZSAhPT0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlICYmIGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXYuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgIT09IGNoaWxkLmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBjaGlsZC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGNoaWxkLmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aGUgdGl0bGUgb3IgaW5kZXggbWF5IGhhdmUgY2hhbmdlZCwgaWYgc28gbGV0cyB1cGRhdGUgaXQhXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmFjY2Vzc2libGVUaXRsZSAhPT0gZGl2LnRpdGxlIHx8IGNoaWxkLnRhYkluZGV4ICE9PSBkaXYudGFiSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgICAgICBkaXYudGFiSW5kZXggPSBjaGlsZC50YWJJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSByZW5kZXIgaWQuLlxuICAgICAgICB0aGlzLnJlbmRlcklkKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBwcml2YXRlIGZ1bmN0aW9uIHRoYXQgd2lsbCB2aXN1YWxseSBhZGQgdGhlIGluZm9ybWF0aW9uIHRvIHRoZVxuICAgICAqIGFjY2Vzc2FiaWxpdHkgZGl2XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBkaXZcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlRGVidWdIVE1MID0gZnVuY3Rpb24gKGRpdikge1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCJ0eXBlOiBcIiArIGRpdi50eXBlICsgXCI8L2JyPiB0aXRsZSA6IFwiICsgZGl2LnRpdGxlICsgXCI8L2JyPiB0YWJJbmRleDogXCIgKyBkaXYudGFiSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGp1c3QgdGhlIGhpdCBhcmVhIGJhc2VkIG9uIHRoZSBib3VuZHMgb2YgYSBkaXNwbGF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gaGl0QXJlYSAtIEJvdW5kcyBvZiB0aGUgY2hpbGRcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY2FwSGl0QXJlYSA9IGZ1bmN0aW9uIChoaXRBcmVhKSB7XG4gICAgICAgIGlmIChoaXRBcmVhLnggPCAwKSB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoICs9IGhpdEFyZWEueDtcbiAgICAgICAgICAgIGhpdEFyZWEueCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpdEFyZWEueSA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ICs9IGhpdEFyZWEueTtcbiAgICAgICAgICAgIGhpdEFyZWEueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB0aGlzLnJlbmRlcmVyLndpZHRoKSB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCAtIGhpdEFyZWEueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGl0QXJlYS55ICsgaGl0QXJlYS5oZWlnaHQgPiB0aGlzLnJlbmRlcmVyLmhlaWdodCkge1xuICAgICAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhpdEFyZWEueTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIERpc3BsYXlPYmplY3QgdG8gdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBjaGlsZCB0byBtYWtlIGFjY2Vzc2libGUuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgLy8gICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgICAgICB2YXIgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuICAgICAgICBpZiAoIWRpdikge1xuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG4gICAgICAgICAgICAvLyBBUklBIGF0dHJpYnV0ZXMgZW5zdXJlIHRoYXQgYnV0dG9uIHRpdGxlIGFuZCBoaW50IHVwZGF0ZXMgYXJlIGFubm91bmNlZCBwcm9wZXJseVxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hyb21lIGRvZXNuJ3QgbmVlZCBhcmlhLWxpdmUgdG8gd29yayBhcyBpbnRlbmRlZDsgaW4gZmFjdCBpdCBqdXN0IGdldHMgbW9yZSBjb25mdXNlZC5cbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnY6LipHZWNrb1xcLy8pKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZUZveCBuZWVkcyB0aGlzIHRvIGFubm91bmNlIG9ubHkgdGhlIG5ldyBidXR0b24gbmFtZVxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZXF1aXJlZCBieSBJRSwgb3RoZXIgYnJvd3NlcnMgZG9uJ3QgbXVjaCBjYXJlXG4gICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICd0ZXh0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGRpdi5zdHlsZS5wb2ludGVyRXZlbnRzID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlUG9pbnRlckV2ZW50cztcbiAgICAgICAgLy8gc2V0IHRoZSB0eXBlLCB0aGlzIGRlZmF1bHRzIHRvIGJ1dHRvbiFcbiAgICAgICAgZGl2LnR5cGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUeXBlO1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICB8fCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYudGl0bGUgPSBcImRpc3BsYXlPYmplY3QgXCIgKyBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICB7IHRoaXMudXBkYXRlRGVidWdIVE1MKGRpdik7IH1cbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGRpc3BsYXlPYmplY3QpO1xuICAgICAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZChkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdi50YWJJbmRleCA9IGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNhc3Rpbmcgd2hlbiBDYW52YXNSZW5kZXJlciBpcyBjb252ZXJ0ZWRcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ2NsaWNrJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdmVyKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXMgZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3V0KVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXNvdXQgZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzT3V0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScpKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgY2FzdGluZyB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZFxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbktleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBtb3VzZSBldmVudC5cbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIHRoaXMuZGl2ID0gbnVsbDtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24pO1xuICAgICAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG59KCkpO1xuXG5leHBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciwgYWNjZXNzaWJsZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWNjZXNzaWJpbGl0eS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGlja2VyIC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL3RpY2tlciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIFRhcmdldCBmcmFtZXMgcGVyIG1pbGxpc2Vjb25kLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRBUkdFVF9GUE1TXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDAuMDZcbiAqL1xuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgPSAwLjA2O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHVwZGF0ZSBwcmlvcml0aWVzIHVzZWQgYnkgaW50ZXJuYWwgUElYSSBjbGFzc2VzIHdoZW4gcmVnaXN0ZXJlZCB3aXRoXG4gKiB0aGUge0BsaW5rIFBJWEkuVGlja2VyfSBvYmplY3QuIEhpZ2hlciBwcmlvcml0eSBpdGVtcyBhcmUgdXBkYXRlZCBmaXJzdCBhbmQgbG93ZXJcbiAqIHByaW9yaXR5IGl0ZW1zLCBzdWNoIGFzIHJlbmRlciwgc2hvdWxkIGdvIGxhdGVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVVBEQVRFX1BSSU9SSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBJTlRFUkFDVElPTj01MCBIaWdoZXN0IHByaW9yaXR5LCB1c2VkIGZvciB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSElHSD0yNSBIaWdoIHByaW9yaXR5IHVwZGF0aW5nLCB7QGxpbmsgUElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBhbmQge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMPTAgRGVmYXVsdCBwcmlvcml0eSBmb3IgdGlja2VyIGV2ZW50cywgc2VlIHtAbGluayBQSVhJLlRpY2tlciNhZGR9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVz0tMjUgTG93IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVVRJTElUWT0tNTAgTG93ZXN0IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB1dGlsaXR5LlxuICovXG52YXIgVVBEQVRFX1BSSU9SSVRZO1xuKGZ1bmN0aW9uIChVUERBVEVfUFJJT1JJVFkpIHtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiSU5URVJBQ1RJT05cIl0gPSA1MF0gPSBcIklOVEVSQUNUSU9OXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIkhJR0hcIl0gPSAyNV0gPSBcIkhJR0hcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiTk9STUFMXCJdID0gMF0gPSBcIk5PUk1BTFwiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJMT1dcIl0gPSAtMjVdID0gXCJMT1dcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiVVRJTElUWVwiXSA9IC01MF0gPSBcIlVUSUxJVFlcIjtcbn0pKFVQREFURV9QUklPUklUWSB8fCAoVVBEQVRFX1BSSU9SSVRZID0ge30pKTtcblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXJMaXN0ZW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0PW51bGxdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTBdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29uY2U9ZmFsc2VdIC0gSWYgdGhlIGhhbmRsZXIgc2hvdWxkIGZpcmUgb25jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgb25jZSkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gMDsgfVxuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhhbmRsZXIgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZuID0gZm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHsqfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHByaW9yaXR5LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIHNob3VsZCBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmV4dCBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJldmlvdXMgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGlzIGxpc3RlbmVyIGhhcyBiZWVuIGRlc3Ryb3llZCBhbHJlYWR5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpbXBsZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgYSBmdW5jdGlvbiBhbmQgY29udGV4dCBtYXRjaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHthbnl9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciBtYXRjaCB0aGUgYXJndW1lbnRzXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZm4gPT09IGZuICYmIHRoaXMuY29udGV4dCA9PT0gY29udGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVtaXQgYnkgY2FsbGluZyB0aGUgY3VycmVudCBmdW5jdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIHNpbmNlIHRoZSBsYXN0IGVtaXQuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IE5leHQgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmZuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4oZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG4gICAgICAgIGlmICh0aGlzLm9uY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTb2Z0LWRlc3Ryb3lpbmcgc2hvdWxkIHJlbW92ZVxuICAgICAgICAvLyB0aGUgbmV4dCByZWZlcmVuY2VcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBsaXN0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gcHJldmlvdXMgLSBJbnB1dCBub2RlLCBwcmV2aW91cyBsaXN0ZW5lclxuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHByZXZpb3VzKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgaWYgKHByZXZpb3VzLm5leHQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dCA9IHByZXZpb3VzLm5leHQ7XG4gICAgICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXJkID0gZmFsc2VdIGB0cnVlYCB0byByZW1vdmUgdGhlIGBuZXh0YCByZWZlcmVuY2UsIHRoaXNcbiAgICAgKiAgICAgICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IFRoZSBsaXN0ZW5lciB0byByZWRpcmVjdCB3aGlsZSBlbWl0dGluZyBvciByZW1vdmluZy5cbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChoYXJkKSB7XG4gICAgICAgIGlmIChoYXJkID09PSB2b2lkIDApIHsgaGFyZCA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm4gPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICAvLyBEaXNjb25uZWN0LCBob29rIHVwIG5leHQgYW5kIHByZXZpb3VzXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzLm5leHQgPSB0aGlzLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0LnByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWRpcmVjdCB0byB0aGUgbmV4dCBpdGVtXG4gICAgICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcbiAgICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXNcbiAgICAgICAgdGhpcy5uZXh0ID0gaGFyZCA/IG51bGwgOiByZWRpcmVjdDtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9O1xuICAgIHJldHVybiBUaWNrZXJMaXN0ZW5lcjtcbn0oKSk7XG5cbi8qKlxuICogQSBUaWNrZXIgY2xhc3MgdGhhdCBydW5zIGFuIHVwZGF0ZSBsb29wIHRoYXQgb3RoZXIgb2JqZWN0cyBsaXN0ZW4gdG8uXG4gKlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzIG1lYW50IGZvciBleGVjdXRpb24gb24gdGhlIG5leHQgcmVxdWVzdGVkIGFuaW1hdGlvbiBmcmFtZS5cbiAqIEFuaW1hdGlvbiBmcmFtZXMgYXJlIHJlcXVlc3RlZCBvbmx5IHdoZW4gbmVjZXNzYXJ5LCBlLmcuIFdoZW4gdGhlIHRpY2tlciBpcyBzdGFydGVkIGFuZCB0aGUgZW1pdHRlciBoYXMgbGlzdGVuZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaWNrZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZmlyc3QgbGlzdGVuZXIuIEFsbCBuZXcgbGlzdGVuZXJzIGFkZGVkIGFyZSBjaGFpbmVkIG9uIHRoaXMuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlYWQgPSBuZXcgVGlja2VyTGlzdGVuZXIobnVsbCwgbnVsbCwgSW5maW5pdHkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY3VycmVudCBmcmFtZSByZXF1ZXN0IElEXG4gICAgICAgICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWluRlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWF4RlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtaW5pbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21pbkVsYXBzZWRNUyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBzaG91bGQgaW52b2tlIHRoZSBtZXRob2RcbiAgICAgICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3N0YXJ0fSBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAqIHdoZW4gYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGVyIHRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgY2FwcGVkIGJ5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI21pbkZQU31cbiAgICAgICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0uXG4gICAgICAgICAqICoqTm90ZToqKiBUaGUgY2FwIG1heSBiZSBleGNlZWRlZCBieSBzY2FsaW5nLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsdGFNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIE9wcG9zZWQgdG8gd2hhdCB0aGUgc2NhbGFyIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9XG4gICAgICAgICAqIGlzIGJhc2VkLCB0aGlzIHZhbHVlIGlzIG5laXRoZXIgY2FwcGVkIG5vciBzY2FsZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGFwc2VkTVMgPSAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9IHdhcyBpbnZva2VkLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZhY3RvciBvZiBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTY2FsZXMgdGlja2VyLmRlbHRhVGltZSB0byB3aGF0IHdvdWxkIGJlXG4gICAgICAgICAqIC8vIHRoZSBlcXVpdmFsZW50IG9mIGFwcHJveGltYXRlbHkgMTIwIEZQU1xuICAgICAgICAgKiB0aWNrZXIuc3BlZWQgPSAyO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZC5cbiAgICAgICAgICogYHRydWVgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBgZmFsc2VgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIFdoaWxlIGBmYWxzZWAsIHRoaXMgdmFsdWUgbWF5IGNoYW5nZSB0byBgdHJ1ZWAgaW4gdGhlXG4gICAgICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGJlaW5nIGB0cnVlYFxuICAgICAgICAgKiBhbmQgYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCwgZGVsZXRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHRpbWUga2V5ZnJhbWUgd2FzIGV4ZWN1dGVkLlxuICAgICAgICAgKiBNYWludGFpbnMgYSByZWxhdGl2ZWx5IGZpeGVkIGludGVydmFsIHdpdGggdGhlIHByZXZpb3VzIHZhbHVlLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHRpY2sgbWV0aG9kIGJvdW5kIHRvIHRpY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogVGhpcyBpcyBiZWNhdXNlIGluIGVhcmx5IDIwMTUsIEZ1bmN0aW9uLmJpbmRcbiAgICAgICAgICogaXMgc3RpbGwgNjAlIHNsb3dlciBpbiBoaWdoIHBlcmZvcm1hbmNlIHNjZW5hcmlvcy5cbiAgICAgICAgICogQWxzbyBzZXBhcmF0aW5nIGZyYW1lIHJlcXVlc3RzIGZyb20gdXBkYXRlIG1ldGhvZFxuICAgICAgICAgKiBzbyBsaXN0ZW5lcnMgbWF5IGJlIGNhbGxlZCBhdCBhbnkgdGltZSBhbmQgd2l0aFxuICAgICAgICAgKiBhbnkgYW5pbWF0aW9uIEFQSSwganVzdCBpbnZva2UgdGlja2VyLnVwZGF0ZSh0aW1lKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2sgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICAgICAgX3RoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgbm93XG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlKHRpbWUpO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbmVyIHNpZGUgZWZmZWN0cyBtYXkgaGF2ZSBtb2RpZmllZCB0aWNrZXIgc3RhdGUuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQgJiYgX3RoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiBfdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMuX3RpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHkgYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWxcbiAgICAgKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fcmVxdWVzdElmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIHRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNhbGxiYWNrcyBnZXQgY29ycmVjdCBkZWx0YVxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gdGhpcy5sYXN0VGltZTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX2NhbmNlbElmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICAgICAqIGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy4gSWYgdGhlc2VcbiAgICAgKiBjb25kaXRpb25zIGFyZSBtZXQsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC4gSWYgdGhlIHRpY2tlciBoYXMgbm90XG4gICAgICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gICAgICogYW5kIGNvbnRpbnVlcyB3aXRoIHRoZSBwcmV2aW91cyBjb25kaXRpb25zIHRvIHJlcXVlc3QgYSBuZXcgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX3N0YXJ0SWZQb3NzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciB0aWNrIGV2ZW50cy4gQ2FsbHMgY29udGludW91c2x5IHVubGVzc1xuICAgICAqIGl0IGlzIHJlbW92ZWQgb3IgdGhlIHRpY2tlciBpcyBzdG9wcGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIHVwZGF0ZXNcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0LCBwcmlvcml0eSkge1xuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUw7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGhhbmRsZXIgZm9yIHRoZSB0aWNrIGV2ZW50IHdoaWNoIGlzIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuYWRkT25jZSA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCwgcHJpb3JpdHkpIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSB2b2lkIDApIHsgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMOyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5LCB0cnVlKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbGx5IGFkZHMgdGhlIGV2ZW50IGhhbmRsZXIgc28gdGhhdCBpdCBjYW4gYmUgc29ydGVkIGJ5IHByaW9yaXR5LlxuICAgICAqIFByaW9yaXR5IGFsbG93cyBjZXJ0YWluIGhhbmRsZXIgKHVzZXIsIEFuaW1hdGVkU3ByaXRlLCBJbnRlcmFjdGlvbikgdG8gYmUgcnVuXG4gICAgICogYmVmb3JlIHRoZSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IGxpc3RlbmVyIC0gQ3VycmVudCBsaXN0ZW5lciBiZWluZyBhZGRlZC5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAvLyBGb3IgYXR0YWNoaW5nIHRvIGhlYWRcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgIHZhciBwcmV2aW91cyA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIC8vIEFkZCB0aGUgZmlyc3QgaXRlbVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gR28gZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCBwcmlvcml0eVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPiBjdXJyZW50LnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3QgeWV0IGNvbm5lY3RlZFxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lci5wcmV2aW91cykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0SWZQb3NzaWJsZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIG1hdGNoaW5nIHRoZSBmdW5jdGlvbiBhbmQgY29udGV4dCBwYXJhbWV0ZXJzLlxuICAgICAqIElmIG5vIGhhbmRsZXJzIGFyZSBsZWZ0IGFmdGVyIHJlbW92aW5nLCB0aGVuIGl0IGNhbmNlbHMgdGhlIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBtYXRjaCwgbGV0cyByZW1vdmUgaXRcbiAgICAgICAgICAgIC8vIG5vIGJyZWFrIHRvIGRlbGV0ZSBhbGwgcG9zc2libGUgbWF0Y2hlc1xuICAgICAgICAgICAgLy8gaW5jYXNlIGEgbGlzdGVuZXIgd2FzIGFkZGVkIDIrIHRpbWVzXG4gICAgICAgICAgICBpZiAobGlzdGVuZXIubWF0Y2goZm4sIGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJjb3VudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycyBvbiB0aGlzIHRpY2tlciwgY2FsY3VsYXRlZCBieSB3YWxraW5nIHRocm91Z2ggbGlua2VkIGxpc3RcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9oZWFkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkO1xuICAgICAgICAgICAgd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC5uZXh0KSkge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIHJlcXVlc3RlZFxuICAgICAqIGFuIGFuaW1hdGlvbiBmcmFtZSBpdCBpcyBjYW5jZWxlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nXG4gICAgICogdGhpcyBtZXRob2QgcmVtb3ZlcyBhbGwgcmVmZXJlbmNlcyB0byBpbnRlcm5hbCBldmVudHMuXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oZWFkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBhbiB1cGRhdGUuIEFuIHVwZGF0ZSBlbnRhaWxzIHNldHRpbmcgdGhlXG4gICAgICogY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZWxhcHNlZE1TfSxcbiAgICAgKiB0aGUgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBpbnZva2luZyBhbGwgbGlzdGVuZXJzIHdpdGggY3VycmVudCBkZWx0YVRpbWUsXG4gICAgICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNsYXN0VGltZX1cbiAgICAgKiB3aXRoIHRoZSB2YWx1ZSBvZiBjdXJyZW50VGltZSB0aGF0IHdhcyBwcm92aWRlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IGFuaW1hdGlvblxuICAgICAqIGZyYW1lIGNhbGxiYWNrcyBpZiB0aGUgdGlja2VyIGluc3RhbmNlIGhhcyBiZWVuIHN0YXJ0ZWRcbiAgICAgKiBhbmQgbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY3VycmVudFRpbWU9cGVyZm9ybWFuY2Uubm93KCldIC0gdGhlIGN1cnJlbnQgdGltZSBvZiBleGVjdXRpb25cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChjdXJyZW50VGltZSkge1xuICAgICAgICBpZiAoY3VycmVudFRpbWUgPT09IHZvaWQgMCkgeyBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpOyB9XG4gICAgICAgIHZhciBlbGFwc2VkTVM7XG4gICAgICAgIC8vIElmIHRoZSBkaWZmZXJlbmNlIGluIHRpbWUgaXMgemVybyBvciBuZWdhdGl2ZSwgd2UgaWdub3JlIG1vc3Qgb2YgdGhlIHdvcmsgZG9uZSBoZXJlLlxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB2YWxpZCBkaWZmZXJlbmNlLCB0aGVuIHNob3VsZCBiZSBubyByZWFzb24gdG8gbGV0IGFueW9uZSBrbm93IGFib3V0IGl0LlxuICAgICAgICAvLyBBIHplcm8gZGVsdGEsIGlzIGV4YWN0bHkgdGhhdCwgbm90aGluZyBzaG91bGQgdXBkYXRlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGNhbiBiZSBuZWdhdGl2ZSwgYW5kIG5vIHRoaXMgZG9lcyBub3QgbWVhbiB0aW1lIHRyYXZlbGluZy5cbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgdGhlIHJlc3VsdCBvZiBhIHJhY2UgY29uZGl0aW9uIGJldHdlZW4gd2hlbiBhbiBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkXG4gICAgICAgIC8vIG9uIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIGV2ZW50IGxvb3AsIGFuZCB3aGVuIHRoZSB0aWNrZXIncyBzdGFydCBtZXRob2QgaXMgaW52b2tlZFxuICAgICAgICAvLyAod2hpY2ggaW52b2tlcyB0aGUgaW50ZXJuYWwgX3JlcXVlc3RJZk5lZWRlZCBtZXRob2QpLiBJZiBhIGZyYW1lIGlzIHJlcXVlc3RlZCBiZWZvcmVcbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZCBpcyBpbnZva2VkLCB0aGVuIHRoZSBjYWxsYmFjayBmb3IgdGhlIGFuaW1hdGlvbiBmcmFtZSB0aGUgdGlja2VyIHJlcXVlc3RzLFxuICAgICAgICAvLyBjYW4gcmVjZWl2ZSBhIHRpbWUgYXJndW1lbnQgdGhhdCBjYW4gYmUgbGVzcyB0aGFuIHRoZSBsYXN0VGltZSB2YWx1ZSB0aGF0IHdhcyBzZXQgd2l0aGluXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQuIFRoaXMgZGlmZmVyZW5jZSBpcyBpbiBtaWNyb3NlY29uZHMsIGJ1dCB0aGlzIGlzIGVub3VnaCB0byBjYXVzZSBwcm9ibGVtcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBjaGVjayBjb3ZlcnMgdGhpcyBicm93c2VyIGVuZ2luZSB0aW1pbmcgaXNzdWUsIGFzIHdlbGwgYXMgaWYgY29uc3VtZXJzIHBhc3MgYW4gaW52YWxpZFxuICAgICAgICAvLyBjdXJyZW50VGltZSB2YWx1ZS4gVGhpcyBtYXkgaGFwcGVuIGlmIGNvbnN1bWVycyBvcHQtb3V0IG9mIHRoZSBhdXRvU3RhcnQsIGFuZCB1cGRhdGUgdGhlbXNlbHZlcy5cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lID4gdGhpcy5sYXN0VGltZSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB1bmNhcHBlZCBlbGFwc2VkTVMgZm9yIG1lYXN1cmVtZW50XG4gICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLmVsYXBzZWRNUyA9IGN1cnJlbnRUaW1lIC0gdGhpcy5sYXN0VGltZTtcbiAgICAgICAgICAgIC8vIGNhcCB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgdXNlZCBmb3IgZGVsdGFUaW1lXG4gICAgICAgICAgICBpZiAoZWxhcHNlZE1TID4gdGhpcy5fbWF4RWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxhcHNlZE1TICo9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyBJZiBub3QgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCwgZXhpdCB0aGUgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLyBHZXQgcmVhZHkgZm9yIG5leHQgZnJhbWUgYnkgc2V0dGluZyBfbGFzdEZyYW1lLCBidXQgYmFzZWQgb24gX21pbkVsYXBzZWRNU1xuICAgICAgICAgICAgLy8gYWRqdXN0bWVudCB0byBlbnN1cmUgYSByZWxhdGl2ZWx5IHN0YWJsZSBpbnRlcnZhbC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBjdXJyZW50VGltZSAtIHRoaXMuX2xhc3RGcmFtZSB8IDA7XG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhIDwgdGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gY3VycmVudFRpbWUgLSAoZGVsdGEgJSB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWx0YU1TID0gZWxhcHNlZE1TO1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgKiBzZXR0aW5ncy5UQVJHRVRfRlBNUztcbiAgICAgICAgICAgIC8vIENhY2hlIGEgbG9jYWwgcmVmZXJlbmNlLCBpbi1jYXNlIHRpY2tlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgZW1pdCwgd2UgY2FuIHN0aWxsIGNoZWNrIGZvciBoZWFkLm5leHRcbiAgICAgICAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgYWRkZWQgdG8gaW50ZXJuYWwgZW1pdHRlclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gaGVhZC5uZXh0O1xuICAgICAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5lbWl0KHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5kZWx0YU1TID0gdGhpcy5lbGFwc2VkTVMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIucHJvdG90eXBlLCBcIkZQU1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZnJhbWVzIHBlciBzZWNvbmQgYXQgd2hpY2ggdGhpcyB0aWNrZXIgaXMgcnVubmluZy5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYXBwcm94aW1hdGVseSA2MCBpbiBtb3N0IG1vZGVybiBicm93c2Vycy5cbiAgICAgICAgICogKipOb3RlOioqIFRoaXMgZG9lcyBub3QgZmFjdG9yIGluIHRoZSB2YWx1ZSBvZlxuICAgICAgICAgKiB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LCB3aGljaCBpcyBzcGVjaWZpY1xuICAgICAgICAgKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwibWluRlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gY2FwIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAgICAgKiBidXQgZG9lcyBub3QgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAgICAgICAgICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgICAgICAgIC8vIE1pbmltdW0gbXVzdCBiZSBiZWxvdyB0aGUgbWF4RlBTXG4gICAgICAgICAgICB2YXIgbWluRlBTID0gTWF0aC5taW4odGhpcy5tYXhGUFMsIGZwcyk7XG4gICAgICAgICAgICAvLyBNdXN0IGJlIGF0IGxlYXN0IDAsIGJ1dCBiZWxvdyAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICAgICAgICAgIHZhciBtaW5GUE1TID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbWluRlBTKSAvIDEwMDAsIHNldHRpbmdzLlRBUkdFVF9GUE1TKTtcbiAgICAgICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEgLyBtaW5GUE1TO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwibWF4RlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1pbmltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyByZXF1aXJlZCB0b1xuICAgICAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB3aWxsIGVmZmVjdCB0aGUgbWVhc3VyZWQgdmFsdWUgb2Yge0BsaW5rIFBJWEkuVGlja2VyI0ZQU30uXG4gICAgICAgICAqIElmIGl0IGlzIHNldCB0byBgMGAsIHRoZW4gdGhlcmUgaXMgbm8gbGltaXQ7IFBpeGlKUyB3aWxsIHJlbmRlciBhcyBtYW55IGZyYW1lcyBhcyBpdCBjYW4uXG4gICAgICAgICAqIE90aGVyd2lzZSBpdCB3aWxsIGJlIGF0IGxlYXN0IGBtaW5GUFNgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoMTAwMCAvIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZnBzKSB7XG4gICAgICAgICAgICBpZiAoZnBzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE1heCBtdXN0IGJlIGF0IGxlYXN0IHRoZSBtaW5GUFNcbiAgICAgICAgICAgICAgICB2YXIgbWF4RlBTID0gTWF0aC5tYXgodGhpcy5taW5GUFMsIGZwcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMSAvIChtYXhGUFMgLyAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWNrZXIsIFwic2hhcmVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFyZWQgdGlja2VyIGluc3RhbmNlIHVzZWQgYnkge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9IGFuZCBieVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5WaWRlb1Jlc291cmNlfSB0byB1cGRhdGUgYW5pbWF0aW9uIGZyYW1lcyAvIHZpZGVvIHRleHR1cmVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdCBtYXkgYWxzbyBiZSB1c2VkIGJ5IHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSBpZiBjcmVhdGVkIHdpdGggdGhlIGBzaGFyZWRUaWNrZXJgIG9wdGlvbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICAgICAqIFBsZWFzZSBmb2xsb3cgdGhlIGV4YW1wbGVzIGZvciB1c2FnZSwgaW5jbHVkaW5nIGhvdyB0byBvcHQtb3V0IG9mIGF1dG8tc3RhcnRpbmcgdGhlIHNoYXJlZCB0aWNrZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGxldCB0aWNrZXIgPSBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICAgICAqIC8vIFNldCB0aGlzIHRvIHByZXZlbnQgc3RhcnRpbmcgdGhpcyB0aWNrZXIgd2hlbiBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICAgICAgICAgKiAvLyBCeSBkZWZhdWx0IHRoaXMgaXMgdHJ1ZSBvbmx5IGZvciB0aGUgUElYSS5UaWNrZXIuc2hhcmVkIGluc3RhbmNlLlxuICAgICAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAqIC8vIEZZSSwgY2FsbCB0aGlzIHRvIGVuc3VyZSB0aGUgdGlja2VyIGlzIHN0b3BwZWQuIEl0IHNob3VsZCBiZSBzdG9wcGVkXG4gICAgICAgICAqIC8vIGlmIHlvdSBoYXZlIG5vdCBhdHRlbXB0ZWQgdG8gcmVuZGVyIGFueXRoaW5nIHlldC5cbiAgICAgICAgICogdGlja2VyLnN0b3AoKTtcbiAgICAgICAgICogLy8gQ2FsbCB0aGlzIHdoZW4geW91IGFyZSByZWFkeSBmb3IgYSBydW5uaW5nIHNoYXJlZCB0aWNrZXIuXG4gICAgICAgICAqIHRpY2tlci5zdGFydCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBZb3UgbWF5IHVzZSB0aGUgc2hhcmVkIHRpY2tlciB0byByZW5kZXIuLi5cbiAgICAgICAgICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAgICAgICAgICogbGV0IHN0YWdlID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgICAgICAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XG4gICAgICAgICAqIHRpY2tlci5hZGQoZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBPciB5b3UgY2FuIGp1c3QgdXBkYXRlIGl0IG1hbnVhbGx5LlxuICAgICAgICAgKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAqIHRpY2tlci5zdG9wKCk7XG4gICAgICAgICAqIGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xuICAgICAgICAgKiAgICAgdGlja2VyLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gICAgICAgICAqICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgICAqIH1cbiAgICAgICAgICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghVGlja2VyLl9zaGFyZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVkID0gVGlja2VyLl9zaGFyZWQgPSBuZXcgVGlja2VyKCk7XG4gICAgICAgICAgICAgICAgc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRpY2tlci5fc2hhcmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlciwgXCJzeXN0ZW1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN5c3RlbSB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBieVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gZm9yIGNvcmUgdGltaW5nIGZ1bmN0aW9uYWxpdHkgdGhhdCBzaG91bGRuJ3QgdXN1YWxseSBuZWVkIHRvIGJlIHBhdXNlZCxcbiAgICAgICAgICogdW5saWtlIHRoZSBgc2hhcmVkYCB0aWNrZXIgd2hpY2ggZHJpdmVzIHZpc3VhbCBhbmltYXRpb25zIGFuZCByZW5kZXJpbmcgd2hpY2ggbWF5IHdhbnQgdG8gYmUgcGF1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFUaWNrZXIuX3N5c3RlbSkge1xuICAgICAgICAgICAgICAgIHZhciBzeXN0ZW0gPSBUaWNrZXIuX3N5c3RlbSA9IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0uYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0uX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVGlja2VyLl9zeXN0ZW07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGlja2VyO1xufSgpKTtcblxuLyoqXG4gKiBNaWRkbGV3YXJlIGZvciBmb3IgQXBwbGljYXRpb24gVGlja2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge1RpY2tlclBsdWdpbn0gZnJvbSAnQHBpeGkvdGlja2VyJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlclBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaWNrZXJQbHVnaW4oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiB3aXRoIHNjb3BlIG9mIGFwcGxpY2F0aW9uIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBUaWNrZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgICAgIHNoYXJlZFRpY2tlcjogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAvLyBDcmVhdGUgdGlja2VyIHNldHRlclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3RpY2tlcicsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHRpY2tlcikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyLnJlbW92ZSh0aGlzLnJlbmRlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgICAgICAgICBpZiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0b3BwaW5nIHRoZSByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNzdG9wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGlja2VyLnN0b3AoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0YXJ0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3RpY2tlci5zdGFydCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSB0aWNrZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQG5hbWUgX3RpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpY2tlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWNrZXIgZm9yIGRvaW5nIHJlbmRlciB1cGRhdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIHRpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tlciA9IG9wdGlvbnMuc2hhcmVkVGlja2VyID8gVGlja2VyLnNoYXJlZCA6IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHJlbmRlcmluZ1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlja2VyUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgIHZhciBvbGRUaWNrZXIgPSB0aGlzLl90aWNrZXI7XG4gICAgICAgICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICAgICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGlja2VyUGx1Z2luO1xufSgpKTtcblxuZXhwb3J0IHsgVGlja2VyLCBUaWNrZXJQbHVnaW4sIFVQREFURV9QUklPUklUWSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlja2VyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9pbnRlcmFjdGlvbiAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9pbnRlcmFjdGlvbiBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0LCBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogSG9sZHMgYWxsIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYW4gSW50ZXJhY3Rpb24gZXZlbnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBJbnRlcmFjdGlvbkRhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25EYXRhKCkge1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gMDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gMDtcbiAgICAgICAgdGhpcy50d2lzdCA9IDA7XG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcG9pbnQgc3RvcmVzIHRoZSBnbG9iYWwgY29vcmRzIG9mIHdoZXJlIHRoZSB0b3VjaC9tb3VzZSBldmVudCBoYXBwZW5lZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWwgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgU3ByaXRlIHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcGFzc2VkIHRvIGFuIGV2ZW50IGhhbmRsZXIsIHRoaXMgd2lsbCBiZSB0aGUgb3JpZ2luYWwgRE9NIEV2ZW50IHRoYXQgd2FzIGNhcHR1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnRcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnRcbiAgICAgICAgICogQG1lbWJlciB7TW91c2VFdmVudHxUb3VjaEV2ZW50fFBvaW50ZXJFdmVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcmFjdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwb2ludGVyIGRldmljZSB0aGF0IGNyZWF0ZWQgdGhlIGV2ZW50IGlzIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbiB3YXMgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2UgdG8gdHJpZ2dlciB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1dHRvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9ucyBhcmUgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2Ugd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvbnNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB4LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvd2lkdGhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHktYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgICAgICogcmFkaXVzWSBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9oZWlnaHRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWx0WCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFlcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgcG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVyVHlwZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludGVyVHlwZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVzc3VyZSBhcHBsaWVkIGJ5IHRoZSBwb2ludGluZyBkZXZpY2UgZHVyaW5nIHRoZSBldmVudC4gQSBUb3VjaCdzIGZvcmNlIHByb3BlcnR5XG4gICAgICAgICAqIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3ByZXNzdXJlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyb20gVG91Y2hFdmVudHMgKG5vdCBQb2ludGVyRXZlbnRzIHRyaWdnZXJlZCBieSB0b3VjaGVzKSwgdGhlIHJvdGF0aW9uQW5nbGUgb2YgdGhlIFRvdWNoLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHdpc3Qgb2YgYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50d2lzdCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXJyZWwgcHJlc3N1cmUgb24gYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZSwgXCJwb2ludGVySWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBwb2ludGVyLiBJdCB3aWxsIGJlIHRoZSBzYW1lIGFzIGBpZGVudGlmaWVyYC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJJZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGZvciB0aGlzIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgICAqICBjb29yZHMgb2ZmXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbCAob3RoZXJ3aXNlXG4gICAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW2dsb2JhbFBvc10gLSBBIFBvaW50IG9iamVjdCBjb250YWluaW5nIHlvdXIgY3VzdG9tIGdsb2JhbCBjb29yZHMsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCB1c2UgdGhlIGN1cnJlbnQgZ2xvYmFsIGNvb3JkcylcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAgICAgKiAgdG8gdGhlIERpc3BsYXlPYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb24gPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgcG9pbnQsIGdsb2JhbFBvcykge1xuICAgICAgICByZXR1cm4gZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UoZ2xvYmFsUG9zIHx8IHRoaXMuZ2xvYmFsLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBmcm9tIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VG91Y2h8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuY29weUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIGlzUHJpbWFyeSBzaG91bGQgb25seSBjaGFuZ2Ugb24gdG91Y2hzdGFydC9wb2ludGVyZG93biwgc28gd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGVcbiAgICAgICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAgICAgLy8gYWNjdXJhdGVcbiAgICAgICAgaWYgKCdpc1ByaW1hcnknIGluIGV2ZW50ICYmIGV2ZW50LmlzUHJpbWFyeSkge1xuICAgICAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uID0gJ2J1dHRvbicgaW4gZXZlbnQgJiYgZXZlbnQuYnV0dG9uO1xuICAgICAgICAvLyBldmVudC5idXR0b25zIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzIChpZS4gU2FmYXJpKSwgYnV0IGl0IGRvZXMgaGF2ZSBhIG5vbi1zdGFuZGFyZFxuICAgICAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgICAgICB2YXIgYnV0dG9ucyA9ICdidXR0b25zJyBpbiBldmVudCAmJiBldmVudC5idXR0b25zO1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBOdW1iZXIuaXNJbnRlZ2VyKGJ1dHRvbnMpID8gYnV0dG9ucyA6ICd3aGljaCcgaW4gZXZlbnQgJiYgZXZlbnQud2hpY2g7XG4gICAgICAgIHRoaXMud2lkdGggPSAnd2lkdGgnIGluIGV2ZW50ICYmIGV2ZW50LndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9ICdoZWlnaHQnIGluIGV2ZW50ICYmIGV2ZW50LmhlaWdodDtcbiAgICAgICAgdGhpcy50aWx0WCA9ICd0aWx0WCcgaW4gZXZlbnQgJiYgZXZlbnQudGlsdFg7XG4gICAgICAgIHRoaXMudGlsdFkgPSAndGlsdFknIGluIGV2ZW50ICYmIGV2ZW50LnRpbHRZO1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gJ3BvaW50ZXJUeXBlJyBpbiBldmVudCAmJiBldmVudC5wb2ludGVyVHlwZTtcbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9ICdwcmVzc3VyZScgaW4gZXZlbnQgJiYgZXZlbnQucHJlc3N1cmU7XG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9ICdyb3RhdGlvbkFuZ2xlJyBpbiBldmVudCAmJiBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgICAgICB0aGlzLnR3aXN0ID0gKCd0d2lzdCcgaW4gZXZlbnQgJiYgZXZlbnQudHdpc3QpIHx8IDA7XG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gKCd0YW5nZW50aWFsUHJlc3N1cmUnIGluIGV2ZW50ICYmIGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSkgfHwgMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpc1ByaW1hcnkgaXMgdGhlIG9ubHkgcHJvcGVydHkgdGhhdCB3ZSByZWFsbHkgbmVlZCB0byByZXNldCAtIGV2ZXJ5dGhpbmcgZWxzZSBpc1xuICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIG92ZXJ3cml0dGVuXG4gICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25EYXRhO1xufSgpKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogRXZlbnQgY2xhc3MgdGhhdCBtaW1pY3MgbmF0aXZlIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW50ZXJhY3Rpb25FdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50KCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIGV2ZW50IHdpbGwgY29udGludWUgcHJvcGFnYXRpbmcgaW4gdGhlIHRyZWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFJlbWFpbmluZyBldmVudHMgZm9yIHRoZSB7QGxpbmsgc3RvcHNQcm9wYWdhdGluZ0F0fSBvYmplY3RcbiAgICAgICAgICogd2lsbCBzdGlsbCBiZSBkaXNwYXRjaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdCB3aGljaCBvYmplY3QgdGhpcyBldmVudCBzdG9wcyBwcm9wYWdhdGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB3ZSBhbHJlYWR5IHJlYWNoZWQgdGhlIGVsZW1lbnQgd2Ugd2FudCB0b1xuICAgICAgICAgKiBzdG9wIHByb3BhZ2F0aW5nIGF0LiBUaGlzIGlzIGltcG9ydGFudCBmb3IgZGVsYXllZCBldmVudHMsXG4gICAgICAgICAqIHdoZXJlIHdlIHN0YXJ0IG92ZXIgZGVlcGVyIGluIHRoZSB0cmVlIGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdoaWNoIGNhdXNlZCB0aGlzIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gICAgICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9iamVjdCB3aG9zZSBldmVudCBsaXN0ZW5lcuKAmXMgY2FsbGJhY2sgaXMgY3VycmVudGx5IGJlaW5nIGludm9rZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBlIG9mIHRoZSBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIGV2ZW50IGZyb20gcmVhY2hpbmcgYW55IG9iamVjdHMgb3RoZXIgdGhhbiB0aGUgY3VycmVudCBvYmplY3QuXG4gICAgICpcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gdGhpcy5jdXJyZW50VGFyZ2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBJbnRlcmFjdGlvbkV2ZW50O1xufSgpKTtcblxuLyoqXG4gKiBEaXNwbGF5T2JqZWN0cyB3aXRoIHRoZSB7QGxpbmsgUElYSS5pbnRlcmFjdGl2ZVRhcmdldH0gbWl4aW4gdXNlIHRoaXMgY2xhc3MgdG8gdHJhY2sgaW50ZXJhY3Rpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKHBvaW50ZXJJZCkge1xuICAgICAgICB0aGlzLl9wb2ludGVySWQgPSBwb2ludGVySWQ7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTk9ORTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGludGVyYWN0aW9uIGZsYWcgdG8gc2V0XG4gICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIFNob3VsZCB0aGUgZmxhZyBiZSBzZXQgb3IgdW5zZXRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUuX2RvU2V0ID0gZnVuY3Rpb24gKGZsYWcsIHluKSB7XG4gICAgICAgIGlmICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyB8IGZsYWc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzICYgKH5mbGFnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJwb2ludGVySWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVySWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBcImZsYWdzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIG9mIHRoZSB0cmFja2luZyBkYXRhLCBleHByZXNzZWQgYXMgYml0IGZsYWdzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmbGFncykge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSBmbGFncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwibm9uZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBpbmFjdGl2ZSAobm90IG92ZXIgb3IgZG93bik/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzID09PSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJvdmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IG92ZXIgdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5PVkVSKSAhPT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoeW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvU2V0KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk9WRVIsIHluKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIFwicmlnaHREb3duXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLlJJR0hUX0RPV04pICE9PSAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQoSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuUklHSFRfRE9XTiwgeW4pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZSwgXCJsZWZ0RG93blwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLkxFRlRfRE9XTikgIT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldChJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5MRUZUX0RPV04sIHluKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIE5PTkU6IDAsXG4gICAgICAgIE9WRVI6IDEgPDwgMCxcbiAgICAgICAgTEVGVF9ET1dOOiAxIDw8IDEsXG4gICAgICAgIFJJR0hUX0RPV046IDEgPDwgMixcbiAgICB9KTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE7XG59KCkpO1xuXG4vKipcbiAqIFN0cmF0ZWd5IGhvdyB0byBzZWFyY2ggdGhyb3VnaCBzdGFnZSB0cmVlIGZvciBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gKlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyZWVTZWFyY2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJlZVNlYXJjaCgpIHtcbiAgICAgICAgdGhpcy5fdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZSBpbXBsZW1lbnRhdGlvbiBmb3IgZmluZEhpdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIFRyZWVTZWFyY2gucHJvdG90eXBlLnJlY3Vyc2l2ZUZpbmRIaXQgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0IHx8ICFkaXNwbGF5T2JqZWN0LnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuZ2xvYmFsO1xuICAgICAgICAvLyBUb29rIGEgbGl0dGxlIHdoaWxlIHRvIHJld29yayB0aGlzIGZ1bmN0aW9uIGNvcnJlY3RseSEgQnV0IG5vdyBpdCBpcyBkb25lIGFuZCBuaWNlIGFuZCBvcHRpbWl6ZWQhIF5fXlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbm93IGxvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyBhbmQgdGhlbiBvbmx5IGhpdCB0ZXN0IHRoZSBvYmplY3RzIGl0IEhBU1xuICAgICAgICAvLyB0bywgbm90IGFsbCBvZiB0aGVtLiBNVUNIIGZhc3Rlci4uXG4gICAgICAgIC8vIEFuIG9iamVjdCB3aWxsIGJlIGhpdCB0ZXN0IGlmIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMTogSXQgaXMgaW50ZXJhY3RpdmUuXG4gICAgICAgIC8vIDI6IEl0IGJlbG9uZ3MgdG8gYSBwYXJlbnQgdGhhdCBpcyBpbnRlcmFjdGl2ZSBBTkQgb25lIG9mIHRoZSBwYXJlbnRzIGNoaWxkcmVuIGhhdmUgbm90IGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFzIGFub3RoZXIgbGl0dGxlIG9wdGltaXphdGlvbiBvbmNlIGFuIGludGVyYWN0aXZlIG9iamVjdCBoYXMgYmVlbiBoaXQgd2UgY2FuIGNhcnJ5IG9uXG4gICAgICAgIC8vIHRocm91Z2ggdGhlIHNjZW5lZ3JhcGgsIGJ1dCB3ZSBrbm93IHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGhpdHMhIFNvIHdlIGNhbiBhdm9pZCBleHRyYSBoaXQgdGVzdHNcbiAgICAgICAgLy8gQSBmaW5hbCBvcHRpbWl6YXRpb24gaXMgdGhhdCBhbiBvYmplY3QgaXMgbm90IGhpdCB0ZXN0IGRpcmVjdGx5IGlmIGEgY2hpbGQgaGFzIGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIGludGVyYWN0aXZlID0gZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSB8fCBpbnRlcmFjdGl2ZTtcbiAgICAgICAgdmFyIGhpdCA9IGZhbHNlO1xuICAgICAgICB2YXIgaW50ZXJhY3RpdmVQYXJlbnQgPSBpbnRlcmFjdGl2ZTtcbiAgICAgICAgLy8gRmxhZyBoZXJlIGNhbiBzZXQgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIHBhcmVudHMgaGl0QXJlYSBvciBtYXNrXG4gICAgICAgIHZhciBoaXRUZXN0Q2hpbGRyZW4gPSB0cnVlO1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGhpdEFyZWEsIG5vIG5lZWQgdG8gdGVzdCBhZ2FpbnN0IGFueXRoaW5nIGVsc2UgaWYgdGhlIHBvaW50ZXIgaXMgbm90IHdpdGhpbiB0aGUgaGl0QXJlYVxuICAgICAgICAvLyBUaGVyZSBpcyBhbHNvIG5vIGxvbmdlciBhIG5lZWQgdG8gaGl0VGVzdCBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaGl0QXJlYSkge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGhpcy5fdGVtcFBvaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYS5jb250YWlucyh0aGlzLl90ZW1wUG9pbnQueCwgdGhpcy5fdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdENoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIGhpdFRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2suXG4gICAgICAgIC8vIFdlIHN0aWxsIHdhbnQgdG8gaGl0VGVzdENoaWxkcmVuLCBob3dldmVyLCB0byBlbnN1cmUgYSBtb3VzZW91dCBjYW4gc3RpbGwgYmUgZ2VuZXJhdGVkLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzUxMzVcbiAgICAgICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaykge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShkaXNwbGF5T2JqZWN0Ll9tYXNrLmNvbnRhaW5zUG9pbnQgJiYgZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50KHBvaW50KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyAqKiBGUkVFIFRJUCAqKiEgSWYgYW4gb2JqZWN0IGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBoYXMgbm8gYnV0dG9ucyBpbiBpdFxuICAgICAgICAvLyAoc3VjaCBhcyBhIGdhbWUgc2NlbmUhKSBzZXQgaW50ZXJhY3RpdmVDaGlsZHJlbiB0byBmYWxzZSBmb3IgdGhhdCBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgUGl4aUpTIHRvIGNvbXBsZXRlbHkgaWdub3JlIGFuZCBieXBhc3MgY2hlY2tpbmcgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuLlxuICAgICAgICBpZiAoaGl0VGVzdENoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgLy8gdGltZSB0byBnZXQgcmVjdXJzaXZlLi4gaWYgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBpZiBzb21ldGhpbmcgaXMgaGl0Li5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRIaXQgPSB0aGlzLnJlY3Vyc2l2ZUZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgY2hpbGQsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlUGFyZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRzIGEgZ29vZCBpZGVhIHRvIGNoZWNrIGlmIGEgY2hpbGQgaGFzIGxvc3QgaXRzIHBhcmVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyBpdCBoYXMgYmVlbiByZW1vdmVkIHdoaWxzdCBsb29waW5nIHNvIGl0cyBiZXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnkgbW9yZSBvYmplY3RzIGluIHRoaXMgY29udGFpbmVyIGFzIHdlIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBrbm93IHRoZSBwYXJlbnQgaGFzIGJlZW4gaGl0XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjaGlsZCBpcyBpbnRlcmFjdGl2ZSAsIHRoYXQgbWVhbnMgdGhhdCB0aGUgb2JqZWN0IGhpdCB3YXMgYWN0dWFsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJhY3RpdmUgYW5kIG5vdCBqdXN0IHRoZSBjaGlsZCBvZiBhbiBpbnRlcmFjdGl2ZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55dGhpbmcgZWxzZS4gV2Ugc3RpbGwgbmVlZCB0byBydW5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3VnaCBhbGwgb2JqZWN0cywgYnV0IHdlIGRvbid0IG5lZWQgdG8gcGVyZm9ybSBhbnkgaGl0IHRlc3RzLlxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gcG9pbnQgcnVubmluZyB0aGlzIGlmIHRoZSBpdGVtIGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBkb2VzIG5vdCBoYXZlIGFuIGludGVyYWN0aXZlIHBhcmVudC5cbiAgICAgICAgaWYgKGludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgaGl0IHRlc3RpbmcgKGFzIGluIHdlIGhhdmUgbm8gaGl0IGFueSBvYmplY3RzIHlldClcbiAgICAgICAgICAgIC8vIFdlIGFsc28gZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBoaXQgdGVzdGluZyBpZiBvbmNlIG9mIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gaGFzIGFscmVhZHkgYmVlbiBoaXQgLSBidXQgb25seSBpZiBpdCB3YXMgaW50ZXJhY3RpdmUsIG90aGVyd2lzZSB3ZSBuZWVkIHRvIGtlZXBcbiAgICAgICAgICAgIC8vIGxvb2tpbmcgZm9yIGFuIGludGVyYWN0aXZlIGNoaWxkLCBqdXN0IGluIGNhc2Ugd2UgaGl0IG9uZVxuICAgICAgICAgICAgaWYgKGhpdFRlc3QgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSB0ZXN0ZWQgYWdhaW5zdCBoaXRBcmVhIGlmIGl0IGlzIGRlZmluZWRcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYSAmJiBkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChoaXQgJiYgIWludGVyYWN0aW9uRXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQudGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYyhpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCAhIWhpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybnMgdHJ1ZSBpZiB0aGUgZGlzcGxheU9iamVjdCBoaXQgdGhlIHBvaW50XG4gICAgICovXG4gICAgVHJlZVNlYXJjaC5wcm90b3R5cGUuZmluZEhpdCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0KSB7XG4gICAgICAgIHRoaXMucmVjdXJzaXZlRmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gVHJlZVNlYXJjaDtcbn0oKSk7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBjbGFzc2VzIHRoYXQgcmVwcmVzZW50IGEgaGl0IGFyZWEuXG4gKlxuICogSXQgaXMgaW1wbGVtZW50ZWQgYnkgdGhlIGZvbGxvd2luZyBjbGFzc2VzOlxuICogLSB7QGxpbmsgUElYSS5DaXJjbGV9XG4gKiAtIHtAbGluayBQSVhJLkVsbGlwc2V9XG4gKiAtIHtAbGluayBQSVhJLlBvbHlnb259XG4gKiAtIHtAbGluayBQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gKlxuICogQGludGVyZmFjZSBJSGl0QXJlYVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGFyZWFcbiAqXG4gKiBAbWV0aG9kXG4gKiBAbmFtZSBjb250YWluc1xuICogQG1lbWJlcm9mIFBJWEkuSUhpdEFyZWEjXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBhcmVhXG4gKi9cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQHR5cGUge09iamVjdH1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmludGVyYWN0aXZlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbnZhciBpbnRlcmFjdGl2ZVRhcmdldCA9IHtcbiAgICAvKipcbiAgICAgKiBFbmFibGUgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciB0aGUgRGlzcGxheU9iamVjdC4gVG91Y2gsIHBvaW50ZXIgYW5kIG1vdXNlXG4gICAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLm9uKCd0YXAnLCAoZXZlbnQpID0+IHtcbiAgICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgICAqIH0pO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGRpc3BsYXlPYmplY3QgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgICAqIFNldHRpbmcgdGhpcyB0byBmYWxzZSBhbGxvd3MgUGl4aUpTIHRvIGJ5cGFzcyBhIHJlY3Vyc2l2ZSBgaGl0VGVzdGAgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb24gc2hhcGUuIENoaWxkcmVuIHdpbGwgYmUgaGl0IGZpcnN0LCB0aGVuIHRoaXMgc2hhcGUgd2lsbCBiZSBjaGVja2VkLlxuICAgICAqIFNldHRpbmcgdGhpcyB3aWxsIGNhdXNlIHRoaXMgc2hhcGUgdG8gYmUgY2hlY2tlZCBpbiBoaXQgdGVzdHMgcmF0aGVyIHRoYW4gdGhlIGRpc3BsYXlPYmplY3QncyBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5oaXRBcmVhID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKTtcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklIaXRBcmVhfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgaGl0QXJlYTogbnVsbCxcbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkLCB0aGUgbW91c2UgY3Vyc29yIHVzZSB0aGUgcG9pbnRlciBiZWhhdmlvciB3aGVuIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdCBpZiBpdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIFNldHRpbmcgdGhpcyBjaGFuZ2VzIHRoZSAnY3Vyc29yJyBwcm9wZXJ0eSB0byBgJ3BvaW50ZXInYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmJ1dHRvbk1vZGUgPSB0cnVlO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBnZXQgYnV0dG9uTW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yID09PSAncG9pbnRlcic7XG4gICAgfSxcbiAgICBzZXQgYnV0dG9uTW9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29yID09PSAncG9pbnRlcicpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhpcyBkZWZpbmVzIHdoYXQgY3Vyc29yIG1vZGUgaXMgdXNlZCB3aGVuIHRoZSBtb3VzZSBjdXJzb3JcbiAgICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjdXJzb3I6IG51bGwsXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgc2V0IG9mIGFsbCBhY3RpdmUgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0IHRyYWNrZWRQb2ludGVycygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYWNrZWRQb2ludGVycyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgeyB0aGlzLl90cmFja2VkUG9pbnRlcnMgPSB7fTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdHJhY2tlZFBvaW50ZXJzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKi9cbiAgICBfdHJhY2tlZFBvaW50ZXJzOiB1bmRlZmluZWQsXG59O1xuXG4vLyBNaXggaW50ZXJhY3RpdmVUYXJnZXQgaW50byBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbi8vIGFmdGVyIGRlcHJlY2F0aW9uIGhhcyBiZWVuIGhhbmRsZWRcbkRpc3BsYXlPYmplY3QubWl4aW4oaW50ZXJhY3RpdmVUYXJnZXQpO1xudmFyIE1PVVNFX1BPSU5URVJfSUQgPSAxO1xuLy8gaGVscGVycyBmb3IgaGl0VGVzdCgpIC0gb25seSB1c2VkIGluc2lkZSBoaXRUZXN0KClcbnZhciBoaXRUZXN0RXZlbnQgPSB7XG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIGRhdGE6IHtcbiAgICAgICAgZ2xvYmFsOiBudWxsLFxuICAgIH0sXG59O1xuLyoqXG4gKiBUaGUgaW50ZXJhY3Rpb24gbWFuYWdlciBkZWFscyB3aXRoIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gKlxuICogQW55IERpc3BsYXlPYmplY3QgY2FuIGJlIGludGVyYWN0aXZlIGlmIGl0cyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IGlzIHNldCB0byB0cnVlLlxuICpcbiAqIFRoaXMgbWFuYWdlciBhbHNvIHN1cHBvcnRzIG11bHRpdG91Y2guXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbmBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgSW50ZXJhY3Rpb25NYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbnRlcmFjdGlvbk1hbmFnZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfFBJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0PXRydWVdIC0gU2hvdWxkIHRoZSBtYW5hZ2VyIGF1dG9tYXRpY2FsbHkgcHJldmVudCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3k9MTBdIC0gTWF4aW11bSByZXF1ZW5jeSAobXMpIGF0IHBvaW50ZXIgb3Zlci9vdXQgc3RhdGVzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXNlU3lzdGVtVGlja2VyPXRydWVdIC0gV2hldGhlciB0byBhZGQge0BsaW5rIHRpY2tlclVwZGF0ZX0gdG8ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgaW50ZXJhY3Rpb24gbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMgYXV0b21hdGljYWxseSBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqIERvZXMgbm90IGFwcGx5IHRvIHBvaW50ZXIgZXZlbnRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgKiBwcmV2ZW50RGVmYXVsdCBvbiBwb2ludGVyIGV2ZW50cyBzdG9wcyBtb3VzZSBldmVudHMgZnJvbSBmaXJpbmdcbiAgICAgICAgICogVGh1cywgZm9yIGV2ZXJ5IHBvaW50ZXIgZXZlbnQsIHRoZXJlIHdpbGwgYWx3YXlzIGJlIGVpdGhlciBhIG1vdXNlIG9mIHRvdWNoIGV2ZW50IGFsb25nc2lkZSBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1ByZXZlbnREZWZhdWx0ID0gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0IDogdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gcmVxdWVuY3kgaW4gbWlsbGlzZWNvbmRzIGF0IHdoaWNoIHBvaW50ZXIgb3Zlci9vdXQgc3RhdGVzIHdpbGwgYmUgY2hlY2tlZCBieSB7QGxpbmsgdGlja2VyVXBkYXRlfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSBvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5IHx8IDEwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZSA9IG5ldyBJbnRlcmFjdGlvbkRhdGEoKTtcbiAgICAgICAgX3RoaXMubW91c2UuaWRlbnRpZmllciA9IE1PVVNFX1BPSU5URVJfSUQ7XG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICBfdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZlbHkgdHJhY2tlZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxudW1iZXIsUElYSS5JbnRlcmFjdGlvbkRhdGE+fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhID0ge307XG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtNT1VTRV9QT0lOVEVSX0lEXSA9IF90aGlzLm1vdXNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSW50ZXJhY3Rpb25EYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBldmVudCBkYXRhIG9iamVjdCB0byBoYW5kbGUgYWxsIHRoZSBldmVudCB0cmFja2luZy9kaXNwYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudERhdGEgPSBuZXcgSW50ZXJhY3Rpb25FdmVudCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIERPTSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBwcm9wZXJ0eSBkZXRlcm1pbmVzIGlmIG1vdXNlbW92ZSBhbmQgdG91Y2htb3ZlIGV2ZW50cyBhcmUgZmlyZWQgb25seSB3aGVuIHRoZSBjdXJzb3JcbiAgICAgICAgICogaXMgb3ZlciB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBTZXR0aW5nIHRvIHRydWUgd2lsbCBtYWtlIHRoaW5ncyB3b3JrIG1vcmUgaW4gbGluZSB3aXRoIGhvdyB0aGUgRE9NIHZlcnNpb24gd29ya3MuXG4gICAgICAgICAqIFNldHRpbmcgdG8gZmFsc2UgY2FuIG1ha2UgdGhpbmdzIGVhc2llciBmb3IgdGhpbmdzIGxpa2UgZHJhZ2dpbmdcbiAgICAgICAgICogSXQgaXMgY3VycmVudGx5IHNldCB0byBmYWxzZSBhcyB0aGlzIGlzIGhvdyBQaXhpSlMgdXNlZCB0byB3b3JrLiBUaGlzIHdpbGwgYmUgc2V0IHRvIHRydWUgaW5cbiAgICAgICAgICogZnV0dXJlIHZlcnNpb25zIG9mIHBpeGkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGF2ZSBldmVudHMgYmVlbiBhdHRhY2hlZCB0byB0aGUgZG9tIGVsZW1lbnQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXMgdGhlIHN5c3RlbSB0aWNrZXIgYmVlbiBhZGRlZD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlja2VyQWRkZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSBtb3VzZSBob3ZlcmluZyBvdmVyIHRoZSByZW5kZXJlcj9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHRvdWNoIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAhIXdpbmRvdy5Qb2ludGVyRXZlbnQ7XG4gICAgICAgIC8vIHRoaXMgd2lsbCBtYWtlIGl0IHNvIHRoYXQgeW91IGRvbid0IGhhdmUgdG8gY2FsbCBiaW5kIGFsbCB0aGUgdGltZVxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJVcCA9IF90aGlzLm9uUG9pbnRlclVwLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyQ2FuY2VsID0gX3RoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJEb3duID0gX3RoaXMub25Qb2ludGVyRG93bi5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJNb3ZlID0gX3RoaXMub25Qb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gX3RoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLmJpbmQoX3RoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdXQgPSBfdGhpcy5vblBvaW50ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKF90aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyT3ZlciA9IF90aGlzLm9uUG9pbnRlck92ZXIuYmluZChfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWN0aW9uYXJ5IG9mIGhvdyBkaWZmZXJlbnQgY3Vyc29yIG1vZGVzIGFyZSBoYW5kbGVkLiBTdHJpbmdzIGFyZSBoYW5kbGVkIGFzIENTUyBjdXJzb3JcbiAgICAgICAgICogdmFsdWVzLCBvYmplY3RzIGFyZSBoYW5kbGVkIGFzIGRpY3Rpb25hcmllcyBvZiBDU1MgdmFsdWVzIGZvciBpbnRlcmFjdGlvbkRPTUVsZW1lbnQsXG4gICAgICAgICAqIGFuZCBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbnN0ZWFkIG9mIGNoYW5naW5nIHRoZSBDU1MuXG4gICAgICAgICAqIERlZmF1bHQgQ1NTIGN1cnNvciB2YWx1ZXMgYXJlIHByb3ZpZGVkIGZvciAnZGVmYXVsdCcgYW5kICdwb2ludGVyJyBtb2Rlcy5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIE9iamVjdD59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcicsXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW9kZSBvZiB0aGUgY3Vyc29yIHRoYXQgaXMgYmVpbmcgdXNlZC5cbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoaXMgaXMgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVsYXllZCBwb2ludGVyIGV2ZW50cy4gVXNlZCB0byBndWFyYW50ZWUgY29ycmVjdCBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVsYXllZEV2ZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJlZVNlYXJjaCBjb21wb25lbnQgdGhhdCBpcyB1c2VkIHRvIGhpdFRlc3Qgc3RhZ2UgdHJlZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyZWVTZWFyY2h9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zZWFyY2ggPSBuZXcgVHJlZVNlYXJjaCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBhcyBhIGxhc3QgcmVuZGVyZWQgb2JqZWN0IGluIGNhc2UgcmVuZGVyZXIgZG9lc250IGhhdmUgX2xhc3RPYmplY3RSZW5kZXJlZFxuICAgICAgICAgKiBAbWVtYmVyIHtEaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RlbXBEaXNwbGF5T2JqZWN0ID0gbmV3IFRlbXBvcmFyeURpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBOb3QgYWx3YXlzIGZpcmVkIHdoZW4gc29tZSBidXR0b25zIGFyZSBoZWxkIGRvd24gd2hpbGUgb3RoZXJzIGFyZSByZWxlYXNlZC4gSW4gdGhvc2UgY2FzZXMsXG4gICAgICAgICAqIHVzZSBbbW91c2Vkb3duXXtAbGluayBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259IGFuZFxuICAgICAgICAgKiBbbW91c2V1cF17QGxpbmsgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2V1cH0gaW5zdGVhZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkludGVyYWN0aW9uTWFuYWdlciN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheS5cbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXNlU3lzdGVtVGlja2VyID0gb3B0aW9ucy51c2VTeXN0ZW1UaWNrZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudXNlU3lzdGVtVGlja2VyIDogdHJ1ZTtcbiAgICAgICAgX3RoaXMuc2V0VGFyZ2V0RWxlbWVudChfdGhpcy5yZW5kZXJlci52aWV3LCBfdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZSwgXCJ1c2VTeXN0ZW1UaWNrZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIHRoZSBJbnRlcmFjdGlvbk1hbmFnZXIgYXV0b21hdGljYWxseSBhZGQge0BsaW5rIHRpY2tlclVwZGF0ZX0gdG8ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZVN5c3RlbVRpY2tlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodXNlU3lzdGVtVGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VTeXN0ZW1UaWNrZXIgPSB1c2VTeXN0ZW1UaWNrZXI7XG4gICAgICAgICAgICBpZiAodXNlU3lzdGVtVGlja2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUsIFwibGFzdE9iamVjdFJlbmRlcmVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExhc3QgcmVuZGVyZWQgb2JqZWN0IG9yIHRlbXAgb2JqZWN0XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCB8fCB0aGlzLl90ZW1wRGlzcGxheU9iamVjdDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0cyBhIHBvaW50IGFnYWluc3QgdGhlIGRpc3BsYXkgdHJlZSwgcmV0dXJuaW5nIHRoZSBmaXJzdCBpbnRlcmFjdGl2ZSBvYmplY3QgdGhhdCBpcyBoaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGdsb2JhbFBvaW50IC0gQSBwb2ludCB0byBoaXQgdGVzdCB3aXRoLCBpbiBnbG9iYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gW3Jvb3RdIC0gVGhlIHJvb3QgZGlzcGxheSBvYmplY3QgdG8gc3RhcnQgZnJvbS4gSWYgb21pdHRlZCwgZGVmYXVsdHNcbiAgICAgKiB0byB0aGUgbGFzdCByZW5kZXJlZCByb290IG9mIHRoZSBhc3NvY2lhdGVkIHJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGhpdCBkaXNwbGF5IG9iamVjdCwgaWYgYW55LlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuaGl0VGVzdCA9IGZ1bmN0aW9uIChnbG9iYWxQb2ludCwgcm9vdCkge1xuICAgICAgICAvLyBjbGVhciB0aGUgdGFyZ2V0IGZvciBvdXIgaGl0IHRlc3RcbiAgICAgICAgaGl0VGVzdEV2ZW50LnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgZ2xvYmFsIHBvaW50XG4gICAgICAgIGhpdFRlc3RFdmVudC5kYXRhLmdsb2JhbCA9IGdsb2JhbFBvaW50O1xuICAgICAgICAvLyBlbnN1cmUgc2FmZXR5IG9mIHRoZSByb290XG4gICAgICAgIGlmICghcm9vdCkge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJ1biB0aGUgaGl0IHRlc3RcbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaGl0VGVzdEV2ZW50LCByb290LCBudWxsLCB0cnVlKTtcbiAgICAgICAgLy8gcmV0dXJuIG91ciBmb3VuZCBvYmplY3QgLSBpdCdsbCBiZSBudWxsIGlmIHdlIGRpZG4ndCBoaXQgYW55dGhpbmdcbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UvdG91Y2ggZXZlbnRzLiBUaGlzIGlzIHVzZWZ1bCBmb3Igd2hlbiB5b3UgaGF2ZVxuICAgICAqIG90aGVyIERPTSBlbGVtZW50cyBvbiB0b3Agb2YgdGhlIHJlbmRlcmVycyBDYW52YXMgZWxlbWVudC4gV2l0aCB0aGlzIHlvdSdsbCBiZSBiYWxlIHRvIGRlbGVnYXRlXG4gICAgICogYW5vdGhlciBET00gZWxlbWVudCB0byByZWNlaXZlIHRob3NlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlIGFuZCB0b3VjaCBldmVudHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIG5ldyBlbGVtZW50IChyZWxhdGl2ZSB0byB0aGUgY2FudmFzKS5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmFkZEV2ZW50cygpO1xuICAgICAgICB0aGlzLmFkZFRpY2tlckxpc3RlbmVyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHRpY2tlciBsaXN0ZW5lclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFkZFRpY2tlckxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aWNrZXJBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgfHwgIXRoaXMuX3VzZVN5c3RlbVRpY2tlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkKHRoaXMudGlja2VyVXBkYXRlLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuSU5URVJBQ1RJT04pO1xuICAgICAgICB0aGlzLnRpY2tlckFkZGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgdGlja2VyIGxpc3RlbmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy50aWNrZXJBZGRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGlja2VyVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy50aWNrZXJBZGRlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCB0aGUgRE9NIGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzQWRkZWQgfHwgIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGU7XG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSAnbm9uZSc7XG4gICAgICAgICAgICBzdHlsZS5tc1RvdWNoQWN0aW9uID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlc2UgZXZlbnRzIGFyZSBhZGRlZCBmaXJzdCwgc28gdGhhdCBpZiBwb2ludGVyIGV2ZW50cyBhcmUgbm9ybWFsaXplZCwgdGhleSBhcmUgZmlyZWRcbiAgICAgICAgICogaW4gdGhlIHNhbWUgb3JkZXIgYXMgbm9uLW5vcm1hbGl6ZWQgZXZlbnRzLiBpZS4gcG9pbnRlciBldmVudCAxc3QsIG1vdXNlIC8gdG91Y2ggMm5kXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBwb2ludGVyb3V0IGlzIGZpcmVkIGluIGFkZGl0aW9uIHRvIHBvaW50ZXJ1cCAoZm9yIHRvdWNoIGV2ZW50cykgYW5kIHBvaW50ZXJjYW5jZWxcbiAgICAgICAgICAgIC8vIHdlIGFscmVhZHkgaGFuZGxlIHRob3NlLCBzbyBmb3IgdGhlIHB1cnBvc2VzIG9mIHdoYXQgd2UgZG8gaW4gb25Qb2ludGVyT3V0LCB3ZSBvbmx5XG4gICAgICAgICAgICAvLyBjYXJlIGFib3V0IHRoZSBwb2ludGVybGVhdmUgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHdheXMgbG9vayBkaXJlY3RseSBmb3IgdG91Y2ggZXZlbnRzIHNvIHRoYXQgd2UgY2FuIHByb3ZpZGUgb3JpZ2luYWwgZGF0YVxuICAgICAgICAvLyBJbiBhIGZ1dHVyZSB2ZXJzaW9uIHdlIHNob3VsZCBjaGFuZ2UgdGhpcyB0byBiZWluZyBqdXN0IGEgZmFsbGJhY2sgYW5kIHJlbHkgc29sZWx5IG9uXG4gICAgICAgIC8vIFBvaW50ZXJFdmVudHMgd2hlbmV2ZXIgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBET00gZXZlbnRzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlZ2lzdGVyZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5ldmVudHNBZGRlZCB8fCAhdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZTtcbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgc3R5bGUubXNDb250ZW50Wm9vbWluZyA9ICcnO1xuICAgICAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzIGlmIGF0IGxlYXN0IHtAbGluayBpbnRlcmFjdGlvbkZyZXF1ZW5jeX1cbiAgICAgKiBtaWxsaXNlY29uZHMgaGF2ZSBwYXNzZWQgc2luY2UgdGhlIGxhc3QgaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBQSVhJLlRpY2tlci5zeXN0ZW19LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgZGVsdGEgc2luY2UgdGhlIGxhc3QgY2FsbFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUudGlja2VyVXBkYXRlID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgKz0gZGVsdGFUaW1lO1xuICAgICAgICBpZiAodGhpcy5fZGVsdGFUaW1lIDwgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSA9IDA7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgbW92ZSB0aGUgbW91c2UgdGhpcyBjaGVjayBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgdXNpbmcgdGhlIG1vdXNlIG1vdmUhXG4gICAgICAgIGlmICh0aGlzLl9kaWRNb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLl9kaWRNb3ZlID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICAvLyBSZXNldHMgdGhlIGZsYWcgYXMgc2V0IGJ5IGEgc3RvcFByb3BhZ2F0aW9uIGNhbGwuIFRoaXMgZmxhZyBpcyB1c3VhbGx5IHJlc2V0IGJ5IGEgdXNlciBpbnRlcmFjdGlvbiBvZiBhbnkga2luZCxcbiAgICAgICAgLy8gYnV0IHRoZXJlIHdhcyBhIHNjZW5hcmlvIG9mIGEgZGlzcGxheSBvYmplY3QgbW92aW5nIHVuZGVyIGEgc3RhdGljIG1vdXNlIGN1cnNvci5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlLCBtb3VzZW92ZXIgYW5kIG1vdXNlZXZlbnRzIHdvdWxkIG5vdCBwYXNzIHRoZSBmbGFnIHRlc3QgaW4gZGlzcGF0Y2hFdmVudCBmdW5jdGlvblxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEuaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFba107XG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ICYmIGludGVyYWN0aW9uRGF0YS5wb2ludGVyVHlwZSAhPT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgY3Vyc29yIG1vZGUsIGhhbmRsaW5nIGFueSBjYWxsYmFja3Mgb3IgQ1NTIHN0eWxlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIGN1cnNvciBtb2RlLCBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0Q3Vyc29yTW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICAgIG1vZGUgPSBtb2RlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmN1cnNvclN0eWxlc1ttb2RlXTtcbiAgICAgICAgLy8gb25seSBkbyB0aGluZ3MgaWYgdGhlcmUgaXMgYSBjdXJzb3Igc3R5bGUgZm9yIGl0XG4gICAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2Ygc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcgc3R5bGVzIGFyZSBoYW5kbGVkIGFzIGN1cnNvciBDU1NcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb25zIGFyZSBqdXN0IGNhbGxlZCwgYW5kIHBhc3NlZCB0aGUgY3Vyc29yIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUobW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzIGFuIG9iamVjdCwgYXNzdW1lIHRoYXQgaXQgaXMgYSBkaWN0aW9uYXJ5IG9mIENTUyBzdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGl0IHRvIHRoZSBpbnRlcmFjdGlvbkRPTUVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbW9kZSA9PT0gJ3N0cmluZycgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnNvclN0eWxlcywgbW9kZSkpIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IG1vZGUgaXMgYSBzdHJpbmcgKG5vdCBhIFN5bWJvbCkgYW5kIGN1cnNvclN0eWxlcyBkb2Vzbid0IGhhdmUgYW55IGVudHJ5XG4gICAgICAgICAgICAvLyBmb3IgdGhlIG1vZGUsIHRoZW4gYXNzdW1lIHRoYXQgdGhlIGRldiB3YW50cyBpdCB0byBiZSBDU1MgZm9yIHRoZSBjdXJzb3IuXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBtb2RlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKSB7XG4gICAgICAgIC8vIEV2ZW4gaWYgdGhlIGV2ZW50IHdhcyBzdG9wcGVkLCBhdCBsZWFzdCBkaXNwYXRjaCBhbnkgcmVtYWluaW5nIGV2ZW50c1xuICAgICAgICAvLyBmb3IgdGhlIHNhbWUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgIGlmICghZXZlbnREYXRhLnN0b3BQcm9wYWdhdGlvbkhpbnQgfHwgZGlzcGxheU9iamVjdCA9PT0gZXZlbnREYXRhLnN0b3BzUHJvcGFnYXRpbmdBdCkge1xuICAgICAgICAgICAgZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSBldmVudFN0cmluZztcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZW1pdChldmVudFN0cmluZywgZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1dHMgYSBldmVudCBvbiBhIHF1ZXVlIHRvIGJlIGRpc3BhdGNoZWQgbGF0ZXIuIFRoaXMgaXMgdXNlZCB0byBndWFyYW50ZWUgY29ycmVjdFxuICAgICAqIG9yZGVyaW5nIG9mIG92ZXIvb3V0IGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVsYXlEaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpIHtcbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzLnB1c2goeyBkaXNwbGF5T2JqZWN0OiBkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZzogZXZlbnRTdHJpbmcsIGV2ZW50RGF0YTogZXZlbnREYXRhIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFwcyB4IGFuZCB5IGNvb3JkcyBmcm9tIGEgRE9NIG9iamVjdCBhbmQgbWFwcyB0aGVtIGNvcnJlY3RseSB0byB0aGUgUGl4aUpTIHZpZXcuIFRoZVxuICAgICAqIHJlc3VsdGluZyB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlIHBvaW50LiBUaGlzIHRha2VzIGludG8gYWNjb3VudCB0aGUgZmFjdCB0aGF0IHRoZSBET01cbiAgICAgKiBlbGVtZW50IGNvdWxkIGJlIHNjYWxlZCBhbmQgcG9zaXRpb25lZCBhbnl3aGVyZSBvbiB0aGUgc2NyZWVuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7UElYSS5JUG9pbnREYXRhfSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IC0gdGhlIHkgY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubWFwUG9zaXRpb25Ub1BvaW50ID0gZnVuY3Rpb24gKHBvaW50LCB4LCB5KSB7XG4gICAgICAgIHZhciByZWN0O1xuICAgICAgICAvLyBJRSAxMSBmaXhcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICByZWN0ID0geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc29sdXRpb25NdWx0aXBsaWVyID0gMS4wIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBwb2ludC54ID0gKCh4IC0gcmVjdC5sZWZ0KSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC53aWR0aCAvIHJlY3Qud2lkdGgpKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgICAgICBwb2ludC55ID0gKCh5IC0gcmVjdC50b3ApICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmhlaWdodCAvIHJlY3QuaGVpZ2h0KSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gICAgICogc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzIGl0IGZpbmRzLiBJdCB3aWxsIGFsc28gdGFrZSBjYXJlIG9mIGhpdFxuICAgICAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIGluZGljYXRlcyB3aGV0aGVyIHdlIHdhbnQgdG8gY2FsY3VsYXRlIGhpdHNcbiAgICAgKiAgb3IganVzdCBpdGVyYXRlIHRocm91Z2ggYWxsIGludGVyYWN0aXZlIG9iamVjdHNcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NJbnRlcmFjdGl2ZSA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0KSB7XG4gICAgICAgIHZhciBoaXQgPSB0aGlzLnNlYXJjaC5maW5kSGl0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QpO1xuICAgICAgICB2YXIgZGVsYXllZEV2ZW50cyA9IHRoaXMuZGVsYXllZEV2ZW50cztcbiAgICAgICAgaWYgKCFkZWxheWVkRXZlbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGhpdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXNldCB0aGUgcHJvcGFnYXRpb24gaGludCwgYmVjYXVzZSB3ZSBzdGFydCBkZWVwZXIgaW4gdGhlIHRyZWUgYWdhaW4uXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuc3RvcFByb3BhZ2F0aW9uSGludCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGVsYXllZExlbiA9IGRlbGF5ZWRFdmVudHMubGVuZ3RoO1xuICAgICAgICB0aGlzLmRlbGF5ZWRFdmVudHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxheWVkTGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGRlbGF5ZWRFdmVudHNbaV0sIGRpc3BsYXlPYmplY3RfMSA9IF9hLmRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nID0gX2EuZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSA9IF9hLmV2ZW50RGF0YTtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgcmVhY2ggdGhlIG9iamVjdCB3ZSB3YW50ZWQgdG8gc3RvcCBwcm9wYWdhdGluZyBhdCxcbiAgICAgICAgICAgIC8vIHNldCB0aGUgcHJvcGFnYXRpb24gaGludC5cbiAgICAgICAgICAgIGlmIChldmVudERhdGEuc3RvcHNQcm9wYWdhdGluZ0F0ID09PSBkaXNwbGF5T2JqZWN0XzEpIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3RvcFByb3BhZ2F0aW9uSGludCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdF8xLCBldmVudFN0cmluZywgZXZlbnREYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHByZXNzZWQgZG93biBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBwcmVzc2VkIGRvd25cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckRvd24gPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vIG5lZWQgdG8gcHJldmVudCBkZWZhdWx0IG9uIG5hdHVyYWwgcG9pbnRlciBldmVudHMsIGFzIHRoZXJlIGFyZSBubyBzaWRlIGVmZmVjdHNcbiAgICAgICAgICogTm9ybWFsaXplZCBldmVudHMsIGhvd2V2ZXIsIG1heSBoYXZlIHRoZSBkb3VibGUgbW91c2Vkb3duL3RvdWNoc3RhcnQgaXNzdWUgb24gdGhlIG5hdGl2ZSBhbmRyb2lkIGJyb3dzZXIsXG4gICAgICAgICAqIHNvIHN0aWxsIG5lZWQgdG8gYmUgcHJldmVudGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gR3VhcmFudGVlZCB0aGF0IHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGV2ZW50IGluIGV2ZW50cywgYW5kIGFsbCBldmVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIHBvaW50ZXIgdHlwZVxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZCkge1xuICAgICAgICAgICAgdmFyIGNhbmNlbGFibGUgPSBvcmlnaW5hbEV2ZW50LmNhbmNlbGFibGUgfHwgISgnY2FuY2VsYWJsZScgaW4gb3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICBpZiAoY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMubGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVtaXQgYSBtb3VzZSBldmVudCBmb3IgXCJwZW5cIiBwb2ludGVycywgdGhlIHdheSBhIGJyb3dzZXIgd291bGQgZW1pdCBhIGZhbGxiYWNrIGV2ZW50XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgZG93biBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJEb3duID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzUmlnaHRCdXR0b24gPSBkYXRhLmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ucmlnaHREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5sZWZ0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuY2VsbGVkIC0gdHJ1ZSBpZiB0aGUgcG9pbnRlciBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gRnVuY3Rpb24gcGFzc2VkIHRvIHtAbGluayBwcm9jZXNzSW50ZXJhY3RpdmV9XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDb21wbGV0ZSA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50LCBjYW5jZWxsZWQsIGZ1bmMpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgLy8gaWYgdGhlIGV2ZW50IHdhc24ndCB0YXJnZXRpbmcgb3VyIGNhbnZhcywgdGhlbiBjb25zaWRlciBpdCB0byBiZSBwb2ludGVydXBvdXRzaWRlXG4gICAgICAgIC8vIGluIGFsbCBjYXNlcyAodW5sZXNzIGl0IHdhcyBhIHBvaW50ZXJjYW5jZWwpXG4gICAgICAgIHZhciBldmVudEFwcGVuZCA9IG9yaWdpbmFsRXZlbnQudGFyZ2V0ICE9PSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA/ICdvdXRzaWRlJyA6ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIC8vIHBlcmZvcm0gaGl0IHRlc3RpbmcgZm9yIGV2ZW50cyB0YXJnZXRpbmcgb3VyIGNhbnZhcyBvciBjYW5jZWwgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3BvaW50ZXJjYW5jZWwnIDogXCJwb2ludGVydXBcIiArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/IFwicmlnaHR1cFwiICsgZXZlbnRBcHBlbmQgOiBcIm1vdXNldXBcIiArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICd0b3VjaGNhbmNlbCcgOiBcInRvdWNoZW5kXCIgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBjYW5jZWxsZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCB0cnVlLCB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGNhbmNlbCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIGZhbHNlLCB0aGlzLnByb2Nlc3NQb2ludGVyVXApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgdXAgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyVXAgPSBmdW5jdGlvbiAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgLy8gbmVlZCB0byB0cmFjayBtb3VzZSBkb3duIHN0YXR1cyBpbiB0aGUgbW91c2UgYmxvY2sgc28gdGhhdCB3ZSBjYW4gZW1pdFxuICAgICAgICAvLyBldmVudCBpbiBhIGxhdGVyIGJsb2NrXG4gICAgICAgIHZhciBpc01vdXNlVGFwID0gZmFsc2U7XG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUztcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gaXNSaWdodEJ1dHRvbiA/IGZsYWdzLlJJR0hUX0RPV04gOiBmbGFncy5MRUZUX0RPV047XG4gICAgICAgICAgICB2YXIgaXNEb3duID0gdHJhY2tpbmdEYXRhICE9PSB1bmRlZmluZWQgJiYgKHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3QpO1xuICAgICAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXAnIDogJ21vdXNldXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0Y2xpY2snIDogJ2NsaWNrJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgY2FuIGNvbmZpcm0gdGhhdCB0aGUgbW91c2Vkb3duIGhhcHBlbmVkIG9uIHRoaXMgb2JqZWN0LCBmbGFnIGZvciBsYXRlciBlbWl0IG9mIHBvaW50ZXJ0YXBcbiAgICAgICAgICAgICAgICAgICAgaXNNb3VzZVRhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cG91dHNpZGUnIDogJ21vdXNldXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRvd24gc3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEucmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEubGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9pbnRlcnMgYW5kIFRvdWNoZXMsIGFuZCBNb3VzZVxuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICAvLyBlbWl0IHBvaW50ZXJ0YXAgaWYgbm90IGEgbW91c2UsIG9yIGlmIHRoZSBtb3VzZSBibG9jayBkZWNpZGVkIGl0IHdhcyBhIHRhcFxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VzZSB8fCBpc01vdXNlVGFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3VjaGVzIGFyZSBubyBsb25nZXIgb3ZlciAoaWYgdGhleSBldmVyIHdlcmUpIHdoZW4gd2UgZ2V0IHRoZSB0b3VjaGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBzaG91bGQgZW5zdXJlIHRoYXQgd2UgZG9uJ3Qga2VlcCBwcmV0ZW5kaW5nIHRoYXQgdGhleSBhcmVcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgcmVtb3ZlIHRoZSB0cmFja2luZyBkYXRhIGlmIHRoZXJlIGlzIG5vIG92ZXIvZG93biBzdGF0ZSBzdGlsbCBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSAmJiB0cmFja2luZ0RhdGEubm9uZSkge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJNb3ZlID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5fZGlkTW92ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLmxhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5lbWl0KCd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgICAgICB7IHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuICAgICAgICAgICAgLy8gVE9ETyBCVUcgZm9yIHBhcmVudHMgaW50ZXJhY3RpdmUgb2JqZWN0IChib3JkZXIgb3JkZXIgaXNzdWUpXG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG1vdmUgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyTW92ZSA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tb3ZlV2hlbkluc2lkZSB8fCBoaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICAgICAgeyB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIG91dCBvZiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJlaW5nIG1vdmVkIG91dFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3V0ID0gZnVuY3Rpb24gKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3V0LCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4gZ2V0IHRvdWNobGVhdmUgZXZlbnRzIGFmdGVyIHRvdWNoZW5kLCBzbyB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaW50cm9kdWNlIG1lbW9yeSBsZWFrc1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgb3Zlci9vdXQgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgLy8gaWYgd2UganVzdCBtb3VzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byB0cmFjayB0aGF0IHN0YXRlXG4gICAgICAgIGlmIChoaXQgJiYgIXRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICBpZiAoaGl0ICYmIHRoaXMubW91c2VPdmVyUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGlmICghdHJhY2tpbmdEYXRhLm92ZXIpIHtcbiAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG9ubHkgY2hhbmdlIHRoZSBjdXJzb3IgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2hhbmdlZCAoYnkgc29tZXRoaW5nIGRlZXBlciBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgdHJlZSlcbiAgICAgICAgICAgIGlmIChpc01vdXNlICYmIHRoaXMuY3Vyc29yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBkaXNwbGF5T2JqZWN0LmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEub3Zlcikge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm91dCcsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gbW91c2UgZG93biBpbmZvcm1hdGlvbiBmb3IgdGhlIHBvaW50ZXIsIHRoZW4gaXQgaXMgc2FmZSB0byBkZWxldGVcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEubm9uZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgdmlld1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3ZlciA9IGZ1bmN0aW9uIChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3Zlciwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgSW50ZXJhY3Rpb25EYXRhIGZvciBhIGdpdmVuIHBvaW50ZXJJZC4gU3RvcmUgdGhhdCBkYXRhIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gTm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBvdXRwdXQgZnJvbSBub3JtYWxpemVUb1BvaW50ZXJEYXRhXG4gICAgICogQHJldHVybiB7UElYSS5JbnRlcmFjdGlvbkRhdGF9IC0gSW50ZXJhY3Rpb24gZGF0YSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBwb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIGlmIChwb2ludGVySWQgPT09IE1PVVNFX1BPSU5URVJfSUQgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMubW91c2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSkge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wb3AoKSB8fCBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllciA9IHBvaW50ZXJJZDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0gPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIGZyb20gdGhlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBtYWtlIHN1cmUgdGhhdCB0b3VjaC9wb2ludGVyIHNwZWNpZmljXG4gICAgICAgIC8vIGRhdGEgaXMgYXZhaWxhYmxlXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5jb3B5RXZlbnQoZXZlbnQpO1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25EYXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHVudXNlZCBJbnRlcmFjdGlvbkRhdGEgdG8gdGhlIHBvb2wsIGZvciBhIGdpdmVuIHBvaW50ZXJJZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIChwb2ludGVySWQpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucHVzaChpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYW4gSW50ZXJhY3Rpb25FdmVudCB0byB3cmFwIGEgRE9NIFBvaW50ZXJFdmVudCBhbmQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIGNvbmZpZ3VyZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IC0gVGhlIERPTSBldmVudCB0aGF0IHdpbGwgYmUgcGFpcmVkIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25EYXRhfSBpbnRlcmFjdGlvbkRhdGEgLSBUaGUgSW50ZXJhY3Rpb25EYXRhIHRoYXQgd2lsbCBiZSBwYWlyZWRcbiAgICAgKiAgICAgICAgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gdGhlIGludGVyYWN0aW9uIGV2ZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50ID0gZnVuY3Rpb24gKGludGVyYWN0aW9uRXZlbnQsIHBvaW50ZXJFdmVudCwgaW50ZXJhY3Rpb25EYXRhKSB7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YSA9IGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ID0gcG9pbnRlckV2ZW50O1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnJlc2V0KCk7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkV2ZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QgY29udGFpbnMgYWxsIGRhdGEgdGhhdCBhIHJlZ3VsYXIgcG9pbnRlciBldmVudCB3b3VsZCBoYXZlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgZGF0YSBmcm9tIGEgdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnRbXX0gQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgICAqICBvciBtb3VzZSBldmVudCwgb3IgYSBtdWx0aXBsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjaGFuZ2VkIHRvdWNoZXNcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRFdmVudHMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guYnV0dG9uID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2guYnV0dG9ucyA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLndpZHRoID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5oZWlnaHQgPSB0b3VjaC5yYWRpdXNZIHx8IDE7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50aWx0WCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRZID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50aWx0WSA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC5wb2ludGVyVHlwZSA9ICd0b3VjaCc7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucG9pbnRlcklkID0gdG91Y2guaWRlbnRpZmllciB8fCAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnR3aXN0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgeyB0b3VjaC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIHsgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID0gMDsgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGVzZSwgYXMgbGF5ZXJYL1kgaXMgbm90IGEgc3RhbmRhcmQsIGlzIGRlcHJlY2F0ZWQsIGhhcyB1bmV2ZW5cbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0LCBhbmQgdGhlIGZpbGwgaW5zIGFyZSBub3QgcXVpdGUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRYL1kgbWlnaHQgYmUgb2theSwgYnV0IGlzIG5vdCB0aGUgc2FtZSBhcyBjbGllbnRYL1kgd2hlbiB0aGUgY2FudmFzJ3MgdG9wXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBpcyBub3QgMCwwIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICB7IHRvdWNoLmxheWVyWSA9IHRvdWNoLm9mZnNldFkgPSB0b3VjaC5jbGllbnRZOyB9XG4gICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgdG91Y2ggYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICAgICAgdG91Y2guaXNOb3JtYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGFyZW50bHkgUG9pbnRlckV2ZW50IHN1YmNsYXNzZXMgTW91c2VFdmVudCwgc28geWF5XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiAoIXRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzIHx8ICEoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuUG9pbnRlckV2ZW50KSkpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQuaXNQcmltYXJ5ID0gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQud2lkdGggPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LndpZHRoID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQuaGVpZ2h0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5oZWlnaHQgPSAxOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGlsdFggPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQudGlsdFkgPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgeyB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPSAnbW91c2UnOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnByZXNzdXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC5wcmVzc3VyZSA9IDAuNTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudHdpc3QgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHsgdGVtcEV2ZW50LnR3aXN0ID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7IHRlbXBFdmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwOyB9XG4gICAgICAgICAgICAvLyBtYXJrIHRoZSBtb3VzZSBldmVudCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgIHRlbXBFdmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRlbXBFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5tb3VzZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJhY3Rpb25NYW5hZ2VyO1xufShFdmVudEVtaXR0ZXIpKTtcblxuZXhwb3J0IHsgSW50ZXJhY3Rpb25EYXRhLCBJbnRlcmFjdGlvbkV2ZW50LCBJbnRlcmFjdGlvbk1hbmFnZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLCBpbnRlcmFjdGl2ZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJhY3Rpb24uZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3J1bm5lciAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9ydW5uZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIEEgUnVubmVyIGlzIGEgaGlnaGx5IHBlcmZvcm1hbnQgYW5kIHNpbXBsZSBhbHRlcm5hdGl2ZSB0byBzaWduYWxzLiBCZXN0IHVzZWQgaW4gc2l0dWF0aW9uc1xuICogd2hlcmUgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIHRvIG1hbnkgb2JqZWN0cyBhdCBoaWdoIGZyZXF1ZW5jeSAoc2F5IGV2ZXJ5IGZyYW1lISlcbiAqXG4gKlxuICogbGlrZSBhIHNpZ25hbC4uXG4gKiBgYGBcbiAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gKlxuICogY29uc3QgbXlPYmplY3QgPSB7XG4gKiAgICAgbG9hZGVkOiBuZXcgUnVubmVyKCdsb2FkZWQnKVxuICogfVxuICpcbiAqIGNvbnN0IGxpc3RlbmVyID0ge1xuICogICAgIGxvYWRlZDogZnVuY3Rpb24oKXtcbiAqICAgICAgICAgLy8gdGhpblxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBteU9iamVjdC51cGRhdGUuYWRkKGxpc3RlbmVyKTtcbiAqXG4gKiBteU9iamVjdC5sb2FkZWQuZW1pdCgpO1xuICogYGBgXG4gKlxuICogT3IgZm9yIGhhbmRsaW5nIGNhbGxpbmcgdGhlIHNhbWUgZnVuY3Rpb24gb24gbWFueSBpdGVtc1xuICogYGBgXG4gKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICpcbiAqIGNvbnN0IG15R2FtZSA9IHtcbiAqICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpXG4gKiB9XG4gKlxuICogY29uc3QgZ2FtZU9iamVjdCA9IHtcbiAqICAgICB1cGRhdGU6IGZ1bmN0aW9uKHRpbWUpe1xuICogICAgICAgICAvLyB1cGRhdGUgbXkgZ2FtZXkgc3RhdGVcbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5hZGQoZ2FtZU9iamVjdDEpO1xuICpcbiAqIG15R2FtZS51cGRhdGUuZW1pdCh0aW1lKTtcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUnVubmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqICBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIHRoZSBmdW5jdGlvbiBuYW1lIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBvbiB0aGUgbGlzdGVuZXJzIGFkZGVkIHRvIHRoaXMgUnVubmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJ1bm5lcihuYW1lKSB7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaC9Ccm9hZGNhc3QgUnVubmVyIHRvIGFsbCBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhlIHF1ZXVlLlxuICAgICAqIEBwYXJhbSB7Li4uYW55fSBwYXJhbXMgLSBvcHRpb25hbCBwYXJhbWV0ZXJzIHRvIHBhc3MgdG8gZWFjaCBsaXN0ZW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuUnVubmVyfVxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiA4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21heCBhcmd1bWVudHMgcmVhY2hlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIG5hbWUgPSBfYS5uYW1lLCBpdGVtcyA9IF9hLml0ZW1zO1xuICAgICAgICB0aGlzLl9hbGlhc0NvdW50Kys7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaXRlbXNbaV1bbmFtZV0oYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbXMgPT09IHRoaXMuaXRlbXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FsaWFzQ291bnQtLTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJ1bm5lci5wcm90b3R5cGUuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fYWxpYXNDb3VudCA+IDAgJiYgdGhpcy5pdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLl9hbGlhc0NvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLnNsaWNlKDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBsaXN0ZW5lciB0byB0aGUgUnVubmVyXG4gICAgICpcbiAgICAgKiBSdW5uZXJzIGRvIG5vdCBuZWVkIHRvIGhhdmUgc2NvcGUgb3IgZnVuY3Rpb25zIHBhc3NlZCB0byB0aGVtLlxuICAgICAqIEFsbCB0aGF0IGlzIHJlcXVpcmVkIGlzIHRvIHBhc3MgdGhlIGxpc3RlbmluZyBvYmplY3QgYW5kIGVuc3VyZSB0aGF0IGl0IGhhcyBjb250YWlucyBhIGZ1bmN0aW9uIHRoYXQgaGFzIHRoZSBzYW1lIG5hbWVcbiAgICAgKiBhcyB0aGUgbmFtZSBwcm92aWRlZCB0byB0aGUgUnVubmVyIHdoZW4gaXQgd2FzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBFZyBBIGxpc3RlbmVyIHBhc3NlZCB0byB0aGlzIFJ1bm5lciB3aWxsIHJlcXVpcmUgYSAnY29tcGxldGUnIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcbiAgICAgKlxuICAgICAqIGNvbnN0IGNvbXBsZXRlID0gbmV3IFJ1bm5lcignY29tcGxldGUnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZSBzY29wZSB1c2VkIHdpbGwgYmUgdGhlIG9iamVjdCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIGxpc3RlbmluZy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtW3RoaXMuX25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzaW5nbGUgbGlzdGVuZXIgZnJvbSB0aGUgZGlzcGF0Y2ggcXVldWUuXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgbGlzdGVuciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiB0aGUgbGlzdGVuZXIgaXMgYWxyZWFkeSBpbiB0aGUgUnVubmVyXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgbGlzdGVuZXIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byBjaGVjay5cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGxpc3RlbmVycyBmcm9tIHRoZSBSdW5uZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgdGhpcy5pdGVtcy5sZW5ndGggPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgcmVmZXJlbmNlcywgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUnVubmVyLnByb3RvdHlwZSwgXCJlbXB0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhlcmUgYXJlIG5vIHRoaXMgUnVubmVyIGNvbnRhaW5zIG5vIGxpc3RlbmVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bm5lci5wcm90b3R5cGUsIFwibmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcnVubmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSdW5uZXI7XG59KCkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUnVubmVyLnByb3RvdHlwZSwge1xuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgZW1pdGBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5SdW5uZXIjXG4gICAgICogQG1ldGhvZCBkaXNwYXRjaFxuICAgICAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICAgICAqL1xuICAgIGRpc3BhdGNoOiB7IHZhbHVlOiBSdW5uZXIucHJvdG90eXBlLmVtaXQgfSxcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYGVtaXRgXG4gICAgICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICAgICAqIEBtZXRob2QgcnVuXG4gICAgICogQHNlZSBQSVhJLlJ1bm5lciNlbWl0XG4gICAgICovXG4gICAgcnVuOiB7IHZhbHVlOiBSdW5uZXIucHJvdG90eXBlLmVtaXQgfSxcbn0pO1xuXG5leHBvcnQgeyBSdW5uZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bm5lci5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvY29yZSAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9jb3JlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFTlYsIEFMUEhBX01PREVTLCBTQ0FMRV9NT0RFUywgRk9STUFUUywgVFlQRVMsIFRBUkdFVFMsIE1JUE1BUF9NT0RFUywgTVNBQV9RVUFMSVRZLCBDTEVBUl9NT0RFUywgRFJBV19NT0RFUywgQlVGRkVSX0JJVFMsIE1BU0tfVFlQRVMsIFBSRUNJU0lPTiwgQkxFTkRfTU9ERVMsIEdDX01PREVTLCBXUkFQX01PREVTLCBSRU5ERVJFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGlzTW9iaWxlLCB1aWQsIGlzUG93MiwgQmFzZVRleHR1cmVDYWNoZSwgVGV4dHVyZUNhY2hlLCBFdmVudEVtaXR0ZXIsIGRldGVybWluZUNyb3NzT3JpZ2luLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIG5leHRQb3cyLCBkZXByZWNhdGlvbiwgUHJvZ3JhbUNhY2hlLCByZW1vdmVJdGVtcywgaGV4MnN0cmluZywgaGV4MnJnYiwgc2F5SGVsbG8sIGlzV2ViR0xTdXBwb3J0ZWQsIHByZW11bHRpcGx5QmxlbmRNb2RlLCBsb2cyLCBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IGdyb3VwRDgsIFJlY3RhbmdsZSwgUG9pbnQsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHN1cHBvcnQgZm9yIHVzaW5nIFdlYkdMLiBJZiBhIGRldmljZSBkb2VzIG5vdFxuICogc3VwcG9ydCBXZWJHTCB2ZXJzaW9uLCBmb3IgaW5zdGFuY2UgV2ViR0wgMiwgaXQgd2lsbCBzdGlsbFxuICogYXR0ZW1wdCB0byBmYWxsYmFjayBzdXBwb3J0IHRvIFdlYkdMIDEuIElmIHlvdSB3YW50IHRvXG4gKiBleHBsaWNpdGx5IHJlbW92ZSBmZWF0dXJlIHN1cHBvcnQgdG8gdGFyZ2V0IGEgbW9yZSBzdGFibGVcbiAqIGJhc2VsaW5lLCBwcmVmZXIgYSBsb3dlciBlbnZpcm9ubWVudC5cbiAqXG4gKiBEdWUgdG8ge0BsaW5rIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkzNDgyM3xidWcgaW4gY2hyb21pdW19XG4gKiB3ZSBkaXNhYmxlIHdlYmdsMiBieSBkZWZhdWx0IGZvciBhbGwgbm9uLWFwcGxlIG1vYmlsZSBkZXZpY2VzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFBSRUZFUl9FTlZcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgUElYSS5FTlYuV0VCR0wyXG4gKi9cbnNldHRpbmdzLlBSRUZFUl9FTlYgPSBpc01vYmlsZS5hbnkgPyBFTlYuV0VCR0wgOiBFTlYuV0VCR0wyO1xuLyoqXG4gKiBJZiBzZXQgdG8gYHRydWVgLCAqb25seSogVGV4dHVyZXMgYW5kIEJhc2VUZXh0dXJlIG9iamVjdHMgc3RvcmVkXG4gKiBpbiB0aGUgY2FjaGVzICh7QGxpbmsgUElYSS51dGlscy5UZXh0dXJlQ2FjaGUgVGV4dHVyZUNhY2hlfSBhbmRcbiAqIHtAbGluayBQSVhJLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGUgQmFzZVRleHR1cmVDYWNoZX0pIGNhbiBiZVxuICogdXNlZCB3aGVuIGNhbGxpbmcge0BsaW5rIFBJWEkuVGV4dHVyZS5mcm9tIFRleHR1cmUuZnJvbX0gb3JcbiAqIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlLmZyb20gQmFzZVRleHR1cmUuZnJvbX0uXG4gKiBPdGhlcndpc2UsIHRoZXNlIGBmcm9tYCBjYWxscyB0aHJvdyBhbiBleGNlcHRpb24uIFVzaW5nIHRoaXMgcHJvcGVydHlcbiAqIGNhbiBiZSB1c2VmdWwgaWYgeW91IHdhbnQgdG8gZW5mb3JjZSBwcmVsb2FkaW5nIGFsbCBhc3NldHMgd2l0aFxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0uXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgU1RSSUNUX1RFWFRVUkVfQ0FDSEVcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFID0gZmFsc2U7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcmVzb3VyY2UgdHlwZXMsIGNsYXNzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0uXG4gKiBAZXhhbXBsZVxuICogY2xhc3MgQ3VzdG9tUmVzb3VyY2UgZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZSB7XG4gKiAgIC8vIE1VU1QgaGF2ZSBzb3VyY2UsIG9wdGlvbnMgY29uc3RydWN0b3Igc2lnbmF0dXJlXG4gKiAgIC8vIGZvciBhdXRvLWRldGVjdGVkIHJlc291cmNlcyB0byBiZSBjcmVhdGVkLlxuICogICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAqICAgICBzdXBlcigpO1xuICogICB9XG4gKiAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICogICAgIC8vIHVwbG9hZCB3aXRoIEdMXG4gKiAgICAgcmV0dXJuIHRydWU7XG4gKiAgIH1cbiAqICAgLy8gdXNlZCB0byBhdXRvLWRldGVjdCByZXNvdXJjZVxuICogICBzdGF0aWMgdGVzdChzb3VyY2UsIGV4dGVuc2lvbikge1xuICogICAgIHJldHVybiBleHRlbnNpb24gPT09ICd4eXonfHwgc291cmNlIGluc3RhbmNlb2YgU29tZUNsYXNzO1xuICogICB9XG4gKiB9XG4gKiAvLyBJbnN0YWxsIHRoZSBuZXcgcmVzb3VyY2UgdHlwZVxuICogUElYSS5yZXNvdXJjZXMuSU5TVEFMTEVELnB1c2goQ3VzdG9tUmVzb3VyY2UpO1xuICpcbiAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRFxuICogQHR5cGUge0FycmF5PCo+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cbnZhciBJTlNUQUxMRUQgPSBbXTtcbi8qKlxuICogQ3JlYXRlIGEgcmVzb3VyY2UgZWxlbWVudCBmcm9tIGEgc2luZ2xlIHNvdXJjZSBlbGVtZW50LiBUaGlzXG4gKiBhdXRvLWRldGVjdHMgd2hpY2ggdHlwZSBvZiByZXNvdXJjZSB0byBjcmVhdGUuIEFsbCByZXNvdXJjZXMgdGhhdFxuICogYXJlIGF1dG8tZGV0ZWN0YWJsZSBtdXN0IGhhdmUgYSBzdGF0aWMgYHRlc3RgIG1ldGhvZCBhbmQgYSBjb25zdHJ1Y3RvclxuICogd2l0aCB0aGUgYXJndW1lbnRzIGAoc291cmNlLCBvcHRpb25zPylgLiBDdXJyZW50bHksIHRoZSBzdXBwb3J0ZWRcbiAqIHJlc291cmNlcyBmb3IgYXV0by1kZXRlY3Rpb24gaW5jbHVkZTpcbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkNhbnZhc1Jlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLlZpZGVvUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2V9XG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ3wqfSBzb3VyY2UgLSBSZXNvdXJjZSBzb3VyY2UsIHRoaXMgY2FuIGJlIHRoZSBVUkwgdG8gdGhlIHJlc291cmNlLFxuICogICAgICAgIGEgdHlwZWQtYXJyYXkgKGZvciBCdWZmZXJSZXNvdXJjZSksIEhUTUxWaWRlb0VsZW1lbnQsIFNWRyBkYXRhLXVyaVxuICogICAgICAgIG9yIGFueSBvdGhlciByZXNvdXJjZSB0aGF0IGNhbiBiZSBhdXRvLWRldGVjdGVkLiBJZiBub3QgcmVzb3VyY2UgaXNcbiAqICAgICAgICBkZXRlY3RlZCwgaXQncyBhc3N1bWVkIHRvIGJlIGFuIEltYWdlUmVzb3VyY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gUGFzcy10aHJvdWdoIG9wdGlvbnMgdG8gdXNlIGZvciBSZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiBCdWZmZXJSZXNvdXJjZSBvciBTVkcgcmFzdGVyaXphdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIEltYWdlLCBTVkcgYW5kIFZpZGVvIGZsYWcgdG8gc3RhcnQgbG9hZGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIC0gU1ZHIHNvdXJjZSBzY2FsZS4gT3ZlcnJpZGRlbiBieSB3aWR0aCwgaGVpZ2h0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD1QSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBdIC0gSW1hZ2Ugb3B0aW9uIHRvIGNyZWF0ZSBCaXRtYXAgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gSW1hZ2UgYW5kIFZpZGVvIG9wdGlvbiB0byBzZXQgY3Jvc3NPcmlnaW5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBWaWRlbyBvcHRpb24gdG8gc3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVwZGF0ZUZQUz0wXSAtIFZpZGVvIG9wdGlvbiB0byB1cGRhdGUgaG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdGhlXG4gKiAgICAgICAgdGV4dHVyZSBzaG91bGQgYmUgdXBkYXRlZCBmcm9tIHRoZSB2aWRlby4gTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyXG4gKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gVGhlIGNyZWF0ZWQgcmVzb3VyY2UuXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGV4dGVuc2lvbiA9ICcnO1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBzZWFyY2ggZm9yIGZpbGUgZXh0ZW5zaW9uOiBwZXJpb2QsIDMtNCBjaGFycywgdGhlbiA/LCAjIG9yIEVPTFxuICAgICAgICB2YXIgcmVzdWx0ID0gKC9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaSkuZXhlYyhzb3VyY2UpO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBleHRlbnNpb24gPSByZXN1bHRbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gSU5TVEFMTEVELmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBSZXNvdXJjZVBsdWdpbiA9IElOU1RBTExFRFtpXTtcbiAgICAgICAgaWYgKFJlc291cmNlUGx1Z2luLnRlc3QgJiYgUmVzb3VyY2VQbHVnaW4udGVzdChzb3VyY2UsIGV4dGVuc2lvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2VQbHVnaW4oc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCBzb3VyY2UgdHlwZSB0byBhdXRvLWRldGVjdCBSZXNvdXJjZScpO1xufVxuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBCYXNlIHJlc291cmNlIGNsYXNzIGZvciB0ZXh0dXJlcyB0aGF0IG1hbmFnZXMgdmFsaWRhdGlvbiBhbmQgdXBsb2FkaW5nLCBkZXBlbmRpbmcgb24gaXRzIHR5cGUuXG4gKlxuICogVXBsb2FkaW5nIG9mIGEgYmFzZSB0ZXh0dXJlIHRvIHRoZSBHUFUgaXMgcmVxdWlyZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZXNvdXJjZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgd2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiByZXNvdXJjZSBoYXMgYmVlbiBkZXN0cm95ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHJlc291cmNlIGlzIGNyZWF0ZWQgYnkgQmFzZVRleHR1cmVcbiAgICAgICAgICogdXNlZnVsIGZvciBkb2luZyBjbGVhbnVwIHdpdGggQmFzZVRleHR1cmUgZGVzdHJveVxuICAgICAgICAgKiBhbmQgbm90IGNsZWFuaW5nIHVwIHJlc291cmNlcyB0aGF0IHdlcmUgY3JlYXRlZFxuICAgICAgICAgKiBleHRlcm5hbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVybmFsID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgcmVzaXplIGV2ZW50c1xuICAgICAgICAgKiBhY2NlcHRzIDIgcGFyYW1ldGVyczogd2lkdGgsIGhlaWdodFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUmVzaXplID0gbmV3IFJ1bm5lcignc2V0UmVhbFNpemUnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyB1cGRhdGUgZXZlbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25VcGRhdGUgPSBuZXcgUnVubmVyKCd1cGRhdGUnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBpbnRlcm5hbCBlcnJvcnMsIHN1Y2ggYXMgbG9hZGluZyBlcnJvcnNcbiAgICAgICAgICogYWNjZXB0cyAxIHBhcmFtOiBlcnJvclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgUnVubmVyKCdvbkVycm9yJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMub25SZXNpemUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgLy8gQ2FsbCBhIHJlc2l6ZSBpbW1lZGlhdGUgaWYgd2UgYWxyZWFkeVxuICAgICAgICAvLyBoYXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5fd2lkdGggfHwgdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLmVtaXQodGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuYmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMub25VcGRhdGUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGEgcmVzaXplIGV2ZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gWCBkaW1lbnNpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gWSBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLl93aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUuZW1pdCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc291cmNlLnByb3RvdHlwZSwgXCJ2YWxpZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXMgYmVlbiB2YWxpZGF0ZWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFzIGJlZW4gdXBkYXRlZCB0cmlnZ2VyIGV2ZW50XG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZS5lbWl0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gdG8gc3RhcnQgcHJlbG9hZGluZyBhIHJlc291cmNlXG4gICAgICogb3IgZG8gYW55IG90aGVyIHByZXBhcmUgc3RlcC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc291cmNlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb3VyY2UucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUsIG9wdGlvbmFsIHRvIG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLnN0eWxlID0gZnVuY3Rpb24gKF9yZW5kZXJlciwgX2Jhc2VUZXh0dXJlLCBfZ2xUZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFueXRoaW5nLCB0aGlzIGhhcHBlbnMgd2hlbiBkZXN0cm95aW5nIGlzIHJlYWR5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBvdmVycmlkZVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbCB3aGVuIGRlc3Ryb3lpbmcgcmVzb3VyY2UsIHVuYmluZCBhbnkgQmFzZVRleHR1cmUgb2JqZWN0XG4gICAgICogYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QsIGFzIHJlZmVyZW5jZSBjb3VudHMgYXJlIG1haW50YWluZWRcbiAgICAgKiBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvci5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25FcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFic3RyYWN0LCB1c2VkIHRvIGF1dG8tZGV0ZWN0IHJlc291cmNlIHR5cGVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKi9cbiAgICBSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKF9zb3VyY2UsIF9leHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc291cmNlO1xufSgpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFNoYXJlZEFycmF5QnVmZmVyXG4gKi9cbi8qKlxuICogQnVmZmVyIHJlc291cmNlIHdpdGggZGF0YSBvZiB0eXBlZCBhcnJheS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgQnVmZmVyUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJ1ZmZlclJlc291cmNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl8VWludDMyQXJyYXl9IHNvdXJjZSAtIFNvdXJjZSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy53aWR0aCAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnVmZmVyUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlclJlc291cmNlIHdpZHRoIG9yIGhlaWdodCBpbnZhbGlkJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGFycmF5XG4gICAgICAgICAqIENhbm5vdCBiZSBDbGFtcGVkVWludDhBcnJheSBiZWNhdXNlIGl0IGNhbnQgYmUgdXBsb2FkZWQgdG8gV2ViR0xcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl8VWludDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kYXRhID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLKTtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gYmFzZVRleHR1cmUud2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gYmFzZVRleHR1cmUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgMCwgMCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCB0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBnbFRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgPGNhbnZhcz5cbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5XG4gICAgICAgICAgICB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5XG4gICAgICAgICAgICB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50MzJBcnJheTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxudmFyIGRlZmF1bHRCdWZmZXJPcHRpb25zID0ge1xuICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICBmb3JtYXQ6IEZPUk1BVFMuUkdCQSxcbiAgICBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5QTSxcbn07XG4vKipcbiAqIEEgVGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZS5cbiAqIEFsbCB0ZXh0dXJlcyBoYXZlIGEgYmFzZSB0ZXh0dXJlLCB3aGljaCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc291cmNlLlxuICogVGhlcmVmb3JlIHlvdSBjYW4gaGF2ZSBtYW55IHRleHR1cmVzIGFsbCB1c2luZyBhIHNpbmdsZSBCYXNlVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtyZXNvdXJjZT1udWxsXVxuICogICAgICAgIFRoZSBjdXJyZW50IHJlc291cmNlIHRvIHVzZSwgZm9yIHRoaW5ncyB0aGF0IGFyZW4ndCBSZXNvdXJjZSBvYmplY3RzLCB3aWxsIGJlIGNvbnZlcnRlZFxuICogICAgICAgIGludG8gYSBSZXNvdXJjZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBDb2xsZWN0aW9uIG9mIG9wdGlvbnNcbiAqIEBwYXJhbSB7UElYSS5NSVBNQVBfTU9ERVN9IFtvcHRpb25zLm1pcG1hcD1QSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU10gLSBJZiBtaXBtYXBwaW5nIGlzIGVuYWJsZWQgZm9yIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbmlzb3Ryb3BpY0xldmVsPVBJWEkuc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUxdIC0gQW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVcbiAqIEBwYXJhbSB7UElYSS5XUkFQX01PREVTfSBbb3B0aW9ucy53cmFwTW9kZT1QSVhJLnNldHRpbmdzLldSQVBfTU9ERV0gLSBXcmFwIG1vZGUgZm9yIHRleHR1cmVzXG4gKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFtvcHRpb25zLnNjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gRGVmYXVsdCBzY2FsZSBtb2RlLCBsaW5lYXIsIG5lYXJlc3RcbiAqIEBwYXJhbSB7UElYSS5GT1JNQVRTfSBbb3B0aW9ucy5mb3JtYXQ9UElYSS5GT1JNQVRTLlJHQkFdIC0gR0wgZm9ybWF0IHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UWVBFU30gW29wdGlvbnMudHlwZT1QSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVdIC0gR0wgZGF0YSB0eXBlXG4gKiBAcGFyYW0ge1BJWEkuVEFSR0VUU30gW29wdGlvbnMudGFyZ2V0PVBJWEkuVEFSR0VUUy5URVhUVVJFXzJEXSAtIEdMIHRleHR1cmUgdGFyZ2V0XG4gKiBAcGFyYW0ge1BJWEkuQUxQSEFfTU9ERVN9IFtvcHRpb25zLmFscGhhTW9kZT1QSVhJLkFMUEhBX01PREVTLlVOUEFDS10gLSBQcmUgbXVsdGlwbHkgdGhlIGltYWdlIGFscGhhXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MF0gLSBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0wXSAtIEhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb25dIC0gUmVzb2x1dGlvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMucmVzb3VyY2VPcHRpb25zXSAtIE9wdGlvbmFsIHJlc291cmNlIG9wdGlvbnMsXG4gKiAgICAgICAgc2VlIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2UgYXV0b0RldGVjdFJlc291cmNlfVxuICovXG52YXIgQmFzZVRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VUZXh0dXJlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhc2VUZXh0dXJlKHJlc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChyZXNvdXJjZSA9PT0gdm9pZCAwKSB7IHJlc291cmNlID0gbnVsbDsgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgYWxwaGFNb2RlID0gb3B0aW9ucy5hbHBoYU1vZGUsIG1pcG1hcCA9IG9wdGlvbnMubWlwbWFwLCBhbmlzb3Ryb3BpY0xldmVsID0gb3B0aW9ucy5hbmlzb3Ryb3BpY0xldmVsLCBzY2FsZU1vZGUgPSBvcHRpb25zLnNjYWxlTW9kZSwgd2lkdGggPSBvcHRpb25zLndpZHRoLCBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCwgd3JhcE1vZGUgPSBvcHRpb25zLndyYXBNb2RlLCBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdCwgdHlwZSA9IG9wdGlvbnMudHlwZSwgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQsIHJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24sIHJlc291cmNlT3B0aW9ucyA9IG9wdGlvbnMucmVzb3VyY2VPcHRpb25zO1xuICAgICAgICAvLyBDb252ZXJ0IHRoZSByZXNvdXJjZSB0byBhIFJlc291cmNlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UgJiYgIShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlc291cmNlKSkge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSBhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2UsIHJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53aWR0aCA9IHdpZHRoIHx8IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhlaWdodCA9IGhlaWdodCB8fCAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaXBtYXAgbW9kZSBvZiB0aGUgdGV4dHVyZSwgYWZmZWN0cyBkb3duc2NhbGVkIGltYWdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1JUE1BUF9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1pcG1hcCA9IG1pcG1hcCAhPT0gdW5kZWZpbmVkID8gbWlwbWFwIDogc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbmlzb3Ryb3BpY0xldmVsID0gYW5pc290cm9waWNMZXZlbCAhPT0gdW5kZWZpbmVkID8gYW5pc290cm9waWNMZXZlbCA6IHNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMO1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IHRoZSB0ZXh0dXJlIHdyYXBzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndyYXBNb2RlID0gd3JhcE1vZGUgfHwgc2V0dGluZ3MuV1JBUF9NT0RFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIG1vZGUgdG8gYXBwbHkgd2hlbiBzY2FsaW5nIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlNDQUxFX01PREVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkID8gc2NhbGVNb2RlIDogc2V0dGluZ3MuU0NBTEVfTU9ERTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXhlbCBmb3JtYXQgb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GT1JNQVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkZPUk1BVFMuUkdCQVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZm9ybWF0ID0gZm9ybWF0IHx8IEZPUk1BVFMuUkdCQTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHJlc291cmNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UWVBFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UWVBFUy5VTlNJR05FRF9CWVRFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50eXBlID0gdHlwZSB8fCBUWVBFUy5VTlNJR05FRF9CWVRFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRhcmdldCB0eXBlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVEFSR0VUU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UQVJHRVRTLlRFWFRVUkVfMkRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRhcmdldCA9IHRhcmdldCB8fCBUQVJHRVRTLlRFWFRVUkVfMkQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdG8gdHJlYXQgcHJlbXVsdGlwbGllZCBhbHBoYSwgc2VlIHtAbGluayBQSVhJLkFMUEhBX01PREVTfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BTFBIQV9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5BTFBIQV9NT0RFUy5VTlBBQ0tcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFscGhhTW9kZSA9IGFscGhhTW9kZSAhPT0gdW5kZWZpbmVkID8gYWxwaGFNb2RlIDogQUxQSEFfTU9ERVMuVU5QQUNLO1xuICAgICAgICBpZiAob3B0aW9ucy5wcmVtdWx0aXBseUFscGhhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHRyaWdnZXJzIGRlcHJlY2F0aW9uXG4gICAgICAgICAgICBfdGhpcy5wcmVtdWx0aXBseUFscGhhID0gb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51aWQgPSB1aWQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgYXV0b21hdGljIHRleHR1cmUgR2FyYmFnZSBDb2xsZWN0aW9uLCBzdG9yZXMgbGFzdCBHQyB0aWNrIHdoZW4gaXQgd2FzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudG91Y2hlZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgdGV4dHVyZSBpcyBhIHBvd2VyIG9mIHR3bywgdHJ5IHRvIHVzZSBwb3dlciBvZiB0d28gdGV4dHVyZXMgYXMgbXVjaFxuICAgICAgICAgKiBhcyB5b3UgY2FuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNQb3dlck9mVHdvID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIG9mIHJlbmRlciBjb250ZXh0IHRleHR1cmVzIHdoZXJlIHRoaXMgaXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dsVGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgVGV4dHVyZVN5c3RlbSB0byBvbmx5IHVwZGF0ZSB0ZXh0dXJlIHRvIHRoZSBHUFUgd2hlbiBuZWVkZWQuXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGUoKWAgdG8gaW5jcmVtZW50IGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSBzdHlsZSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eVN0eWxlSWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudGx5IGRlZmF1bHQgY2FjaGUgSUQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlSWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2VuZXJhbGx5IHNwZWFraW5nIG1lYW5zIHdoZW4gcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBhbHRlcm5hdGl2ZSBjYWNoZSBpZHMsIHNpbmNlIHNvbWUgQmFzZVRleHR1cmVzXG4gICAgICAgICAqIGNhbiBoYXZlIG1vcmUgdGhhbiBvbmUgSUQsIHNob3J0IG5hbWUgYW5kIGxvbmdlciBmdWxsIFVSTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiBCYXNlVGV4dHVyZSBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2UgdXNlZCBieSB0aGlzIEJhc2VUZXh0dXJlLCB0aGVyZSBjYW4gb25seVxuICAgICAgICAgKiBiZSBvbmUgcmVzb3VyY2UgcGVyIEJhc2VUZXh0dXJlLCBidXQgdGV4dHVyZXMgY2FuIHNoYXJlXG4gICAgICAgICAqIHJlc291cmNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9iYXRjaEVuYWJsZWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9jYXRpb24gaW5zaWRlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoTG9jYXRpb24gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBpdHMgYSBwYXJ0IG9mIGFub3RoZXIgdGV4dHVyZSwgaGFuZGxlZCBieSBBcnJheVJlc291cmNlIG9yIEN1YmVSZXNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFyZW50VGV4dHVyZUFycmF5ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmYWlscyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Vycm9yXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBlcnJvcmVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gTG9hZCBlcnJvciBldmVudC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gU2V0IHRoZSByZXNvdXJjZVxuICAgICAgICBfdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VUZXh0dXJlLnByb3RvdHlwZSwgXCJyZWFsV2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUGl4ZWwgd2lkdGggb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlVGV4dHVyZS5wcm90b3R5cGUsIFwicmVhbEhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQaXhlbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pIC0gMWUtNCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHN0eWxlIG9wdGlvbnMgb2YgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW3NjYWxlTW9kZV0gLSBQaXhpIHNjYWxlbW9kZVxuICAgICAqIEBwYXJhbSB7UElYSS5NSVBNQVBfTU9ERVN9IFttaXBtYXBdIC0gZW5hYmxlIG1pcG1hcHNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChzY2FsZU1vZGUsIG1pcG1hcCkge1xuICAgICAgICB2YXIgZGlydHk7XG4gICAgICAgIGlmIChzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCAmJiBzY2FsZU1vZGUgIT09IHRoaXMuc2NhbGVNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZTtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWlwbWFwICE9PSB1bmRlZmluZWQgJiYgbWlwbWFwICE9PSB0aGlzLm1pcG1hcCkge1xuICAgICAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXA7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB3L2gvcmVzb2x1dGlvbi4gVGV4dHVyZSBiZWNvbWVzIHZhbGlkIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGdyZWF0ZXIgdGhhbiB6ZXJvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVmlzdWFsIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFZpc3VhbCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIC0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgcmVhbCBzaXplIG9mIGJhc2VUZXh0dXJlLCBwcmVzZXJ2ZXMgY3VycmVudCByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxXaWR0aCAtIEZ1bGwgcmVuZGVyZWQgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCAtIEZ1bGwgcmVuZGVyZWQgaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSAtIE9wdGlvbmFsbHkgc2V0IHJlc29sdXRpb25cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZWFsU2l6ZSA9IGZ1bmN0aW9uIChyZWFsV2lkdGgsIHJlYWxIZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSByZWFsV2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggY2hlY2sgZm9yIGlzUG93ZXJPZlR3byB0ZXh0dXJlIGJhc2VkIG9uIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9yZWZyZXNoUE9UID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzUG93ZXJPZlR3byA9IGlzUG93Mih0aGlzLnJlYWxXaWR0aCkgJiYgaXNQb3cyKHRoaXMucmVhbEhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHJlc29sdXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gcmVzXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBvbGRSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBpZiAob2xkUmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZXNvdXJjZSBpZiBpdCB3YXNuJ3Qgc2V0LiBUaHJvd3MgZXJyb3IgaWYgcmVzb3VyY2UgYWxyZWFkeSBwcmVzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSByZXNvdXJjZSAtIHRoYXQgaXMgbWFuYWdpbmcgdGhpcyBCYXNlVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlc291cmNlID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlID09PSByZXNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgY2FuIGJlIHNldCBvbmx5IG9uY2UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvdXJjZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52YWxpZGF0ZXMgdGhlIG9iamVjdC4gVGV4dHVyZSBiZWNvbWVzIHZhbGlkIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGdyZWF0ZXIgdGhhbiB6ZXJvLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPiAwICYmIHRoaXMuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBlcnJvcnMgd2l0aCByZXNvdXJjZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gRXJyb3IgZXZlbnQgZW1pdHRlZC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcywgZXZlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBiYXNlIHRleHR1cmUuXG4gICAgICogVGhlIG1ldGhvZCBzdG9wcyBpZiByZXNvdXJjZSBkb2Vzbid0IHdhbnQgdGhpcyB0ZXh0dXJlIHRvIGJlIGRlc3Ryb3llZC5cbiAgICAgKiBSZW1vdmVzIHRleHR1cmUgZnJvbSBhbGwgY2FjaGVzLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyByZW1vdmUgYW5kIGRlc3Ryb3kgdGhlIHJlc291cmNlXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlLnVuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIC8vIG9ubHkgZGVzdHJveSByZXNvdXJjZWQgY3JlYXRlZCBpbnRlcm5hbGx5XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZS5pbnRlcm5hbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FjaGVJZCkge1xuICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmluYWxseSBsZXQgdGhlIFdlYkdMIHJlbmRlcmVyIGtub3cuLlxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0wgbWVtb3J5IHdpdGhvdXQgZGVzdHJveWluZyB0aGlzIHRleHR1cmUgb2JqZWN0LlxuICAgICAqIFRoaXMgbWVhbnMgeW91IGNhbiBzdGlsbCB1c2UgdGhlIHRleHR1cmUgbGF0ZXIgd2hpY2ggd2lsbCB1cGxvYWQgaXQgdG8gR1BVXG4gICAgICogbWVtb3J5IGFnYWluLlxuICAgICAqXG4gICAgICogQGZpcmVzIFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc3Bvc2UnLCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIEJhc2VUZXh0dXJlfFRleHR1cmUgY2FzdFxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5jYXN0VG9CYXNlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBpbWFnZSB1cmwsIGltYWdlIGVsZW1lbnQsIGNhbnZhcyBlbGVtZW50LiBJZiB0aGVcbiAgICAgKiBzb3VyY2UgaXMgYW4gaW1hZ2UgdXJsIG9yIGFuIGltYWdlIGVsZW1lbnQgYW5kIG5vdCBpbiB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogY2FjaGUsIGl0IHdpbGwgYmUgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8U1ZHRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBUaGVcbiAgICAgKiAgICAgICAgc291cmNlIHRvIGNyZWF0ZSBiYXNlIHRleHR1cmUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHJpY3RdIC0gRW5mb3JjZSBzdHJpY3QtbW9kZSwgc2VlIHtAbGluayBQSVhJLnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFfS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIG5ldyBiYXNlIHRleHR1cmUuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMsIHN0cmljdCkge1xuICAgICAgICBpZiAoc3RyaWN0ID09PSB2b2lkIDApIHsgc3RyaWN0ID0gc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEU7IH1cbiAgICAgICAgdmFyIGlzRnJhbWUgPSB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIGNhY2hlSWQgPSBudWxsO1xuICAgICAgICBpZiAoaXNGcmFtZSkge1xuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IFwicGl4aWlkX1wiICsgdWlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gQmFzZVRleHR1cmVDYWNoZVtjYWNoZUlkXTtcbiAgICAgICAgLy8gU3RyaWN0LW1vZGUgcmVqZWN0cyBpbnZhbGlkIGNhY2hlSWRzXG4gICAgICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBjYWNoZUlkIFxcXCJcIiArIGNhY2hlSWQgKyBcIlxcXCIgZG9lcyBub3QgZXhpc3QgaW4gQmFzZVRleHR1cmVDYWNoZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmNhY2hlSWQgPSBjYWNoZUlkO1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhc2VUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciAtIFRoZSBvcHRpb25hbCBhcnJheSB0byB1c2UsIGlmIG5vIGRhdGFcbiAgICAgKiAgICAgICAgaXMgcHJvdmlkZWQsIGEgbmV3IEZsb2F0MzJBcnJheSBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuICAgICAgICBidWZmZXIgPSBidWZmZXIgfHwgbmV3IEZsb2F0MzJBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgQnVmZmVyUmVzb3VyY2UoYnVmZmVyLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgICAgIHZhciB0eXBlID0gYnVmZmVyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5ID8gVFlQRVMuRkxPQVQgOiBUWVBFUy5VTlNJR05FRF9CWVRFO1xuICAgICAgICByZXR1cm4gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKGRlZmF1bHRCdWZmZXJPcHRpb25zLCBvcHRpb25zIHx8IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgdHlwZTogdHlwZSB9KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgQmFzZVRleHR1cmUgdG8gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgQmFzZVRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgQmFzZVRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlLCBpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEJhc2VUZXh0dXJlQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJCYXNlVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtpZF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgQmFzZVRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBpZCBvZiBhIEJhc2VUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgQmFzZVRleHR1cmUgaW5zdGFuY2UgaXRzZWxmLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV8bnVsbH0gVGhlIEJhc2VUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZVRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVGcm9tQ2FjaGUgPSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZUZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYXNlVGV4dHVyZSAmJiBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2xvYmFsIG51bWJlciBvZiB0aGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSAwO1xuICAgIHJldHVybiBCYXNlVGV4dHVyZTtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdGhhdCBjYW4gbWFuYWdlIHNldmVyYWwgcmVzb3VyY2UgKGl0ZW1zKSBpbnNpZGUuXG4gKiBBbGwgcmVzb3VyY2VzIG5lZWQgdG8gaGF2ZSB0aGUgc2FtZSBwaXhlbCBzaXplLlxuICogUGFyZW50IGNsYXNzIGZvciBDdWJlUmVzb3VyY2UgYW5kIEFycmF5UmVzb3VyY2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBmb3IgUmVzb3VyY2UgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICovXG52YXIgQWJzdHJhY3RNdWx0aVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdE11bHRpUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdWx0aVJlc291cmNlKGxlbmd0aCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcGFydGlhbCBiYXNlVGV4dHVyZXMgdGhhdCBjb3JyZXNwb25kIHRvIHJlc291cmNlc1xuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJhc2VUZXh0dXJlPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pdGVtcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlydHkgSURzIGZvciBlYWNoIHBhcnRcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pdGVtRGlydHlJZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcnRUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG4gICAgICAgICAgICBfdGhpcy5pdGVtcy5wdXNoKHBhcnRUZXh0dXJlKTtcbiAgICAgICAgICAgIC8vIC0yIC0gZmlyc3QgcnVuIG9mIHRleHR1cmUgYXJyYXkgdXBsb2FkXG4gICAgICAgICAgICAvLyAtMSAtIHRleHR1cmUgaXRlbSB3YXMgYWxsb2NhdGVkXG4gICAgICAgICAgICAvLyA+PTAgLSB0ZXh0dXJlIGl0ZW0gdXBsb2FkZWQgLCBpbiBzeW5jIHdpdGggaXRlbXNbaV0uZGlydHlJZFxuICAgICAgICAgICAgX3RoaXMuaXRlbURpcnR5SWRzLnB1c2goLTIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgZWxlbWVudHMgaW4gYXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIGJhc2VUZXh0dXJlLCB0aGVyZSBjYW4gb25seSBiZSBvbmVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1c2VkIGZyb20gQXJyYXlSZXNvdXJjZSBhbmQgQ3ViZVJlc291cmNlIGNvbnN0cnVjdG9yc1xuICAgICAqIEBwYXJhbSB7QXJyYXk8Kj59IHJlc291cmNlcyAtIENhbiBiZSByZXNvdXJjZXMsIGltYWdlIGVsZW1lbnRzLCBjYW52YXMsIGV0Yy4gLFxuICAgICAqICBsZW5ndGggc2hvdWxkIGJlIHNhbWUgYXMgY29uc3RydWN0b3IgbGVuZ3RoXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIGRldGVjdCBvcHRpb25zIGZvciByZXNvdXJjZXNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5pbml0RnJvbUFycmF5ID0gZnVuY3Rpb24gKHJlc291cmNlcywgb3B0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghcmVzb3VyY2VzW2ldKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzW2ldLmNhc3RUb0Jhc2VUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCYXNlVGV4dHVyZUF0KHJlc291cmNlc1tpXS5jYXN0VG9CYXNlVGV4dHVyZSgpLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc291cmNlc1tpXSBpbnN0YW5jZW9mIFJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KHJlc291cmNlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQoYXV0b0RldGVjdFJlc291cmNlKHJlc291cmNlc1tpXSwgb3B0aW9ucyksIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoaXMgQmFzZUltYWdlUmVzb3VyY2VcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBhIHJlc291cmNlIGJ5IElEXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFplcm8tYmFzZWQgaW5kZXggb2YgcmVzb3VyY2UgdG8gc2V0XG4gICAgICogQHJldHVybiB7UElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZX0gSW5zdGFuY2UgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5hZGRSZXNvdXJjZUF0ID0gZnVuY3Rpb24gKHJlc291cmNlLCBpbmRleCkge1xuICAgICAgICBpZiAoIXRoaXMuaXRlbXNbaW5kZXhdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbmhlcml0IHRoZSBmaXJzdCByZXNvdXJjZSBkaW1lbnNpb25zXG4gICAgICAgIGlmIChyZXNvdXJjZS52YWxpZCAmJiAhdGhpcy52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUocmVzb3VyY2Uud2lkdGgsIHJlc291cmNlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0uc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgb25lIGJhc2UgdGV4dHVyZSBwZXIgVGV4dHVyZUFycmF5IGlzIGFsbG93ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5wYXJlbnRUZXh0dXJlQXJyYXkgPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub24oJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnNldCB0aGUgcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5wYXJlbnRUZXh0dXJlQXJyYXkgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5vZmYoJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkIGFsbCB0aGUgcmVzb3VyY2VzIHNpbXVsdGFuZW91c2x5XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gV2hlbiBsb2FkIGlzIHJlc29sdmVkXG4gICAgICovXG4gICAgQWJzdHJhY3RNdWx0aVJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc291cmNlcyA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnJlc291cmNlOyB9KS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW07IH0pO1xuICAgICAgICAvLyBUT0RPOiBhbHNvIGltcGxlbWVudCBsb2FkIHBhcnQtYnktcGFydCBzdHJhdGVneVxuICAgICAgICB2YXIgcHJvbWlzZXMgPSByZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLmxvYWQoKTsgfSk7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLml0ZW1zWzBdLCByZWFsV2lkdGggPSBfYS5yZWFsV2lkdGgsIHJlYWxIZWlnaHQgPSBfYS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgX3RoaXMucmVzaXplKHJlYWxXaWR0aCwgcmVhbEhlaWdodCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF90aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0TXVsdGlSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBBIHJlc291cmNlIHRoYXQgY29udGFpbnMgYSBudW1iZXIgb2Ygc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7bnVtYmVyfEFycmF5PCo+fSBzb3VyY2UgLSBOdW1iZXIgb2YgaXRlbXMgaW4gYXJyYXkgb3IgdGhlIGNvbGxlY3Rpb25cbiAqICAgICAgICBvZiBpbWFnZSBVUkxzIHRvIHVzZS4gQ2FuIGFsc28gYmUgcmVzb3VyY2VzLCBpbWFnZSBlbGVtZW50cywgY2FudmFzLCBldGMuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byBhcHBseSB0byB7QGxpbmsgUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlfVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gKi9cbnZhciBBcnJheVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBcnJheVJlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFycmF5UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdmFyIHVybHM7XG4gICAgICAgIHZhciBsZW5ndGg7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHVybHMgPSBzb3VyY2U7XG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGVuZ3RoLCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSkgfHwgdGhpcztcbiAgICAgICAgaWYgKHVybHMpIHtcbiAgICAgICAgICAgIF90aGlzLmluaXRGcm9tQXJyYXkodXJscywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBiYXNlVGV4dHVyZSBieSBJRCxcbiAgICAgKiBBcnJheVJlc291cmNlIGp1c3QgdGFrZXMgcmVzb3VyY2UgZnJvbSBpdCwgbm90aGluZyBtb3JlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlfSBJbnN0YW5jZSBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5hZGRCYXNlVGV4dHVyZUF0ID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlLCBpbmRleCkge1xuICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChiYXNlVGV4dHVyZS5yZXNvdXJjZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnJheVJlc291cmNlIGRvZXMgbm90IHN1cHBvcnQgUmVuZGVyVGV4dHVyZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmdcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoYmFzZVRleHR1cmUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfMkRfQVJSQVk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlcyB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciB0ZXh0dXJlIHdhcyB1cGxvYWRlZFxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGxlbmd0aCA9IF9hLmxlbmd0aCwgaXRlbURpcnR5SWRzID0gX2EuaXRlbURpcnR5SWRzLCBpdGVtcyA9IF9hLml0ZW1zO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkIDwgMCkge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UzRChnbC5URVhUVVJFXzJEX0FSUkFZLCAwLCB0ZXh0dXJlLmZvcm1hdCwgdGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCwgbGVuZ3RoLCAwLCB0ZXh0dXJlLmZvcm1hdCwgdGV4dHVyZS50eXBlLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKGl0ZW1EaXJ0eUlkc1tpXSA8IGl0ZW0uZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGl0ZW1EaXJ0eUlkc1tpXSA9IGl0ZW0uZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTNEKGdsLlRFWFRVUkVfMkRfQVJSQVksIDAsIDAsIC8vIHhvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgMCwgLy8geW9mZnNldFxuICAgICAgICAgICAgICAgICAgICBpLCAvLyB6b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2Uud2lkdGgsIGl0ZW0ucmVzb3VyY2UuaGVpZ2h0LCAxLCB0ZXh0dXJlLmZvcm1hdCwgdGV4dHVyZS50eXBlLCBpdGVtLnJlc291cmNlLnNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIEFycmF5UmVzb3VyY2U7XG59KEFic3RyYWN0TXVsdGlSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEJhc2UgZm9yIGFsbCB0aGUgaW1hZ2UvY2FudmFzIHJlc291cmNlc1xuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBCYXNlSW1hZ2VSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZUltYWdlUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH0gc291cmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFzZUltYWdlUmVzb3VyY2Uoc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzb3VyY2VBbnkgPSBzb3VyY2U7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZUFueS5uYXR1cmFsV2lkdGggfHwgc291cmNlQW55LnZpZGVvV2lkdGggfHwgc291cmNlQW55LndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlQW55Lm5hdHVyYWxIZWlnaHQgfHwgc291cmNlQW55LnZpZGVvSGVpZ2h0IHx8IHNvdXJjZUFueS5oZWlnaHQ7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2UgZWxlbWVudFxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gYHRydWVgLCB3aWxsIGZvcmNlIGB0ZXhJbWFnZTJEYCBvdmVyIGB0ZXhTdWJJbWFnZTJEYCBmb3IgdXBsb2FkaW5nLlxuICAgICAgICAgKiBDZXJ0YWluIHR5cGVzIG9mIG1lZGlhIChlLmcuIHZpZGVvKSB1c2luZyBgdGV4SW1hZ2UyRGAgaXMgbW9yZSBwZXJmb3JtYW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubm9TdWJJbWFnZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBjcm9zcyBvcmlnaW4gYmFzZWQgZGV0ZWN0aW5nIHRoZSB1cmwgYW5kIHRoZSBjcm9zc29yaWdpblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSBjcm9zc09yaWdpblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBbY3Jvc3NvcmlnaW49dHJ1ZV0gLSBDcm9zcyBvcmlnaW4gdmFsdWUgdG8gdXNlXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiAoZWxlbWVudCwgdXJsLCBjcm9zc29yaWdpbikge1xuICAgICAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCAmJiB1cmwuaW5kZXhPZignZGF0YTonKSAhPT0gMCkge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IGRldGVybWluZUNyb3NzT3JpZ2luKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3Jvc3NvcmlnaW4gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gdHlwZW9mIGNyb3Nzb3JpZ2luID09PSAnc3RyaW5nJyA/IGNyb3Nzb3JpZ2luIDogJ2Fub255bW91cyc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IFtzb3VyY2VdIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgc291cmNlKSB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgd2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICBzb3VyY2UgPSBzb3VyY2UgfHwgdGhpcy5zb3VyY2U7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuICAgICAgICBpZiAoIXRoaXMubm9TdWJJbWFnZVxuICAgICAgICAgICAgJiYgYmFzZVRleHR1cmUudGFyZ2V0ID09PSBnbC5URVhUVVJFXzJEXG4gICAgICAgICAgICAmJiBnbFRleHR1cmUud2lkdGggPT09IHdpZHRoXG4gICAgICAgICAgICAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHNvdXJjZSB3aWR0aC9oZWlnaHQgd2FzIGNoYW5nZWQsIHJlc2l6ZSBjYW4gY2F1c2UgZXh0cmEgYmFzZVRleHR1cmUgdXBkYXRlLlxuICAgICAqIFRyaWdnZXJzIG9uZSB1cGRhdGUgaW4gYW55IGNhc2UuXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UubmF0dXJhbFdpZHRoIHx8IHNvdXJjZS52aWRlb1dpZHRoIHx8IHNvdXJjZS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHNvdXJjZS52aWRlb0hlaWdodCB8fCBzb3VyY2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZUltYWdlUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBPZmZzY3JlZW5DYW52YXNcbiAqL1xuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MQ2FudmFzRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gQ2FudmFzIGVsZW1lbnQgdG8gdXNlXG4gKi9cbnZhciBDYW52YXNSZXNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FudmFzUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2FudmFzUmVzb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fE9mZnNjcmVlbkNhbnZhc30gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgc291cmNlIGlzIEhUTUxDYW52YXNFbGVtZW50IG9yIE9mZnNjcmVlbkNhbnZhc1xuICAgICAqL1xuICAgIENhbnZhc1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHZhciBPZmZzY3JlZW5DYW52YXMgPSB3aW5kb3cuT2Zmc2NyZWVuQ2FudmFzO1xuICAgICAgICAvLyBDaGVjayBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCB5ZXQgc3VwcG9ydCBPZmZzY3JlZW5DYW52YXNcbiAgICAgICAgaWYgKE9mZnNjcmVlbkNhbnZhcyAmJiBzb3VyY2UgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICB9O1xuICAgIHJldHVybiBDYW52YXNSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSBmb3IgYSBDdWJlVGV4dHVyZSB3aGljaCBjb250YWlucyBzaXggcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xQSVhJLnJlc291cmNlcy5SZXNvdXJjZT59IFtzb3VyY2VdIC0gQ29sbGVjdGlvbiBvZiBVUkxzIG9yIHJlc291cmNlc1xuICogICAgICAgIHRvIHVzZSBhcyB0aGUgc2lkZXMgb2YgdGhlIGN1YmUuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gSW1hZ2VSZXNvdXJjZSBvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBXaGV0aGVyIHRvIGF1dG8tbG9hZCByZXNvdXJjZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW5rQmFzZVRleHR1cmU9dHJ1ZV0gLSBJbiBjYXNlIEJhc2VUZXh0dXJlcyBhcmUgc3VwcGxpZWQsXG4gKiAgIHdoZXRoZXIgdG8gY29weSB0aGVtIG9yIHVzZVxuICovXG52YXIgQ3ViZVJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDdWJlUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ3ViZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zIHx8IHt9LCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQsIGF1dG9Mb2FkID0gX2EuYXV0b0xvYWQsIGxpbmtCYXNlVGV4dHVyZSA9IF9hLmxpbmtCYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiBzb3VyY2UubGVuZ3RoICE9PSBDdWJlUmVzb3VyY2UuU0lERVMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbGVuZ3RoLiBHb3QgXCIgKyBzb3VyY2UubGVuZ3RoICsgXCIsIGV4cGVjdGVkIDZcIik7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCA2LCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSkgfHwgdGhpcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKykge1xuICAgICAgICAgICAgX3RoaXMuaXRlbXNbaV0udGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbiBjYXNlIEJhc2VUZXh0dXJlcyBhcmUgc3VwcGxpZWQsIHdoZXRoZXIgdG8gdXNlIHNhbWUgcmVzb3VyY2Ugb3IgYmluZCBiYXNlVGV4dHVyZSBpdHNlbGZcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGlua0Jhc2VUZXh0dXJlID0gbGlua0Jhc2VUZXh0dXJlICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgX3RoaXMuaW5pdEZyb21BcnJheShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBiaW5kaW5nXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUDtcbiAgICB9O1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUuYWRkQmFzZVRleHR1cmVBdCA9IGZ1bmN0aW9uIChiYXNlVGV4dHVyZSwgaW5kZXgsIGxpbmtCYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAobGlua0Jhc2VUZXh0dXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxpbmtCYXNlVGV4dHVyZSA9IHRoaXMubGlua0Jhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pdGVtc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluZGV4IFwiICsgaW5kZXggKyBcIiBpcyBvdXQgb2YgYm91bmRzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5saW5rQmFzZVRleHR1cmVcbiAgICAgICAgICAgIHx8IGJhc2VUZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheVxuICAgICAgICAgICAgfHwgT2JqZWN0LmtleXMoYmFzZVRleHR1cmUuX2dsVGV4dHVyZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGNvcHkgbW9kZVxuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGJhc2VUZXh0dXJlLnJlc291cmNlLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDdWJlUmVzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjb3B5aW5nIG9mIHJlbmRlclRleHR1cmUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbGluayBtb2RlLCB0aGUgZGlmZmljdWx0IG9uZSFcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaW5kZXg7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5wYXJlbnRUZXh0dXJlQXJyYXkgPSB0aGlzLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFzZVRleHR1cmUudmFsaWQgJiYgIXRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLnJlYWxXaWR0aCwgYmFzZVRleHR1cmUucmVhbEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiAocmVuZGVyZXIsIF9iYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIHZhciBkaXJ0eSA9IHRoaXMuaXRlbURpcnR5SWRzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2lkZSA9IHRoaXMuaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoZGlydHlbaV0gPCBzaWRlLmRpcnR5SWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2lkZS52YWxpZCAmJiBzaWRlLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNpZGUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCBzaWRlLCBnbFRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eVtpXSA9IHNpZGUuZGlydHlJZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGlydHlbaV0gPCAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlaXRoZXIgaXRlbSBpcyBub3QgdmFsaWQgeWV0LCBlaXRoZXIgaXRzIGEgcmVuZGVyVGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvY2F0ZSB0aGUgbWVtb3J5XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdsLnRleEltYWdlMkQoc2lkZS50YXJnZXQsIDAsIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCwgX2Jhc2VUZXh0dXJlLnJlYWxXaWR0aCwgX2Jhc2VUZXh0dXJlLnJlYWxIZWlnaHQsIDAsIF9iYXNlVGV4dHVyZS5mb3JtYXQsIGdsVGV4dHVyZS50eXBlLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgZGlydHlbaV0gPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgYW4gYXJyYXkgb2YgNiBlbGVtZW50c1xuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShzb3VyY2UpICYmIHNvdXJjZS5sZW5ndGggPT09IEN1YmVSZXNvdXJjZS5TSURFUztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiB0ZXh0dXJlIHNpZGVzIHRvIHN0b3JlIGZvciBDdWJlUmVzb3VyY2VzXG4gICAgICpcbiAgICAgKiBAbmFtZSBQSVhJLnJlc291cmNlcy5DdWJlUmVzb3VyY2UuU0lERVNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDZcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UuU0lERVMgPSA2O1xuICAgIHJldHVybiBDdWJlUmVzb3VyY2U7XG59KEFic3RyYWN0TXVsdGlSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxJbWFnZUVsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIEltYWdlUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEltYWdlUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fHN0cmluZ30gc291cmNlIC0gaW1hZ2Ugc291cmNlIG9yIFVSTFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gc3RhcnQgbG9hZGluZyBwcm9jZXNzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcmVhdGVCaXRtYXA9UElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXSAtIHdoZXRoZXIgaXRzIHJlcXVpcmVkIHRvIGNyZWF0ZVxuICAgICAqICAgICAgICBhIGJpdG1hcCBiZWZvcmUgdXBsb2FkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLkFMUEhBX01PREVTfSBbb3B0aW9ucy5hbHBoYU1vZGU9UElYSS5BTFBIQV9NT0RFUy5VTlBBQ0tdIC0gUHJlbXVsdGlwbHkgaW1hZ2UgYWxwaGEgaW4gYml0bWFwXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW1hZ2VSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbihpbWFnZUVsZW1lbnQsIHNvdXJjZSwgb3B0aW9ucy5jcm9zc29yaWdpbik7XG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQuc3JjID0gc291cmNlO1xuICAgICAgICAgICAgc291cmNlID0gaW1hZ2VFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzO1xuICAgICAgICAvLyBGaXJlRm94IDY4LCBhbmQgcG9zc2libHkgb3RoZXIgdmVyc2lvbnMsIHNlZW1zIGxpa2Ugc2V0dGluZyB0aGUgSFRNTEltYWdlRWxlbWVudCN3aWR0aCBhbmQgI2hlaWdodFxuICAgICAgICAvLyB0byBub24temVybyB2YWx1ZXMgYmVmb3JlIGl0cyBsb2FkaW5nIGNvbXBsZXRlcyBpZiBpbWFnZXMgYXJlIGluIGEgY2FjaGUuXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcywgbmVlZCB0byBzZXQgdGhlIGBfd2lkdGhgIGFuZCB0aGUgYF9oZWlnaHRgIHRvIHplcm8gdG8gYXZvaWQgdXBsb2FkaW5nIGluY29tcGxldGUgaW1hZ2VzLlxuICAgICAgICAvLyBQbGVhc2UgcmVmZXIgdG8gdGhlIGlzc3VlICM1OTY4IChodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5NjgpLlxuICAgICAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSAmJiAhIV90aGlzLl93aWR0aCAmJiAhIV90aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG4gICAgICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVVJMIG9mIHRoZSBpbWFnZSBzb3VyY2VcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXJsID0gc291cmNlLnNyYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcHJvY2VzcyBpcyBjb21wbGV0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBpbWFnZSBzaG91bGQgYmUgZGlzcG9zZWQgYWZ0ZXIgdXBsb2FkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcmVzZXJ2ZUJpdG1hcCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgY2FwYWJsZSwgY29udmVydCB0aGUgaW1hZ2UgdXNpbmcgY3JlYXRlSW1hZ2VCaXRtYXAgQVBJXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3JlYXRlQml0bWFwID0gKG9wdGlvbnMuY3JlYXRlQml0bWFwICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5jcmVhdGVCaXRtYXAgOiBzZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQKSAmJiAhIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRyb2xzIHRleHR1cmUgYWxwaGFNb2RlIGZpZWxkXG4gICAgICAgICAqIENvcGllcyBmcm9tIG9wdGlvbnNcbiAgICAgICAgICogRGVmYXVsdCBpcyBgbnVsbGAsIGNvcGllcyBvcHRpb24gZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFMUEhBX01PREVTfG51bGx9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGFNb2RlID0gdHlwZW9mIG9wdGlvbnMuYWxwaGFNb2RlID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuYWxwaGFNb2RlIDogbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyB0cmlnZ2VycyBkZXByZWNhdGlvblxuICAgICAgICAgICAgX3RoaXMucHJlbXVsdGlwbHlBbHBoYSA9IG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIEltYWdlQml0bWFwIGVsZW1lbnQgY3JlYXRlZCBmb3IgSFRNTEltYWdlRWxlbWVudFxuICAgICAgICAgKiBAbWVtYmVyIHtJbWFnZUJpdG1hcH1cbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgcHJvbWlzZSB3aGVuIGltYWdlIHdpbGwgYmUgbG9hZGVkIGFuZCBwcm9jZXNzZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NyZWF0ZUJpdG1hcF0gLSB3aGV0aGVyIHByb2Nlc3MgaW1hZ2UgaW50byBiaXRtYXBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKGNyZWF0ZUJpdG1hcCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IGNyZWF0ZUJpdG1hcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IF90aGlzLnNvdXJjZTtcbiAgICAgICAgICAgIF90aGlzLnVybCA9IHNvdXJjZS5zcmM7XG4gICAgICAgICAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzaXplKHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jcmVhdGVCaXRtYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy5wcm9jZXNzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuY29tcGxldGUgJiYgc291cmNlLnNyYykge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IGNvbXBsZXRlZDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdm9pZHMgUHJvbWlzZSBmcmVlemluZyB3aGVuIHJlc291cmNlIGJyb2tlblxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkVycm9yLmVtaXQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHdlIG5lZWQgdG8gY29udmVydCBpbWFnZSBpbnRvIEJpdG1hcEltYWdlLlxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHJlYWwgcHJvbWlzZSBpcyBjYWNoZWQgaW5zaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IGNhY2hlZCBwcm9taXNlIHRvIGZpbGwgdGhhdCBiaXRtYXBcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmICh0aGlzLl9wcm9jZXNzICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iaXRtYXAgIT09IG51bGwgfHwgIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm9jZXNzID0gd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKHNvdXJjZSwgMCwgMCwgc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0LCB7XG4gICAgICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB0aGlzLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLID8gJ3ByZW11bHRpcGx5JyA6ICdub25lJyxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChiaXRtYXApIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmJpdG1hcCA9IGJpdG1hcDtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgX3RoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgaW1hZ2UgcmVzb3VyY2UgdG8gR1BVLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFJlbmRlcmVyIHRvIHVwbG9hZCB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBCYXNlVGV4dHVyZSBmb3IgdGhpcyByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIEdMVGV4dHVyZSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5hbHBoYU1vZGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvLyBiaXRtYXAgc3RvcmVzIHVucGFjayBwcmVtdWx0aXBseSBmbGFnLCB3ZSBkb250IGhhdmUgdG8gbm90aWZ5IHRleEltYWdlMkQgYWJvdXQgaXRcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9IHRoaXMuYWxwaGFNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jcmVhdGVCaXRtYXApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnVwbG9hZC5jYWxsKHRoaXMsIHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYml0bWFwKSB7XG4gICAgICAgICAgICAvLyB5ZWFoLCBpZ25vcmUgdGhlIG91dHB1dFxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYml0bWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBsb2FkLmNhbGwodGhpcywgcmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHRoaXMuYml0bWFwKTtcbiAgICAgICAgaWYgKCF0aGlzLnByZXNlcnZlQml0bWFwKSB7XG4gICAgICAgICAgICAvLyBjaGVja3MgaWYgdGhlcmUgYXJlIG90aGVyIHJlbmRlcmVycyB0aGF0IHBvc3NpYmx5IG5lZWQgdGhpcyBiaXRtYXBcbiAgICAgICAgICAgIHZhciBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBnbFRleHR1cmVzID0gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZ2xUZXh0dXJlcykge1xuICAgICAgICAgICAgICAgIHZhciBvdGhlclRleCA9IGdsVGV4dHVyZXNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJUZXggIT09IGdsVGV4dHVyZSAmJiBvdGhlclRleC5kaXJ0eUlkICE9PSBiYXNlVGV4dHVyZS5kaXJ0eUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iaXRtYXAuY2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb3VyY2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5iaXRtYXApIHtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBzb3VyY2UgaXMgc3RyaW5nIG9yIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyB8fCBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50O1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgU1ZHIGVsZW1lbnRzIGFuZCBncmFwaGljcy5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSAtIEJhc2U2NCBlbmNvZGVkIFNWRyBlbGVtZW50IG9yIFVSTCBmb3IgU1ZHIGZpbGUuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZT0xXSAtIFNjYWxlIHRvIGFwcGx5IHRvIFNWRy4gT3ZlcnJpZGRlbiBieS4uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFJhc3Rlcml6ZSBTVkcgdGhpcyB3aWRlLiBBc3BlY3QgcmF0aW8gcHJlc2VydmVkIGlmIGhlaWdodCBub3Qgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBSYXN0ZXJpemUgU1ZHIHRoaXMgaGlnaC4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiB3aWR0aCBub3Qgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFN0YXJ0IGxvYWRpbmcgcmlnaHQgYXdheS5cbiAqL1xudmFyIFNWR1Jlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTVkdSZXNvdXJjZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTVkdSZXNvdXJjZShzb3VyY2VCYXNlNjQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3ZnID0gc291cmNlQmFzZTY0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBzY2FsZSB0byBhcHBseSB3aGVuIHJhc3Rlcml6aW5nIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB3aWR0aCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fb3ZlcnJpZGVXaWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGhlaWdodCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fb3ZlcnJpZGVIZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGwgd2hlbiBjb21wbGV0ZWx5IGxvYWRlZFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyb3NzIG9yaWdpbiB2YWx1ZSB0byB1c2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbnxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY3Jvc3NvcmlnaW4gPSBvcHRpb25zLmNyb3Nzb3JpZ2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xvYWQgPSBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHRoaXMgdW50aWwgYWZ0ZXIgbG9hZCBpcyBmaW5pc2hlZFxuICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLnNvdXJjZS53aWR0aCwgX3RoaXMuc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQ29udmVydCBTVkcgaW5saW5lIHN0cmluZyB0byBkYXRhLXVyaVxuICAgICAgICAgICAgaWYgKCgvXlxcPHN2Zy8pLnRlc3QoX3RoaXMuc3ZnLnRyaW0oKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJ0b2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgYmFzZTY0IGNvbnZlcnNpb25zLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5zdmcgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChfdGhpcy5zdmcpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5fbG9hZFN2ZygpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBTVkcgaW1hZ2UgZnJvbSBgaW1hZ2VVcmxgIG9yIGBkYXRhIFVSTGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5fbG9hZFN2ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRlbXBJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih0ZW1wSW1hZ2UsIHRoaXMuc3ZnLCB0aGlzLl9jcm9zc29yaWdpbik7XG4gICAgICAgIHRlbXBJbWFnZS5zcmMgPSB0aGlzLnN2ZztcbiAgICAgICAgdGVtcEltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc29sdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5vbkVycm9yLmVtaXQoZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0ZW1wSW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5fcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdmdXaWR0aCA9IHRlbXBJbWFnZS53aWR0aDtcbiAgICAgICAgICAgIHZhciBzdmdIZWlnaHQgPSB0ZW1wSW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgU1ZHIGltYWdlIG11c3QgaGF2ZSB3aWR0aCBhbmQgaGVpZ2h0IGRlZmluZWQgKGluIHBpeGVscyksIGNhbnZhcyBBUEkgbmVlZHMgdGhlbS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCByZW5kZXIgc2l6ZVxuICAgICAgICAgICAgdmFyIHdpZHRoID0gc3ZnV2lkdGggKiBfdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBzdmdIZWlnaHQgKiBfdGhpcy5zY2FsZTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fb3ZlcnJpZGVXaWR0aCB8fCBfdGhpcy5fb3ZlcnJpZGVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IF90aGlzLl9vdmVycmlkZVdpZHRoIHx8IF90aGlzLl9vdmVycmlkZUhlaWdodCAvIHN2Z0hlaWdodCAqIHN2Z1dpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IF90aGlzLl9vdmVycmlkZUhlaWdodCB8fCBfdGhpcy5fb3ZlcnJpZGVXaWR0aCAvIHN2Z1dpZHRoICogc3ZnSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gICAgICAgICAgICB2YXIgY2FudmFzID0gX3RoaXMuc291cmNlO1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgY2FudmFzLl9waXhpSWQgPSBcImNhbnZhc19cIiArIHVpZCgpO1xuICAgICAgICAgICAgLy8gRHJhdyB0aGUgU3ZnIHRvIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGNhbnZhc1xuICAgICAgICAgICAgICAgIC5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgICAgICAgICAgLmRyYXdJbWFnZSh0ZW1wSW1hZ2UsIDAsIDAsIHN2Z1dpZHRoLCBzdmdIZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUoKTtcbiAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBzaXplIGZyb20gYW4gc3ZnIHN0cmluZyB1c2luZyByZWdleHAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN2Z1N0cmluZyAtIGEgc2VyaWFsaXplZCBzdmcgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuSVNpemV9IGltYWdlIGV4dGVuc2lvblxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLmdldFNpemUgPSBmdW5jdGlvbiAoc3ZnU3RyaW5nKSB7XG4gICAgICAgIHZhciBzaXplTWF0Y2ggPSBTVkdSZXNvdXJjZS5TVkdfU0laRS5leGVjKHN2Z1N0cmluZyk7XG4gICAgICAgIHZhciBzaXplID0ge307XG4gICAgICAgIGlmIChzaXplTWF0Y2gpIHtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzFdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbM10pKTtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzVdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbN10pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UsIGV4dGVuc2lvbikge1xuICAgICAgICAvLyB1cmwgZmlsZSBleHRlbnNpb24gaXMgU1ZHXG4gICAgICAgIHJldHVybiBleHRlbnNpb24gPT09ICdzdmcnXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGRhdGEtdXJpXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgKC9eZGF0YTppbWFnZVxcL3N2Z1xcK3htbCg7KGNoYXJzZXQ9dXRmOHx1dGY4KSk/O2Jhc2U2NC8pLnRlc3Qoc291cmNlKSlcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgaW5saW5lXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgc291cmNlLmluZGV4T2YoJzxzdmcnKSA9PT0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdFeHAgZm9yIFNWRyBzaXplLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gU1ZHX1NJWkVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2VcbiAgICAgKiBAZXhhbXBsZSAmbHQ7c3ZnIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCImZ3Q7Jmx0Oy9zdmcmZ3Q7XG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UuU1ZHX1NJWkUgPSAvPHN2Z1tePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSo+L2k7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxuICAgIHJldHVybiBTVkdSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MVmlkZW9FbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR8b2JqZWN0fHN0cmluZ3xBcnJheTxzdHJpbmd8b2JqZWN0Pn0gc291cmNlIC0gVmlkZW8gZWxlbWVudCB0byB1c2UuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBTdGFydCBsb2FkaW5nIHRoZSB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFN0YXJ0IHBsYXlpbmcgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy51cGRhdGVGUFM9MF0gLSBIb3cgbWFueSB0aW1lcyBhIHNlY29uZCB0byB1cGRhdGUgdGhlIHRleHR1cmUgZnJvbSB0aGUgdmlkZW8uXG4gKiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXIuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gTG9hZCBpbWFnZSB1c2luZyBjcm9zcyBvcmlnaW5cbiAqL1xudmFyIFZpZGVvUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZpZGVvUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlkZW9SZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKSB7XG4gICAgICAgICAgICB2YXIgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgIC8vIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTk5NlxuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncHJlbG9hZCcsICdhdXRvJyk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCd3ZWJraXQtcGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IFtzb3VyY2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZpcnN0U3JjID0gc291cmNlWzBdLnNyYyB8fCBzb3VyY2VbMF07XG4gICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih2aWRlb0VsZW1lbnQsIGZpcnN0U3JjLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcbiAgICAgICAgICAgIC8vIGFycmF5IG9mIG9iamVjdHMgb3Igc3RyaW5nc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IHNvdXJjZVtpXSwgc3JjID0gX2Euc3JjLCBtaW1lID0gX2EubWltZTtcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMgfHwgc291cmNlW2ldO1xuICAgICAgICAgICAgICAgIHZhciBiYXNlU3JjID0gc3JjLnNwbGl0KCc/Jykuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHZhciBleHQgPSBiYXNlU3JjLnN1YnN0cihiYXNlU3JjLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICAgICAgICAgICAgICBtaW1lID0gbWltZSB8fCBWaWRlb1Jlc291cmNlLk1JTUVfVFlQRVNbZXh0XSB8fCBcInZpZGVvL1wiICsgZXh0O1xuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQuc3JjID0gc3JjO1xuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQudHlwZSA9IG1pbWU7XG4gICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LmFwcGVuZENoaWxkKHNvdXJjZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIHNvdXJjZVxuICAgICAgICAgICAgc291cmNlID0gdmlkZW9FbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ub1N1YkltYWdlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIHRoZSBiYXNlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhlIGluc3RhbmNlIGlzIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIHRoZSBiYXNlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX3VwZGF0ZUZQUyA9IG9wdGlvbnMudXBkYXRlRlBTIHx8IDA7XG4gICAgICAgIF90aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHNldCB0byB0cnVlIHdpbGwgYXV0b21hdGljYWxseSBwbGF5IHZpZGVvcyB1c2VkIGJ5IHRoaXMgdGV4dHVyZSBvbmNlXG4gICAgICAgICAqIHRoZXkgYXJlIGxvYWRlZC4gSWYgZmFsc2UsIGl0IHdpbGwgbm90IG1vZGlmeSB0aGUgcGxheWluZyBzdGF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1BsYXkgPSBvcHRpb25zLmF1dG9QbGF5ICE9PSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sb2FkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gY29tcGxldGVkIHdpdGggbG9hZC5cbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIC8vIEJpbmQgZm9yIGxpc3RlbmVyc1xuICAgICAgICBfdGhpcy5fb25DYW5QbGF5ID0gX3RoaXMuX29uQ2FuUGxheS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX29uRXJyb3IgPSBfdGhpcy5fb25FcnJvci5iaW5kKF90aGlzKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHVwZGF0aW5nIG9mIHRoZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbHRhVGltZT0wXSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKF9kZWx0YVRpbWUpIHtcbiAgICAgICAgaWYgKF9kZWx0YVRpbWUgPT09IHZvaWQgMCkgeyBfZGVsdGFUaW1lID0gMDsgfVxuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAvLyBhY2NvdW50IGZvciBpZiB2aWRlbyBoYXMgaGFkIGl0cyBwbGF5YmFja1JhdGUgY2hhbmdlZFxuICAgICAgICAgICAgdmFyIGVsYXBzZWRNUyA9IFRpY2tlci5zaGFyZWQuZWxhcHNlZE1TICogdGhpcy5zb3VyY2UucGxheWJhY2tSYXRlO1xuICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSBNYXRoLmZsb29yKHRoaXMuX21zVG9OZXh0VXBkYXRlIC0gZWxhcHNlZE1TKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdXBkYXRlRlBTIHx8IHRoaXMuX21zVG9OZXh0VXBkYXRlIDw9IDApIHtcbiAgICAgICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gdGhpcy5fdXBkYXRlRlBTID8gTWF0aC5mbG9vcigxMDAwIC8gdGhpcy5fdXBkYXRlRlBTKSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IHByZWxvYWRpbmcgdGhlIHZpZGVvIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IEhhbmRsZSB0aGUgdmFsaWRhdGUgZXZlbnRcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fbG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoKHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9FTk9VR0hfREFUQSB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRlVUVVJFX0RBVEEpXG4gICAgICAgICAgICAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodCkge1xuICAgICAgICAgICAgc291cmNlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIHRoaXMuX29uUGxheVN0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCB0aGlzLl9vblBsYXlTdG9wLmJpbmQodGhpcykpO1xuICAgICAgICBpZiAoIXRoaXMuX2lzU291cmNlUmVhZHkoKSkge1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBzb3VyY2UubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdmlkZW8gZXJyb3IgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IuZW1pdChldmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcGxheWluZy5cbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5faXNTb3VyY2VQbGF5aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiAoc291cmNlLmN1cnJlbnRUaW1lID4gMCAmJiBzb3VyY2UucGF1c2VkID09PSBmYWxzZSAmJiBzb3VyY2UuZW5kZWQgPT09IGZhbHNlICYmIHNvdXJjZS5yZWFkeVN0YXRlID4gMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHJlYWR5IGZvciBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlYWR5LlxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9pc1NvdXJjZVJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gMyB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIHVwZGF0ZSBsb29wIHdoZW4gdGhlIHZpZGVvIGlzIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uUGxheVN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlICYmICF0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBhdXNlIGV2ZW50IGlzIHRyaWdnZXJlZCwgc3RvcHMgdGhlIHVwZGF0ZSBsb29wXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vblBsYXlTdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uQ2FuUGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHZhciB2YWxpZCA9IHRoaXMudmFsaWQ7XG4gICAgICAgIHRoaXMucmVzaXplKHNvdXJjZS52aWRlb1dpZHRoLCBzb3VyY2UudmlkZW9IZWlnaHQpO1xuICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0aGlzLl9yZXNvbHZlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzU291cmNlUGxheWluZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9vblBsYXlTdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1BsYXkpIHtcbiAgICAgICAgICAgIHNvdXJjZS5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgICAgIHNvdXJjZS5wYXVzZSgpO1xuICAgICAgICAgICAgc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgXCJhdXRvVXBkYXRlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCB0aGUgYmFzZSB0ZXh0dXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlIGl0c2VsZiwgc2V0IHRvIHRydWUgYnkgZGVmYXVsdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciAmJiB0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgXCJ1cGRhdGVGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXIuXG4gICAgICAgICAqIEEgbG93ZXIgZnBzIGNhbiBoZWxwIHBlcmZvcm1hbmNlLCBhcyB1cGRhdGluZyB0aGUgdGV4dHVyZSBhdCA2MGZwcyBvbiBhIDMwcHMgdmlkZW8gbWF5IG5vdCBiZSBlZmZpY2llbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUZQUztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fdXBkYXRlRlBTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRlBTID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2aWRlbyBzb3VyY2VcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiAoc291cmNlLCBleHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgfHwgVmlkZW9SZXNvdXJjZS5UWVBFUy5pbmRleE9mKGV4dGVuc2lvbikgPiAtMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgY29tbW9uIHZpZGVvIGZpbGUgZXh0ZW5zaW9ucyBzdXBwb3J0ZWQgYnkgVmlkZW9SZXNvdXJjZS5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLlRZUEVTID0gWydtcDQnLCAnbTR2JywgJ3dlYm0nLCAnb2dnJywgJ29ndicsICdoMjY0JywgJ2F2aScsICdtb3YnXTtcbiAgICAvKipcbiAgICAgKiBNYXAgb2YgdmlkZW8gTUlNRSB0eXBlcyB0aGF0IGNhbid0IGJlIGRpcmVjdGx5IGRlcml2ZWQgZnJvbSBmaWxlIGV4dGVuc2lvbnMuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLk1JTUVfVFlQRVMgPSB7XG4gICAgICAgIG9ndjogJ3ZpZGVvL29nZycsXG4gICAgICAgIG1vdjogJ3ZpZGVvL3F1aWNrdGltZScsXG4gICAgICAgIG00djogJ3ZpZGVvL21wNCcsXG4gICAgfTtcbiAgICByZXR1cm4gVmlkZW9SZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBJbWFnZUJpdG1hcC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtJbWFnZUJpdG1hcH0gc291cmNlIC0gSW1hZ2UgZWxlbWVudCB0byB1c2VcbiAqL1xudmFyIEltYWdlQml0bWFwUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEltYWdlQml0bWFwUmVzb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW1hZ2VCaXRtYXBSZXNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHNvdXJjZSBpcyBhbiBJbWFnZUJpdG1hcFxuICAgICAqL1xuICAgIEltYWdlQml0bWFwUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuICEhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwICYmIHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwO1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlQml0bWFwUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbklOU1RBTExFRC5wdXNoKEltYWdlUmVzb3VyY2UsIEltYWdlQml0bWFwUmVzb3VyY2UsIENhbnZhc1Jlc291cmNlLCBWaWRlb1Jlc291cmNlLCBTVkdSZXNvdXJjZSwgQnVmZmVyUmVzb3VyY2UsIEN1YmVSZXNvdXJjZSwgQXJyYXlSZXNvdXJjZSk7XG5cbnZhciBpbmRleCA9ICh7XG4gICAgUmVzb3VyY2U6IFJlc291cmNlLFxuICAgIEJhc2VJbWFnZVJlc291cmNlOiBCYXNlSW1hZ2VSZXNvdXJjZSxcbiAgICBJTlNUQUxMRUQ6IElOU1RBTExFRCxcbiAgICBhdXRvRGV0ZWN0UmVzb3VyY2U6IGF1dG9EZXRlY3RSZXNvdXJjZSxcbiAgICBBYnN0cmFjdE11bHRpUmVzb3VyY2U6IEFic3RyYWN0TXVsdGlSZXNvdXJjZSxcbiAgICBBcnJheVJlc291cmNlOiBBcnJheVJlc291cmNlLFxuICAgIEJ1ZmZlclJlc291cmNlOiBCdWZmZXJSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZTogQ2FudmFzUmVzb3VyY2UsXG4gICAgQ3ViZVJlc291cmNlOiBDdWJlUmVzb3VyY2UsXG4gICAgSW1hZ2VSZXNvdXJjZTogSW1hZ2VSZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZTogU1ZHUmVzb3VyY2UsXG4gICAgVmlkZW9SZXNvdXJjZTogVmlkZW9SZXNvdXJjZSxcbiAgICBJbWFnZUJpdG1hcFJlc291cmNlOiBJbWFnZUJpdG1hcFJlc291cmNlXG59KTtcblxuLyoqXG4gKiBTeXN0ZW0gaXMgYSBiYXNlIGNsYXNzIHVzZWQgZm9yIGV4dGVuZGluZyBzeXN0ZW1zIHVzZWQgYnkgdGhlIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICpcbiAqIEBzZWUgUElYSS5SZW5kZXJlciNhZGRTeXN0ZW1cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cm95IG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICAgKi9cbiAgICBTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFN5c3RlbTtcbn0oKSk7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgRGVwdGhUZXh0dXJlLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBEZXB0aFJlc291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEZXB0aFJlc291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlcHRoUmVzb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIERlcHRoUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IGJhc2VUZXh0dXJlLndpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGJhc2VUZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIDAsIDAsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBcbiAgICAgICAgICAgIC8vICBnbC5ERVBUSF9DT01QT05FTlQxNiBOZWVkZWQgZm9yIGRlcHRoIHRvIHJlbmRlciBwcm9wZXJseSBpbiB3ZWJnbDIuMFxuICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDEgPyBnbC5ERVBUSF9DT01QT05FTlQgOiBnbC5ERVBUSF9DT01QT05FTlQxNiwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCB0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIERlcHRoUmVzb3VyY2U7XG59KEJ1ZmZlclJlc291cmNlKSk7XG5cbi8qKlxuICogRnJhbWUgYnVmZmVyIHVzZWQgYnkgdGhlIEJhc2VSZW5kZXJUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRnJhbWVidWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZyYW1lYnVmZmVyKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdpZHRoIG9mIGZyYW1lYnVmZmVyIGluIHBpeGVsc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoIHx8IDEwMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWlnaHQgb2YgZnJhbWVidWZmZXIgaW4gcGl4ZWxzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCB8fCAxMDApO1xuICAgICAgICB0aGlzLnN0ZW5jaWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXB0aCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgdGhpcy5kaXJ0eVNpemUgPSAwO1xuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JUZXh0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmdsRnJhbWVidWZmZXJzID0ge307XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VGcmFtZWJ1ZmZlcicpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzaXJlZCBudW1iZXIgb2Ygc2FtcGxlcyBmb3IgYW50aWFsaWFzaW5nLiAwIG1lYW5zIEFBIHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogRXhwZXJpbWVudGFsIFdlYkdMMiBmZWF0dXJlLCBhbGxvd3MgdG8gdXNlIGFudGlhbGlhc2luZyBpbiBpbmRpdmlkdWFsIHJlbmRlclRleHR1cmVzLlxuICAgICAgICAgKiBBbnRpYWxpYXNpbmcgaXMgdGhlIHNhbWUgYXMgZm9yIG1haW4gYnVmZmVyIHdpdGggcmVuZGVyZXIgYGFudGlhbGlhczp0cnVlYCBvcHRpb25zLlxuICAgICAgICAgKiBTZXJpb3VzbHkgYWZmZWN0cyBHUFUgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBHUFUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqYGBganNcbiAgICAgICAgICogcmVuZGVyVGV4dHVyZS5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA9IFBJWEkuTVNBQV9RVUFMSVRZLkhJR0g7XG4gICAgICAgICAqIC8vLi4uXG4gICAgICAgICAqIHJlbmRlcmVyLnJlbmRlcihyZW5kZXJUZXh0dXJlLCBteUNvbnRhaW5lcik7XG4gICAgICAgICAqIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJsaXQoKTsgLy8gY29waWVzIGRhdGEgZnJvbSBNU0FBIGZyYW1lYnVmZmVyIHRvIHRleHR1cmVcbiAgICAgICAgICogIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1TQUFfUVVBTElUWX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5NU0FBX1FVQUxJVFkuTk9ORVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tdWx0aXNhbXBsZSA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhbWVidWZmZXIucHJvdG90eXBlLCBcImNvbG9yVGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvbG9yVGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlc1swXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIHRvIHRoZSBjb2xvclRleHR1cmUgYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF0gLSBJbmRleCBvZiB0aGUgYXJyYXkgdG8gYWRkIHRoZSB0ZXh0dXJlIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgYXJyYXlcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuYWRkQ29sb3JUZXh0dXJlID0gZnVuY3Rpb24gKGluZGV4LCB0ZXh0dXJlKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gMDsgfVxuICAgICAgICAvLyBUT0RPIGFkZCBzb21lIHZhbGlkYXRpb24gdG8gdGhlIHRleHR1cmUgLSBzYW1lIHdpZHRoIC8gaGVpZ2h0IGV0Yz9cbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzW2luZGV4XSA9IHRleHR1cmUgfHwgbmV3IEJhc2VUZXh0dXJlKG51bGwsIHtcbiAgICAgICAgICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgICAgICBtaXBtYXA6IE1JUE1BUF9NT0RFUy5PRkYsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGRlcHRoIHRleHR1cmUgdG8gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZFxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyLnByb3RvdHlwZS5hZGREZXB0aFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gdGV4dHVyZSB8fCBuZXcgQmFzZVRleHR1cmUobmV3IERlcHRoUmVzb3VyY2UobnVsbCwgeyB3aWR0aDogdGhpcy53aWR0aCwgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KSwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1pcG1hcDogTUlQTUFQX01PREVTLk9GRixcbiAgICAgICAgICAgIGZvcm1hdDogRk9STUFUUy5ERVBUSF9DT01QT05FTlQsXG4gICAgICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9TSE9SVCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5hYmxlIGRlcHRoIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlRGVwdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVwdGggPSB0cnVlO1xuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBzdGVuY2lsIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlU3RlbmNpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGVuY2lsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSBmcmFtZSBidWZmZXIgdG8gcmVzaXplIHRvXG4gICAgICovXG4gICAgRnJhbWVidWZmZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlTaXplKys7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgLy8gdGFrZSBpbnRvIGFjb3VudCB0aGUgZmFjdCB0aGUgdGV4dHVyZSBtYXkgaGF2ZSBhIGRpZmZlcmVudCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLmRlcHRoVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLmVtaXQodGhpcywgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYW5kIHJlbW92ZXMgdGhlIGRlcHRoIHRleHR1cmUgYWRkZWQgdG8gdGhpcyBmcmFtZWJ1ZmZlci5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveURlcHRoVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVwdGhUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICArK3RoaXMuZGlydHlJZDtcbiAgICAgICAgICAgICsrdGhpcy5kaXJ0eUZvcm1hdDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEZyYW1lYnVmZmVyO1xufSgpKTtcblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVJlbmRlclRleHR1cmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VSZW5kZXJUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBvZiBzaWduYXR1cmVcbiAgICAgICAgICAgIHZhciB3aWR0aF8xID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlaWdodF8xID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IHdpZHRoXzEsIGhlaWdodDogaGVpZ2h0XzEsIHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvbHV0aW9uOiByZXNvbHV0aW9uIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbnVsbCwgb3B0aW9ucykgfHwgdGhpcztcbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucyB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgX3RoaXMubWlwbWFwID0gMDtcbiAgICAgICAgX3RoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGgpIHx8IDEwMDtcbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCkgfHwgMTAwO1xuICAgICAgICBfdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG4gICAgICAgIF90aGlzLmZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKF90aGlzLndpZHRoICogX3RoaXMucmVzb2x1dGlvbiwgX3RoaXMuaGVpZ2h0ICogX3RoaXMucmVzb2x1dGlvbilcbiAgICAgICAgICAgIC5hZGRDb2xvclRleHR1cmUoMCwgX3RoaXMpO1xuICAgICAgICAvLyBUT0RPIC0gY291bGQgdGhpcyBiZSBhZGRlZCB0aGUgc3lzdGVtcz9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIHN0ZW5jaWwgbWFza3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWFza0RhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5maWx0ZXJTdGFjayA9IFt7fV07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgQmFzZVJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBhbmQgZnJhbWVidWZmZXIgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuZGlzcG9zZSgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuZGVzdHJveURlcHRoVGV4dHVyZSgpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlUmVuZGVyVGV4dHVyZTtcbn0oQmFzZVRleHR1cmUpKTtcblxuLyoqXG4gKiBTdG9yZXMgYSB0ZXh0dXJlJ3MgZnJhbWUgaW4gVVYgY29vcmRpbmF0ZXMsIGluXG4gKiB3aGljaCBldmVyeXRoaW5nIGxpZXMgaW4gdGhlIHJlY3RhbmdsZSBgWygwLDApLCAoMSwwKSxcbiAqICgxLDEpLCAoMCwxKV1gLlxuICpcbiAqIHwgQ29ybmVyICAgICAgIHwgQ29vcmRpbmF0ZXMgfFxuICogfC0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18XG4gKiB8IFRvcC1MZWZ0ICAgICB8IGAoeDAseTApYCAgIHxcbiAqIHwgVG9wLVJpZ2h0ICAgIHwgYCh4MSx5MSlgICAgfFxuICogfCBCb3R0b20tUmlnaHQgfCBgKHgyLHkyKWAgICB8XG4gKiB8IEJvdHRvbS1MZWZ0ICB8IGAoeDMseTMpYCAgIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlVXZzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRleHR1cmVVdnMoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtbGVmdCBjb3JuZXIgYCh4MCx5MClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLngwID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTAgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDEgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTEgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueDIgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWS1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueTIgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLWxlZnQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54MyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55MyA9IDE7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuZ3JvdXBEOH1cbiAgICAgKi9cbiAgICBUZXh0dXJlVXZzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoZnJhbWUsIGJhc2VGcmFtZSwgcm90YXRlKSB7XG4gICAgICAgIHZhciB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHRoID0gYmFzZUZyYW1lLmhlaWdodDtcbiAgICAgICAgaWYgKHJvdGF0ZSkge1xuICAgICAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgICAgIHZhciB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICAgICAgdmFyIGgyID0gZnJhbWUuaGVpZ2h0IC8gMiAvIHRoO1xuICAgICAgICAgICAgLy8gY29vcmRpbmF0ZXMgb2YgY2VudGVyXG4gICAgICAgICAgICB2YXIgY1ggPSAoZnJhbWUueCAvIHR3KSArIHcyO1xuICAgICAgICAgICAgdmFyIGNZID0gKGZyYW1lLnkgLyB0aCkgKyBoMjtcbiAgICAgICAgICAgIHJvdGF0ZSA9IGdyb3VwRDguYWRkKHJvdGF0ZSwgZ3JvdXBEOC5OVyk7IC8vIE5XIGlzIHRvcC1sZWZ0IGNvcm5lclxuICAgICAgICAgICAgdGhpcy54MCA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTAgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgIHRoaXMueDEgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkxID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDIgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkyID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDMgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkzID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54MCA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTAgPSBmcmFtZS55IC8gdGg7XG4gICAgICAgICAgICB0aGlzLngxID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG4gICAgICAgICAgICB0aGlzLngyID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgICAgIHRoaXMueDMgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkzID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzBdID0gdGhpcy54MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzFdID0gdGhpcy55MDtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzJdID0gdGhpcy54MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzNdID0gdGhpcy55MTtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzRdID0gdGhpcy54MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzVdID0gdGhpcy55MjtcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzZdID0gdGhpcy54MztcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyWzddID0gdGhpcy55MztcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlVXZzO1xufSgpKTtcblxudmFyIERFRkFVTFRfVVZTID0gbmV3IFRleHR1cmVVdnMoKTtcbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlIG9yIHBhcnQgb2YgYW4gaW1hZ2UuXG4gKlxuICogSXQgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBkaXNwbGF5IGxpc3QgZGlyZWN0bHk7IGluc3RlYWQgdXNlIGl0IGFzIHRoZSB0ZXh0dXJlIGZvciBhIFNwcml0ZS5cbiAqIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkIGZvciBhIHRleHR1cmUsIHRoZW4gdGhlIHdob2xlIGltYWdlIGlzIHVzZWQuXG4gKlxuICogWW91IGNhbiBkaXJlY3RseSBjcmVhdGUgYSB0ZXh0dXJlIGZyb20gYW4gaW1hZ2UgYW5kIHRoZW4gcmV1c2UgaXQgbXVsdGlwbGUgdGltZXMgbGlrZSB0aGlzIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogbGV0IHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlMiA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIElmIHlvdSBkaWRudCBwYXNzIHRoZSB0ZXh0dXJlIGZyYW1lIHRvIGNvbnN0cnVjdG9yLCBpdCBlbmFibGVzIGBub0ZyYW1lYCBtb2RlOlxuICogaXQgc3Vic2NyaWJlcyBvbiBiYXNlVGV4dHVyZSBldmVudHMsIGl0IGF1dG9tYXRpY2FsbHkgcmVzaXplcyBhdCB0aGUgc2FtZSB0aW1lIGFzIGJhc2VUZXh0dXJlLlxuICpcbiAqIFRleHR1cmVzIG1hZGUgZnJvbSBTVkdzLCBsb2FkZWQgb3Igbm90LCBjYW5ub3QgYmUgdXNlZCBiZWZvcmUgdGhlIGZpbGUgZmluaXNoZXMgcHJvY2Vzc2luZy5cbiAqIFlvdSBjYW4gY2hlY2sgZm9yIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHNwcml0ZSdzIF90ZXh0dXJlSUQgcHJvcGVydHkuXG4gKiBgYGBqc1xuICogdmFyIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnN2ZycpO1xuICogdmFyIHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiAvL3Nwcml0ZTEuX3RleHR1cmVJRCBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCBpZiB0aGUgdGV4dHVyZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZyB0aGUgU1ZHIGZpbGVcbiAqIGBgYFxuICogWW91IGNhbiB1c2UgYSB0aWNrZXIgb3IgckFGIHRvIGVuc3VyZSB5b3VyIHNwcml0ZXMgbG9hZCB0aGUgZmluaXNoZWQgdGV4dHVyZXMgYWZ0ZXIgcHJvY2Vzc2luZy4gU2VlIGlzc3VlICMzMDY4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0dXJlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlIHNvdXJjZSB0byBjcmVhdGUgdGhlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbb3JpZ10gLSBUaGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3RyaW1dIC0gVHJpbW1lZCByZWN0YW5nbGUgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRlXSAtIGluZGljYXRlcyBob3cgdGhlIHRleHR1cmUgd2FzIHJvdGF0ZWQgYnkgdGV4dHVyZSBwYWNrZXIuIFNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fVxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnREYXRhfSBbYW5jaG9yXSAtIERlZmF1bHQgYW5jaG9yIHBvaW50IHVzZWQgZm9yIHNwcml0ZSBwbGFjZW1lbnQgLyByb3RhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmUoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUsIGFuY2hvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGlzIFRleHR1cmUgaGF2ZSBhbnkgZnJhbWUgZGF0YSBhc3NpZ25lZCB0byBpdD9cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtb2RlIGlzIGVuYWJsZWQgYXV0b21hdGljYWxseSBpZiBubyBmcmFtZSB3YXMgcGFzc2VkIGluc2lkZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhpcyBtb2RlIHRleHR1cmUgaXMgc3Vic2NyaWJlZCB0byBiYXNlVGV4dHVyZSBldmVudHMsIGFuZCBmaXJlcyBgdXBkYXRlYCBvbiBhbnkgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZXdhcmUsIGFmdGVyIGxvYWRpbmcgb3IgcmVzaXplIG9mIGJhc2VUZXh0dXJlIGV2ZW50IGNhbiBmaXJlZCB0d28gdGltZXMhXG4gICAgICAgICAqIElmIHlvdSB3YW50IG1vcmUgY29udHJvbCwgc3Vic2NyaWJlIG9uIGJhc2VUZXh0dXJlIGl0c2VsZi5cbiAgICAgICAgICpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogdGV4dHVyZS5vbigndXBkYXRlJywgKCkgPT4ge30pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQW55IGFzc2lnbm1lbnQgb2YgYGZyYW1lYCBzd2l0Y2hlcyBvZmYgYG5vRnJhbWVgIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgIF90aGlzLm5vRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mcmFtZSA9IGZyYW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgdHJpbW1lZCBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgdHJpbWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJpbSA9IHRyaW07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVVYgZGF0YSBjYWNoZS4gQ2FuIGJlIHVzZWQgYXMgcXVhZCBVVlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVVdnN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91dnMgPSBERUZBVUxUX1VWUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqIEJ5IGRlZmF1bHQgdGhhdCBvYmplY3QgaXMgbm90IGNyZWF0ZWQgYmVjYXVzZSBpdHMgaGVhdnlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9yaWcgPSBvcmlnIHx8IGZyYW1lOyAvLyBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICBfdGhpcy5fcm90YXRlID0gTnVtYmVyKHJvdGF0ZSB8fCAwKTtcbiAgICAgICAgaWYgKHJvdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbGQgdGV4dHVyZXBhY2tlciBsZWdhY3ksIHNvbWUgZ2FtZXMvbGlicmFyaWVzIGFyZSBwYXNzaW5nIFwidHJ1ZVwiIGZvciByb3RhdGVkIHRleHR1cmVzXG4gICAgICAgICAgICBfdGhpcy5fcm90YXRlID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfdGhpcy5fcm90YXRlICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdHRlbXB0IHRvIHVzZSBkaWFtb25kLXNoYXBlZCBVVnMuIElmIHlvdSBhcmUgc3VyZSwgc2V0IHJvdGF0aW9uIG1hbnVhbGx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuY2hvciBwb2ludCB0aGF0IGlzIHVzZWQgYXMgZGVmYXVsdCBpZiBzcHJpdGUgaXMgY3JlYXRlZCB3aXRoIHRoaXMgdGV4dHVyZS5cbiAgICAgICAgICogQ2hhbmdpbmcgdGhlIGBkZWZhdWx0QW5jaG9yYCBhdCBhIGxhdGVyIHBvaW50IG9mIHRpbWUgd2lsbCBub3QgdXBkYXRlIFNwcml0ZSdzIGFuY2hvciBwb2ludC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICogQGRlZmF1bHQgezAsMH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRBbmNob3IgPSBhbmNob3IgPyBuZXcgUG9pbnQoYW5jaG9yLngsIGFuY2hvci55KSA6IG5ldyBQb2ludCgwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBJRCBpcyBvYnNlcnZlZCBieSBzcHJpdGVzIGFuZCBUZXh0dXJlTWF0cml4IGluc3RhbmNlcy5cbiAgICAgICAgICogQ2FsbCB1cGRhdGVVdnMoKSB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpZHMgdW5kZXIgd2hpY2ggdGhpcyBUZXh0dXJlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB0ZXh0dXJlIGNhY2hlLiBUaGlzIGlzXG4gICAgICAgICAqIGF1dG9tYXRpY2FsbHkgc2V0IGFzIGxvbmcgYXMgVGV4dHVyZS5hZGRUb0NhY2hlIGlzIHVzZWQsIGJ1dCBtYXkgbm90IGJlIHNldCBpZiBhXG4gICAgICAgICAqIFRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIFRleHR1cmVDYWNoZSBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgX3RoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIF90aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfdGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcmFtZSB3ZSBzaG91bGQgbW9uaXRvciBmb3IgYW55IGJhc2UgdGV4dHVyZSBjaGFuZ2VzLi5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCBfdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgX3RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGlzIHRleHR1cmUgb24gdGhlIGdwdS5cbiAgICAgKlxuICAgICAqIENhbGxzIHRoZSBUZXh0dXJlUmVzb3VyY2UgdXBkYXRlLlxuICAgICAqXG4gICAgICogSWYgeW91IGFkanVzdGVkIGBmcmFtZWAgbWFudWFsbHksIHBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBiYXNlIHRleHR1cmUgaXMgdXBkYXRlZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAgICAgLy8gaWYgdXNlciBnYXZlIHVzIGZyYW1lIHRoYXQgaGFzIGJpZ2dlciBzaXplIHRoYW4gcmVzaXplZCB0ZXh0dXJlIGl0IGNhbiBiZSBhIHByb2JsZW1cbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gLSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChkZXN0cm95QmFzZSkge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHRleHR1cmUgaWYgaXQgZXhpc3RzIGluIHRoZSB0ZXh0dXJlIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgcmVtb3ZlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGFjdHVhbGx5IGRlc3Ryb3llZCB0b28uLlxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSAmJiByZXNvdXJjZS51cmwgJiYgVGV4dHVyZUNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICAgICAgICAgICAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUocmVzb3VyY2UudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZignbG9hZGVkJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIHRoaXMuZnJhbWUuY2xvbmUoKSwgdGhpcy5vcmlnLmNsb25lKCksIHRoaXMudHJpbSAmJiB0aGlzLnRyaW0uY2xvbmUoKSwgdGhpcy5yb3RhdGUsIHRoaXMuZGVmYXVsdEFuY2hvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBXZWJHTCBVViBjYWNoZS4gVXNlIGl0IGFmdGVyIHlvdSBjaGFuZ2UgYGZyYW1lYCBvciBgdHJpbWAgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQ2FsbCBpdCBhZnRlciBjaGFuZ2luZyB0aGUgZnJhbWVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGVVdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl91dnMgPT09IERFRkFVTFRfVVZTKSB7XG4gICAgICAgICAgICB0aGlzLl91dnMgPSBuZXcgVGV4dHVyZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFBJWEkuQmFzZVRleHR1cmV9IHNvdXJjZVxuICAgICAqICAgICAgICBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gLSBFbmZvcmNlIHN0cmljdC1tb2RlLCBzZWUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEV9LlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMsIHN0cmljdCkge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBpZiAoc3RyaWN0ID09PSB2b2lkIDApIHsgc3RyaWN0ID0gc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEU7IH1cbiAgICAgICAgdmFyIGlzRnJhbWUgPSB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIGNhY2hlSWQgPSBudWxsO1xuICAgICAgICBpZiAoaXNGcmFtZSkge1xuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IFwicGl4aWlkX1wiICsgdWlkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG4gICAgICAgIC8vIFN0cmljdC1tb2RlIHJlamVjdHMgaW52YWxpZCBjYWNoZUlkc1xuICAgICAgICBpZiAoaXNGcmFtZSAmJiBzdHJpY3QgJiYgIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBjYWNoZUlkIFxcXCJcIiArIGNhY2hlSWQgKyBcIlxcXCIgZG9lcyBub3QgZXhpc3QgaW4gVGV4dHVyZUNhY2hlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5yZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0cyBhc3N1bWUgaXRzIGEgYmFzZSB0ZXh0dXJlIVxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWZ1bCBmb3IgbG9hZGluZyB0ZXh0dXJlcyB2aWEgVVJMcy4gVXNlIGluc3RlYWQgb2YgYFRleHR1cmUuZnJvbWAgYmVjYXVzZVxuICAgICAqIGl0IGRvZXMgYSBiZXR0ZXIgam9iIG9mIGhhbmRsaW5nIGZhaWxlZCBVUkxzIG1vcmUgZWZmZWN0aXZlbHkuIFRoaXMgYWxzbyBpZ25vcmVzXG4gICAgICogYFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEVgLiBXb3JrcyBmb3IgVmlkZW9zLCBTVkdzLCBJbWFnZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgcmVtb3RlIFVSTCB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucyB0byBpbmNsdWRlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxQSVhJLlRleHR1cmU+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIFRleHR1cmUuXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tVVJMID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGF1dG9Mb2FkOiBmYWxzZSB9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVzb3VyY2VPcHRpb25zKTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlLmZyb20odXJsLCBPYmplY3QuYXNzaWduKHsgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSwgb3B0aW9ucyksIGZhbHNlKTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcbiAgICAgICAgLy8gVGhlIHRleHR1cmUgd2FzIGFscmVhZHkgbG9hZGVkXG4gICAgICAgIGlmICh0ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1hbnVhbGx5IGxvYWQgdGhlIHRleHR1cmUsIHRoaXMgc2hvdWxkIGFsbG93IHVzZXJzIHRvIGhhbmRsZSBsb2FkIGVycm9yc1xuICAgICAgICByZXR1cm4gcmVzb3VyY2UubG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRleHR1cmUpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciAtIFRoZSBvcHRpb25hbCBhcnJheSB0byB1c2UsIGlmIG5vIGRhdGFcbiAgICAgKiAgICAgICAgaXMgcHJvdmlkZWQsIGEgbmV3IEZsb2F0MzJBcnJheSBpcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgcmVzdWx0aW5nIG5ldyBCYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKEJhc2VUZXh0dXJlLmZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXh0dXJlIGZyb20gYSBzb3VyY2UgYW5kIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBUaGUgaW5wdXQgc291cmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbWFnZVVybCAtIEZpbGUgbmFtZSBvZiB0ZXh0dXJlLCBmb3IgY2FjaGUgYW5kIHJlc29sdmluZyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZV0gLSBIdW1hbiByZWFkYWJsZSBuYW1lIGZvciB0aGUgdGV4dHVyZSBjYWNoZS4gSWYgbm8gbmFtZSBpc1xuICAgICAqICAgICAgICBzcGVjaWZpZWQsIG9ubHkgYGltYWdlVXJsYCB3aWxsIGJlIHVzZWQgYXMgdGhlIGNhY2hlIElELlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gT3V0cHV0IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21Mb2FkZXIgPSBmdW5jdGlvbiAoc291cmNlLCBpbWFnZVVybCwgbmFtZSkge1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UpO1xuICAgICAgICByZXNvdXJjZS51cmwgPSBpbWFnZVVybDtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNldHRpbmdzLlNDQUxFX01PREUsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBnZXRSZXNvbHV0aW9uT2ZVcmwoaW1hZ2VVcmwpLFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSk7XG4gICAgICAgIC8vIE5vIG5hbWUsIHVzZSBpbWFnZVVybCBpbnN0ZWFkXG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGltYWdlVXJsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tTG9hZGVyJyBmdW5jdGlvblxuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG4gICAgICAgIC8vIGFsc28gYWRkIHJlZmVyZW5jZXMgYnkgdXJsIGlmIHRoZXkgYXJlIGRpZmZlcmVudC5cbiAgICAgICAgaWYgKG5hbWUgIT09IGltYWdlVXJsKSB7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgVGV4dHVyZSB0byB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIFRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiAodGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAodGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIFRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyb21DYWNoZSA9IFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlRnJvbUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHR1cmUgJiYgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRleHR1cmUgbWF0Y2hlcyB0aGUgb25lIGJlaW5nIHBhc3NlZCBpbiBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSB0aGUgY2FjaGUuXG4gICAgICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHR1cmUucHJvdG90eXBlLCBcInJlc29sdXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwiZnJhbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZyYW1lIHNwZWNpZmllcyB0aGUgcmVnaW9uIG9mIHRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGBmcmFtZWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuICAgICAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgeCA9IGZyYW1lLngsIHkgPSBmcmFtZS55LCB3aWR0aCA9IGZyYW1lLndpZHRoLCBoZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgeE5vdEZpdCA9IHggKyB3aWR0aCA+IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB2YXIgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgICAgIGlmICh4Tm90Rml0IHx8IHlOb3RGaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gJ2FuZCcgOiAnb3InO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclggPSBcIlg6IFwiICsgeCArIFwiICsgXCIgKyB3aWR0aCArIFwiID0gXCIgKyAoeCArIHdpZHRoKSArIFwiID4gXCIgKyB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclkgPSBcIlk6IFwiICsgeSArIFwiICsgXCIgKyBoZWlnaHQgKyBcIiA9IFwiICsgKHkgKyBoZWlnaHQpICsgXCIgPiBcIiArIHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICdcbiAgICAgICAgICAgICAgICAgICAgKyAoZXJyb3JYICsgXCIgXCIgKyByZWxhdGlvbnNoaXAgKyBcIiBcIiArIGVycm9yWSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLnZhbGlkO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyaW0gJiYgIXRoaXMucm90YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnID0gZnJhbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwicm90YXRlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0ZXh0dXJlIGlzIHJvdGF0ZWQgaW5zaWRlIHRoZSBhdGxhc1xuICAgICAgICAgKiBzZXQgdG8gMiB0byBjb21wZW5zYXRlIGZvciB0ZXh0dXJlIHBhY2tlciByb3RhdGlvblxuICAgICAgICAgKiBzZXQgdG8gNiB0byBjb21wZW5zYXRlIGZvciBzcGluZSBwYWNrZXIgcm90YXRpb25cbiAgICAgICAgICogY2FuIGJlIHVzZWQgdG8gcm90YXRlIG9yIG1pcnJvciBzcHJpdGVzXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fSBmb3IgZXhwbGFuYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyb3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSA9IHJvdGF0ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0dXJlLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgQmFzZVRleHR1cmV8VGV4dHVyZSBjYXN0XG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY2FzdFRvQmFzZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuZnVuY3Rpb24gY3JlYXRlV2hpdGVUZXh0dXJlKCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSAxNjtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTY7XG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxNiwgMTYpO1xuICAgIHJldHVybiBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUobmV3IENhbnZhc1Jlc291cmNlKGNhbnZhcykpKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleCkge1xuICAgIHRleC5kZXN0cm95ID0gZnVuY3Rpb24gX2VtcHR5RGVzdHJveSgpIHsgfTtcbiAgICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHsgfTtcbiAgICB0ZXgub25jZSA9IGZ1bmN0aW9uIF9lbXB0eU9uY2UoKSB7IH07XG4gICAgdGV4LmVtaXQgPSBmdW5jdGlvbiBfZW1wdHlFbWl0KCkgeyB9O1xufVxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcbi8qKlxuICogQSB3aGl0ZSB0ZXh0dXJlIG9mIDE2eDE2IHNpemUsIHVzZWQgZm9yIGdyYXBoaWNzIGFuZCBvdGhlciB0aGluZ3NcbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLldISVRFID0gY3JlYXRlV2hpdGVUZXh0dXJlKCk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUuYmFzZVRleHR1cmUpO1xuXG4vKipcbiAqIEEgUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBfX0hpbnQtMl9fOiBUaGUgYWN0dWFsIG1lbW9yeSBhbGxvY2F0aW9uIHdpbGwgaGFwcGVuIG9uIGZpcnN0IHJlbmRlci5cbiAqIFlvdSBzaG91bGRuJ3QgY3JlYXRlIHJlbmRlclRleHR1cmVzIGVhY2ggZnJhbWUganVzdCB0byBkZWxldGUgdGhlbSBhZnRlciwgdHJ5IHRvIHJldXNlIHRoZW0uXG4gKlxuICogQSBSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSh7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH0pO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJzcGluT2JqXzAxLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUucG9zaXRpb24ueCA9IDgwMC8yO1xuICogc3ByaXRlLnBvc2l0aW9uLnkgPSA2MDAvMjtcbiAqIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcbiAqIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBTcHJpdGUgaW4gdGhpcyBjYXNlIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0IDAsMFxuICogeW91IGNhbiBjbGVhciB0aGUgdHJhbnNmb3JtXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKDEwMCwgMTAwKTtcbiAqXG4gKiByZW5kZXJlci5yZW5kZXIoc3ByaXRlLCByZW5kZXJUZXh0dXJlKTsgIC8vIFJlbmRlcnMgdG8gY2VudGVyIG9mIFJlbmRlclRleHR1cmVcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVuZGVyVGV4dHVyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVJlbmRlclRleHR1cmV9IGJhc2VSZW5kZXJUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBvYmplY3QgdGhhdCB0aGlzIHRleHR1cmUgdXNlc1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gLSBUaGUgcmVjdGFuZ2xlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlIHRvIHNob3dcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBzdXBwb3J0IGZvciBsZWdhY3kuLlxuICAgICAgICB2YXIgX2xlZ2FjeVJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgaWYgKCEoYmFzZVJlbmRlclRleHR1cmUgaW5zdGFuY2VvZiBCYXNlUmVuZGVyVGV4dHVyZSkpIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciBzY2FsZU1vZGUgPSBhcmd1bWVudHNbM107XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1s0XTtcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYW4gb2xkIHJlbmRlciB0ZXh0dXJlLi5cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlBsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoXCIgKyB3aWR0aCArIFwiLCBcIiArIGhlaWdodCArIFwiKSBpbnN0ZWFkIG9mIHRoZSBjdG9yIGRpcmVjdGx5LlwiKTtcbiAgICAgICAgICAgIF9sZWdhY3lSZW5kZXJlciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSBvYmplY3QgdGhhdCB0aGlzIHRleHR1cmUgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9yZXMgYHNvdXJjZUZyYW1lYCB3aGVuIHRoaXMgdGV4dHVyZSBpcyBpbnNpZGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICAgICAqIFlvdSBjYW4gcmVhZCBpdCBpbnNpZGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyRnJhbWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGtleSBmb3IgcG9vbGVkIHRleHR1cmUgb2YgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZmlsdGVyUG9vbEtleSA9IG51bGw7XG4gICAgICAgIF90aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJUZXh0dXJlLnByb3RvdHlwZSwgXCJmcmFtZWJ1ZmZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG9ydGN1dCB0byBgdGhpcy5iYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcmAsIHNhdmVzIGJhc2VUZXh0dXJlIGNhc3QuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXNpemVCYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCB0aGUgYmFzZVRleHR1cmUud2lkdGggYW5kIGhlaWdodCB2YWx1ZXMgYmUgcmVzaXplZCBhcyB3ZWxsP1xuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCByZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUgPT09IHZvaWQgMCkgeyByZXNpemVCYXNlVGV4dHVyZSA9IHRydWU7IH1cbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSAod2lkdGggPiAwICYmIGhlaWdodCA+IDApO1xuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlLCBidXQgZG9lcyBub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNpemUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiB0byBhcHBseSB0byBSZW5kZXJUZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5yZXNpemUoYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAvLyBmYWxsYmFjaywgb2xkLXN0eWxlOiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKG5ldyBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZTtcbn0oVGV4dHVyZSkpO1xuXG4vKipcbiAqIEV4cGVyaW1lbnRhbCFcbiAqXG4gKiBUZXh0dXJlIHBvb2wsIHVzZWQgYnkgRmlsdGVyU3lzdGVtIGFuZCBwbHVnaW5zXG4gKiBTdG9yZXMgY29sbGVjdGlvbiBvZiB0ZW1wb3JhcnkgcG93MiBvciBzY3JlZW4tc2l6ZWQgcmVuZGVyVGV4dHVyZXNcbiAqXG4gKiBJZiB5b3UgdXNlIGN1c3RvbSBSZW5kZXJUZXh0dXJlUG9vbCBmb3IgeW91ciBmaWx0ZXJzLCB5b3UgY2FuIHVzZSBtZXRob2RzXG4gKiBgZ2V0RmlsdGVyVGV4dHVyZWAgYW5kIGByZXR1cm5GaWx0ZXJUZXh0dXJlYCBzYW1lIGFzIGluXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGV4dHVyZVBvb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt0ZXh0dXJlT3B0aW9uc10gLSBvcHRpb25zIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gQmFzZVJlbmRlclRleHR1cmUgY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFt0ZXh0dXJlT3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmVQb29sKHRleHR1cmVPcHRpb25zKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICAgICAgdGhpcy50ZXh0dXJlT3B0aW9ucyA9IHRleHR1cmVPcHRpb25zIHx8IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsb3cgcmVuZGVyVGV4dHVyZXMgb2YgdGhlIHNhbWUgc2l6ZSBhcyBzY3JlZW4sIG5vdCBqdXN0IHBvdzJcbiAgICAgICAgICpcbiAgICAgICAgICogQXV0b21hdGljYWxseSBzZXRzIHRvIHRydWUgYWZ0ZXIgYHNldFNjcmVlblNpemVgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjcmVhdGVzIG9mIHRleHR1cmUgd2l0aCBwYXJhbXMgdGhhdCB3ZXJlIHNwZWNpZmllZCBpbiBwb29sIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIC0gd2lkdGggb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCAtIGhlaWdodCBvZiB0ZXh0dXJlIGluIHBpeGVsc1xuICAgICAqIEByZXR1cm5zIHtSZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5jcmVhdGVUZXh0dXJlID0gZnVuY3Rpb24gKHJlYWxXaWR0aCwgcmVhbEhlaWdodCkge1xuICAgICAgICB2YXIgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogcmVhbFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWFsSGVpZ2h0LFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgfSwgdGhpcy50ZXh0dXJlT3B0aW9ucykpO1xuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZSBvciBmdWxsU2NyZWVuIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0T3B0aW1hbFRleHR1cmUgPSBmdW5jdGlvbiAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb24gPSAxOyB9XG4gICAgICAgIHZhciBrZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgICAgICBtaW5XaWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBtaW5IZWlnaHQgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gfHwgbWluV2lkdGggIT09IHRoaXMuX3BpeGVsc1dpZHRoIHx8IG1pbkhlaWdodCAhPT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KSB7XG4gICAgICAgICAgICBtaW5XaWR0aCA9IG5leHRQb3cyKG1pbldpZHRoKTtcbiAgICAgICAgICAgIG1pbkhlaWdodCA9IG5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgICAgICBrZXkgPSAoKG1pbldpZHRoICYgMHhGRkZGKSA8PCAxNikgfCAobWluSGVpZ2h0ICYgMHhGRkZGKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZVBvb2xba2V5XSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sW2tleV0ucG9wKCk7XG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXkgPSBrZXk7XG4gICAgICAgIHJlbmRlclRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGV4dHJhIHRleHR1cmUgb2YgdGhlIHNhbWUgc2l6ZSBhcyBpbnB1dCByZW5kZXJUZXh0dXJlXG4gICAgICpcbiAgICAgKiBgZ2V0RmlsdGVyVGV4dHVyZShpbnB1dCwgMC41KWAgb3IgYGdldEZpbHRlclRleHR1cmUoMC41LCBpbnB1dClgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gLSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogIEl0IG92ZXJyaWRlcywgaXQgZG9lcyBub3QgbXVsdGlwbHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKGlucHV0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHZhciBmaWx0ZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuICAgICAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG4gICAgICAgIHJldHVybiBmaWx0ZXJUZXh0dXJlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGxhY2UgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnJldHVyblRleHR1cmUgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICB2YXIga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuICAgICAgICByZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldLnB1c2gocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgcmV0dXJuVGV4dHVyZSwgdG8gYmUgY29tcGxpYW50IHdpdGggRmlsdGVyU3lzdGVtIGludGVyZmFjZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRleHR1cmUgdG8gZnJlZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5yZXR1cm5GaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgdGhpcy5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBwb29sXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95VGV4dHVyZXM9dHJ1ZV0gLSBkZXN0cm95IGFsbCBzdG9yZWQgdGV4dHVyZXNcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoZGVzdHJveVRleHR1cmVzKSB7XG4gICAgICAgIGRlc3Ryb3lUZXh0dXJlcyA9IGRlc3Ryb3lUZXh0dXJlcyAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChkZXN0cm95VGV4dHVyZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlUG9vbCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0dXJlcyA9IHRoaXMudGV4dHVyZVBvb2xbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgc2NyZWVuIHNpemUgd2FzIGNoYW5nZWQsIGRyb3BzIGFsbCBzY3JlZW4tc2l6ZWQgdGV4dHVyZXMsXG4gICAgICogc2V0cyBuZXcgc2NyZWVuIHNpemUsIHNldHMgYGVuYWJsZUZ1bGxTY3JlZW5gIHRvIHRydWVcbiAgICAgKlxuICAgICAqIFNpemUgaXMgbWVhc3VyZWQgaW4gcGl4ZWxzLCBgcmVuZGVyZXIudmlld2AgY2FuIGJlIHBhc3NlZCBoZXJlLCBub3QgYHJlbmRlcmVyLnNjcmVlbmBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JU2l6ZX0gc2l6ZSAtIEluaXRpYWwgc2l6ZSBvZiBzY3JlZW5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuc2V0U2NyZWVuU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIGlmIChzaXplLndpZHRoID09PSB0aGlzLl9waXhlbHNXaWR0aFxuICAgICAgICAgICAgJiYgc2l6ZS5oZWlnaHQgPT09IHRoaXMuX3BpeGVsc0hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY3JlZW5LZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV07XG4gICAgICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IHNpemUud2lkdGggPiAwICYmIHNpemUuaGVpZ2h0ID4gMDtcbiAgICAgICAgaWYgKHRleHR1cmVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV0gPSBbXTtcbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtleSB0aGF0IGlzIHVzZWQgdG8gc3RvcmUgZnVsbHNjcmVlbiByZW5kZXJUZXh0dXJlcyBpbiBhIHBvb2xcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3Qge3N0cmluZ31cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZID0gJ3NjcmVlbic7XG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVQb29sO1xufSgpKTtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBIb2xkcyB0aGUgaW5mb3JtYXRpb24gZm9yIGEgc2luZ2xlIGF0dHJpYnV0ZSBzdHJ1Y3R1cmUgcmVxdWlyZWQgdG8gcmVuZGVyIGdlb21ldHJ5LlxuICpcbiAqIFRoaXMgZG9lcyBub3QgY29udGFpbiB0aGUgYWN0dWFsIGRhdGEsIGJ1dCBpbnN0ZWFkIGhhcyBhIGJ1ZmZlciBpZCB0aGF0IG1hcHMgdG8gYSB7QGxpbmsgUElYSS5CdWZmZXJ9XG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXR0cmlidXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBidWZmZXIgLSB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gLSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gLSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtAbGluayBQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gLSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydD0wXSAtIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKSB7XG4gICAgICAgIGlmIChzaXplID09PSB2b2lkIDApIHsgc2l6ZSA9IDA7IH1cbiAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09IHZvaWQgMCkgeyBub3JtYWxpemVkID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gNTEyNjsgfVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgQXR0cmlidXRlLlxuICAgICAqL1xuICAgIEF0dHJpYnV0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBdHRyaWJ1dGUgYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAtIHRoZSBpZCBvZiB0aGUgYnVmZmVyIHRoYXQgdGhpcyBhdHRyaWJ1dGUgd2lsbCBsb29rIGZvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSAtIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIC0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIC0gd2hhdCB0eXBlIG9mIG51bWJlciBpcyB0aGUgYXR0cmlidXRlLiBDaGVjayB7QGxpbmsgUElYSS5UWVBFU30gdG8gc2VlIHRoZSBvbmVzIGF2YWlsYWJsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIC0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuQXR0cmlidXRlfSBBIG5ldyB7QGxpbmsgUElYSS5BdHRyaWJ1dGV9IGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICAgICAqL1xuICAgIEF0dHJpYnV0ZS5mcm9tID0gZnVuY3Rpb24gKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKTtcbiAgICB9O1xuICAgIHJldHVybiBBdHRyaWJ1dGU7XG59KCkpO1xuXG52YXIgVUlEID0gMDtcbi8qKlxuICogQSB3cmFwcGVyIGZvciBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgYW5kIHVwbG9hZGVkIGJ5IFdlYkdMXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gZGF0YSAtIHRoZSBkYXRhIHRvIHN0b3JlIGluIHRoZSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz10cnVlXSAtIGB0cnVlYCBmb3Igc3RhdGljIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luZGV4PWZhbHNlXSAtIGB0cnVlYCBmb3IgaW5kZXggYnVmZmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnVmZmVyKGRhdGEsIF9zdGF0aWMsIGluZGV4KSB7XG4gICAgICAgIGlmIChfc3RhdGljID09PSB2b2lkIDApIHsgX3N0YXRpYyA9IHRydWU7IH1cbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSBmYWxzZTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgaW4gdGhlIGJ1ZmZlciwgYXMgYSB0eXBlZCBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSAoZGF0YSB8fCBuZXcgRmxvYXQzMkFycmF5KDEpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBidWZmZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgR0xCdWZmZXI+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2xCdWZmZXJzID0ge307XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnN0YXRpYyA9IF9zdGF0aWM7XG4gICAgICAgIHRoaXMuaWQgPSBVSUQrKztcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUJ1ZmZlcicpO1xuICAgIH1cbiAgICAvLyBUT0RPIGNvdWxkIGV4cGxvcmUgZmxhZ2dpbmcgb25seSBhIHBhcnRpYWwgdXBsb2FkP1xuICAgIC8qKlxuICAgICAqIGZsYWdzIHRoaXMgYnVmZmVyIGFzIHJlcXVpcmluZyBhbiB1cGxvYWQgdG8gdGhlIEdQVVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8U2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBbZGF0YV0gLSB0aGUgZGF0YSB0byB1cGRhdGUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBCdWZmZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgQnVmZmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIuZW1pdCh0aGlzLCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgYnVmZmVyXG4gICAgICovXG4gICAgQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBidWZmZXIgYmFzZWQgb24gYW4gYXJyYXkgb3IgVHlwZWRBcnJheVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJWaWV3IHwgbnVtYmVyW119IGRhdGEgLSB0aGUgVHlwZWRBcnJheSB0aGF0IHRoZSBidWZmZXIgd2lsbCBzdG9yZS4gSWYgdGhpcyBpcyBhIHJlZ3VsYXIgQXJyYXkgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBGbG9hdDMyQXJyYXkuXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IEEgbmV3IEJ1ZmZlciBiYXNlZCBvbiB0aGUgZGF0YSBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBCdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQnVmZmVyKGRhdGEpO1xuICAgIH07XG4gICAgcmV0dXJuIEJ1ZmZlcjtcbn0oKSk7XG5cbmZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdJbnQzMkFycmF5JztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDIpIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKSB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETyBtYXAgb3V0IHRoZSByZXN0IG9mIHRoZSBhcnJheSBlbGVtZW50cyFcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxufTtcbmZ1bmN0aW9uIGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKSB7XG4gICAgdmFyIG91dFNpemUgPSAwO1xuICAgIHZhciBzdHJpZGUgPSAwO1xuICAgIHZhciB2aWV3cyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcbiAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICB2YXIgbGl0dGxlT2Zmc2V0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2l6ZSA9IHNpemVzW2ldO1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaV07XG4gICAgICAgIHZhciB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG4gICAgICAgIGlmICghdmlld3NbdHlwZV0pIHtcbiAgICAgICAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXhTdGFydCA9ICgoaiAvIHNpemUgfCAwKSAqIHN0cmlkZSkgKyBsaXR0bGVPZmZzZXQ7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBqICUgc2l6ZTtcbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG5cbnZhciBieXRlU2l6ZU1hcCA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xudmFyIFVJRCQxID0gMDtcbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAkMSA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxuICAgIFVpbnQxNkFycmF5OiBVaW50MTZBcnJheSxcbn07XG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIFRoZSBHZW9tZXRyeSByZXByZXNlbnRzIGEgbW9kZWwuIEl0IGNvbnNpc3RzIG9mIHR3byBjb21wb25lbnRzOlxuICogLSBHZW9tZXRyeVN0eWxlIC0gVGhlIHN0cnVjdHVyZSBvZiB0aGUgbW9kZWwgc3VjaCBhcyB0aGUgYXR0cmlidXRlcyBsYXlvdXRcbiAqIC0gR2VvbWV0cnlEYXRhIC0gdGhlIGRhdGEgb2YgdGhlIG1vZGVsIC0gdGhpcyBjb25zaXN0cyBvZiBidWZmZXJzLlxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEdlb21ldHJ5IGNhbiBiZSBkZWZpbmVkIHdpdGhvdXQgcGFzc2luZyBpbiBhIHN0eWxlIG9yIGRhdGEgaWYgcmVxdWlyZWQgKHRoYXRzIGhvdyBJIHByZWZlciEpXG4gKlxuICogYGBganNcbiAqIGxldCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLDIpXG4gKiBnZW9tZXRyeS5hZGRJbmRleChbMCwxLDIsMSwzLDJdKVxuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcltdfSBbYnVmZmVyc10gLSBhbiBhcnJheSBvZiBidWZmZXJzLiBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2F0dHJpYnV0ZXNdIC0gb2YgdGhlIGdlb21ldHJ5LCBvcHRpb25hbCBzdHJ1Y3R1cmUgb2YgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gICAgICovXG4gICAgZnVuY3Rpb24gR2VvbWV0cnkoYnVmZmVycywgYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYnVmZmVycyA9PT0gdm9pZCAwKSB7IGJ1ZmZlcnMgPSBbXTsgfVxuICAgICAgICBpZiAoYXR0cmlidXRlcyA9PT0gdm9pZCAwKSB7IGF0dHJpYnV0ZXMgPSB7fTsgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBidWZmZXJzO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBWQU9zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xWZXJ0ZXhBcnJheU9iamVjdHMgPSB7fTtcbiAgICAgICAgdGhpcy5pZCA9IFVJRCQxKys7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgaW5zdGFuY2VzIGluIHRoaXMgZ2VvbWV0cnksIHBhc3MgaXQgdG8gYEdlb21ldHJ5U3lzdGVtLmRyYXcoKWBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluc3RhbmNlQ291bnQgPSAxO1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlR2VvbWV0cnknKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50IG9mIGV4aXN0aW5nIChub3QgZGVzdHJveWVkKSBtZXNoZXMgdGhhdCByZWZlcmVuY2UgdGhpcyBnZW9tZXRyeVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgKlxuICAgICogQWRkcyBhbiBhdHRyaWJ1dGUgdG8gdGhlIGdlb21ldHJ5XG4gICAgKiBOb3RlOiBgc3RyaWRlYCBhbmQgYHN0YXJ0YCBzaG91bGQgYmUgYHVuZGVmaW5lZGAgaWYgeW91IGRvbnQga25vdyB0aGVtLCBub3QgMCFcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIChtYXRjaGluZyB1cCB0byBhIHNoYWRlcilcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ8bnVtYmVyW119IFtidWZmZXJdIC0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBhdHRyaWJ1dGUgLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gLSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIC0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3R5cGU9UElYSS5UWVBFUy5GTE9BVF0gLSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZV0gLSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICogQHBhcmFtIHtib29sZWFufSBbaW5zdGFuY2U9ZmFsc2VdIC0gSW5zdGFuY2luZyBmbGFnXG4gICAgKlxuICAgICogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmFkZEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChpZCwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSkge1xuICAgICAgICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7IHNpemUgPSAwOyB9XG4gICAgICAgIGlmIChub3JtYWxpemVkID09PSB2b2lkIDApIHsgbm9ybWFsaXplZCA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChpbnN0YW5jZSA9PT0gdm9pZCAwKSB7IGluc3RhbmNlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcGFzcyBhIGJ1ZmZlciB3aGVuIGNyZWF0aW5nIGFuIGF0dHJpYnV0ZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBidWZmZXIhXG4gICAgICAgIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWRzID0gaWQuc3BsaXQoJ3wnKTtcbiAgICAgICAgaWYgKGlkcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKGlkc1tpXSwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcik7XG4gICAgICAgIGlmIChidWZmZXJJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgICAgICBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXR0cmlidXRlc1tpZF0gPSBuZXcgQXR0cmlidXRlKGJ1ZmZlckluZGV4LCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSk7XG4gICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgaWYgdGhlcmUgaXMgaW5zdGFuY2VkIGRhdGEgdGhlbiB0aGlzIHdpbGwgYmUgZHJhd24gd2l0aCBpbnN0YW5jaW5nIVxuICAgICAgICB0aGlzLmluc3RhbmNlZCA9IHRoaXMuaW5zdGFuY2VkIHx8IGluc3RhbmNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHJlcXVlc3RlZCBhdHRyaWJ1dGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkF0dHJpYnV0ZX0gdGhlIGF0dHJpYnV0ZSByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2lkXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHJlcXVlc3RlZCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBidWZmZXIgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGJ1ZmZlciByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuZ2V0QXR0cmlidXRlKGlkKS5idWZmZXJdO1xuICAgIH07XG4gICAgLyoqXG4gICAgKlxuICAgICogQWRkcyBhbiBpbmRleCBidWZmZXIgdG8gdGhlIGdlb21ldHJ5XG4gICAgKiBUaGUgaW5kZXggYnVmZmVyIGNvbnRhaW5zIGludGVnZXJzLCB0aHJlZSBmb3IgZWFjaCB0cmlhbmdsZSBpbiB0aGUgZ2VvbWV0cnksIHdoaWNoIHJlZmVyZW5jZSB0aGUgdmFyaW91cyBhdHRyaWJ1dGUgYnVmZmVycyAocG9zaXRpb24sIGNvbG91ciwgVVYgY29vcmRpbmF0ZXMsIG90aGVyIFVWIGNvb3JkaW5hdGVzLCBub3JtYWwsIOKApikuIFRoZXJlIGlzIG9ubHkgT05FIGluZGV4IGJ1ZmZlci5cbiAgICAqXG4gICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfG51bWJlcltdfSBbYnVmZmVyXSAtIHRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgaW5kZXggYnVmZmVyLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuYWRkSW5kZXggPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIGlmICghKGJ1ZmZlciBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGluZGV4IGJ1ZmZlclxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5CdWZmZXJ9IHRoZSBpbmRleCBidWZmZXIuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHRoaXMgZnVuY3Rpb24gbW9kaWZpZXMgdGhlIHN0cnVjdHVyZSBzbyB0aGF0IGFsbCBjdXJyZW50IGF0dHJpYnV0ZXMgYmVjb21lIGludGVybGVhdmVkIGludG8gYSBzaW5nbGUgYnVmZmVyXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIGlmIHlvdXIgbW9kZWwgcmVtYWlucyBzdGF0aWMgYXMgaXQgb2ZmZXJzIGEgbGl0dGxlIHBlcmZvcm1hbmNlIGJvb3N0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmludGVybGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGEgc2ltcGxlIGNoZWNrIHRvIHNlZSBpZiBidWZmZXJzIGFyZSBhbHJlYWR5IGludGVybGVhdmVkLi5cbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDEgfHwgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDIgJiYgdGhpcy5pbmRleEJ1ZmZlcikpXG4gICAgICAgICAgICB7IHJldHVybiB0aGlzOyB9XG4gICAgICAgIC8vIGFzc3VtZSBhbHJlYWR5IHRoYXQgbm8gYnVmZmVycyBhcmUgaW50ZXJsZWF2ZWRcbiAgICAgICAgdmFyIGFycmF5cyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZXMgPSBbXTtcbiAgICAgICAgdmFyIGludGVybGVhdmVkQnVmZmVyID0gbmV3IEJ1ZmZlcigpO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpIGluIHRoaXMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICBhcnJheXMucHVzaChidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICBzaXplcy5wdXNoKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZS5idWZmZXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGludGVybGVhdmVkQnVmZmVyLmRhdGEgPSBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlcnNbaV0gIT09IHRoaXMuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtpbnRlcmxlYXZlZEJ1ZmZlcl07XG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaCh0aGlzLmluZGV4QnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEdlb21ldHJ5LnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyLmRhdGEubGVuZ3RoIC8gKChhdHRyaWJ1dGUuc3RyaWRlIC8gNCkgfHwgYXR0cmlidXRlLnNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgR2VvbWV0cnkucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5lbWl0KHRoaXMsIGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyBhIGNsb25lIG9mIHRoZSBnZW9tZXRyeVxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuR2VvbWV0cnl9IGEgbmV3IGNsb25lIG9mIHRoaXMgZ2VvbWV0cnlcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2VvbWV0cnkuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIodGhpcy5idWZmZXJzW2ldLmRhdGEuc2xpY2UoMCkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlc1tpXSA9IG5ldyBBdHRyaWJ1dGUoYXR0cmliLmJ1ZmZlciwgYXR0cmliLnNpemUsIGF0dHJpYi5ub3JtYWxpemVkLCBhdHRyaWIudHlwZSwgYXR0cmliLnN0cmlkZSwgYXR0cmliLnN0YXJ0LCBhdHRyaWIuaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbdGhpcy5idWZmZXJzLmluZGV4T2YodGhpcy5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tZXRyeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIG1lcmdlcyBhbiBhcnJheSBvZiBnZW9tZXRyaWVzIGludG8gYSBuZXcgc2luZ2xlIG9uZVxuICAgICAqIGdlb21ldHJ5IGF0dHJpYnV0ZSBzdHlsZXMgbXVzdCBtYXRjaCBmb3IgdGhpcyBvcGVyYXRpb24gdG8gd29ya1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5W119IGdlb21ldHJpZXMgLSBhcnJheSBvZiBnZW9tZXRyaWVzIHRvIG1lcmdlXG4gICAgICogQHJldHVybnMge1BJWEkuR2VvbWV0cnl9IHNoaW55IG5ldyBnZW9tZXRyeSFcbiAgICAgKi9cbiAgICBHZW9tZXRyeS5tZXJnZSA9IGZ1bmN0aW9uIChnZW9tZXRyaWVzKSB7XG4gICAgICAgIC8vIHRvZG8gYWRkIGEgZ2VvbWV0cnkgY2hlY2shXG4gICAgICAgIC8vIGFsc28gYSBzaXplIGNoZWNrLi4gY2FudCBiZSB0b28gYmlnIV1cbiAgICAgICAgdmFyIGdlb21ldHJ5T3V0ID0gbmV3IEdlb21ldHJ5KCk7XG4gICAgICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICAgICAgdmFyIHNpemVzID0gW107XG4gICAgICAgIHZhciBvZmZzZXRzID0gW107XG4gICAgICAgIHZhciBnZW9tZXRyeTtcbiAgICAgICAgLy8gcGFzcyBvbmUuLiBnZXQgc2l6ZXMuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHNpemVzW2pdID0gc2l6ZXNbal0gfHwgMDtcbiAgICAgICAgICAgICAgICBzaXplc1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIG9mZnNldHNbal0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGJ1aWxkIHRoZSBjb3JyZWN0IHNpemUgYXJyYXlzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHR5cGVzIVxuICAgICAgICAgICAgYXJyYXlzW2ldID0gbmV3IG1hcCQxW2dldEJ1ZmZlclR5cGUoZ2VvbWV0cnkuYnVmZmVyc1tpXS5kYXRhKV0oc2l6ZXNbaV0pO1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIoYXJyYXlzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXNzIHRvIHNldCBkYXRhLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBhcnJheXNbal0uc2V0KGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YSwgb2Zmc2V0c1tqXSk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0c1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdlb21ldHJ5T3V0LmF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyID0gZ2VvbWV0cnlPdXQuYnVmZmVyc1tnZW9tZXRyeS5idWZmZXJzLmluZGV4T2YoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0MiA9IDA7XG4gICAgICAgICAgICB2YXIgYnVmZmVySW5kZXhUb0NvdW50ID0gMDtcbiAgICAgICAgICAgIC8vIGdldCBhIGJ1ZmZlclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmJ1ZmZlcnNbaV0gIT09IGdlb21ldHJ5LmluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckluZGV4VG9Db3VudCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIHN0cmlkZSBvZiBvbmUgYnVmZmVyLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgIGlmICgoYXR0cmlidXRlLmJ1ZmZlciB8IDApID09PSBidWZmZXJJbmRleFRvQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaWRlICs9ICgoYXR0cmlidXRlLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV0pIC8gNCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGltZSB0byBvZmYgc2V0IGFsbCBpbmRleGVzLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlckRhdGEgPSBnZW9tZXRyaWVzW2ldLmluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuZGF0YVtqICsgb2Zmc2V0Ml0gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZ2VvbWV0cnkuYnVmZmVyc1tidWZmZXJJbmRleFRvQ291bnRdLmRhdGEubGVuZ3RoIC8gKHN0cmlkZSk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0MiArPSBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tZXRyeU91dDtcbiAgICB9O1xuICAgIHJldHVybiBHZW9tZXRyeTtcbn0oKSk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBRdWFkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhRdWFkLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1YWQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAzLCAyXSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFF1YWQ7XG59KEdlb21ldHJ5KSk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWQgd2l0aCB1dnMgbGlrZSBpbiB2NFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuR2VvbWV0cnlcbiAqL1xudmFyIFF1YWRVdiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUXVhZFV2LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1YWRVdigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAtMSwgLTEsXG4gICAgICAgICAgICAxLCAtMSxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAtMSwgMSBdKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVdnMgb2YgdGhlIHF1YWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pO1xuICAgICAgICBfdGhpcy52ZXJ0ZXhCdWZmZXIgPSBuZXcgQnVmZmVyKF90aGlzLnZlcnRpY2VzKTtcbiAgICAgICAgX3RoaXMudXZCdWZmZXIgPSBuZXcgQnVmZmVyKF90aGlzLnV2cyk7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgX3RoaXMudmVydGV4QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIF90aGlzLnV2QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFwcyB0d28gUmVjdGFuZ2xlIHRvIHRoZSBxdWFkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gdGFyZ2V0VGV4dHVyZUZyYW1lIC0gdGhlIGZpcnN0IHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSB0aGUgc2Vjb25kIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuUXVhZH0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUXVhZFV2LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAodGFyZ2V0VGV4dHVyZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgIHZhciB4ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS54IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgeSA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueSAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudXZzWzBdID0geDtcbiAgICAgICAgdGhpcy51dnNbMV0gPSB5O1xuICAgICAgICB0aGlzLnV2c1syXSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzNdID0geTtcbiAgICAgICAgdGhpcy51dnNbNF0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1s1XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy51dnNbNl0gPSB4O1xuICAgICAgICB0aGlzLnV2c1s3XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgeCA9IGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICAgICAgeSA9IGRlc3RpbmF0aW9uRnJhbWUueTtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1swXSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbMV0gPSB5O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzJdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbM10gPSB5O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzRdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbNV0gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudmVydGljZXNbNl0gPSB4O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzddID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBsZWdhY3kgdXBsb2FkIG1ldGhvZCwganVzdCBtYXJrcyBidWZmZXJzIGRpcnR5XG4gICAgICogQHJldHVybnMge1BJWEkuUXVhZFV2fSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBRdWFkVXYucHJvdG90eXBlLmludmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyLl91cGRhdGVJRCsrO1xuICAgICAgICB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRCsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBRdWFkVXY7XG59KEdlb21ldHJ5KSk7XG5cbnZhciBVSUQkMiA9IDA7XG4vKipcbiAqIFVuaWZvcm0gZ3JvdXAgaG9sZHMgdW5pZm9ybSBtYXAgYW5kIHNvbWUgSUQncyBmb3Igd29ya1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFVuaWZvcm1Hcm91cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc3RhdGljXSAtIFVuaWZvcm1zIHdvbnQgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYykge1xuICAgICAgICAvKipcbiAgICAgICAgICogdW5pZm9ybSB2YWx1ZXNcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybXMgPSB1bmlmb3JtcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0cyBhIGdyb3VwIGFuZCBub3QgYSBzaW5nbGUgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ3JvdXAgPSB0cnVlO1xuICAgICAgICAvLyBsZXRzIGdlbmVyYXRlIHRoaXMgd2hlbiB0aGUgc2hhZGVyID9cbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRpcnR5IHZlcnNpb25cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogdW5pcXVlIGlkXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IFVJRCQyKys7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbmlmb3JtcyB3b250IGJlIGNoYW5nZWQgYWZ0ZXIgY3JlYXRpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGljID0gISFfc3RhdGljO1xuICAgIH1cbiAgICBVbmlmb3JtR3JvdXAucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgfTtcbiAgICBVbmlmb3JtR3JvdXAucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChuYW1lLCB1bmlmb3JtcywgX3N0YXRpYykge1xuICAgICAgICB0aGlzLnVuaWZvcm1zW25hbWVdID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG4gICAgfTtcbiAgICBVbmlmb3JtR3JvdXAuZnJvbSA9IGZ1bmN0aW9uICh1bmlmb3JtcywgX3N0YXRpYykge1xuICAgICAgICByZXR1cm4gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG4gICAgfTtcbiAgICByZXR1cm4gVW5pZm9ybUdyb3VwO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZmlsdGVyIHN0YXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBGaWx0ZXJTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRhcmdldCBvZiB0aGUgZmlsdGVyc1xuICAgICAgICAgKiBXZSBzdG9yZSBmb3IgY2FzZSB3aGVuIGN1c3RvbSBmaWx0ZXIgd2FudHMgdG8ga25vdyB0aGUgZWxlbWVudCBpdCB3YXMgYXBwbGllZCBvblxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXRpYmlsaXR5IHdpdGggUGl4aUpTIHY0IGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVnYWN5ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNvbHV0aW9uIG9mIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuICAgICAgICAvLyBuZXh0IHRocmVlIGZpZWxkcyBhcmUgY3JlYXRlZCBvbmx5IGZvciByb290XG4gICAgICAgIC8vIHJlLWFzc2lnbmVkIGZvciBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFycyB0aGUgc3RhdGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEZpbHRlclN0YXRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN0YXRlO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIGZpbHRlcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgRmlsdGVyU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGaWx0ZXJTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBmaWx0ZXJzIGZvciB0aGUgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRGaWx0ZXJTdGFjayA9IFt7fV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgYSBidW5jaCBvZiBQTzIgdGV4dHVyZXMgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG4gICAgICAgIF90aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUocmVuZGVyZXIudmlldyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHBvb2wgZm9yIHN0b3JpbmcgZmlsdGVyIHN0YXRlcywgc2F2ZSB1cyBjcmVhdGluZyBuZXcgb25lcyBlYWNoIHRpY2tcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZVBvb2wgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdmVyeSBzaW1wbGUgZ2VvbWV0cnkgdXNlZCB3aGVuIGRyYXdpbmcgYSBmaWx0ZXIgZWZmZWN0IHRvIHRoZSBzY3JlZW5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucXVhZCA9IG5ldyBRdWFkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBRdWFkIFVWc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWRVdn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnF1YWRVdiA9IG5ldyBRdWFkVXYoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRlbXBvcmFyeSByZWN0IGZvciBtYXRoc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZSBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hY3RpdmVTdGF0ZSA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB1bmlmb3JtIGdyb3VwIGlzIGF0dGFjaGVkIHRvIGZpbHRlciB1bmlmb3JtcyB3aGVuIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SZWN0YW5nbGV9IG91dHB1dEZyYW1lXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFNpemVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0UGl4ZWxcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0Q2xhbXBcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHJlc29sdXRpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGZpbHRlckFyZWFcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hZDMyQXJyYXl9IGZpbHRlckNsYW1wXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgb3V0cHV0RnJhbWU6IF90aGlzLnRlbXBSZWN0LFxuICAgICAgICAgICAgaW5wdXRTaXplOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgaW5wdXRQaXhlbDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0Q2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgLy8gbGVnYWN5IHZhcmlhYmxlc1xuICAgICAgICAgICAgZmlsdGVyQXJlYTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGZpbHRlckNsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdG8gY2xlYXIgb3V0cHV0IHJlbmRlclRleHR1cmUgaW4gQVVUTy9CTElUIG1vZGUuIFNlZSB7QGxpbmsgUElYSS5DTEVBUl9NT0RFU31cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZvcmNlQ2xlYXIgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9sZCBwYWRkaW5nIGJlaGF2aW9yIGlzIHRvIHVzZSB0aGUgbWF4IGFtb3VudCBpbnN0ZWFkIG9mIHN1bSBwYWRkaW5nLlxuICAgICAgICAgKiBVc2UgdGhpcyBmbGFnIGlmIHlvdSBuZWVkIHRoZSBvbGQgYmVoYXZpb3IuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51c2VNYXhQYWRkaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIG5ldyBmaWx0ZXIgdG8gdGhlIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBmaWx0ZXIgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJbXX0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0YXJnZXQsIGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVQb29sLnBvcCgpIHx8IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgICAgIHZhciBhdXRvRml0ID0gZmlsdGVyc1swXS5hdXRvRml0O1xuICAgICAgICB2YXIgbGVnYWN5ID0gZmlsdGVyc1swXS5sZWdhY3k7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGZpbHRlcnNbaV07XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgbG93ZXN0IHJlc29sdXRpb24uLlxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IE1hdGgubWluKHJlc29sdXRpb24sIGZpbHRlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIHBhZGRpbmcgcmVxdWlyZWQgZm9yIGZpbHRlcnNcbiAgICAgICAgICAgIHBhZGRpbmcgPSB0aGlzLnVzZU1heFBhZGRpbmdcbiAgICAgICAgICAgICAgICAvLyBvbGQgYmVoYXZpb3I6IHVzZSBsYXJnZXN0IGFtb3VudCBvZiBwYWRkaW5nIVxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgocGFkZGluZywgZmlsdGVyLnBhZGRpbmcpXG4gICAgICAgICAgICAgICAgLy8gbmV3IGJlaGF2aW9yOiBzdW0gdGhlIHBhZGRpbmdcbiAgICAgICAgICAgICAgICA6IHBhZGRpbmcgKyBmaWx0ZXIucGFkZGluZztcbiAgICAgICAgICAgIC8vIG9ubHkgYXV0byBmaXQgaWYgYWxsIGZpbHRlcnMgYXJlIGF1dG9maXRcbiAgICAgICAgICAgIGF1dG9GaXQgPSBhdXRvRml0ICYmIGZpbHRlci5hdXRvRml0O1xuICAgICAgICAgICAgbGVnYWN5ID0gbGVnYWN5IHx8IGZpbHRlci5sZWdhY3k7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlclN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbMF0ucmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICAgICAgfVxuICAgICAgICBmaWx0ZXJTdGFjay5wdXNoKHN0YXRlKTtcbiAgICAgICAgc3RhdGUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHN0YXRlLmxlZ2FjeSA9IGxlZ2FjeTtcbiAgICAgICAgc3RhdGUudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0YXJnZXQuZmlsdGVyQXJlYSB8fCB0YXJnZXQuZ2V0Qm91bmRzKHRydWUpKTtcbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUucGFkKHBhZGRpbmcpO1xuICAgICAgICBpZiAoYXV0b0ZpdCkge1xuICAgICAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuZml0KHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcm91bmQgdG8gd2hvbGUgbnVtYmVyIGJhc2VkIG9uIHJlc29sdXRpb25cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY2VpbChyZXNvbHV0aW9uKTtcbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoc3RhdGUuc291cmNlRnJhbWUud2lkdGgsIHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgICAgIHN0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUucmVuZGVyVGV4dHVyZS53aWR0aDtcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSB0aGlzLnRlbXBSZWN0O1xuICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUuc291cmNlRnJhbWUud2lkdGg7XG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChzdGF0ZS5yZW5kZXJUZXh0dXJlLCBzdGF0ZS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBvcHMgb2ZmIHRoZSBmaWx0ZXIgYW5kIGFwcGxpZXMgaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IGZpbHRlclN0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGdsb2JhbFVuaWZvcm1zID0gdGhpcy5nbG9iYWxVbmlmb3Jtcy51bmlmb3JtcztcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMub3V0cHV0RnJhbWUgPSBzdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMucmVzb2x1dGlvbiA9IHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBpbnB1dFNpemUgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFNpemU7XG4gICAgICAgIHZhciBpbnB1dFBpeGVsID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRQaXhlbDtcbiAgICAgICAgdmFyIGlucHV0Q2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuICAgICAgICBpbnB1dFNpemVbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICBpbnB1dFNpemVbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgaW5wdXRTaXplWzJdID0gMS4wIC8gaW5wdXRTaXplWzBdO1xuICAgICAgICBpbnB1dFNpemVbM10gPSAxLjAgLyBpbnB1dFNpemVbMV07XG4gICAgICAgIGlucHV0UGl4ZWxbMF0gPSBpbnB1dFNpemVbMF0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzFdID0gaW5wdXRTaXplWzFdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsyXSA9IDEuMCAvIGlucHV0UGl4ZWxbMF07XG4gICAgICAgIGlucHV0UGl4ZWxbM10gPSAxLjAgLyBpbnB1dFBpeGVsWzFdO1xuICAgICAgICBpbnB1dENsYW1wWzBdID0gMC41ICogaW5wdXRQaXhlbFsyXTtcbiAgICAgICAgaW5wdXRDbGFtcFsxXSA9IDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgICAgIGlucHV0Q2xhbXBbMl0gPSAoc3RhdGUuc291cmNlRnJhbWUud2lkdGggKiBpbnB1dFNpemVbMl0pIC0gKDAuNSAqIGlucHV0UGl4ZWxbMl0pO1xuICAgICAgICBpbnB1dENsYW1wWzNdID0gKHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCAqIGlucHV0U2l6ZVszXSkgLSAoMC41ICogaW5wdXRQaXhlbFszXSk7XG4gICAgICAgIC8vIG9ubHkgdXBkYXRlIHRoZSByZWN0IGlmIGl0cyBsZWdhY3kuLlxuICAgICAgICBpZiAoc3RhdGUubGVnYWN5KSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyQXJlYSA9IGdsb2JhbFVuaWZvcm1zLmZpbHRlckFyZWE7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMl0gPSBzdGF0ZS5zb3VyY2VGcmFtZS54O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVszXSA9IHN0YXRlLnNvdXJjZUZyYW1lLnk7XG4gICAgICAgICAgICBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcbiAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGZpbHRlclN0YWNrW2ZpbHRlclN0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoc3RhdGUucmVuZGVyVGV4dHVyZS5mcmFtZWJ1ZmZlci5tdWx0aXNhbXBsZSA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmxpdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBzdGF0ZS5yZW5kZXJUZXh0dXJlLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgQ0xFQVJfTU9ERVMuQkxFTkQsIHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShzdGF0ZS5yZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmbGlwID0gc3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShmbGlwLndpZHRoLCBmbGlwLmhlaWdodCwgc3RhdGUucmVzb2x1dGlvbik7XG4gICAgICAgICAgICBmbG9wLmZpbHRlckZyYW1lID0gZmxpcC5maWx0ZXJGcmFtZTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmxvcCwgQ0xFQVJfTU9ERVMuQ0xFQVIsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBDTEVBUl9NT0RFUy5CTEVORCwgc3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsaXApO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsb3ApO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3RhdGVQb29sLnB1c2goc3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgYSByZW5kZXJUZXh0dXJlIHdpdGggY29ycmVzcG9uZGluZyBgZmlsdGVyRnJhbWVgLCBjbGVhcnMgaXQgaWYgbW9kZSBjb3JyZXNwb25kcy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gZmlsdGVyVGV4dHVyZSAtIHJlbmRlclRleHR1cmUgdG8gYmluZCwgc2hvdWxkIGJlbG9uZyB0byBmaWx0ZXIgcG9vbCBvciBmaWx0ZXIgc3RhY2tcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IFtjbGVhck1vZGVdIC0gY2xlYXJNb2RlLCBieSBkZWZhdWx0IGl0cyBDTEVBUi9ZRVMuIFNlZSB7QGxpbmsgUElYSS5DTEVBUl9NT0RFU31cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmRBbmRDbGVhciA9IGZ1bmN0aW9uIChmaWx0ZXJUZXh0dXJlLCBjbGVhck1vZGUpIHtcbiAgICAgICAgaWYgKGNsZWFyTW9kZSA9PT0gdm9pZCAwKSB7IGNsZWFyTW9kZSA9IENMRUFSX01PREVTLkNMRUFSOyB9XG4gICAgICAgIGlmIChmaWx0ZXJUZXh0dXJlICYmIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUpIHtcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gdGhpcy50ZW1wUmVjdDtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lLndpZHRoO1xuICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZpbHRlclRleHR1cmUsIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoZmlsdGVyVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvblxuICAgICAgICBpZiAodHlwZW9mIGNsZWFyTW9kZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBjbGVhck1vZGUgPSBjbGVhck1vZGUgPyBDTEVBUl9NT0RFUy5DTEVBUiA6IENMRUFSX01PREVTLkJMRU5EO1xuICAgICAgICAgICAgLy8gZ2V0IGRlcHJlY2F0aW9uIGZ1bmN0aW9uIGZyb20gdXRpbHNcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdVc2UgQ0xFQVJfTU9ERVMgd2hlbiB1c2luZyBjbGVhciBhcHBseUZpbHRlciBvcHRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYXJNb2RlID09PSBDTEVBUl9NT0RFUy5DTEVBUlxuICAgICAgICAgICAgfHwgKGNsZWFyTW9kZSA9PT0gQ0xFQVJfTU9ERVMuQkxJVCAmJiB0aGlzLmZvcmNlQ2xlYXIpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gW2NsZWFyTW9kZV0gLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gKGZpbHRlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHRoaXMuYmluZEFuZENsZWFyKG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgLy8gc2V0IHRoZSB1bmlmb3Jtcy4uXG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy51U2FtcGxlciA9IGlucHV0O1xuICAgICAgICBmaWx0ZXIudW5pZm9ybXMuZmlsdGVyR2xvYmFscyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXM7XG4gICAgICAgIC8vIFRPRE8gbWFrZSBpdCBzbyB0aGF0IHRoZSBvcmRlciBvZiB0aGlzIGRvZXMgbm90IG1hdHRlci4uXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgZG9lcyBhdCB0aGUgbW9tZW50IGNvcyBvZiBnbG9iYWwgdW5pZm9ybXMuXG4gICAgICAgIC8vIHRoZXkgbmVlZCB0byBnZXQgcmVzeW5jZWRcbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KGZpbHRlci5zdGF0ZSk7XG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKGZpbHRlcik7XG4gICAgICAgIGlmIChmaWx0ZXIubGVnYWN5KSB7XG4gICAgICAgICAgICB0aGlzLnF1YWRVdi5tYXAoaW5wdXQuX2ZyYW1lLCBpbnB1dC5maWx0ZXJGcmFtZSk7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZFV2KTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWQpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFX1NUUklQKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgX2lucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfIHRvIHRoaXMgbWF0cml4IHRvIGdldCBfc3ByaXRlIHRleHR1cmUgbm9ybWFsaXplZCBjb29yZGluYXRlc18uXG4gICAgICpcbiAgICAgKiBVc2UgYG91dHB1dE1hdHJpeCAqIHZUZXh0dXJlQ29vcmRgIGluIHRoZSBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHRvIG1hcCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBmdW5jdGlvbiAob3V0cHV0TWF0cml4LCBzcHJpdGUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5hY3RpdmVTdGF0ZSwgc291cmNlRnJhbWUgPSBfYS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSA9IF9hLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIHZhciBvcmlnID0gc3ByaXRlLl90ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIDAsIDAsIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0LCBzb3VyY2VGcmFtZS54LCBzb3VyY2VGcmFtZS55KTtcbiAgICAgICAgdmFyIHdvcmxkVHJhbnNmb3JtID0gc3ByaXRlLndvcmxkVHJhbnNmb3JtLmNvcHlUbyhNYXRyaXguVEVNUF9NQVRSSVgpO1xuICAgICAgICB3b3JsZFRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUoMS4wIC8gb3JpZy53aWR0aCwgMS4wIC8gb3JpZy5oZWlnaHQpO1xuICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcbiAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgRmlsdGVyIFN5c3RlbS5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRob3NlIHRleHR1cmVzIGhhcyB0byBiZSBkZXN0cm95ZWQgYnkgUmVuZGVyVGV4dHVyZVN5c3RlbSBvciBGcmFtZWJ1ZmZlclN5c3RlbVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IDE7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGV4dHJhIHJlbmRlciB0ZXh0dXJlIHRvIHVzZSBpbnNpZGUgY3VycmVudCBmaWx0ZXJcbiAgICAgKiBUbyBiZSBjb21wbGlhbnQgd2l0aCBvbGRlciBmaWx0ZXJzLCB5b3UgY2FuIHVzZSBwYXJhbXMgaW4gYW55IG9yZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW2lucHV0XSAtIHJlbmRlclRleHR1cmUgZnJvbSB3aGljaCBzaXplIGFuZCByZXNvbHV0aW9uIHdpbGwgYmUgY29waWVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSAtIG92ZXJyaWRlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChpbnB1dCwgcmVzb2x1dGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFyIHN3YXAgPSBpbnB1dDtcbiAgICAgICAgICAgIGlucHV0ID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBzd2FwO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0ID0gaW5wdXQgfHwgdGhpcy5hY3RpdmVTdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZmlsdGVyVGV4dHVyZSA9IHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCwgcmVzb2x1dGlvbiB8fCBpbnB1dC5yZXNvbHV0aW9uKTtcbiAgICAgICAgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IGlucHV0LmZpbHRlckZyYW1lO1xuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJldHVybkZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnJldHVyblRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5lbXB0eVBvb2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuY2xlYXIodHJ1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxscyBgdGV4dHVyZVBvb2wucmVzaXplKClgLCBhZmZlY3RzIGZ1bGxTY3JlZW4gcmVuZGVyVGV4dHVyZXNcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5zZXRTY3JlZW5TaXplKHRoaXMucmVuZGVyZXIudmlldyk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhXG4gKiBzeXN0ZW0gcmVuZGVyZXIgcGx1Z2luLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBPYmplY3RSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdHViIG1ldGhvZCB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGVtcHR5IHRoZSBjdXJyZW50XG4gICAgICogYmF0Y2ggYnkgcmVuZGVyaW5nIG9iamVjdHMgbm93LlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZmx1c2ghXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmljIGRlc3RydWN0aW9uIG1ldGhvZCB0aGF0IGZyZWVzIGFsbCByZXNvdXJjZXMuIFRoaXNcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGJ5IHN1YmNsYXNzZXMuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3R1YiBtZXRob2QgdGhhdCBpbml0aWFsaXplcyBhbnkgc3RhdGUgcmVxdWlyZWQgYmVmb3JlXG4gICAgICogcmVuZGVyaW5nIHN0YXJ0cy4gSXQgaXMgZGlmZmVyZW50IGZyb20gdGhlIGBwcmVyZW5kZXJgXG4gICAgICogc2lnbmFsLCB3aGljaCBvY2N1cnMgZXZlcnkgZnJhbWUsIGluIHRoYXQgaXQgaXMgY2FsbGVkXG4gICAgICogd2hlbmV2ZXIgYW4gb2JqZWN0IHJlcXVlc3RzIF90aGlzXyByZW5kZXJlciBzcGVjaWZpY2FsbHkuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBzZXQgdGhlIHNoYWRlci4uXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgcmVuZGVyZXIuIEl0IHNob3VsZCBmcmVlIHVwIGFueSBzdGF0ZSBhbmRcbiAgICAgKiBiZWNvbWUgZG9ybWFudC5cbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogS2VlcHMgdGhlIG9iamVjdCB0byByZW5kZXIuIEl0IGRvZXNuJ3QgaGF2ZSB0byBiZVxuICAgICAqIHJlbmRlcmVkIGltbWVkaWF0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoX29iamVjdCkge1xuICAgICAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdFJlbmRlcmVyO1xufSgpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgYmF0Y2hpbmcuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQmF0Y2hTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhdGNoU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhdGNoU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZW1wdHkgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbXB0eVJlbmRlcmVyID0gbmV3IE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIE9iamVjdFJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudFJlbmRlcmVyID0gX3RoaXMuZW1wdHlSZW5kZXJlcjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gKG9iamVjdFJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZW5kZXJlciA9PT0gb2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gb2JqZWN0UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgaWYgeW91IHdpc2ggdG8gZG8gc29tZSBjdXN0b20gcmVuZGVyaW5nXG4gICAgICogSXQgd2lsbCBiYXNpY2FsbHkgcmVuZGVyIGFueXRoaW5nIHRoYXQgbWF5IGJlIGJhdGNoZWQgdXAgc3VjaCBhcyBzcHJpdGVzXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3lzdGVtIHRvIGFuIGVtcHR5IHJlbmRlcmVyXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5keSBmdW5jdGlvbiBmb3IgYmF0Y2ggcmVuZGVyZXJzOiBjb3BpZXMgYm91bmQgdGV4dHVyZXMgaW4gZmlyc3QgbWF4VGV4dHVyZXMgbG9jYXRpb25zIHRvIGFycmF5XG4gICAgICogc2V0cyBhY3R1YWwgX2JhdGNoTG9jYXRpb24gZm9yIHRoZW1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZVtdfSAtIGFyciBjb3B5IGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIGNvcGllZCBlbGVtZW50c1xuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5jb3B5Qm91bmRUZXh0dXJlcyA9IGZ1bmN0aW9uIChhcnIsIG1heFRleHR1cmVzKSB7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJvdW5kVGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSBtYXhUZXh0dXJlcyAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBib3VuZFRleHR1cmVzW2ldIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAoYXJyW2ldKSB7XG4gICAgICAgICAgICAgICAgYXJyW2ldLl9iYXRjaExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXNzaWducyBiYXRjaCBsb2NhdGlvbnMgdG8gdGV4dHVyZXMgaW4gYXJyYXkgYmFzZWQgb24gYm91bmRUZXh0dXJlcyBzdGF0ZS5cbiAgICAgKiBBbGwgdGV4dHVyZXMgaW4gdGV4QXJyYXkgc2hvdWxkIGhhdmUgYF9iYXRjaEVuYWJsZWQgPSBfYmF0Y2hJZGAsXG4gICAgICogYW5kIHRoZWlyIGNvdW50IHNob3VsZCBiZSBsZXNzIHRoYW4gYG1heFRleHR1cmVzYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaFRleHR1cmVBcnJheX0gdGV4QXJyYXkgLSB0ZXh0dXJlcyB0byBib3VuZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZVtdfSBib3VuZFRleHR1cmVzIC0gY3VycmVudCBzdGF0ZSBvZiBib3VuZCB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiYXRjaElkIC0gbWFya2VyIGZvciBfYmF0Y2hFbmFibGVkIHBhcmFtIG9mIHRleHR1cmVzIGluIHRleEFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFRleHR1cmVzIC0gbnVtYmVyIG9mIHRleHR1cmUgbG9jYXRpb25zIHRvIG1hbmlwdWxhdGVcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuYm91bmRBcnJheSA9IGZ1bmN0aW9uICh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgYmF0Y2hJZCwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdGV4QXJyYXkuZWxlbWVudHMsIGlkcyA9IHRleEFycmF5LmlkcywgY291bnQgPSB0ZXhBcnJheS5jb3VudDtcbiAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXggPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBsb2MgPSB0ZXguX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICBpZiAobG9jID49IDAgJiYgbG9jIDwgbWF4VGV4dHVyZXNcbiAgICAgICAgICAgICAgICAmJiBib3VuZFRleHR1cmVzW2xvY10gPT09IHRleCkge1xuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGxvYztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4VGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm91bmQgPSBib3VuZFRleHR1cmVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZCAmJiBib3VuZC5fYmF0Y2hFbmFibGVkID09PSBiYXRjaElkXG4gICAgICAgICAgICAgICAgICAgICYmIGJvdW5kLl9iYXRjaExvY2F0aW9uID09PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkc1tpXSA9IGo7XG4gICAgICAgICAgICAgICAgdGV4Ll9iYXRjaExvY2F0aW9uID0gajtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2pdID0gdGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgQ09OVEVYVF9VSURfQ09VTlRFUiA9IDA7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgY29udGV4dC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBDb250ZXh0U3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb250ZXh0U3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qIGVzbGludC1lbmFibGUgY2FtZWxjYXNlICovXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29udGV4dFN5c3RlbShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVpdGhlciAxIG9yIDIgdG8gcmVmbGVjdCB0aGUgV2ViR0wgdmVyc2lvbiBiZWluZyB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXh0ZW5zaW9ucyBiZWluZyB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZHJhd19idWZmZXJzfSBkcmF3QnVmZmVycyAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2RlcHRoX3RleHR1cmV9IGRlcHRoVGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge09FU190ZXh0dXJlX2Zsb2F0fSBmbG9hdFRleHR1cmUgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9sb3NlX2NvbnRleHR9IGxvc2VDb250ZXh0IC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3ZlcnRleF9hcnJheV9vYmplY3R9IHZlcnRleEFycmF5T2JqZWN0IC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljfSBhbmlzb3Ryb3BpY0ZpbHRlcmluZyAtIFdlYkdMIHYxIGFuZCB2MiBleHRlbnNpb25cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmV4dGVuc2lvbnMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZlYXR1cmVzIHN1cHBvcnRlZCBieSBjdXJyZW50IGNvbnRleHRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSB1aW50MzJJbmRpY2VzIC0gU3VwcG9ydHMgb2YgMzItYml0IGluZGljZXMgYnVmZmVyXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0cyA9IHtcbiAgICAgICAgICAgIHVpbnQzMkluZGljZXM6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICAvLyBCaW5kIGZ1bmN0aW9uc1xuICAgICAgICBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IF90aGlzLmhhbmRsZUNvbnRleHRMb3N0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQuYmluZChfdGhpcyk7XG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCBfdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGV4dFN5c3RlbS5wcm90b3R5cGUsIFwiaXNMb3N0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB0aGUgY29udGV4dCBpcyBsb3N0XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKCF0aGlzLmdsIHx8IHRoaXMuZ2wuaXNDb250ZXh0TG9zdCgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY29udGV4dCBjaGFuZ2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBuZXcgd2ViZ2wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRF9DT1VOVEVSKys7XG4gICAgICAgIC8vIHJlc3RvcmUgYSBjb250ZXh0IGlmIGl0IHdhcyBwcmV2aW91c2x5IGxvc3RcbiAgICAgICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSAmJiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKSB7XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLnJlc3RvcmVDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaW5pdEZyb21Db250ZXh0ID0gZnVuY3Rpb24gKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUNvbnRleHQoZ2wpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRF9DT1VOVEVSKys7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmVtaXQoZ2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbnRleHQgb3B0aW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmluaXRGcm9tT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuY3JlYXRlQ29udGV4dCh0aGlzLnJlbmRlcmVyLnZpZXcsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmluaXRGcm9tQ29udGV4dChnbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgQ29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbnZhcyB7SFRNTENhbnZhc0VsZW1lbnR9IHRoZSBjYW52YXMgZWxlbWVudCB0aGF0IHdlIHdpbGwgZ2V0IHRoZSBjb250ZXh0IGZyb21cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB7b2JqZWN0fSBBbiBvcHRpb25zIG9iamVjdCB0aGF0IGdldHMgcGFzc2VkIGluIHRvIHRoZSBjYW52YXMgZWxlbWVudCBjb250YWluaW5nIHRoZSBjb250ZXh0IGF0dHJpYnV0ZXNcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0XG4gICAgICogQHJldHVybiB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoY2FudmFzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBnbDtcbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMikge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDE7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5nZXRFeHRlbnNpb25zKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXV0by1wb3B1bGF0ZSB0aGUgZXh0ZW5zaW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmdldEV4dGVuc2lvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRpbWUgdG8gc2V0IHVwIGRlZmF1bHQgZXh0ZW5zaW9ucyB0aGF0IFBpeGkgdXNlcy5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAxKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGRyYXdCdWZmZXJzOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpLFxuICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZXB0aF90ZXh0dXJlJyksXG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQ6IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JyksXG4gICAgICAgICAgICAgICAgdmVydGV4QXJyYXlPYmplY3Q6IGdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ01PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JyksXG4gICAgICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICAgICAgdWludDMyRWxlbWVudEluZGV4OiBnbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIHRleHR1cmVIYWxmRmxvYXRMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAyKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGFuaXNvdHJvcGljRmlsdGVyaW5nOiBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpLFxuICAgICAgICAgICAgICAgIC8vIEZsb2F0cyBhbmQgaGFsZi1mbG9hdHNcbiAgICAgICAgICAgICAgICBjb2xvckJ1ZmZlckZsb2F0OiBnbC5nZXRFeHRlbnNpb24oJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0TG9zdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmVtaXQodGhpcy5nbCk7XG4gICAgfTtcbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMucmVuZGVyZXIudmlldztcbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKTtcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKG51bGwpO1xuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBwb3N0LXJlbmRlciBydW5uZXIgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5nbC5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gUmVuZGVyIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS52YWxpZGF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuICAgICAgICB2YXIgaXNXZWJHbDIgPSAnV2ViR0wyUmVuZGVyaW5nQ29udGV4dCcgaW4gd2luZG93ICYmIGdsIGluc3RhbmNlb2Ygd2luZG93LldlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XG4gICAgICAgIGlmIChpc1dlYkdsMikge1xuICAgICAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAyO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMgaXMgZ29pbmcgdG8gYmUgZmFpcmx5IHNpbXBsZSBmb3Igbm93Li4gYnV0IGF0IGxlYXN0IHdlIGhhdmUgcm9vbSB0byBncm93IVxuICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuc3RlbmNpbCkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiwgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQcm92aWRlZCBXZWJHTCBjb250ZXh0IGRvZXMgbm90IGhhdmUgYSBzdGVuY2lsIGJ1ZmZlciwgbWFza3MgbWF5IG5vdCByZW5kZXIgY29ycmVjdGx5Jyk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4sIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFzdWludDMyID0gaXNXZWJHbDIgfHwgISFnbC5nZXRFeHRlbnNpb24oJ09FU19lbGVtZW50X2luZGV4X3VpbnQnKTtcbiAgICAgICAgdGhpcy5zdXBwb3J0cy51aW50MzJJbmRpY2VzID0gaGFzdWludDMyO1xuICAgICAgICBpZiAoIWhhc3VpbnQzMikge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiwgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdQcm92aWRlZCBXZWJHTCBjb250ZXh0IGRvZXMgbm90IHN1cHBvcnQgMzIgaW5kZXggYnVmZmVyLCBjb21wbGV4IGdyYXBoaWNzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuLCBuby1jb25zb2xlICovXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb250ZXh0U3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBJbnRlcm5hbCBmcmFtZWJ1ZmZlciBmb3IgV2ViR0wgY29udGV4dFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xGcmFtZWJ1ZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHTEZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgZnJhbWVidWZmZXJcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xGcmFtZWJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIgPSBmcmFtZWJ1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0ZW5jaWwrZGVwdGggLCB1c3VhbGx5IGNvc3RzIDMyYml0cyBwZXIgcGl4ZWxcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0ZW5jaWwgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogbGF0ZXN0IGtub3duIHZlcnNpb24gb2YgZnJhbWVidWZmZXJcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogbGF0ZXN0IGtub3duIHZlcnNpb24gb2YgZnJhbWVidWZmZXIgZm9ybWF0XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsYXRlc3Qga25vd24gdmVyc2lvbiBvZiBmcmFtZWJ1ZmZlciBzaXplXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eVNpemUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZWN0ZWQgQUEgc2FtcGxlcyBudW1iZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NU0FBX1FVQUxJVFl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm11bHRpc2FtcGxlID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbiBjYXNlIE1TQUEsIHdlIHVzZSB0aGlzIFJlbmRlcmJ1ZmZlciBpbnN0ZWFkIG9mIGNvbG9yVGV4dHVyZXNbMF0gd2hlbiB3ZSB3cml0ZSBpbmZvXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyYnVmZmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tc2FhQnVmZmVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNhc2Ugd2UgdXNlIE1TQUEsIHRoaXMgaXMgYWN0dWFsIGZyYW1lYnVmZmVyIHRoYXQgaGFzIGNvbG9yVGV4dHVyZXNbMF1cbiAgICAgICAgICogVGhlIGNvbnRlbnRzIG9mIHRoYXQgZnJhbWVidWZmZXIgYXJlIHJlYWQgd2hlbiB3ZSB1c2UgdGhhdCByZW5kZXJUZXh0dXJlIGluIHNwcml0ZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GcmFtZWJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxpdEZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIEdMRnJhbWVidWZmZXI7XG59KCkpO1xuXG52YXIgdGVtcFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoKTtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGZyYW1lYnVmZmVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBGcmFtZWJ1ZmZlclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRnJhbWVidWZmZXJTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRnJhbWVidWZmZXJTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgbWFuYWdlZCBmcmFtZWJ1ZmZlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GcmFtZWJ1ZmZlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyYW1lYnVmZmVyIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7RnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudW5rbm93bkZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKDEwLCAxMCk7XG4gICAgICAgIF90aGlzLm1zYWFTYW1wbGVzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy5oYXNNUlQgPSB0cnVlO1xuICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRyYXdCdWZmZXJzO1xuICAgICAgICAgICAgdmFyIG5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRlcHRoVGV4dHVyZTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb25fMSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbl8xKSB7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSBmdW5jdGlvbiAoYWN0aXZlVGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uXzEuZHJhd0J1ZmZlcnNXRUJHTChhY3RpdmVUZXh0dXJlcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzTVJUID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZURlcHRoVGV4dHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2ViR0wyXG4gICAgICAgICAgICAvLyBjYWNoZSBwb3NzaWJsZSBNU0FBIHNhbXBsZXNcbiAgICAgICAgICAgIHRoaXMubXNhYVNhbXBsZXMgPSBnbC5nZXRJbnRlcm5hbGZvcm1hdFBhcmFtZXRlcihnbC5SRU5ERVJCVUZGRVIsIGdsLlJHQkE4LCBnbC5TQU1QTEVTKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZCBhIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2ZyYW1lXSBmcmFtZSwgZGVmYXVsdCBpcyBmcmFtZWJ1ZmZlciBzaXplXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIsIGZyYW1lKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgLy8gVE9ETyBjYWNoaW5nIGxheWVyIVxuICAgICAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdIHx8IHRoaXMuaW5pdEZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IGZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gZnJhbWVidWZmZXI7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGFsbCB0ZXh0dXJlcyBhcmUgdW5ib3VuZC4uXG4gICAgICAgICAgICAvLyBub3cgY2hlY2sgZm9yIHVwZGF0ZXMuLi5cbiAgICAgICAgICAgIGlmIChmYm8uZGlydHlJZCAhPT0gZnJhbWVidWZmZXIuZGlydHlJZCkge1xuICAgICAgICAgICAgICAgIGZiby5kaXJ0eUlkID0gZnJhbWVidWZmZXIuZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoZmJvLmRpcnR5Rm9ybWF0ICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlGb3JtYXQgPSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZiby5kaXJ0eVNpemUgIT09IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlTaXplID0gZnJhbWVidWZmZXIuZGlydHlTaXplO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4ID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKHRleC5wYXJlbnRUZXh0dXJlQXJyYXkgfHwgdGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLngsIGZyYW1lLnksIGZyYW1lLndpZHRoLCBmcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLngsIGZyYW1lLnksIGZyYW1lLndpZHRoLCBmcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCB0aGlzLnJlbmRlcmVyLndpZHRoLCB0aGlzLnJlbmRlcmVyLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0J3Mgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCAtIFggcG9zaXRpb24gb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSAtIFkgcG9zaXRpb24gb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2Ygdmlld3BvcnRcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuc2V0Vmlld3BvcnQgPSBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgdiA9IHRoaXMudmlld3BvcnQ7XG4gICAgICAgIGlmICh2LndpZHRoICE9PSB3aWR0aCB8fCB2LmhlaWdodCAhPT0gaGVpZ2h0IHx8IHYueCAhPT0geCB8fCB2LnkgIT09IHkpIHtcbiAgICAgICAgICAgIHYueCA9IHg7XG4gICAgICAgICAgICB2LnkgPSB5O1xuICAgICAgICAgICAgdi53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdi5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBjdXJyZW50IHdpZHRoIGFuZCBoZWlnaHQuIFJldHVybnMgb2JqZWN0IHdpdGggYHdpZHRoYCBhbmQgYGhlaWdodGAgdmFsdWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBzdG9yZSB0ZW1wXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMuY3VycmVudC53aWR0aCwgaGVpZ2h0OiB0aGlzLmN1cnJlbnQuaGVpZ2h0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5yZW5kZXJlci53aWR0aCwgaGVpZ2h0OiB0aGlzLnJlbmRlcmVyLmhlaWdodCB9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGNvbG9yIG9mIHRoZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gciAtIFJlZCB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBnIC0gR3JlZW4gdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYiAtIEJsdWUgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYSAtIEFscGhhIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtQSVhJLkJVRkZFUl9CSVRTfSBbbWFzaz1CVUZGRVJfQklUUy5DT0xPUiB8IEJVRkZFUl9CSVRTLkRFUFRIXSAtIEJpdHdpc2UgT1Igb2YgbWFza3NcbiAgICAgKiAgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLCBieSBkZWZhdWx0IENPTE9SIGFuZCBERVBUSCBidWZmZXJzLlxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIChyLCBnLCBiLCBhLCBtYXNrKSB7XG4gICAgICAgIGlmIChtYXNrID09PSB2b2lkIDApIHsgbWFzayA9IEJVRkZFUl9CSVRTLkNPTE9SIHwgQlVGRkVSX0JJVFMuREVQVEg7IH1cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgLy8gVE9ETyBjbGVhciBjb2xvciBjYW4gYmUgc2V0IG9ubHkgb25lIHJpZ2h0P1xuICAgICAgICBnbC5jbGVhckNvbG9yKHIsIGcsIGIsIGEpO1xuICAgICAgICBnbC5jbGVhcihtYXNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJhbWVidWZmZXIgZm9yIHRoaXMgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HTEZyYW1lYnVmZmVyfSBjcmVhdGVkIEdMRnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuaW5pdEZyYW1lYnVmZmVyID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBmYm8gPSBuZXcgR0xGcmFtZWJ1ZmZlcihnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpKTtcbiAgICAgICAgZmJvLm11bHRpc2FtcGxlID0gdGhpcy5kZXRlY3RTYW1wbGVzKGZyYW1lYnVmZmVyLm11bHRpc2FtcGxlKTtcbiAgICAgICAgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF0gPSBmYm87XG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5wdXNoKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgICAgIHJldHVybiBmYm87XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5yZXNpemVGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIGlmIChmYm8uc3RlbmNpbCkge1xuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoY29sb3JUZXh0dXJlc1tpXSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlLCAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUudXBkYXRlRnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAvLyBiaW5kIHRoZSBjb2xvciB0ZXh0dXJlXG4gICAgICAgIHZhciBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcbiAgICAgICAgdmFyIGNvdW50ID0gY29sb3JUZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIGlmICghZ2wuZHJhd0J1ZmZlcnMpIHtcbiAgICAgICAgICAgIGNvdW50ID0gTWF0aC5taW4oY291bnQsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmYm8ubXVsdGlzYW1wbGUgPiAxKSB7XG4gICAgICAgICAgICBmYm8ubXNhYUJ1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5tc2FhQnVmZmVyKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShnbC5SRU5ERVJCVUZGRVIsIGZiby5tdWx0aXNhbXBsZSwgZ2wuUkdCQTgsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5SRU5ERVJCVUZGRVIsIGZiby5tc2FhQnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWN0aXZlVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCAmJiBmYm8ubXVsdGlzYW1wbGUgPiAxKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV07XG4gICAgICAgICAgICB2YXIgcGFyZW50VGV4dHVyZSA9IHRleHR1cmUucGFyZW50VGV4dHVyZUFycmF5IHx8IHRleHR1cmU7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChwYXJlbnRUZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGksIHRleHR1cmUudGFyZ2V0LCBwYXJlbnRUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsIDApO1xuICAgICAgICAgICAgYWN0aXZlVGV4dHVyZXMucHVzaChnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVUZXh0dXJlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBnbC5kcmF3QnVmZmVycyhhY3RpdmVUZXh0dXJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIHdyaXRlRGVwdGhUZXh0dXJlID0gdGhpcy53cml0ZURlcHRoVGV4dHVyZTtcbiAgICAgICAgICAgIGlmICh3cml0ZURlcHRoVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHZhciBkZXB0aFRleHR1cmUgPSBmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZGVwdGhUZXh0dXJlLCAwKTtcbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfQVRUQUNITUVOVCwgZ2wuVEVYVFVSRV8yRCwgZGVwdGhUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZmJvLnN0ZW5jaWwgJiYgKGZyYW1lYnVmZmVyLnN0ZW5jaWwgfHwgZnJhbWVidWZmZXIuZGVwdGgpKSB7XG4gICAgICAgICAgICBmYm8uc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFRPRE8uLiB0aGlzIGlzIGRlcHRoIEFORCBzdGVuY2lsP1xuICAgICAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpIHsgLy8geW91IGNhbid0IGhhdmUgYm90aCwgc28gb25lIHNob3VsZCB0YWtlIHByaW9yaXR5IGlmIGVuYWJsZWRcbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyBudW1iZXIgb2Ygc2FtcGxlcyB0aGF0IGlzIG5vdCBtb3JlIHRoYW4gYSBwYXJhbSBidXQgYXMgY2xvc2UgdG8gaXQgYXMgcG9zc2libGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NU0FBX1FVQUxJVFl9IHNhbXBsZXMgLSBudW1iZXIgb2Ygc2FtcGxlc1xuICAgICAqIEByZXR1cm5zIHtQSVhJLk1TQUFfUVVBTElUWX0gLSByZWNvbW1lbmRlZCBudW1iZXIgb2Ygc2FtcGxlc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5kZXRlY3RTYW1wbGVzID0gZnVuY3Rpb24gKHNhbXBsZXMpIHtcbiAgICAgICAgdmFyIG1zYWFTYW1wbGVzID0gdGhpcy5tc2FhU2FtcGxlcztcbiAgICAgICAgdmFyIHJlcyA9IE1TQUFfUVVBTElUWS5OT05FO1xuICAgICAgICBpZiAoc2FtcGxlcyA8PSAxIHx8IG1zYWFTYW1wbGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNhYVNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChtc2FhU2FtcGxlc1tpXSA8PSBzYW1wbGVzKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gbXNhYVNhbXBsZXNbaV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcyA9PT0gMSkge1xuICAgICAgICAgICAgcmVzID0gTVNBQV9RVUFMSVRZLk5PTkU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9ubHkgd29ya3Mgd2l0aCBXZWJHTDJcbiAgICAgKlxuICAgICAqIGJsaXRzIGZyYW1lYnVmZmVyIHRvIGFub3RoZXIgb2YgdGhlIHNhbWUgb3IgYmlnZ2VyIHNpemVcbiAgICAgKiBhZnRlciB0aGF0IHRhcmdldCBmcmFtZWJ1ZmZlciBpcyBib3VuZFxuICAgICAqXG4gICAgICogRmFpbHMgd2l0aCBXZWJHTCB3YXJuaW5nIGlmIGJsaXRzIG11bHRpc2FtcGxlIGZyYW1lYnVmZmVyIHRvIGRpZmZlcmVudCBzaXplXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IFtmcmFtZWJ1ZmZlcl0gLSBieSBkZWZhdWx0IGl0IGJsaXRzIFwiaW50byBpdHNlbGZcIiwgZnJvbSByZW5kZXJCdWZmZXIgdG8gdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbc291cmNlUGl4ZWxzXSAtIHNvdXJjZSByZWN0YW5nbGUgaW4gcGl4ZWxzXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2Rlc3RQaXhlbHNdIC0gZGVzdCByZWN0YW5nbGUgaW4gcGl4ZWxzLCBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHNvdXJjZVBpeGVsc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5ibGl0ID0gZnVuY3Rpb24gKGZyYW1lYnVmZmVyLCBzb3VyY2VQaXhlbHMsIGRlc3RQaXhlbHMpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgY3VycmVudCA9IF9hLmN1cnJlbnQsIHJlbmRlcmVyID0gX2EucmVuZGVyZXIsIGdsID0gX2EuZ2wsIENPTlRFWFRfVUlEID0gX2EuQ09OVEVYVF9VSUQ7XG4gICAgICAgIGlmIChyZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbiAhPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmYm8gPSBjdXJyZW50LmdsRnJhbWVidWZmZXJzW0NPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFmYm8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAoZmJvLm11bHRpc2FtcGxlIDw9IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWZiby5ibGl0RnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBmYm8uYmxpdEZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKGN1cnJlbnQud2lkdGgsIGN1cnJlbnQuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBmYm8uYmxpdEZyYW1lYnVmZmVyLmFkZENvbG9yVGV4dHVyZSgwLCBjdXJyZW50LmNvbG9yVGV4dHVyZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWVidWZmZXIgPSBmYm8uYmxpdEZyYW1lYnVmZmVyO1xuICAgICAgICAgICAgZnJhbWVidWZmZXIud2lkdGggPSBjdXJyZW50LndpZHRoO1xuICAgICAgICAgICAgZnJhbWVidWZmZXIuaGVpZ2h0ID0gY3VycmVudC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzb3VyY2VQaXhlbHMpIHtcbiAgICAgICAgICAgIHNvdXJjZVBpeGVscyA9IHRlbXBSZWN0YW5nbGU7XG4gICAgICAgICAgICBzb3VyY2VQaXhlbHMud2lkdGggPSBjdXJyZW50LndpZHRoO1xuICAgICAgICAgICAgc291cmNlUGl4ZWxzLmhlaWdodCA9IGN1cnJlbnQuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVzdFBpeGVscykge1xuICAgICAgICAgICAgZGVzdFBpeGVscyA9IHNvdXJjZVBpeGVscztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2FtZVNpemUgPSBzb3VyY2VQaXhlbHMud2lkdGggPT09IGRlc3RQaXhlbHMud2lkdGggJiYgc291cmNlUGl4ZWxzLmhlaWdodCA9PT0gZGVzdFBpeGVscy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuYmluZChmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5SRUFEX0ZSQU1FQlVGRkVSLCBmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICBnbC5ibGl0RnJhbWVidWZmZXIoc291cmNlUGl4ZWxzLngsIHNvdXJjZVBpeGVscy55LCBzb3VyY2VQaXhlbHMud2lkdGgsIHNvdXJjZVBpeGVscy5oZWlnaHQsIGRlc3RQaXhlbHMueCwgZGVzdFBpeGVscy55LCBkZXN0UGl4ZWxzLndpZHRoLCBkZXN0UGl4ZWxzLmhlaWdodCwgZ2wuQ09MT1JfQlVGRkVSX0JJVCwgc2FtZVNpemUgPyBnbC5ORUFSRVNUIDogZ2wuTElORUFSKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGZyYW1lYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlciAtIGZyYW1lYnVmZmVyIHRoYXQgaGFzIHRvIGJlIGRpc3Bvc2VkIG9mXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYWxsIGRlbGV0ZSBmdW5jdGlvbiBjYWxsc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlRnJhbWVidWZmZXIgPSBmdW5jdGlvbiAoZnJhbWVidWZmZXIsIGNvbnRleHRMb3N0KSB7XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKCFmYm8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5pbmRleE9mKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgaWYgKGZiby5zdGVuY2lsKSB7XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgYWxsIGZyYW1lYnVmZmVycywgYnV0IG5vdCB0ZXh0dXJlcyBib3VuZCB0byB0aGVtXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYWxsIGRlbGV0ZSBmdW5jdGlvbiBjYWxsc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlQWxsID0gZnVuY3Rpb24gKGNvbnRleHRMb3N0KSB7XG4gICAgICAgIHZhciBsaXN0ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzO1xuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VGcmFtZWJ1ZmZlcihsaXN0W2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvcmNpbmcgY3JlYXRpb24gb2Ygc3RlbmNpbCBidWZmZXIgZm9yIGN1cnJlbnQgZnJhbWVidWZmZXIsIGlmIGl0IHdhc24ndCBkb25lIGJlZm9yZS5cbiAgICAgKiBVc2VkIGJ5IE1hc2tTeXN0ZW0sIHdoZW4gaXRzIHRpbWUgdG8gdXNlIHN0ZW5jaWwgbWFzayBmb3IgR3JhcGhpY3MgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEl0cyBhbiBhbHRlcm5hdGl2ZSBmb3IgcHVibGljIGxhenkgYGZyYW1lYnVmZmVyLmVuYWJsZVN0ZW5jaWxgLCBpbiBjYXNlIHdlIG5lZWQgc3RlbmNpbCB3aXRob3V0IHJlYmluZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmZvcmNlU3RlbmNpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyYW1lYnVmZmVyID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAoIWZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWZibyB8fCBmYm8uc3RlbmNpbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lYnVmZmVyLmVuYWJsZVN0ZW5jaWwoKTtcbiAgICAgICAgdmFyIHcgPSBmcmFtZWJ1ZmZlci53aWR0aDtcbiAgICAgICAgdmFyIGggPSBmcmFtZWJ1ZmZlci5oZWlnaHQ7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBzdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBzdGVuY2lsKTtcbiAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIHcsIGgpO1xuICAgICAgICBmYm8uc3RlbmNpbCA9IHN0ZW5jaWw7XG4gICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgc3RlbmNpbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXNldHMgZnJhbWVidWZmZXIgc3RvcmVkIHN0YXRlLCBiaW5kcyBzY3JlZW4gZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIHNob3VsZCBiZSBjYWxsZWQgYmVmb3JlIHJlbmRlclRleHR1cmUgcmVzZXQoKVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy51bmtub3duRnJhbWVidWZmZXI7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gRnJhbWVidWZmZXJTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgR0xCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR0xCdWZmZXIoYnVmZmVyKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyIHx8IG51bGw7XG4gICAgICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoID0gLTE7XG4gICAgICAgIHRoaXMucmVmQ291bnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gR0xCdWZmZXI7XG59KCkpO1xuXG52YXIgYnl0ZVNpemVNYXAkMSA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZ2VvbWV0cnkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgR2VvbWV0cnlTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEdlb21ldHJ5U3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdlb21ldHJ5U3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBudWxsO1xuICAgICAgICBfdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB3ZSBoYXMgYCpfdmVydGV4X2FycmF5X29iamVjdGAgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFzVmFvID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBoYXMgYEFOR0xFX2luc3RhbmNlZF9hcnJheXNgIGV4dGVuc2lvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmhhc0luc3RhbmNlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBzdXBwb3J0IGBnbC5VTlNJR05FRF9JTlRgIGluIGBnbC5kcmF3RWxlbWVudHNgIG9yIGBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWRgXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGdlb21ldHJpZXMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYW5hZ2VkR2VvbWV0cmllcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgZm9yIGFsbCBidWZmZXJzIGJ5IGlkLCB1c2VkIGluIGNhc2UgcmVuZGVyZXIgZ2V0cyBkZXN0cm95ZWQgb3IgZm9yIHByb2ZpbGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFuYWdlZEJ1ZmZlcnMgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKGNvbnRleHQud2ViR0xWZXJzaW9uICE9PSAyKSB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgdmFyIG5hdGl2ZVZhb0V4dGVuc2lvbl8xID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMudmVydGV4QXJyYXlPYmplY3Q7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbl8xID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYXRpdmVWYW9FeHRlbnNpb25fMSkge1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uXzEuY3JlYXRlVmVydGV4QXJyYXlPRVMoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbl8xLmJpbmRWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAodmFvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb25fMS5kZWxldGVWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1ZhbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dC53ZWJHTFZlcnNpb24gIT09IDIpIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZUV4dF8xID0gZ2wuZ2V0RXh0ZW5zaW9uKCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2VFeHRfMSkge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS52ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUoYSwgYik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkLCBlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VFeHRfMS5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCA9IGNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyIHx8ICEhY29udGV4dC5leHRlbnNpb25zLnVpbnQzMkVsZW1lbnRJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmRzIGdlb21ldHJ5IHNvIHRoYXQgaXMgY2FuIGJlIGRyYXduLiBDcmVhdGluZyBhIFZhbyBpZiByZXF1aXJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIGluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBbc2hhZGVyXSAtIGluc3RhbmNlIG9mIHNoYWRlciB0byB1c2UgdmFvIGZvclxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBzaGFkZXIpIHtcbiAgICAgICAgc2hhZGVyID0gc2hhZGVyIHx8IHRoaXMucmVuZGVyZXIuc2hhZGVyLnNoYWRlcjtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgLy8gbm90IHN1cmUgdGhlIGJlc3Qgd2F5IHRvIGFkZHJlc3MgdGhpcy4uXG4gICAgICAgIC8vIGN1cnJlbnRseSBkaWZmZXJlbnQgc2hhZGVycyByZXF1aXJlIGRpZmZlcmVudCBWQU9zIGZvciB0aGUgc2FtZSBnZW9tZXRyeVxuICAgICAgICAvLyBTdGlsbCBtdWxsaW5nIG92ZXIgdGhlIGJlc3Qgd2F5IHRvIHNvbHZlIHRoaXMgb25lLi5cbiAgICAgICAgLy8gd2lsbCBsaWtlbHkgbmVlZCB0byBtb2RpZnkgdGhlIHNoYWRlciBhdHRyaWJ1dGUgbG9jYXRpb25zIGF0IHJ1biB0aW1lIVxuICAgICAgICB2YXIgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgaW5jUmVmQ291bnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCF2YW9zKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSA9IGdlb21ldHJ5O1xuICAgICAgICAgICAgZ2VvbWV0cnkuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgICAgICAgICBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXSA9IHZhb3MgPSB7fTtcbiAgICAgICAgICAgIGluY1JlZkNvdW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFvID0gdmFvc1tzaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5pbml0R2VvbWV0cnlWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtLCBpbmNSZWZDb3VudCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gZ2VvbWV0cnk7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVWYW8gIT09IHZhbykge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gdmFvO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzVmFvKSB7XG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAtIG9wdGltaXNlIGxhdGVyIVxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIGxvb3AgdGhyb3VnaCBpZiBub3RoaW5nIGNoYW5nZWQhXG4gICAgICAgIC8vIG1heWJlIGxvb2sgdG8gYWRkIGFuICdhdXRvdXBkYXRlJyB0byBnZW9tZXRyeT9cbiAgICAgICAgdGhpcy51cGRhdGVCdWZmZXJzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCBhbmQgdW5iaW5kIGFueSBhY3RpdmUgVkFPIGFuZCBnZW9tZXRyeVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBidWZmZXJzXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS51cGRhdGVCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9hY3RpdmVHZW9tZXRyeTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1tpXTtcbiAgICAgICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgaWYgKGJ1ZmZlci5fdXBkYXRlSUQgIT09IGdsQnVmZmVyLnVwZGF0ZUlEKSB7XG4gICAgICAgICAgICAgICAgZ2xCdWZmZXIudXBkYXRlSUQgPSBidWZmZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gY2FuIGNhY2hlIHRoaXMgb24gYnVmZmVyISBtYXliZSBhZGRlZCBhIGdldHRlciAvIHNldHRlcj9cbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGJ1ZmZlci5pbmRleCA/IGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSIDogZ2wuQVJSQVlfQlVGRkVSO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBjb3VsZCBjaGFuZ2UgaWYgdGhlIFZBTyBjaGFuZ2VzLi4uXG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byBjb21lIHVwIHdpdGggYSBiZXR0ZXIgd2F5IHRvIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gIT09IGdsQnVmZmVyKVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmJvdW5kQnVmZmVyc1t0eXBlXSA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIodHlwZSwgZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRCdWZmZXIgPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBpZiAoZ2xCdWZmZXIuYnl0ZUxlbmd0aCA+PSBidWZmZXIuZGF0YS5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCBpcyBhbHdheXMgemVybyBmb3Igbm93IVxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJTdWJEYXRhKHR5cGUsIDAsIGJ1ZmZlci5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmF3VHlwZSA9IGJ1ZmZlci5zdGF0aWMgPyBnbC5TVEFUSUNfRFJBVyA6IGdsLkRZTkFNSUNfRFJBVztcbiAgICAgICAgICAgICAgICAgICAgZ2xCdWZmZXIuYnl0ZUxlbmd0aCA9IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEodHlwZSwgYnVmZmVyLmRhdGEsIGRyYXdUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrIGNvbXBhYmlsaXR5IGJldHdlZW4gYSBnZW9tZXRyeSBhbmQgYSBwcm9ncmFtXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gUHJvZ3JhbSBpbnN0YW5jZVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5jaGVja0NvbXBhdGliaWxpdHkgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIHByb2dyYW0pIHtcbiAgICAgICAgLy8gZ2VvbWV0cnkgbXVzdCBoYXZlIGF0IGxlYXN0IGFsbCB0aGUgYXR0cmlidXRlcyB0aGF0IHRoZSBzaGFkZXIgcmVxdWlyZXMuXG4gICAgICAgIHZhciBnZW9tZXRyeUF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaiBpbiBzaGFkZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoIWdlb21ldHJ5QXR0cmlidXRlc1tqXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInNoYWRlciBhbmQgZ2VvbWV0cnkgaW5jb21wYXRpYmxlLCBnZW9tZXRyeSBtaXNzaW5nIHRoZSBcXFwiXCIgKyBqICsgXCJcXFwiIGF0dHJpYnV0ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBnZW9tZXRyeSBhbmQgcHJvZ3JhbSBhbmQgZ2VuZXJhdGVzIGEgdW5pcXVlIHNpZ25hdHVyZSBmb3IgdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSB0byBnZXQgc2lnbmF0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIHRvIHRlc3QgZ2VvbWV0cnkgYWdhaW5zdFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFVuaXF1ZSBzaWduYXR1cmUgb2YgdGhlIGdlb21ldHJ5IGFuZCBwcm9ncmFtXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIHByb2dyYW0pIHtcbiAgICAgICAgdmFyIGF0dHJpYnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcbiAgICAgICAgdmFyIHN0cmluZ3MgPSBbJ2cnLCBnZW9tZXRyeS5pZF07XG4gICAgICAgIGZvciAodmFyIGkgaW4gYXR0cmlicykge1xuICAgICAgICAgICAgaWYgKHNoYWRlckF0dHJpYnV0ZXNbaV0pIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ3Muam9pbignLScpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvciBnZXRzIFZhbyB3aXRoIHRoZSBzYW1lIHN0cnVjdHVyZSBhcyB0aGUgZ2VvbWV0cnkgYW5kIHN0b3JlcyBpdCBvbiB0aGUgZ2VvbWV0cnkuXG4gICAgICogSWYgdmFvIGlzIGNyZWF0ZWQsIGl0IGlzIGJvdW5kIGF1dG9tYXRpY2FsbHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIHRvIGdlbmVyYXRlIFZhbyBmb3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIEluc3RhbmNlIG9mIHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbmNSZWZDb3VudD1mYWxzZV0gLSBJbmNyZW1lbnQgcmVmQ291bnQgb2YgYWxsIGdlb21ldHJ5IGJ1ZmZlcnNcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuaW5pdEdlb21ldHJ5VmFvID0gZnVuY3Rpb24gKGdlb21ldHJ5LCBwcm9ncmFtLCBpbmNSZWZDb3VudCkge1xuICAgICAgICBpZiAoaW5jUmVmQ291bnQgPT09IHZvaWQgMCkgeyBpbmNSZWZDb3VudCA9IHRydWU7IH1cbiAgICAgICAgdGhpcy5jaGVja0NvbXBhdGliaWxpdHkoZ2VvbWV0cnksIHByb2dyYW0pO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgICAgICB2YXIgc2lnbmF0dXJlID0gdGhpcy5nZXRTaWduYXR1cmUoZ2VvbWV0cnksIHByb2dyYW0pO1xuICAgICAgICB2YXIgdmFvT2JqZWN0SGFzaCA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgdmFvID0gdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdO1xuICAgICAgICBpZiAodmFvKSB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgZ2l2ZSB1cyBlYXN5IGFjY2VzcyB0byB0aGUgdmFvXG4gICAgICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuICAgICAgICAgICAgcmV0dXJuIHZhbztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHRlbXBTdHJpZGUgPSB7fTtcbiAgICAgICAgdmFyIHRlbXBTdGFydCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBqIGluIGJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHRlbXBTdHJpZGVbal0gPSAwO1xuICAgICAgICAgICAgdGVtcFN0YXJ0W2pdID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1tqXS5zaXplICYmIHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbal0uc2l6ZSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWF0dHJpYnV0ZXNbal0uc2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlBJWEkgR2VvbWV0cnkgYXR0cmlidXRlICdcIiArIGogKyBcIicgc2l6ZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZCAobGlrZWx5IHRoZSBib3VuZCBzaGFkZXIgZG9lcyBub3QgaGF2ZSB0aGUgYXR0cmlidXRlKVwiKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcFN0cmlkZVthdHRyaWJ1dGVzW2pdLmJ1ZmZlcl0gKz0gYXR0cmlidXRlc1tqXS5zaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGVzW2pdLnR5cGVdO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICB2YXIgYXR0cmliU2l6ZSA9IGF0dHJpYnV0ZS5zaXplO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdHJpZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXJdID09PSBhdHRyaWJTaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGUudHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0cmlkZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlLnN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQgPSB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl07XG4gICAgICAgICAgICAgICAgdGVtcFN0YXJ0W2F0dHJpYnV0ZS5idWZmZXJdICs9IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZS50eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YW8gPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO1xuICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgLy8gZmlyc3QgdXBkYXRlIC0gYW5kIGNyZWF0ZSB0aGUgYnVmZmVycyFcbiAgICAgICAgLy8gb25seSBjcmVhdGUgYSBnbCBidWZmZXIgaWYgaXQgYWN0dWFsbHkgZ2V0c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2ldO1xuICAgICAgICAgICAgaWYgKCFidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgICAgICBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0gPSBuZXcgR0xCdWZmZXIoZ2wuY3JlYXRlQnVmZmVyKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXSA9IGJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5jUmVmQ291bnQpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0ucmVmQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbWFrZSB0aGlzIGEgZGF0YSBvYmplY3Q/XG4gICAgICAgIC8vIGxldHMgd2FpdCB0byBzZWUgaWYgd2UgbmVlZCB0byBmaXJzdCFcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVZhbyhnZW9tZXRyeSwgcHJvZ3JhbSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcbiAgICAgICAgLy8gYWRkIGl0IHRvIHRoZSBjYWNoZSFcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdID0gdmFvO1xuICAgICAgICByZXR1cm4gdmFvO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gYnVmZmVyIC0gYnVmZmVyIHdpdGggZGF0YVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSAtIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyLCBjb250ZXh0TG9zdCkge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF07XG4gICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG4gICAgICAgIGlmICghZ2xCdWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIoZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBnZW9tZXRyeVxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSB3aXRoIGJ1ZmZlcnMuIE9ubHkgVkFPIHdpbGwgYmUgZGlzcG9zZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gLSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBkZWxldGVWZXJ0ZXhBcnJheVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlR2VvbWV0cnkgPSBmdW5jdGlvbiAoZ2VvbWV0cnksIGNvbnRleHRMb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF07XG4gICAgICAgIHZhciB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgZ2VvbWV0cnkuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG4gICAgICAgIGlmICghdmFvcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJ1ZiA9IGJ1ZmZlcnNbaV0uX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGJ1Zi5yZWZDb3VudC0tO1xuICAgICAgICAgICAgaWYgKGJ1Zi5yZWZDb3VudCA9PT0gMCAmJiAhY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VCdWZmZXIoYnVmZmVyc1tpXSwgY29udGV4dExvc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHZhb0lkIGluIHZhb3MpIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgb25seSBzaWduYXR1cmVzLCBldmVyeXRoaW5nIGVsc2UgYXJlIGNvcGllc1xuICAgICAgICAgICAgICAgIGlmICh2YW9JZFswXSA9PT0gJ2cnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YW8gPSB2YW9zW3Zhb0lkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGRpc3Bvc2UgYWxsIFdlYkdMIHJlc291cmNlcyBvZiBhbGwgbWFuYWdlZCBnZW9tZXRyaWVzIGFuZCBidWZmZXJzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIC0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYGdsLmRlbGV0ZWAgY2FsbHNcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUFsbCA9IGZ1bmN0aW9uIChjb250ZXh0TG9zdCkge1xuICAgICAgICB2YXIgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkR2VvbWV0cmllcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VHZW9tZXRyeSh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2FsbFtpXV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRCdWZmZXJzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcih0aGlzLm1hbmFnZWRCdWZmZXJzW2FsbFtpXV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWN0aXZhdGUgdmVydGV4IGFycmF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gU2hhZGVyIHByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuYWN0aXZhdGVWYW8gPSBmdW5jdGlvbiAoZ2VvbWV0cnksIHByb2dyYW0pIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgLy8gZmlyc3QgdXBkYXRlIHRoZSBpbmRleCBidWZmZXIgaWYgd2UgaGF2ZSBvbmUuLlxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0uYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIC8vIGFkZCBhIG5ldyBvbmUhXG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGlmIChwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0pIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJ1ZmZlciAhPT0gZ2xCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RCdWZmZXIgPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLmxvY2F0aW9uO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gaW50cm9kdWNlIHN0YXRlIGFnYWluXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuIG9wdGltaXNlIHRoaXMgZm9yIG9sZGVyIGRldmljZXMgdGhhdCBoYXZlIG5vIFZBT3NcbiAgICAgICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbiwgYXR0cmlidXRlLnNpemUsIGF0dHJpYnV0ZS50eXBlIHx8IGdsLkZMT0FULCBhdHRyaWJ1dGUubm9ybWFsaXplZCwgYXR0cmlidXRlLnN0cmlkZSwgYXR0cmlidXRlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLmluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2FsY3VsYXRlIGluc3RhbmNlIGNvdW50IGJhc2VkIG9mIHRoaXMuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IobG9jYXRpb24sIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdnZW9tZXRyeSBlcnJvciwgR1BVIEluc3RhbmNpbmcgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IHRoZSBnZW9tZXRyeVxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgLSB0aGUgdHlwZSBwcmltaXRpdmUgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplXSAtIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gYmUgcmVuZGVyZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIFN0YXJ0aW5nIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbnN0YW5jZUNvdW50XSAtIHRoZSBudW1iZXIgb2YgaW5zdGFuY2VzIG9mIHRoZSBzZXQgb2YgZWxlbWVudHMgdG8gZXhlY3V0ZVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKHR5cGUsIHNpemUsIHN0YXJ0LCBpbnN0YW5jZUNvdW50KSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICAvLyBUT0RPLi4gdGhpcyBzaG91bGQgbm90IGNoYW5nZSBzbyBtYXliZSBjYWNoZSB0aGUgZnVuY3Rpb24/XG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgdmFyIGJ5dGVTaXplID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgICAgIHZhciBnbFR5cGUgPSBieXRlU2l6ZSA9PT0gMiA/IGdsLlVOU0lHTkVEX1NIT1JUIDogZ2wuVU5TSUdORURfSU5UO1xuICAgICAgICAgICAgaWYgKGJ5dGVTaXplID09PSAyIHx8IChieXRlU2l6ZSA9PT0gNCAmJiB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsVHlwZSwgKHN0YXJ0IHx8IDApICogYnl0ZVNpemUsIGluc3RhbmNlQ291bnQgfHwgMSk7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigndW5zdXBwb3J0ZWQgaW5kZXggYnVmZmVyIHR5cGU6IHVpbnQzMicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdlb21ldHJ5Lmluc3RhbmNlZCkge1xuICAgICAgICAgICAgLy8gVE9ETyBuZWVkIGEgYmV0dGVyIHdheSB0byBjYWxjdWxhdGUgc2l6ZS4uXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzSW5zdGFuY2VkKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXModHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuYmluZC9yZXNldCBldmVyeXRoaW5nXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ2wuYmluZFZlcnRleEFycmF5KG51bGwpO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR2VvbWV0cnlTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIENvbXBvbmVudCBmb3IgbWFza2VkIGVsZW1lbnRzXG4gKlxuICogSG9sZHMgbWFzayBtb2RlIGFuZCB0ZW1wb3JhcnkgZGF0YSBhYm91dCBjdXJyZW50IG1hc2tcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXNrRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgTWFza0RhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbbWFza09iamVjdD1udWxsXSAtIG9iamVjdCB0aGF0IGRlc2NyaWJlcyB0aGUgbWFza1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hc2tEYXRhKG1hc2tPYmplY3QpIHtcbiAgICAgICAgaWYgKG1hc2tPYmplY3QgPT09IHZvaWQgMCkgeyBtYXNrT2JqZWN0ID0gbnVsbDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayB0eXBlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTUFTS19UWVBFU31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IE1BU0tfVFlQRVMuTk9ORTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgd2Uga25vdyB0aGUgbWFzayB0eXBlIGJlZm9yZWhhbmRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvRGV0ZWN0ID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoaWNoIGVsZW1lbnQgd2UgdXNlIHRvIG1hc2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrT2JqZWN0ID0gbWFza09iamVjdCB8fCBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBpdCBiZWxvbmdzIHRvIE1hc2tTeXN0ZW0gcG9vbFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb29sZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRvciBvZiB0aGUgdHlwZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc01hc2tEYXRhID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0ZW5jaWwgY291bnRlciBhYm92ZSB0aGUgbWFzayBpbiBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdGVuY2lsQ291bnRlciA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2lzc29yIGNvdW50ZXIgYWJvdmUgdGhlIG1hc2sgaW4gc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2Npc3NvciBvcGVyYXRpb24gYWJvdmUgdGhlIG1hc2sgaW4gc3RhY2suXG4gICAgICAgICAqIE51bGwgaWYgX3NjaXNzb3JDb3VudGVyIGlzIHplcm8sIHJlY3RhbmdsZSBpbnN0YW5jZSBpZiBwb3NpdGl2ZS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zY2lzc29yUmVjdCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXRlZCBlbGVtZW50LiBUZW1wb3JhcnkgdmFyaWFibGUgc2V0IGJ5IE1hc2tTeXN0ZW1cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmVzZXRzIHRoZSBtYXNrIGRhdGEgYWZ0ZXIgcG9wTWFzaygpXG4gICAgICovXG4gICAgTWFza0RhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wb29sZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWFza09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBNQVNLX1RZUEVTLk5PTkU7XG4gICAgICAgICAgICB0aGlzLmF1dG9EZXRlY3QgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjb3BpZXMgY291bnRlcnMgZnJvbSBtYXNrRGF0YSBhYm92ZSwgY2FsbGVkIGZyb20gcHVzaE1hc2soKVxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YXxudWxsfSBtYXNrQWJvdmVcbiAgICAgKi9cbiAgICBNYXNrRGF0YS5wcm90b3R5cGUuY29weUNvdW50ZXJzT3JSZXNldCA9IGZ1bmN0aW9uIChtYXNrQWJvdmUpIHtcbiAgICAgICAgaWYgKG1hc2tBYm92ZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RlbmNpbENvdW50ZXIgPSBtYXNrQWJvdmUuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSBtYXNrQWJvdmUuX3NjaXNzb3JDb3VudGVyO1xuICAgICAgICAgICAgdGhpcy5fc2Npc3NvclJlY3QgPSBtYXNrQWJvdmUuX3NjaXNzb3JSZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3RlbmNpbENvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5fc2Npc3NvckNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdGhpcy5fc2Npc3NvclJlY3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWFza0RhdGE7XG59KCkpO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHR5cGUge051bWJlcn0gdGhlIHR5cGUsIGNhbiBiZSBlaXRoZXIgVkVSVEVYX1NIQURFUiBvciBGUkFHTUVOVF9TSEFERVJcbiAqIEBwYXJhbSBzcmMge3N0cmluZ30gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn0gdGhlIHNoYWRlclxuICovXG5mdW5jdGlvbiBjb21waWxlU2hhZGVyKGdsLCB0eXBlLCBzcmMpIHtcbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgIHJldHVybiBzaGFkZXI7XG59XG4vKipcbiAqIEBtZXRob2QgY29tcGlsZVByb2dyYW1cbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7T2JqZWN0fSBBbiBhdHRyaWJ1dGUgbG9jYXRpb24gbWFwIHRoYXQgbGV0cyB5b3UgbWFudWFsbHkgc2V0IHRoZSBhdHRyaWJ1dGUgbG9jYXRpb25zXG4gKiBAcmV0dXJuIHtXZWJHTFByb2dyYW19IHRoZSBzaGFkZXIgcHJvZ3JhbVxuICovXG5mdW5jdGlvbiBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zKSB7XG4gICAgdmFyIGdsVmVydFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNyYyk7XG4gICAgdmFyIGdsRnJhZ1NoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTcmMpO1xuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbEZyYWdTaGFkZXIpO1xuICAgIC8vIG9wdGlvbmFsbHksIHNldCB0aGUgYXR0cmlidXRlcyBtYW51YWxseSBmb3IgdGhlIHByb2dyYW0gcmF0aGVyIHRoYW4gbGV0dGluZyBXZWJHTCBkZWNpZGUuLlxuICAgIGlmIChhdHRyaWJ1dGVMb2NhdGlvbnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRyaWJ1dGVMb2NhdGlvbnMpIHtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJ1dGVMb2NhdGlvbnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgIC8vIGlmIGxpbmtpbmcgZmFpbHMsIHRoZW4gbG9nIGFuZCBjbGVhbnVwXG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihnbFZlcnRTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHZlcnRleFNyYyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coZ2xWZXJ0U2hhZGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZ2xGcmFnU2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihmcmFnbWVudFNyYyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coZ2xGcmFnU2hhZGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5lcnJvcignUGl4aS5qcyBFcnJvcjogQ291bGQgbm90IGluaXRpYWxpemUgc2hhZGVyLicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5WQUxJREFURV9TVEFUVVMnLCBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLlZBTElEQVRFX1NUQVRVUykpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdnbC5nZXRFcnJvcigpJywgZ2wuZ2V0RXJyb3IoKSk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgcHJvZ3JhbSBpbmZvIGxvZywgbG9nIGl0XG4gICAgICAgIGlmIChnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSAhPT0gJycpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aS5qcyBXYXJuaW5nOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpJywgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICB9XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHByb2dyYW0gPSBudWxsO1xuICAgIH1cbiAgICAvLyBjbGVhbiB1cCBzb21lIHNoYWRlcnNcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5kZWxldGVTaGFkZXIoZ2xGcmFnU2hhZGVyKTtcbiAgICByZXR1cm4gcHJvZ3JhbTtcbn1cblxuZnVuY3Rpb24gYm9vbGVhbkFycmF5KHNpemUpIHtcbiAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkoc2l6ZSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJheVtpXSA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIEBtZXRob2QgZGVmYXVsdFZhbHVlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfSBUeXBlIG9mIHZhbHVlXG4gKiBAcGFyYW0gc2l6ZSB7TnVtYmVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnZmxvYXQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgJ3ZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiAqIHNpemUpO1xuICAgICAgICBjYXNlICd2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDMgKiBzaXplKTtcbiAgICAgICAgY2FzZSAndmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyRCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyREFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBjYXNlICdpdmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMiAqIHNpemUpO1xuICAgICAgICBjYXNlICdpdmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMyAqIHNpemUpO1xuICAgICAgICBjYXNlICdpdmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoNCAqIHNpemUpO1xuICAgICAgICBjYXNlICdib29sJzpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSAnYnZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgyICogc2l6ZSk7XG4gICAgICAgIGNhc2UgJ2J2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMyAqIHNpemUpO1xuICAgICAgICBjYXNlICdidmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDQgKiBzaXplKTtcbiAgICAgICAgY2FzZSAnbWF0Mic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAxXSk7XG4gICAgICAgIGNhc2UgJ21hdDMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxXSk7XG4gICAgICAgIGNhc2UgJ21hdDQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDFdKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbnZhciB1bmtub3duQ29udGV4dCA9IHt9O1xudmFyIGNvbnRleHQgPSB1bmtub3duQ29udGV4dDtcbi8qKlxuICogcmV0dXJucyBhIGxpdHRsZSBXZWJHTCBjb250ZXh0IHRvIHVzZSBmb3IgcHJvZ3JhbSBpbnNwZWN0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBhIGdsIGNvbnRleHQgdG8gdGVzdCB3aXRoXG4gKi9cbmZ1bmN0aW9uIGdldFRlc3RDb250ZXh0KCkge1xuICAgIGlmIChjb250ZXh0ID09PSB1bmtub3duQ29udGV4dCB8fCAoY29udGV4dCAmJiBjb250ZXh0LmlzQ29udGV4dExvc3QoKSkpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgZ2wgPSB2b2lkIDA7XG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIHt9KVxuICAgICAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7fSk7XG4gICAgICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGZvciBzaGFkZXIgdGVzdGluZy4uXG4gICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0ID0gZ2w7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufVxuXG52YXIgbWF4RnJhZ21lbnRQcmVjaXNpb247XG5mdW5jdGlvbiBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpIHtcbiAgICBpZiAoIW1heEZyYWdtZW50UHJlY2lzaW9uKSB7XG4gICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgdmFyIGdsID0gZ2V0VGVzdENvbnRleHQoKTtcbiAgICAgICAgaWYgKGdsKSB7XG4gICAgICAgICAgICBpZiAoZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNoYWRlckZyYWdtZW50ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuSElHSF9GTE9BVCk7XG4gICAgICAgICAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBzaGFkZXJGcmFnbWVudC5wcmVjaXNpb24gPyBQUkVDSVNJT04uSElHSCA6IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heEZyYWdtZW50UHJlY2lzaW9uO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGZsb2F0IHByZWNpc2lvbiBvbiB0aGUgc2hhZGVyLCBlbnN1cmluZyB0aGUgZGV2aWNlIHN1cHBvcnRzIHRoZSByZXF1ZXN0IHByZWNpc2lvbi5cbiAqIElmIHRoZSBwcmVjaXNpb24gaXMgYWxyZWFkeSBwcmVzZW50LCBpdCBqdXN0IGVuc3VyZXMgdGhhdCB0aGUgZGV2aWNlIGlzIGFibGUgdG8gaGFuZGxlIGl0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIC0gVGhlIHNoYWRlciBzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRQcmVjaXNpb24gLSBUaGUgcmVxdWVzdCBmbG9hdCBwcmVjaXNpb24gb2YgdGhlIHNoYWRlci4gT3B0aW9ucyBhcmUgJ2xvd3AnLCAnbWVkaXVtcCcgb3IgJ2hpZ2hwJy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXhTdXBwb3J0ZWRQcmVjaXNpb24gLSBUaGUgbWF4aW11bSBwcmVjaXNpb24gdGhlIHNoYWRlciBzdXBwb3J0cy5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IG1vZGlmaWVkIHNoYWRlciBzb3VyY2VcbiAqL1xuZnVuY3Rpb24gc2V0UHJlY2lzaW9uKHNyYywgcmVxdWVzdGVkUHJlY2lzaW9uLCBtYXhTdXBwb3J0ZWRQcmVjaXNpb24pIHtcbiAgICBpZiAoc3JjLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpIHtcbiAgICAgICAgLy8gbm8gcHJlY2lzaW9uIHN1cHBsaWVkLCBzbyBQaXhpSlMgd2lsbCBhZGQgdGhlIHJlcXVlc3RlZCBsZXZlbC5cbiAgICAgICAgdmFyIHByZWNpc2lvbiA9IHJlcXVlc3RlZFByZWNpc2lvbjtcbiAgICAgICAgLy8gSWYgaGlnaHAgaXMgcmVxdWVzdGVkIGJ1dCBub3Qgc3VwcG9ydGVkLCBkb3duZ3JhZGUgcHJlY2lzaW9uIHRvIGEgbGV2ZWwgYWxsIGRldmljZXMgc3VwcG9ydC5cbiAgICAgICAgaWYgKHJlcXVlc3RlZFByZWNpc2lvbiA9PT0gUFJFQ0lTSU9OLkhJR0ggJiYgbWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSCkge1xuICAgICAgICAgICAgcHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJwcmVjaXNpb24gXCIgKyBwcmVjaXNpb24gKyBcIiBmbG9hdDtcXG5cIiArIHNyYztcbiAgICB9XG4gICAgZWxzZSBpZiAobWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSCAmJiBzcmMuc3Vic3RyaW5nKDAsIDE1KSA9PT0gJ3ByZWNpc2lvbiBoaWdocCcpIHtcbiAgICAgICAgLy8gcHJlY2lzaW9uIHdhcyBzdXBwbGllZCwgYnV0IGF0IGEgbGV2ZWwgdGhpcyBkZXZpY2UgZG9lcyBub3Qgc3VwcG9ydCwgc28gZG93bmdyYWRpbmcgdG8gbWVkaXVtcC5cbiAgICAgICAgcmV0dXJuIHNyYy5yZXBsYWNlKCdwcmVjaXNpb24gaGlnaHAnLCAncHJlY2lzaW9uIG1lZGl1bXAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHNyYztcbn1cblxudmFyIEdMU0xfVE9fU0laRSA9IHtcbiAgICBmbG9hdDogMSxcbiAgICB2ZWMyOiAyLFxuICAgIHZlYzM6IDMsXG4gICAgdmVjNDogNCxcbiAgICBpbnQ6IDEsXG4gICAgaXZlYzI6IDIsXG4gICAgaXZlYzM6IDMsXG4gICAgaXZlYzQ6IDQsXG4gICAgYm9vbDogMSxcbiAgICBidmVjMjogMixcbiAgICBidmVjMzogMyxcbiAgICBidmVjNDogNCxcbiAgICBtYXQyOiA0LFxuICAgIG1hdDM6IDksXG4gICAgbWF0NDogMTYsXG4gICAgc2FtcGxlcjJEOiAxLFxufTtcbi8qKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgbWFwU2l6ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ31cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gbWFwU2l6ZSh0eXBlKSB7XG4gICAgcmV0dXJuIEdMU0xfVE9fU0laRVt0eXBlXTtcbn1cblxudmFyIEdMX1RBQkxFID0gbnVsbDtcbnZhciBHTF9UT19HTFNMX1RZUEVTID0ge1xuICAgIEZMT0FUOiAnZmxvYXQnLFxuICAgIEZMT0FUX1ZFQzI6ICd2ZWMyJyxcbiAgICBGTE9BVF9WRUMzOiAndmVjMycsXG4gICAgRkxPQVRfVkVDNDogJ3ZlYzQnLFxuICAgIElOVDogJ2ludCcsXG4gICAgSU5UX1ZFQzI6ICdpdmVjMicsXG4gICAgSU5UX1ZFQzM6ICdpdmVjMycsXG4gICAgSU5UX1ZFQzQ6ICdpdmVjNCcsXG4gICAgQk9PTDogJ2Jvb2wnLFxuICAgIEJPT0xfVkVDMjogJ2J2ZWMyJyxcbiAgICBCT09MX1ZFQzM6ICdidmVjMycsXG4gICAgQk9PTF9WRUM0OiAnYnZlYzQnLFxuICAgIEZMT0FUX01BVDI6ICdtYXQyJyxcbiAgICBGTE9BVF9NQVQzOiAnbWF0MycsXG4gICAgRkxPQVRfTUFUNDogJ21hdDQnLFxuICAgIFNBTVBMRVJfMkQ6ICdzYW1wbGVyMkQnLFxuICAgIElOVF9TQU1QTEVSXzJEOiAnc2FtcGxlcjJEJyxcbiAgICBVTlNJR05FRF9JTlRfU0FNUExFUl8yRDogJ3NhbXBsZXIyRCcsXG4gICAgU0FNUExFUl9DVUJFOiAnc2FtcGxlckN1YmUnLFxuICAgIElOVF9TQU1QTEVSX0NVQkU6ICdzYW1wbGVyQ3ViZScsXG4gICAgVU5TSUdORURfSU5UX1NBTVBMRVJfQ1VCRTogJ3NhbXBsZXJDdWJlJyxcbiAgICBTQU1QTEVSXzJEX0FSUkFZOiAnc2FtcGxlcjJEQXJyYXknLFxuICAgIElOVF9TQU1QTEVSXzJEX0FSUkFZOiAnc2FtcGxlcjJEQXJyYXknLFxuICAgIFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEX0FSUkFZOiAnc2FtcGxlcjJEQXJyYXknLFxufTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5mdW5jdGlvbiBtYXBUeXBlKGdsLCB0eXBlKSB7XG4gICAgaWYgKCFHTF9UQUJMRSkge1xuICAgICAgICB2YXIgdHlwZU5hbWVzID0gT2JqZWN0LmtleXMoR0xfVE9fR0xTTF9UWVBFUyk7XG4gICAgICAgIEdMX1RBQkxFID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZU5hbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdG4gPSB0eXBlTmFtZXNbaV07XG4gICAgICAgICAgICBHTF9UQUJMRVtnbFt0bl1dID0gR0xfVE9fR0xTTF9UWVBFU1t0bl07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEdMX1RBQkxFW3R5cGVdO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4vLyBQYXJzZXJzLCBlYWNoIG9uZSBvZiB0aGVzZSB3aWxsIHRha2UgYSBsb29rIGF0IHRoZSB0eXBlIG9mIHNoYWRlciBwcm9wZXJ0eSBhbmQgdW5pZm9ybS5cbi8vIGlmIHRoZXkgcGFzcyB0aGUgdGVzdCBmdW5jdGlvbiB0aGVuIHRoZSBjb2RlIGZ1bmN0aW9uIGlzIGNhbGxlZCB0aGF0IHJldHVybnMgYSB0aGUgc2hhZGVyIHVwbG9hZCBjb2RlIGZvciB0aGF0IHVuaWZvcm0uXG4vLyBTaGFkZXIgdXBsb2FkIGNvZGUgaXMgYXV0b21hZ2ljYWxseSBnZW5lcmF0ZWQgd2l0aCB0aGVzZSBwYXJzZXJzLlxuLy8gSWYgbm8gcGFyc2VyIGlzIHZhbGlkIHRoZW4gdGhlIGRlZmF1bHQgdXBsb2FkIGZ1bmN0aW9ucyBhcmUgdXNlZC5cbi8vIGV4cG9zaW5nIFBhcnNlcnMgbWVhbnMgdGhhdCBjdXN0b20gdXBsb2FkIGxvZ2ljIGNhbiBiZSBhZGRlZCB0byBwaXhpJ3Mgc2hhZGVycy5cbi8vIEEgZ29vZCBleGFtcGxlIHdvdWxkIGJlIGEgcGl4aSByZWN0YW5nbGUgY2FuIGJlIGRpcmVjdGx5IHNldCBvbiBhIHVuaWZvcm0uXG4vLyBJZiB0aGUgc2hhZGVyIHNlZXMgaXQgaXQga25vd3MgaG93IHRvIHVwbG9hZCB0aGUgcmVjdGFuZ2xlIHN0cnVjdHVyZSBhcyBhIHZlYzRcbi8vIGZvcm1hdCBpcyBhcyBmb2xsb3dzOlxuLy9cbi8vIHtcbi8vICAgICB0ZXN0OiAoZGF0YSwgdW5pZm9ybSkgPT4ge30gPC0tLSB0ZXN0IGlzIHRoaXMgY29kZSBzaG91bGQgYmUgdXNlZCBmb3IgdGhpcyB1bmlmb3JtXG4vLyAgICAgY29kZTogKG5hbWUsIHVuaWZvcm0pID0+IHt9IDwtLS0gcmV0dXJucyB0aGUgc3RyaW5nIG9mIHRoZSBwaWVjZSBvZiBjb2RlIHRoYXQgdXBsb2FkcyB0aGUgdW5pZm9ybVxuLy8gfVxudmFyIHVuaWZvcm1QYXJzZXJzID0gW1xuICAgIC8vIGEgZmxvYXQgY2FjaGUgbGF5ZXJcbiAgICB7XG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS50eXBlID09PSAnZmxvYXQnICYmIGRhdGEuc2l6ZSA9PT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgIGlmKHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdICE9PSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZSlcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl1cXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLmxvY2F0aW9uLCB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXSlcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBoYW5kbGluZyBzYW1wbGVyc1xuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICByZXR1cm4gKGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyRCcgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlckN1YmUnIHx8IGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyREFycmF5JykgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBcInQgPSBzeW5jRGF0YS50ZXh0dXJlQ291bnQrKztcXG5cXG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0sIHQpO1xcblxcbiAgICAgICAgICAgIGlmKHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlICE9PSB0KVxcbiAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgdWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0udmFsdWUgPSB0O1xcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHQpO1xcbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXFxuICAgICAgICAgICAgfVwiOyB9LFxuICAgIH0sXG4gICAgLy8gdXBsb2FkaW5nIHBpeGkgbWF0cml4IG9iamVjdCB0byBtYXQzXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ21hdDMnICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiB1bmlmb3JtLmEgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gYW5kIHNvbWUgc21hcnQgY2FjaGluZyBkaXJ0eSBpZHMgaGVyZSFcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIGZhbHNlLCB1dltcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS50b0FycmF5KHRydWUpKTtcXG4gICAgICAgICAgICBcIjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIC8vIHVwbG9hZGluZyBhIHBpeGkgcG9pbnQgYXMgYSB2ZWMyIHdpdGggY2FjaGluZyBsYXllclxuICAgIHtcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGRhdGEsIHVuaWZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDEgJiYgdW5pZm9ybS54ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkpXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHYueCwgdi55KTtcXG4gICAgICAgICAgICAgICAgfVwiO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgLy8gY2FjaGluZyBsYXllciBmb3IgYSB2ZWMyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzInICYmIGRhdGEuc2l6ZSA9PT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHZbMF0sIHZbMV0pO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgXCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyB1cGxvYWQgYSBwaXhpIHJlY3RhbmdsZSBhcyBhIHZlYzQgd2l0aCBjYWNoaW5nIGxheWVyXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSwgdW5pZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzQnICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiB1bmlmb3JtLndpZHRoICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkgfHwgY3ZbMl0gIT09IHYud2lkdGggfHwgY3ZbM10gIT09IHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2LndpZHRoO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2LmhlaWdodDtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtcXFwiXCIgKyBuYW1lICsgXCJcXFwiXS5sb2NhdGlvbiwgdi54LCB2LnksIHYud2lkdGgsIHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB9XCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBhIGNhY2hpbmcgbGF5ZXIgZm9yIHZlYzQgdXBsb2FkaW5nXG4gICAge1xuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEudHlwZSA9PT0gJ3ZlYzQnICYmIGRhdGEuc2l6ZSA9PT0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkW1xcXCJcIiArIG5hbWUgKyBcIlxcXCJdLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXZbXFxcIlwiICsgbmFtZSArIFwiXFxcIl07XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHZbMl07XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHZbM107XFxuXFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWRbXFxcIlwiICsgbmFtZSArIFwiXFxcIl0ubG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pXFxuICAgICAgICAgICAgICAgIH1cIjtcbiAgICAgICAgfSxcbiAgICB9IF07XG5cbi8vIGN2ID0gQ2FjaGVkVmFsdWVcbi8vIHYgPSB2YWx1ZVxuLy8gdWQgPSB1bmlmb3JtRGF0YVxuLy8gdXYgPSB1bmlmb3JtVmFsdWVcbi8vIGwgPSBsb2NhdGlvblxudmFyIEdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEID0ge1xuICAgIGZsb2F0OiBcIlxcbiAgICBpZihjdiAhPT0gdilcXG4gICAge1xcbiAgICAgICAgY3YudiA9IHY7XFxuICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHYpXFxuICAgIH1cIixcbiAgICB2ZWMyOiBcIlxcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgZ2wudW5pZm9ybTJmKGxvY2F0aW9uLCB2WzBdLCB2WzFdKVxcbiAgICB9XCIsXG4gICAgdmVjMzogXCJcXG4gICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0gfHwgY3ZbMl0gIT09IHZbMl0pXFxuICAgIHtcXG4gICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgIGN2WzJdID0gdlsyXTtcXG5cXG4gICAgICAgIGdsLnVuaWZvcm0zZihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSlcXG4gICAgfVwiLFxuICAgIHZlYzQ6ICdnbC51bmlmb3JtNGYobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICBpbnQ6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMjogJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGl2ZWMzOiAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgaXZlYzQ6ICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcbiAgICBib29sOiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICdnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pJyxcbiAgICBidmVjMzogJ2dsLnVuaWZvcm0zaShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSknLFxuICAgIGJ2ZWM0OiAnZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG4gICAgbWF0MjogJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0NDogJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgc2FtcGxlcjJEOiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkRBcnJheTogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxufTtcbnZhciBHTFNMX1RPX0FSUkFZX1NFVFRFUlMgPSB7XG4gICAgZmxvYXQ6IFwiZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWMyOiBcImdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjMzogXCJnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2KVwiLFxuICAgIHZlYzQ6ICdnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2KScsXG4gICAgbWF0NDogJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MjogJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgaW50OiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAnZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMzOiAnZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWM0OiAnZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdiknLFxuICAgIGJvb2w6ICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzM6ICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzQ6ICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEOiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXJDdWJlOiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxufTtcbmZ1bmN0aW9uIGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB1bmlmb3JtRGF0YSkge1xuICAgIHZhciBmdW5jRnJhZ21lbnRzID0gW1wiXFxuICAgICAgICB2YXIgdiA9IG51bGw7XFxuICAgICAgICB2YXIgY3YgPSBudWxsXFxuICAgICAgICB2YXIgdCA9IDA7XFxuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbFxcbiAgICBcIl07XG4gICAgZm9yICh2YXIgaSBpbiBncm91cC51bmlmb3Jtcykge1xuICAgICAgICB2YXIgZGF0YSA9IHVuaWZvcm1EYXRhW2ldO1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS5ncm91cCkge1xuICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAodXZbXFxcIlwiICsgaSArIFwiXFxcIl0sIHN5bmNEYXRhKTtcXG4gICAgICAgICAgICAgICAgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcbiAgICAgICAgdmFyIHBhcnNlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHVuaWZvcm1QYXJzZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAodW5pZm9ybVBhcnNlcnNbal0udGVzdChkYXRhLCB1bmlmb3JtKSkge1xuICAgICAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaCh1bmlmb3JtUGFyc2Vyc1tqXS5jb2RlKGksIHVuaWZvcm0pKTtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyc2VkKSB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVUeXBlID0gKGRhdGEuc2l6ZSA9PT0gMSkgPyBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA6IEdMU0xfVE9fQVJSQVlfU0VUVEVSUztcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoJ2xvY2F0aW9uJywgXCJ1ZFtcXFwiXCIgKyBpICsgXCJcXFwiXS5sb2NhdGlvblwiKTtcbiAgICAgICAgICAgIGZ1bmNGcmFnbWVudHMucHVzaChcIlxcbiAgICAgICAgICAgIGN2ID0gdWRbXFxcIlwiICsgaSArIFwiXFxcIl0udmFsdWU7XFxuICAgICAgICAgICAgdiA9IHV2W1xcXCJcIiArIGkgKyBcIlxcXCJdO1xcbiAgICAgICAgICAgIFwiICsgdGVtcGxhdGUgKyBcIjtcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogdGhlIGludHJvZHVjdGlvbiBvZiBzeW5jRGF0YSBpcyB0byBzb2x2ZSBhbiBpc3N1ZSB3aGVyZSB0ZXh0dXJlcyBpbiB1bmlmb3JtIGdyb3VwcyBhcmUgbm90IHNldCBjb3JyZWN0bHlcbiAgICAgKiB0aGUgdGV4dHVyZSBjb3VudCB3YXMgYWx3YXlzIHN0YXJ0aW5nIGZyb20gMCBpbiBlYWNoIGdyb3VwLiBUaGlzIG5lZWRzIHRvIGluY3JlbWVudCBlYWNoIHRpbWUgYSB0ZXh0dXJlIGlzIHVzZWRcbiAgICAgKiBubyBtYXR0ZXIgd2hpY2ggZ3JvdXAgaXMgYmVpbmcgdXNlZFxuICAgICAqXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbigndWQnLCAndXYnLCAncmVuZGVyZXInLCAnc3luY0RhdGEnLCBmdW5jRnJhZ21lbnRzLmpvaW4oJ1xcbicpKTtcbn1cblxudmFyIGZyYWdUZW1wbGF0ZSA9IFtcbiAgICAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyxcbiAgICAndm9pZCBtYWluKHZvaWQpeycsXG4gICAgJ2Zsb2F0IHRlc3QgPSAwLjE7JyxcbiAgICAnJWZvcmxvb3AlJyxcbiAgICAnZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJ30nIF0uam9pbignXFxuJyk7XG5mdW5jdGlvbiBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpIHtcbiAgICB2YXIgc3JjID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhJZnM7ICsraSkge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpIDwgbWF4SWZzIC0gMSkge1xuICAgICAgICAgICAgc3JjICs9IFwiaWYodGVzdCA9PSBcIiArIGkgKyBcIi4wKXt9XCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNyYztcbn1cbmZ1bmN0aW9uIGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIobWF4SWZzLCBnbCkge1xuICAgIGlmIChtYXhJZnMgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIG9mIGAwYCBwYXNzZWQgdG8gYGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXJgJyk7XG4gICAgfVxuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICB3aGlsZSAodHJ1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICAge1xuICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSBmcmFnVGVtcGxhdGUucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpKTtcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgZnJhZ21lbnRTcmMpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgICAgICBtYXhJZnMgPSAobWF4SWZzIC8gMikgfCAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdmFsaWQhXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4SWZzO1xufVxuXG4vLyBDYWNoZSB0aGUgcmVzdWx0IHRvIHByZXZlbnQgcnVubmluZyB0aGlzIG92ZXIgYW5kIG92ZXJcbnZhciB1bnNhZmVFdmFsO1xuLyoqXG4gKiBOb3QgYWxsIHBsYXRmb3JtcyBhbGxvdyB0byBnZW5lcmF0ZSBmdW5jdGlvbiBjb2RlIChlLmcuLCBgbmV3IEZ1bmN0aW9uYCkuXG4gKiB0aGlzIHByb3ZpZGVzIHRoZSBwbGF0Zm9ybS1sZXZlbCBkZXRlY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiB1bnNhZmVFdmFsU3VwcG9ydGVkKCkge1xuICAgIGlmICh0eXBlb2YgdW5zYWZlRXZhbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiB1bnNhZmVFdmFsO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICB2YXIgZnVuYyA9IG5ldyBGdW5jdGlvbigncGFyYW0xJywgJ3BhcmFtMicsICdwYXJhbTMnLCAncmV0dXJuIHBhcmFtMVtwYXJhbTJdID09PSBwYXJhbTM7Jyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tbmV3LWZ1bmMgKi9cbiAgICAgICAgdW5zYWZlRXZhbCA9IGZ1bmMoeyBhOiAnYicgfSwgJ2EnLCAnYicpID09PSB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB1bnNhZmVFdmFsID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB1bnNhZmVFdmFsO1xufVxuXG52YXIgZGVmYXVsdEZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yICo9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxufVwiO1xuXG52YXIgZGVmYXVsdFZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cXG5cIjtcblxudmFyIFVJRCQzID0gMDtcbnZhciBuYW1lQ2FjaGUgPSB7fTtcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHNoYWRlciBwcm9ncmFtLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFByb2dyYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gTmFtZSBmb3Igc2hhZGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lID09PSB2b2lkIDApIHsgbmFtZSA9ICdwaXhpLXNoYWRlcic7IH1cbiAgICAgICAgdGhpcy5pZCA9IFVJRCQzKys7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmVydGV4IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0VmVydGV4U3JjO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjIHx8IFByb2dyYW0uZGVmYXVsdEZyYWdtZW50U3JjO1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHRoaXMudmVydGV4U3JjLnRyaW0oKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHRoaXMuZnJhZ21lbnRTcmMudHJpbSgpO1xuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhTcmMuc3Vic3RyaW5nKDAsIDgpICE9PSAnI3ZlcnNpb24nKSB7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXHMrL2csICctJyk7XG4gICAgICAgICAgICBpZiAobmFtZUNhY2hlW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgbmFtZUNhY2hlW25hbWVdKys7XG4gICAgICAgICAgICAgICAgbmFtZSArPSBcIi1cIiArIG5hbWVDYWNoZVtuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5hbWVDYWNoZVtuYW1lXSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IFwiI2RlZmluZSBTSEFERVJfTkFNRSBcIiArIG5hbWUgKyBcIlxcblwiICsgdGhpcy52ZXJ0ZXhTcmM7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gXCIjZGVmaW5lIFNIQURFUl9OQU1FIFwiICsgbmFtZSArIFwiXFxuXCIgKyB0aGlzLmZyYWdtZW50U3JjO1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSBzZXRQcmVjaXNpb24odGhpcy52ZXJ0ZXhTcmMsIHNldHRpbmdzLlBSRUNJU0lPTl9WRVJURVgsIFBSRUNJU0lPTi5ISUdIKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBzZXRQcmVjaXNpb24odGhpcy5mcmFnbWVudFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5ULCBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjdXJyZW50bHkgdGhpcyBkb2VzIG5vdCBleHRyYWN0IHN0cnVjdHMgb25seSBkZWZhdWx0IHR5cGVzXG4gICAgICAgIHRoaXMuZXh0cmFjdERhdGEodGhpcy52ZXJ0ZXhTcmMsIHRoaXMuZnJhZ21lbnRTcmMpO1xuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHN0b3JlIHNoYWRlciByZWZlcmVuY2VzLi5cbiAgICAgICAgdGhpcy5nbFByb2dyYW1zID0ge307XG4gICAgICAgIHRoaXMuc3luY1VuaWZvcm1zID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGRhdGEgZm9yIGEgYnV5IGNyZWF0aW5nIGEgc21hbGwgdGVzdCBwcm9ncmFtXG4gICAgICogb3IgcmVhZGluZyB0aGUgc3JjIGRpcmVjdGx5LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICovXG4gICAgUHJvZ3JhbS5wcm90b3R5cGUuZXh0cmFjdERhdGEgPSBmdW5jdGlvbiAodmVydGV4U3JjLCBmcmFnbWVudFNyYykge1xuICAgICAgICB2YXIgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuICAgICAgICBpZiAoZ2wpIHtcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVEYXRhID0gdGhpcy5nZXRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIGdsKTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB0aGlzLmdldFVuaWZvcm1EYXRhKHByb2dyYW0sIGdsKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0ge307XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgYXR0cmlidXRlIGRhdGEgZnJvbSB0aGUgcHJvZ3JhbVxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIFdlYkdMIHByb2dyYW1cbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gW2dsXSAtIHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgYXR0cmlidXRlIGRhdGEgZm9yIHRoaXMgcHJvZ3JhbVxuICAgICAqL1xuICAgIFByb2dyYW0ucHJvdG90eXBlLmdldEF0dHJpYnV0ZURhdGEgPSBmdW5jdGlvbiAocHJvZ3JhbSwgZ2wpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXNBcnJheSA9IFtdO1xuICAgICAgICB2YXIgdG90YWxBdHRyaWJ1dGVzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxBdHRyaWJ1dGVzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJEYXRhID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGkpO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCBhdHRyaWJEYXRhLnR5cGUpO1xuICAgICAgICAgICAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBhdHRyaWJEYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogbWFwU2l6ZSh0eXBlKSxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dHJpYkRhdGEubmFtZV0gPSBkYXRhO1xuICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5LnB1c2goZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlidXRlc0FycmF5LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChhLm5hbWUgPiBiLm5hbWUpID8gMSA6IC0xOyB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25mdXNpbmctYXJyb3dcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNBcnJheVtpXS5sb2NhdGlvbiA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSB1bmlmb3JtIGRhdGEgZnJvbSB0aGUgcHJvZ3JhbVxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3dlYkdMLXByb2dyYW19IFtwcm9ncmFtXSAtIHRoZSB3ZWJnbCBwcm9ncmFtXG4gICAgICogQHBhcmFtIHtjb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSB1bmlmb3JtIGRhdGEgZm9yIHRoaXMgcHJvZ3JhbVxuICAgICAqL1xuICAgIFByb2dyYW0ucHJvdG90eXBlLmdldFVuaWZvcm1EYXRhID0gZnVuY3Rpb24gKHByb2dyYW0sIGdsKSB7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHt9O1xuICAgICAgICB2YXIgdG90YWxVbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcbiAgICAgICAgLy8gVE9ETyBleHBvc2UgdGhpcyBhcyBhIHByb3A/XG4gICAgICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG4gICAgICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxVbmlmb3JtczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdW5pZm9ybURhdGEgPSBnbC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0sIGkpO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSB1bmlmb3JtRGF0YS5uYW1lLnJlcGxhY2UoL1xcWy4qP1xcXSQvLCAnJyk7XG4gICAgICAgICAgICB2YXIgaXNBcnJheSA9IHVuaWZvcm1EYXRhLm5hbWUubWF0Y2goL1xcWy4qP1xcXSQvKTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgdW5pZm9ybURhdGEudHlwZSk7XG4gICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICB1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIHNpemU6IHVuaWZvcm1EYXRhLnNpemUsXG4gICAgICAgICAgICAgICAgaXNBcnJheTogaXNBcnJheSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKHR5cGUsIHVuaWZvcm1EYXRhLnNpemUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5pZm9ybXM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvZ3JhbSwgXCJkZWZhdWx0VmVydGV4U3JjXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvZ3JhbSwgXCJkZWZhdWx0RnJhZ21lbnRTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgZnVuY3Rpb24gdG8gY3JlYXRlIGEgcHJvZ3JhbSBiYXNlZCBvZiBhIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVyXG4gICAgICogdGhpcyBtZXRob2Qgd2lsbCBhbHNvIGNoZWNrIHRvIHNlZSBpZiB0aGVyZSBpcyBhIGNhY2hlZCBwcm9ncmFtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWU9cGl4aS1zaGFkZXJdIC0gTmFtZSBmb3Igc2hhZGVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5Qcm9ncmFtfSBhbiBzaGlueSBuZXcgUGl4aSBzaGFkZXIhXG4gICAgICovXG4gICAgUHJvZ3JhbS5mcm9tID0gZnVuY3Rpb24gKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpIHtcbiAgICAgICAgdmFyIGtleSA9IHZlcnRleFNyYyArIGZyYWdtZW50U3JjO1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW1DYWNoZVtrZXldO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIFByb2dyYW1DYWNoZVtrZXldID0gcHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9ncmFtO1xuICAgIH07XG4gICAgcmV0dXJuIFByb2dyYW07XG59KCkpO1xuXG4vKipcbiAqIEEgaGVscGVyIGNsYXNzIGZvciBzaGFkZXJzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2hhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBbcHJvZ3JhbV0gLSBUaGUgcHJvZ3JhbSB0aGUgc2hhZGVyIHdpbGwgdXNlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvZ3JhbSB0aGF0IHRoZSBzaGFkZXIgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlByb2dyYW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAvLyBsZXRzIHNlZSB3aGF0cyBiZWVuIHBhc3NlZCBpblxuICAgICAgICAvLyB1bmlmb3JtcyBzaG91bGQgYmUgY29udmVydGVkIHRvIGEgdW5pZm9ybSBncm91cFxuICAgICAgICBpZiAodW5pZm9ybXMpIHtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtcyBpbnN0YW5jZW9mIFVuaWZvcm1Hcm91cCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gdW5pZm9ybXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSBuZXcgVW5pZm9ybUdyb3VwKHt9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aW1lIHRvIGJ1aWxkIHNvbWUgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgLy8gSSBndWVzcyBkb3duIHRoZSBsaW5lIHRoaXMgY291bGQgc29ydCBvZiBnZW5lcmF0ZSBhbiBpbnN0cnVjdGlvbiBsaXN0IHJhdGhlciB0aGFuIHVzZSBkaXJ0eSBpZHM/XG4gICAgICAgIC8vIGRvZXMgdGhlIHRyaWNrIGZvciBub3cgdGhvdWdoIVxuICAgICAgICBmb3IgKHZhciBpIGluIHByb2dyYW0udW5pZm9ybURhdGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0gPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPIG1vdmUgdG8gc2hhZGVyIHN5c3RlbS4uXG4gICAgU2hhZGVyLnByb3RvdHlwZS5jaGVja1VuaWZvcm1FeGlzdHMgPSBmdW5jdGlvbiAobmFtZSwgZ3JvdXApIHtcbiAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW25hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKSB7XG4gICAgICAgICAgICB2YXIgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuICAgICAgICAgICAgaWYgKHVuaWZvcm0uZ3JvdXApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1VuaWZvcm1FeGlzdHMobmFtZSwgdW5pZm9ybSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFNoYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdXNhZ2UgY291bnQgb24gcHJvZ3JhbXM/XG4gICAgICAgIC8vIHJlbW92ZSBpZiBub3QgdXNlZCFcbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNoYWRlci5wcm90b3R5cGUsIFwidW5pZm9ybXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hhZGVyIHVuaWZvcm0gdmFsdWVzLCBzaG9ydGN1dCBmb3IgYHVuaWZvcm1Hcm91cC51bmlmb3Jtc2BcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHNoYWRlciBiYXNlZCBvZiBhIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuU2hhZGVyfSBhbiBzaGlueSBuZXcgUGl4aSBzaGFkZXIhXG4gICAgICovXG4gICAgU2hhZGVyLmZyb20gPSBmdW5jdGlvbiAodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpIHtcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIHJldHVybiBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICB9O1xuICAgIHJldHVybiBTaGFkZXI7XG59KCkpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG52YXIgQkxFTkQgPSAwO1xudmFyIE9GRlNFVCA9IDE7XG52YXIgQ1VMTElORyA9IDI7XG52YXIgREVQVEhfVEVTVCA9IDM7XG52YXIgV0lORElORyA9IDQ7XG4vKipcbiAqIFRoaXMgaXMgYSBXZWJHTCBzdGF0ZSwgYW5kIGlzIGlzIHBhc3NlZCBUaGUgV2ViR0wgU3RhdGVNYW5hZ2VyLlxuICpcbiAqIEVhY2ggbWVzaCByZW5kZXJlZCBtYXkgcmVxdWlyZSBXZWJHTCB0byBiZSBpbiBhIGRpZmZlcmVudCBzdGF0ZS5cbiAqIEZvciBleGFtcGxlIHlvdSBtYXkgd2FudCBkaWZmZXJlbnQgYmxlbmQgbW9kZSBvciB0byBlbmFibGUgcG9seWdvbiBvZmZzZXRzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IDA7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgLy8gIHRoaXMuZGVwdGhUZXN0ID0gdHJ1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJibGVuZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgYmxlbmRpbmcgb2YgdGhlIGNvbXB1dGVkIGZyYWdtZW50IGNvbG9yIHZhbHVlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBCTEVORCkpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBCTEVORCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcIm9mZnNldHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGVzIGFkZGluZyBhbiBvZmZzZXQgdG8gZGVwdGggdmFsdWVzIG9mIHBvbHlnb24ncyBmcmFnbWVudHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBPRkZTRVQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJjdWxsaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBjdWxsaW5nIG9mIHBvbHlnb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IENVTExJTkcpKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQ1VMTElORyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGUucHJvdG90eXBlLCBcImRlcHRoVGVzdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IERFUFRIX1RFU1QpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSkgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IERFUFRIX1RFU1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJjbG9ja3dpc2VGcm9udEZhY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORykpICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBXSU5ESU5HKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZS5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgd2hlbiB0aGlzIHN0YXRlIGlzIHNldC4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKiBTZXR0aW5nIHRoaXMgbW9kZSB0byBhbnl0aGluZyBvdGhlciB0aGFuIE5PX0JMRU5EIHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggYmxlbmRpbmcgb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsZW5kID0gKHZhbHVlICE9PSBCTEVORF9NT0RFUy5OT05FKTtcbiAgICAgICAgICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlLnByb3RvdHlwZSwgXCJwb2x5Z29uT2Zmc2V0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb2x5Z29uIG9mZnNldC4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIGFueXRoaW5nIG90aGVyIHRoYW4gMCB3aWxsIGF1dG9tYXRpY2FsbHkgZW5hYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9seWdvbk9mZnNldDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9wb2x5Z29uT2Zmc2V0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdGF0ZS5mb3IyZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIHN0YXRlLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZTtcbn0oKSk7XG5cbnZhciBkZWZhdWx0VmVydGV4JDEgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxudmFyIGRlZmF1bHRGcmFnbWVudCQxID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG59XFxuXCI7XG5cbi8qKlxuICogRmlsdGVyIGlzIGEgc3BlY2lhbCB0eXBlIG9mIFdlYkdMIHNoYWRlciB0aGF0IGlzIGFwcGxpZWQgdG8gdGhlIHNjcmVlbi5cbiAqXG4gKiB7QGxpbmsgaHR0cDovL3BpeGlqcy5pby9leGFtcGxlcy8jL2ZpbHRlcnMvYmx1ci1maWx0ZXIuanMgRXhhbXBsZX0gb2YgdGhlXG4gKiB7QGxpbmsgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIgQmx1ckZpbHRlcn0uXG4gKlxuICogIyMjIFVzYWdlXG4gKiBGaWx0ZXJzIGNhbiBiZSBhcHBsaWVkIHRvIGFueSBEaXNwbGF5T2JqZWN0IG9yIENvbnRhaW5lci5cbiAqIFBpeGlKUycgYEZpbHRlclN5c3RlbWAgcmVuZGVycyB0aGUgY29udGFpbmVyIGludG8gdGVtcG9yYXJ5IEZyYW1lYnVmZmVyLFxuICogdGhlbiBmaWx0ZXIgcmVuZGVycyBpdCB0byB0aGUgc2NyZWVuLlxuICogTXVsdGlwbGUgZmlsdGVycyBjYW4gYmUgYWRkZWQgdG8gdGhlIGBmaWx0ZXJzYCBhcnJheSBwcm9wZXJ0eSBhbmQgc3RhY2tlZCBvbiBlYWNoIG90aGVyLlxuICpcbiAqIGBgYFxuICogY29uc3QgZmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG15U2hhZGVyVmVydCwgbXlTaGFkZXJGcmFnLCB7IG15VW5pZm9ybTogMC41IH0pO1xuICogY29uc3QgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuZmlsdGVycyA9IFtmaWx0ZXJdO1xuICogYGBgXG4gKlxuICogIyMjIFByZXZpb3VzIFZlcnNpb24gRGlmZmVyZW5jZXNcbiAqXG4gKiBJbiBQaXhpSlMgKip2MyoqLCBhIGZpbHRlciB3YXMgYWx3YXlzIGFwcGxpZWQgdG8gX3dob2xlIHNjcmVlbl8uXG4gKlxuICogSW4gUGl4aUpTICoqdjQqKiwgYSBmaWx0ZXIgY2FuIGJlIGFwcGxpZWQgX29ubHkgcGFydCBvZiB0aGUgc2NyZWVuXy5cbiAqIERldmVsb3BlcnMgaGFkIHRvIGNyZWF0ZSBhIHNldCBvZiB1bmlmb3JtcyB0byBkZWFsIHdpdGggY29vcmRpbmF0ZXMuXG4gKlxuICogSW4gUGl4aUpTICoqdjUqKiBjb21iaW5lcyBfYm90aCBhcHByb2FjaGVzXy5cbiAqIERldmVsb3BlcnMgY2FuIHVzZSBub3JtYWwgY29vcmRpbmF0ZXMgb2YgdjMgYW5kIHRoZW4gYWxsb3cgZmlsdGVyIHRvIHVzZSBwYXJ0aWFsIEZyYW1lYnVmZmVycyxcbiAqIGJyaW5naW5nIHRob3NlIGV4dHJhIHVuaWZvcm1zIGludG8gYWNjb3VudC5cbiAqXG4gKiBBbHNvIGJlIGF3YXJlIHRoYXQgd2UgaGF2ZSBjaGFuZ2VkIGRlZmF1bHQgdmVydGV4IHNoYWRlciwgcGxlYXNlIGNvbnN1bHRcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqICMjIyBCdWlsdC1pbiBVbmlmb3Jtc1xuICpcbiAqIFBpeGlKUyB2aWV3cG9ydCB1c2VzIHNjcmVlbiAoQ1NTKSBjb29yZGluYXRlcywgYCgwLCAwLCByZW5kZXJlci5zY3JlZW4ud2lkdGgsIHJlbmRlcmVyLnNjcmVlbi5oZWlnaHQpYCxcbiAqIGFuZCBgcHJvamVjdGlvbk1hdHJpeGAgdW5pZm9ybSBtYXBzIGl0IHRvIHRoZSBnbCB2aWV3cG9ydC5cbiAqXG4gKiAqKnVTYW1wbGVyKipcbiAqXG4gKiBUaGUgbW9zdCBpbXBvcnRhbnQgdW5pZm9ybSBpcyB0aGUgaW5wdXQgdGV4dHVyZSB0aGF0IGNvbnRhaW5lciB3YXMgcmVuZGVyZWQgaW50by5cbiAqIF9JbXBvcnRhbnQgbm90ZTogYXMgd2l0aCBhbGwgRnJhbWVidWZmZXJzIGluIFBpeGlKUywgYm90aCBpbnB1dCBhbmQgb3V0cHV0IGFyZVxuICogcHJlbXVsdGlwbGllZCBieSBhbHBoYS5fXG4gKlxuICogQnkgZGVmYXVsdCwgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlcyBhcmUgcGFzc2VkIHRvIGZyYWdtZW50IHNoYWRlciB3aXRoIGB2VGV4dHVyZUNvb3JkYC5cbiAqIFVzZSBpdCB0byBzYW1wbGUgdGhlIGlucHV0LlxuICpcbiAqIGBgYFxuICogY29uc3QgZnJhZ21lbnQgPSBgXG4gKiB2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcbiAqIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xuICogdm9pZCBtYWluKHZvaWQpXG4gKiB7XG4gKiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xuICogfVxuICogYDtcbiAqXG4gKiBjb25zdCBteUZpbHRlciA9IG5ldyBQSVhJLkZpbHRlcihudWxsLCBmcmFnbWVudCk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGZpbHRlciBpcyBqdXN0IG9uZSB1bmlmb3JtIGxlc3MgdGhhbiB7QGxpbmsgUElYSS5maWx0ZXJzLkFscGhhRmlsdGVyIEFscGhhRmlsdGVyfS5cbiAqXG4gKiAqKm91dHB1dEZyYW1lKipcbiAqXG4gKiBUaGUgYG91dHB1dEZyYW1lYCBob2xkcyB0aGUgcmVjdGFuZ2xlIHdoZXJlIGZpbHRlciBpcyBhcHBsaWVkIGluIHNjcmVlbiAoQ1NTKSBjb29yZGluYXRlcy5cbiAqIEl0J3MgdGhlIHNhbWUgYXMgYHJlbmRlcmVyLnNjcmVlbmAgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKiBPbmx5IGEgcGFydCBvZiAgYG91dHB1dEZyYW1lLnp3YCBzaXplIG9mIHRlbXBvcmFyeSBGcmFtZWJ1ZmZlciBpcyB1c2VkLFxuICogYCgwLCAwLCBvdXRwdXRGcmFtZS53aWR0aCwgb3V0cHV0RnJhbWUuaGVpZ2h0KWAsXG4gKlxuICogRmlsdGVycyB1c2VzIHRoaXMgcXVhZCB0byBub3JtYWxpemVkICgwLTEpIHNwYWNlLCBpdHMgcGFzc2VkIGludG8gYGFWZXJ0ZXhQb3NpdGlvbmAgYXR0cmlidXRlLlxuICogVG8gY2FsY3VsYXRlIHZlcnRleCBwb3NpdGlvbiBpbiBzY3JlZW4gc3BhY2UgdXNpbmcgbm9ybWFsaXplZCAoMC0xKSBzcGFjZTpcbiAqXG4gKiBgYGBcbiAqIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxuICoge1xuICogICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xuICogICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICoqaW5wdXRTaXplKipcbiAqXG4gKiBUZW1wb3JhcnkgZnJhbWVidWZmZXIgaXMgZGlmZmVyZW50LCBpdCBjYW4gYmUgZWl0aGVyIHRoZSBzaXplIG9mIHNjcmVlbiwgZWl0aGVyIHBvd2VyLW9mLXR3by5cbiAqIFRoZSBgaW5wdXRTaXplLnh5YCBhcmUgc2l6ZSBvZiB0ZW1wb3JhcnkgZnJhbWVidWZmZXIgdGhhdCBob2xkcyBpbnB1dC5cbiAqIFRoZSBgaW5wdXRTaXplLnp3YCBpcyBpbnZlcnRlZCwgaXQncyBhIHNob3J0Y3V0IHRvIGV2YWRlIGRpdmlzaW9uIGluc2lkZSB0aGUgc2hhZGVyLlxuICpcbiAqIFNldCBgaW5wdXRTaXplLnh5ID0gb3V0cHV0RnJhbWUuendgIGZvciBhIGZ1bGxzY3JlZW4gZmlsdGVyLlxuICpcbiAqIFRvIGNhbGN1bGF0ZSBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGUsIHlvdSBoYXZlIHRvIG1hcCBpdCB0byBmaWx0ZXIgbm9ybWFsaXplZCBzcGFjZS5cbiAqIE11bHRpcGx5IGJ5IGBvdXRwdXRGcmFtZS56d2AgdG8gZ2V0IGlucHV0IGNvb3JkaW5hdGUuXG4gKiBEaXZpZGUgYnkgYGlucHV0U2l6ZS54eWAgdG8gZ2V0IGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZS5cbiAqXG4gKiBgYGBcbiAqIHZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcbiAqIHtcbiAqICAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTsgLy8gc2FtZSBhcyAvaW5wdXRTaXplLnh5XG4gKiB9XG4gKiBgYGBcbiAqICoqcmVzb2x1dGlvbioqXG4gKlxuICogVGhlIGByZXNvbHV0aW9uYCBpcyB0aGUgcmF0aW8gb2Ygc2NyZWVuIChDU1MpIHBpeGVscyB0byByZWFsIHBpeGVscy5cbiAqXG4gKiAqKmlucHV0UGl4ZWwqKlxuICpcbiAqIGBpbnB1dFBpeGVsLnh5YCBpcyB0aGUgc2l6ZSBvZiBmcmFtZWJ1ZmZlciBpbiByZWFsIHBpeGVscywgc2FtZSBhcyBgaW5wdXRTaXplLnh5ICogcmVzb2x1dGlvbmBcbiAqIGBpbnB1dFBpeGVsLnp3YCBpcyBpbnZlcnRlZCBgaW5wdXRQaXhlbC54eWAuXG4gKlxuICogSXQncyBoYW5keSBmb3IgZmlsdGVycyB0aGF0IHVzZSBuZWlnaGJvdXIgcGl4ZWxzLCBsaWtlIHtAbGluayBQSVhJLmZpbHRlcnMuRlhBQUZpbHRlciBGWEFBRmlsdGVyfS5cbiAqXG4gKiAqKmlucHV0Q2xhbXAqKlxuICpcbiAqIElmIHlvdSB0cnkgdG8gZ2V0IGluZm8gZnJvbSBvdXRzaWRlIG9mIHVzZWQgcGFydCBvZiBGcmFtZWJ1ZmZlciAtIHlvdSdsbCBnZXQgdW5kZWZpbmVkIGJlaGF2aW91ci5cbiAqIEZvciBkaXNwbGFjZW1lbnRzLCBjb29yZGluYXRlcyBoYXMgdG8gYmUgY2xhbXBlZC5cbiAqXG4gKiBUaGUgYGlucHV0Q2xhbXAueHlgIGlzIGxlZnQtdG9wIHBpeGVsIGNlbnRlciwgeW91IG1heSBpZ25vcmUgaXQsIGJlY2F1c2Ugd2UgdXNlIGxlZnQtdG9wIHBhcnQgb2YgRnJhbWVidWZmZXJcbiAqIGBpbnB1dENsYW1wLnp3YCBpcyBib3R0b20tcmlnaHQgcGl4ZWwgY2VudGVyLlxuICpcbiAqIGBgYFxuICogdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAobW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnh5LCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICogT1JcbiAqIGBgYFxuICogdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgbWluKG1vZGlmaWdlZFRleHR1cmVDb29yZCwgaW5wdXRDbGFtcC56dykpXG4gKiBgYGBcbiAqXG4gKiAjIyMgQWRkaXRpb25hbCBJbmZvcm1hdGlvblxuICpcbiAqIENvbXBsZXRlIGRvY3VtZW50YXRpb24gb24gRmlsdGVyIHVzYWdlIGlzIGxvY2F0ZWQgaW4gdGhlXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3dpa2kvdjUtQ3JlYXRpbmctZmlsdGVycyBXaWtpfS5cbiAqXG4gKiBTaW5jZSBQaXhpSlMgb25seSBoYWQgYSBoYW5kZnVsIG9mIGJ1aWx0LWluIGZpbHRlcnMsIGFkZGl0aW9uYWwgZmlsdGVycyBjYW4gYmUgZG93bmxvYWRlZFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1maWx0ZXJzIGhlcmV9IGZyb20gdGhlIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xudmFyIEZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRmlsdGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRmlsdGVyKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYyB8fCBGaWx0ZXIuZGVmYXVsdFZlcnRleFNyYywgZnJhZ21lbnRTcmMgfHwgRmlsdGVyLmRlZmF1bHRGcmFnbWVudFNyYyk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvZ3JhbSwgdW5pZm9ybXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGFkZGluZyBvZiB0aGUgZmlsdGVyLiBTb21lIGZpbHRlcnMgcmVxdWlyZSBleHRyYSBzcGFjZSB0byBicmVhdGggc3VjaCBhcyBhIGJsdXIuXG4gICAgICAgICAqIEluY3JlYXNpbmcgdGhpcyB3aWxsIGFkZCBleHRyYSB3aWR0aCBhbmQgaGVpZ2h0IHRvIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCB0aGF0IHRoZVxuICAgICAgICAgKiBmaWx0ZXIgaXMgYXBwbGllZCB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZmlsdGVyLiBTZXR0aW5nIHRoaXMgdG8gYmUgbG93ZXIgd2lsbCBsb3dlciB0aGUgcXVhbGl0eSBidXRcbiAgICAgICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQgaXMgdHJ1ZSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQsIGlmIGZhbHNlIGl0IHdpbGwgbm90LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkLCBQaXhpSlMgd2lsbCBmaXQgdGhlIGZpbHRlciBhcmVhIGludG8gYm91bmRhcmllcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKiBTd2l0Y2ggaXQgb2ZmIGlmIGl0IGRvZXMgbm90IHdvcmsgZm9yIHNwZWNpZmljIHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9GaXQgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGVnYWN5IGZpbHRlcnMgdXNlIHBvc2l0aW9uIGFuZCB1dnMgZnJvbSBhdHRyaWJ1dGVzXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubGVnYWN5ID0gISFfdGhpcy5wcm9ncmFtLmF0dHJpYnV0ZURhdGEuYVRleHR1cmVDb29yZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSB0aGUgZmlsdGVyIHJlcXVpcmVzIHRvIHJlbmRlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtjdXJyZW50U3RhdGVdIC0gSXQncyBjdXJyZW50IHN0YXRlIG9mIGZpbHRlci5cbiAgICAgKiAgICAgICAgVGhlcmUgYXJlIHNvbWUgdXNlZnVsIHByb3BlcnRpZXMgaW4gdGhlIGN1cnJlbnRTdGF0ZSA6XG4gICAgICogICAgICAgIHRhcmdldCwgZmlsdGVycywgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlclRhcmdldCwgcmVzb2x1dGlvblxuICAgICAqL1xuICAgIEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlLCBfY3VycmVudFN0YXRlKSB7XG4gICAgICAgIC8vIGRvIGFzIHlvdSBwbGVhc2UhXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWx0ZXIucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlsdGVyLCBcImRlZmF1bHRWZXJ0ZXhTcmNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXgkMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWx0ZXIsIFwiZGVmYXVsdEZyYWdtZW50U3JjXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudCQxO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEZpbHRlcjtcbn0oU2hhZGVyKSk7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBvdGhlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdk1hc2tDb29yZCA9ICggb3RoZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXNrO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSBmbG9hdCBucG1BbHBoYTtcXG51bmlmb3JtIHZlYzQgbWFza0NsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC55LCB2TWFza0Nvb3JkLnkpICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLnksIG1hc2tDbGFtcC53KSk7XFxuXFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKG1hc2ssIHZNYXNrQ29vcmQpO1xcbiAgICBmbG9hdCBhbHBoYU11bCA9IDEuMCAtIG5wbUFscGhhICogKDEuMCAtIG1hc2t5LmEpO1xcblxcbiAgICBvcmlnaW5hbCAqPSAoYWxwaGFNdWwgKiBtYXNreS5yICogYWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBUYWtlcyBgdHJpbWAgYW5kIGByb3RhdGVgIGludG8gYWNjb3VudC4gTWF5IGNvbnRhaW4gY2xhbXAgc2V0dGluZ3MgZm9yIE1lc2hlcyBhbmQgVGlsaW5nU3ByaXRlLlxuICpcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgYHV2TWF0cml4YCBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIFRha2VzIHRyYWNrIG9mIFRleHR1cmUgY2hhbmdlcyB0aHJvdWdoIGBfbGFzdFRleHR1cmVJRGAgcHJpdmF0ZSBmaWVsZC5cbiAqIFVzZSBgdXBkYXRlKClgIG1ldGhvZCBjYWxsIHRvIHRyYWNrIGl0IGZyb20gb3V0c2lkZS5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLk1lc2hcbiAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVNYXRyaXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIG9ic2VydmVkIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsYW1wTWFyZ2luXSAtIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcsIDAuNSBieSBkZWZhdWx0LiBVc2UgLTAuNSBmb3IgZXh0cmEgYm9yZGVyLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYXRyaXgodGV4dHVyZSwgY2xhbXBNYXJnaW4pIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXRyaXggb3BlcmF0aW9uIHRoYXQgY29udmVydHMgdGV4dHVyZSByZWdpb24gY29vcmRzIHRvIHRleHR1cmUgY29vcmRzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGFtcCByZWdpb24gZm9yIG5vcm1hbGl6ZWQgY29vcmRzLCBsZWZ0LXRvcCBwaXhlbCBjZW50ZXIgaW4geHkgLCBib3R0b20tcmlnaHQgaW4gencuXG4gICAgICAgICAqIENhbGN1bGF0ZWQgYmFzZWQgb24gY2xhbXBPZmZzZXQuXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVDbGFtcEZyYW1lID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgY2xhbXAgb2Zmc2V0LlxuICAgICAgICAgKiBDYWxjdWxhdGVkIGJhc2VkIG9uIGNsYW1wT2Zmc2V0LlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXQgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIFRleHR1cmUgZnJhbWUgY2hhbmdlc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tzIFRleHR1cmUgZnJhbWUgY2hhbmdlc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmdcbiAgICAgICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgICAgICogQ2hhbmdlIHRvIDEuNSBpZiB5b3UgdGV4dHVyZSBoYXMgcmVwZWF0ZWQgcmlnaHQgYW5kIGJvdHRvbSBsaW5lcywgdGhhdCBsZWFkcyB0byBzbW9vdGhlciBib3JkZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE1hcmdpbiA9ICh0eXBlb2YgY2xhbXBNYXJnaW4gPT09ICd1bmRlZmluZWQnKSA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGV4dHVyZSBzaXplIGlzIHRoZSBzYW1lIGFzIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1NpbXBsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUsIFwidGV4dHVyZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0ZXh0dXJlIHByb3BlcnR5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdXZzIGFycmF5IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgLSBtZXNoIHV2c1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PXV2c10gb3V0cHV0XG4gICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gb3V0cHV0XG4gICAgICovXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiAodXZzLCBvdXQpIHtcbiAgICAgICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvdXQgPSB1dnM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hdCA9IHRoaXMubWFwQ29vcmQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXZzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHV2c1tpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdXZzW2kgKyAxXTtcbiAgICAgICAgICAgIG91dFtpXSA9ICh4ICogbWF0LmEpICsgKHkgKiBtYXQuYykgKyBtYXQudHg7XG4gICAgICAgICAgICBvdXRbaSArIDFdID0gKHggKiBtYXQuYikgKyAoeSAqIG1hdC5kKSArIG1hdC50eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogdXBkYXRlcyBtYXRyaWNlcyBpZiB0ZXh0dXJlIHdhcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGU9ZmFsc2VdIC0gaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGl0IHdhcyB1cGRhdGVkXG4gICAgICovXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleCB8fCAhdGV4LnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAgICAgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXguX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGV4Ll91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICAgICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuICAgICAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXgub3JpZztcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXgudHJpbTtcbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LCAtdHJpbS54IC8gdHJpbS53aWR0aCwgLXRyaW0ueSAvIHRyaW0uaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZnJhbWUgPSB0aGlzLnVDbGFtcEZyYW1lO1xuICAgICAgICB2YXIgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG4gICAgICAgIGZyYW1lWzBdID0gKHRleC5fZnJhbWUueCArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgICAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIGZyYW1lWzJdID0gKHRleC5fZnJhbWUueCArIHRleC5fZnJhbWUud2lkdGggLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbM10gPSAodGV4Ll9mcmFtZS55ICsgdGV4Ll9mcmFtZS5oZWlnaHQgLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgICAgIHRoaXMudUNsYW1wT2Zmc2V0WzFdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsSGVpZ2h0O1xuICAgICAgICB0aGlzLmlzU2ltcGxlID0gdGV4Ll9mcmFtZS53aWR0aCA9PT0gdGV4QmFzZS53aWR0aFxuICAgICAgICAgICAgJiYgdGV4Ll9mcmFtZS5oZWlnaHQgPT09IHRleEJhc2UuaGVpZ2h0XG4gICAgICAgICAgICAmJiB0ZXgucm90YXRlID09PSAwO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlTWF0cml4O1xufSgpKTtcblxuLyoqXG4gKiBUaGlzIGhhbmRsZXMgYSBTcHJpdGUgYWN0aW5nIGFzIGEgbWFzaywgYXMgb3Bwb3NlZCB0byBhIEdyYXBoaWMuXG4gKlxuICogV2ViR0wgb25seS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlTWFza0ZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3ByaXRlTWFza0ZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgdGFyZ2V0IHNwcml0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZU1hc2tGaWx0ZXIoc3ByaXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQpIHx8IHRoaXM7XG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcHJpdGUgbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKi9cbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSBtYXNrU3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICBpZiAoIXRleC52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnV2TWF0cml4KSB7XG4gICAgICAgICAgICAvLyBtYXJnaW4gPSAwLjAsIGxldCBpdCBibGVlZCBhIGJpdCwgc2hhZGVyIGNvZGUgYmVjb21lcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgYXRsYXMgdGV4dHVyZXMgd2VyZSBtYWRlIHdpdGggMS1waXhlbCBwYWRkaW5nXG4gICAgICAgICAgICB0ZXgudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm5wbUFscGhhID0gdGV4LmJhc2VUZXh0dXJlLmFscGhhTW9kZSA/IDAuMCA6IDEuMDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrID0gdGV4O1xuICAgICAgICAvLyBnZXQgX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzXyBhbmQgY29udmVydCB0aGVtIHRvIF9ub3JtYWxpemVkIGF0bGFzIHRleHR1cmUgY29vcmRzXyB3aXRoIGBwcmVwZW5kYFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm90aGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCBtYXNrU3ByaXRlKVxuICAgICAgICAgICAgLnByZXBlbmQodGV4LnV2TWF0cml4Lm1hcENvb3JkKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5hbHBoYSA9IG1hc2tTcHJpdGUud29ybGRBbHBoYTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrQ2xhbXAgPSB0ZXgudXZNYXRyaXgudUNsYW1wRnJhbWU7XG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICB9O1xuICAgIHJldHVybiBTcHJpdGVNYXNrRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgbWFza3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgTWFza1N5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFza1N5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXNrU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlIHNjaXNzb3JcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5lbmFibGVTY2lzc29yID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIHVzZWQgc3ByaXRlIG1hc2sgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZU1hc2tGaWx0ZXJbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIG1hc2sgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tEYXRhW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza0RhdGFQb29sID0gW107XG4gICAgICAgIF90aGlzLm1hc2tTdGFjayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBpbmRleCBvZiBhbHBoYSBtYXNrIHBvb2xcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIG1hc2sgc3RhY2sgdGhhdCBpcyB1c2VkIGJ5IHRoaXMgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhW119IG1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gKG1hc2tTdGFjaykge1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnNldE1hc2tTdGFjayhtYXNrU3RhY2spO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKiBSZW5kZXJlciBiYXRjaCBtdXN0IGJlIGZsdXNoZWQgYmVmb3JlaGFuZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfFBJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N8UElYSS5EaXNwbGF5T2JqZWN0fSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh0YXJnZXQsIG1hc2tEYXRhT3JUYXJnZXQpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gbWFza0RhdGFPclRhcmdldDtcbiAgICAgICAgaWYgKCFtYXNrRGF0YS5pc01hc2tEYXRhKSB7XG4gICAgICAgICAgICB2YXIgZCA9IHRoaXMubWFza0RhdGFQb29sLnBvcCgpIHx8IG5ldyBNYXNrRGF0YSgpO1xuICAgICAgICAgICAgZC5wb29sZWQgPSB0cnVlO1xuICAgICAgICAgICAgZC5tYXNrT2JqZWN0ID0gbWFza0RhdGFPclRhcmdldDtcbiAgICAgICAgICAgIG1hc2tEYXRhID0gZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFza0RhdGEuYXV0b0RldGVjdCkge1xuICAgICAgICAgICAgdGhpcy5kZXRlY3QobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLmNvcHlDb3VudGVyc09yUmVzZXQodGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV0pO1xuICAgICAgICBtYXNrRGF0YS5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBzd2l0Y2ggKG1hc2tEYXRhLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TQ0lTU09SOlxuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Npc3Nvci5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TVEVOQ0lMOlxuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TUFJJVEU6XG4gICAgICAgICAgICAgICAgbWFza0RhdGEuY29weUNvdW50ZXJzT3JSZXNldChudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTcHJpdGVNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKiBSZW5kZXJlciBiYXRjaCBtdXN0IGJlIGZsdXNoZWQgYmVmb3JlaGFuZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghbWFza0RhdGEgfHwgbWFza0RhdGEuX3RhcmdldCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBhZGQgYW4gYXNzZXJ0IHdoZW4gd2UgaGF2ZSBpdFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAobWFza0RhdGEudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNDSVNTT1I6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY2lzc29yLnBvcCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNURU5DSUw6XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGVuY2lsLnBvcChtYXNrRGF0YS5tYXNrT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TUFJJVEU6XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BTcHJpdGVNYXNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG1hc2tEYXRhLnJlc2V0KCk7XG4gICAgICAgIGlmIChtYXNrRGF0YS5wb29sZWQpIHtcbiAgICAgICAgICAgIHRoaXMubWFza0RhdGFQb29sLnB1c2gobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHR5cGUgb2YgTWFza0RhdGEgYmFzZWQgb24gaXRzIG1hc2tPYmplY3RcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICAgICAgaWYgKG1hc2tPYmplY3QuaXNTcHJpdGUpIHtcbiAgICAgICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNQUklURTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TVEVOQ0lMO1xuICAgICAgICAvLyBkZXRlY3Qgc2Npc3NvciBpbiBncmFwaGljc1xuICAgICAgICBpZiAodGhpcy5lbmFibGVTY2lzc29yXG4gICAgICAgICAgICAmJiBtYXNrT2JqZWN0LmlzRmFzdFJlY3RcbiAgICAgICAgICAgICYmIG1hc2tPYmplY3QuaXNGYXN0UmVjdCgpKSB7XG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gbWFza09iamVjdC53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgdGhlIGNoZWNrIHRvIHRoZSBtYXRyaXggaXRzZWxmXG4gICAgICAgICAgICAvLyB3ZSBhcmUgY2hlY2tpbmcgdGhhdCBpdHMgb3J0aG9nb25hbCBhbmQgeCByb3RhdGlvbiBpcyAwIDkwIDE4MCBvciAyNzBcbiAgICAgICAgICAgIHZhciByb3RYID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuICAgICAgICAgICAgdmFyIHJvdFhZID0gTWF0aC5hdGFuMihtYXRyaXguZCwgbWF0cml4LmMpO1xuICAgICAgICAgICAgLy8gdXNlIHRoZSBuZWFyZXN0IGRlZ3JlZSB0byAwLjAxXG4gICAgICAgICAgICByb3RYID0gTWF0aC5yb3VuZChyb3RYICogKDE4MCAvIE1hdGguUEkpICogMTAwKTtcbiAgICAgICAgICAgIHJvdFhZID0gTWF0aC5yb3VuZChyb3RYWSAqICgxODAgLyBNYXRoLlBJKSAqIDEwMCkgLSByb3RYO1xuICAgICAgICAgICAgcm90WCA9ICgocm90WCAlIDkwMDApICsgOTAwMCkgJSA5MDAwO1xuICAgICAgICAgICAgcm90WFkgPSAoKHJvdFhZICUgMTgwMDApICsgMTgwMDApICUgMTgwMDA7XG4gICAgICAgICAgICBpZiAocm90WCA9PT0gMCAmJiByb3RYWSA9PT0gOTAwMCkge1xuICAgICAgICAgICAgICAgIG1hc2tEYXRhLnR5cGUgPSBNQVNLX1RZUEVTLlNDSVNTT1I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfSBtYXNrRGF0YSAtIFNwcml0ZSB0byBiZSB1c2VkIGFzIHRoZSBtYXNrXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaFNwcml0ZU1hc2sgPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICB2YXIgdGFyZ2V0ID0gbWFza0RhdGEuX3RhcmdldDtcbiAgICAgICAgdmFyIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcbiAgICAgICAgaWYgKCFhbHBoYU1hc2tGaWx0ZXIpIHtcbiAgICAgICAgICAgIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XSA9IFtuZXcgU3ByaXRlTWFza0ZpbHRlcihtYXNrT2JqZWN0KV07XG4gICAgICAgIH1cbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLnJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5tYXNrU3ByaXRlID0gbWFza09iamVjdDtcbiAgICAgICAgdmFyIHN0YXNoRmlsdGVyQXJlYSA9IHRhcmdldC5maWx0ZXJBcmVhO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IG1hc2tPYmplY3QuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wdXNoKHRhcmdldCwgYWxwaGFNYXNrRmlsdGVyKTtcbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBzdGFzaEZpbHRlckFyZWE7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wU3ByaXRlTWFzayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgtLTtcbiAgICB9O1xuICAgIHJldHVybiBNYXNrU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgbWFza3Mgb2YgY2VydGFpbiB0eXBlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQWJzdHJhY3RNYXNrU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdE1hc2tTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNYXNrU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hc2sgc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza1N0YWNrID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdGFudCBmb3IgZ2wuZW5hYmxlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdldHMgY291bnQgb2YgbWFza3Mgb2YgY2VydGFpbiB0eXBlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXNrU3RhY2subGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLnNldE1hc2tTdGFjayA9IGZ1bmN0aW9uIChtYXNrU3RhY2spIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGN1clN0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG1hc2tTdGFjaztcbiAgICAgICAgdmFyIG5ld1N0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuICAgICAgICBpZiAobmV3U3RhY2tMZW4gIT09IGN1clN0YWNrTGVuKSB7XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tMZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKHRoaXMuZ2xDb25zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUodGhpcy5nbENvbnN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBtYXNrIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBPVkVSV1JJVEU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgbWFzayBzdGFjay5cbiAgICAgKlxuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdE1hc2tTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzY2lzc29yIHJlY3RzICh1c2VkIGZvciBtYXNrcykuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgU2Npc3NvclN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2Npc3NvclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTY2lzc29yU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5nbENvbnN0ID0gV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNDSVNTT1JfVEVTVDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5nZXRTdGFja0xlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hc2tEYXRhID0gdGhpcy5tYXNrU3RhY2tbdGhpcy5tYXNrU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChtYXNrRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hc2tEYXRhLl9zY2lzc29yQ291bnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGF9IG1hc2tEYXRhIC0gVGhlIG1hc2sgZGF0YVxuICAgICAqL1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAobWFza0RhdGEpIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICB2YXIgcHJldkRhdGEgPSBtYXNrRGF0YS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIHZhciBib3VuZHMgPSBtYXNrT2JqZWN0LmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIGlmIChwcmV2RGF0YSkge1xuICAgICAgICAgICAgYm91bmRzLmZpdChwcmV2RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5fc2Npc3NvckNvdW50ZXIrKztcbiAgICAgICAgbWFza0RhdGEuX3NjaXNzb3JSZWN0ID0gYm91bmRzO1xuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQb3BzIHNjaXNzb3IgbWFzay4gTWFza0RhdGEgaXMgYWxyZWFkeSByZW1vdmVkIGZyb20gc3RhY2tcbiAgICAgKi9cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmICh0aGlzLmdldFN0YWNrTGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzY2lzc29yIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIHZhciBydCA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24sIHRyYW5zZm9ybSA9IF9hLnRyYW5zZm9ybSwgc291cmNlRnJhbWUgPSBfYS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSA9IF9hLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcnQgPyBydC5yZXNvbHV0aW9uIDogdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgeCA9ICgocmVjdC54IC0gc291cmNlRnJhbWUueCkgKiByZXNvbHV0aW9uKSArIGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICAgICAgdmFyIHkgPSAoKHJlY3QueSAtIHNvdXJjZUZyYW1lLnkpICogcmVzb2x1dGlvbikgKyBkZXN0aW5hdGlvbkZyYW1lLnk7XG4gICAgICAgIHZhciB3aWR0aCA9IHJlY3Qud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcmVjdC5oZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB4ICs9IHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb247XG4gICAgICAgICAgICB5ICs9IHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydCkge1xuICAgICAgICAgICAgLy8gZmxpcFkuIEluIGZ1dHVyZSB3ZSdsbCBoYXZlIGl0IG92ZXIgcmVuZGVyVGV4dHVyZXMgYXMgYW4gb3B0aW9uXG4gICAgICAgICAgICB5ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoZWlnaHQgLSB5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuc2Npc3Nvcih4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuICAgIHJldHVybiBTY2lzc29yU3lzdGVtO1xufShBYnN0cmFjdE1hc2tTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc3RlbmNpbHMgKHVzZWQgZm9yIG1hc2tzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBTdGVuY2lsU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGVuY2lsU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0ZW5jaWxTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmdsQ29uc3QgPSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1RFTkNJTF9URVNUO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLmdldFN0YWNrTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG1hc2tEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfSBtYXNrRGF0YSAtIFRoZSBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKG1hc2tEYXRhKSB7XG4gICAgICAgIHZhciBtYXNrT2JqZWN0ID0gbWFza0RhdGEubWFza09iamVjdDtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIHByZXZNYXNrQ291bnQgPSBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgIGlmIChwcmV2TWFza0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAvLyBmb3JjZSB1c2Ugc3RlbmNpbCB0ZXh0dXJlIGluIGN1cnJlbnQgZnJhbWVidWZmZXJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuZm9yY2VTdGVuY2lsKCk7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXIrKztcbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgbmV3IG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb2xkIG9uZXMuXG4gICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCBwcmV2TWFza0NvdW50LCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLklOQ1IpO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wcyBzdGVuY2lsIG1hc2suIE1hc2tEYXRhIGlzIGFscmVhZHkgcmVtb3ZlZCBmcm9tIHN0YWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gbWFza09iamVjdCAtIG9iamVjdCBvZiBwb3BwZWQgbWFzayBkYXRhXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKG1hc2tPYmplY3QpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gdGhlIHN0YWNrIGlzIGVtcHR5IVxuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyU3RlbmNpbCgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlY3JlbWVudCB0aGUgcmVmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIHBvcHBlZCBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG90aGVyIG9uZXNcbiAgICAgICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuREVDUik7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHN0ZW5jaWwgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5jb2xvck1hc2sodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLmdldFN0YWNrTGVuZ3RoKCksIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaWxsIDFzIGVxdWFsIHRvIHRoZSBudW1iZXIgb2YgYWNpdHZlIHN0ZW5jaWwgbWFza3MuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiaXR3aXNlIG1hc2suXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuX2dldEJpdHdpc2VNYXNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKDEgPDwgdGhpcy5nZXRTdGFja0xlbmd0aCgpKSAtIDE7XG4gICAgfTtcbiAgICByZXR1cm4gU3RlbmNpbFN5c3RlbTtcbn0oQWJzdHJhY3RNYXNrU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBQcm9qZWN0aW9uU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm9qZWN0aW9uU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByb2plY3Rpb25TeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IGRlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRGcmFtZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9qZWN0IG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB0cmFuc2Zvcm0gdGhhdCB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgKiBpZiBudWxsLCBub3RoaW5nIHdpbGwgYmUgYXBwbGllZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSkuXG4gICAgICpcbiAgICAgKiBNYWtlIHN1cmUgdG8gcnVuIGByZW5kZXJlci5mcmFtZWJ1ZmZlci5zZXRWaWV3cG9ydChkZXN0aW5hdGlvbkZyYW1lKWAgYWZ0ZXIgY2FsbGluZyB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBSZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gSWYgaXMgcm9vdFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgcm9vdCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IHRoaXMuc291cmNlRnJhbWUgfHwgZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG9iamVjdC1zcGFjZSB0byBjbGlwLXNwYWNlIHByb2plY3Rpb25cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVQcm9qZWN0aW9uKHRoaXMuZGVzdGluYXRpb25GcmFtZSwgdGhpcy5zb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgcm9vdCk7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4LmFwcGVuZCh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgICAgIC8vIHRoaXMgd2lsbCB3b3JrIGZvciBub3dcbiAgICAgICAgLy8gYnV0IHdvdWxkIGJlIHN3ZWV0IHRvIHN0aWNrIGFuZCBldmVuIG9uIHRoZSBnbG9iYWwgdW5pZm9ybXMuLlxuICAgICAgICBpZiAocmVuZGVyZXIuc2hhZGVyLnNoYWRlcikge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAocmVuZGVyZXIuc2hhZGVyLnNoYWRlci51bmlmb3Jtcy5nbG9iYWxzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXNvbHV0aW9uIC0gUmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm9vdCAtIElmIGlzIHJvb3RcbiAgICAgKi9cbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZS5jYWxjdWxhdGVQcm9qZWN0aW9uID0gZnVuY3Rpb24gKF9kZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgX3Jlc29sdXRpb24sIHJvb3QpIHtcbiAgICAgICAgdmFyIHBtID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuICAgICAgICB2YXIgc2lnbiA9ICFyb290ID8gMSA6IC0xO1xuICAgICAgICBwbS5pZGVudGl0eSgpO1xuICAgICAgICBwbS5hID0gKDEgLyBzb3VyY2VGcmFtZS53aWR0aCAqIDIpO1xuICAgICAgICBwbS5kID0gc2lnbiAqICgxIC8gc291cmNlRnJhbWUuaGVpZ2h0ICogMik7XG4gICAgICAgIHBtLnR4ID0gLTEgLSAoc291cmNlRnJhbWUueCAqIHBtLmEpO1xuICAgICAgICBwbS50eSA9IC1zaWduIC0gKHNvdXJjZUZyYW1lLnkgKiBwbS5kKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zZm9ybSBvZiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgdG8gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChfbWF0cml4KSB7XG4gICAgICAgIC8vIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSBtYXRyaXg7XG4gICAgfTtcbiAgICByZXR1cm4gUHJvamVjdGlvblN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8vIFRlbXBvcmFyeSByZWN0YW5nbGUgZm9yIGFzc2lnbmVkIHNvdXJjZUZyYW1lIG9yIGRlc3RpbmF0aW9uRnJhbWVcbnZhciB0ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbi8vIFRlbXBvcmFyeSByZWN0YW5nbGUgZm9yIHJlbmRlclRleHR1cmUgZGVzdGluYXRpb25GcmFtZVxudmFyIHRlbXBSZWN0MiA9IG5ldyBSZWN0YW5nbGUoKTtcbi8vIFRlbXBvcmFyeSByZWN0YW5nbGUgZm9yIHBhc3NpbmcgdGhlIGZyYW1lYnVmZmVyIHZpZXdwb3J0XG52YXIgdmlld3BvcnRGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHJlbmRlciB0ZXh0dXJlcy5cbiAqXG4gKiBTaG91bGQgYmUgYWRkZWQgYWZ0ZXIgRnJhbWVidWZmZXJTeXN0ZW1cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZW5kZXJUZXh0dXJlU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmVTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xlYXIgYmFja2dyb3VuZCBjb2xvciBhcyByZ2JhXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYXJDb2xvciA9IHJlbmRlcmVyLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhO1xuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcyBwcm9wZXJ0eSBzb21ld2hlcmUgZWxzZSFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFza3MgZm9yIHRoZSBTdGVuY2lsU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kZWZhdWx0TWFza1N0YWNrID0gW107XG4gICAgICAgIC8vIGVtcHR5IHJlbmRlciB0ZXh0dXJlP1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyIHRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNvdXJjZUZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoZSBjdXJyZW50IHJlbmRlciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gUmVuZGVyVGV4dHVyZSB0byBiaW5kLCBieSBkZWZhdWx0IGl0cyBgbnVsbGAsIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbc291cmNlRnJhbWVdIC0gcGFydCBvZiBzY3JlZW4gdGhhdCBpcyBtYXBwZWQgdG8gdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZGVzdGluYXRpb25GcmFtZV0gLSBwYXJ0IG9mIHJlbmRlclRleHR1cmUsIGJ5IGRlZmF1bHQgaXQgaGFzIHRoZSBzYW1lIHNpemUgYXMgc291cmNlRnJhbWVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKHJlbmRlclRleHR1cmUsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlID09PSB2b2lkIDApIHsgcmVuZGVyVGV4dHVyZSA9IG51bGw7IH1cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZnJhbWVidWZmZXI7XG4gICAgICAgIHZhciByZXNvbHV0aW9uO1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IGJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSByZW5kZXJUZXh0dXJlLmZyYW1lLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IHJlbmRlclRleHR1cmUuZnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHNvdXJjZUZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIueCA9IHJlbmRlclRleHR1cmUuZnJhbWUueDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIueSA9IHJlbmRlclRleHR1cmUuZnJhbWUueTtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdDIuaGVpZ2h0ID0gc291cmNlRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZWJ1ZmZlciA9IGJhc2VUZXh0dXJlLmZyYW1lYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSByZW5kZXJlci5zY3JlZW4ud2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gcmVuZGVyZXIuc2NyZWVuLmhlaWdodDtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHNvdXJjZUZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2aWV3cG9ydEZyYW1lLnggPSBkZXN0aW5hdGlvbkZyYW1lLnggKiByZXNvbHV0aW9uO1xuICAgICAgICB2aWV3cG9ydEZyYW1lLnkgPSBkZXN0aW5hdGlvbkZyYW1lLnkgKiByZXNvbHV0aW9uO1xuICAgICAgICB2aWV3cG9ydEZyYW1lLndpZHRoID0gZGVzdGluYXRpb25GcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZpZXdwb3J0RnJhbWUuaGVpZ2h0ID0gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQoZnJhbWVidWZmZXIsIHZpZXdwb3J0RnJhbWUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCAhZnJhbWVidWZmZXIpO1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayhiYXNlVGV4dHVyZS5tYXNrU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayh0aGlzLmRlZmF1bHRNYXNrU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUuY29weUZyb20oc291cmNlRnJhbWUpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuY29weUZyb20oZGVzdGluYXRpb25GcmFtZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIHJlbmRlciB0ZXh0dXJlIGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtjbGVhckNvbG9yXSAtIFRoZSBjb2xvciBhcyByZ2JhLCBkZWZhdWx0IHRvIHVzZSB0aGUgcmVuZGVyZXIgYmFja2dyb3VuZENvbG9yXG4gICAgICogQHBhcmFtIHtQSVhJLkJVRkZFUl9CSVRTfSBbbWFzaz1CVUZGRVJfQklUUy5DT0xPUiB8IEJVRkZFUl9CSVRTLkRFUFRIXSAtIEJpdHdpc2UgT1Igb2YgbWFza3NcbiAgICAgKiAgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLCBieSBkZWZhdWx0IENPTE9SIGFuZCBERVBUSCBidWZmZXJzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKGNsZWFyQ29sb3IsIG1hc2spIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5jdXJyZW50LmJhc2VUZXh0dXJlLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlci5mcmFtZWJ1ZmZlci5jbGVhcihjbGVhckNvbG9yWzBdLCBjbGVhckNvbG9yWzFdLCBjbGVhckNvbG9yWzJdLCBjbGVhckNvbG9yWzNdLCBtYXNrKTtcbiAgICB9O1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSByb290IG9ubHkhXG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyByZW5kZXJUZXh0dXJlIHN0YXRlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxudmFyIElHTFVuaWZvcm1EYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElHTFVuaWZvcm1EYXRhKCkge1xuICAgIH1cbiAgICByZXR1cm4gSUdMVW5pZm9ybURhdGE7XG59KCkpO1xuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgUHJvZ3JhbVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdMUHJvZ3JhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIG5ldyBQaXhpIHByb2dyYW1cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9ncmFtIHtXZWJHTFByb2dyYW19IHdlYmdsIHByb2dyYW1cbiAgICAgKiBAcGFyYW0gdW5pZm9ybURhdGEge09iamVjdH0gdW5pZm9ybXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHTFByb2dyYW0ocHJvZ3JhbSwgdW5pZm9ybURhdGEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFkZXIgcHJvZ3JhbVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFByb2dyYW19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAvKipcbiAgICAgICAgICogaG9sZHMgdGhlIHVuaWZvcm0gZGF0YSB3aGljaCBjb250YWlucyB1bmlmb3JtIGxvY2F0aW9uc1xuICAgICAgICAgKiBhbmQgY3VycmVudCB1bmlmb3JtIHZhbHVlcyB1c2VkIGZvciBjYWNoaW5nIGFuZCBwcmV2ZW50aW5nIHVubmVlZGVkIEdQVSBjb21tYW5kc1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gdW5pZm9ybURhdGE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlmb3JtR3JvdXBzIGhvbGRzIHRoZSB2YXJpb3VzIHVwbG9hZCBmdW5jdGlvbnMgZm9yIHRoZSBzaGFkZXIuIEVhY2ggdW5pZm9ybSBncm91cFxuICAgICAgICAgKiBhbmQgcHJvZ3JhbSBoYXZlIGEgdW5pcXVlIHVwbG9hZCBmdW5jdGlvbiBnZW5lcmF0ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHByb2dyYW1cbiAgICAgKi9cbiAgICBHTFByb2dyYW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEdMUHJvZ3JhbTtcbn0oKSk7XG5cbnZhciBVSUQkNCA9IDA7XG4vLyBkZWZ1YWx0IHN5bmMgZGF0YSBzbyB3ZSBkb24ndCBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbnZhciBkZWZhdWx0U3luY0RhdGEgPSB7IHRleHR1cmVDb3VudDogMCB9O1xuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc2hhZGVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbnZhciBTaGFkZXJTeXN0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNoYWRlclN5c3RlbSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaGFkZXJTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvLyBWYWxpZGF0aW9uIGNoZWNrIHRoYXQgdGhpcyBlbnZpcm9ubWVudCBzdXBwb3J0IGBuZXcgRnVuY3Rpb25gXG4gICAgICAgIF90aGlzLnN5c3RlbUNoZWNrKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbCA9IG51bGw7XG4gICAgICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIF90aGlzLnByb2dyYW0gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgdG8gaG9sZHMgdGhlIGdlbmVyYXRlZCBmdW5jdGlvbnMuIFN0b3JlZCBhZ2FpbnN0IFVuaWZvcm1PYmplY3RzIHVuaXF1ZSBzaWduYXR1cmVcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlID0ge307XG4gICAgICAgIF90aGlzLmlkID0gVUlEJDQrKztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZWFibGUgZnVuY3Rpb24gYnkgYEBwaXhpL3Vuc2FmZS1ldmFsYCB0byBzaWxlbmNlXG4gICAgICogdGhyb3dpbmcgYW4gZXJyb3IgaWYgcGxhdGZvcm0gZG9lc24ndCBzdXBwb3J0IHVuc2FmZS1ldmFscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeXN0ZW1DaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF1bnNhZmVFdmFsU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBhbGxvdyB1bnNhZmUtZXZhbCwgJ1xuICAgICAgICAgICAgICAgICsgJ3BsZWFzZSB1c2UgQHBpeGkvdW5zYWZlLWV2YWwgbW9kdWxlIHRvIGVuYWJsZSBzdXBwb3J0LicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoZ2wpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHNoYWRlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIG5ldyBzaGFkZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkb250U3luY10gLSBmYWxzZSBpZiB0aGUgc2hhZGVyIHNob3VsZCBhdXRvbWF0aWNhbGx5IHN5bmMgaXRzIHVuaWZvcm1zLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdMUHJvZ3JhbX0gdGhlIGdsUHJvZ3JhbSB0aGF0IGJlbG9uZ3MgdG8gdGhlIHNoYWRlci5cbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoc2hhZGVyLCBkb250U3luYykge1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMuZ2xvYmFscyA9IHRoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXM7XG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gfHwgdGhpcy5nZW5lcmF0ZVNoYWRlcihzaGFkZXIpO1xuICAgICAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgLy8gVE9ETyAtIHNvbWUgY3VycmVudCBQaXhpIHBsdWdpbnMgYnlwYXNzIHRoaXMuLiBzbyBpdCBub3Qgc2FmZSB0byB1c2UgeWV0Li5cbiAgICAgICAgaWYgKHRoaXMucHJvZ3JhbSAhPT0gcHJvZ3JhbSkge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShnbFByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb250U3luYykge1xuICAgICAgICAgICAgZGVmYXVsdFN5bmNEYXRhLnRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLnN5bmNVbmlmb3JtR3JvdXAoc2hhZGVyLnVuaWZvcm1Hcm91cCwgZGVmYXVsdFN5bmNEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdW5pZm9ybXMgdmFsdWVzIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHVuaWZvcm1zIC0gdGhlIHVuaWZvcm1zIHZhbHVlcyB0aGF0IGJlIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zZXRVbmlmb3JtcyA9IGZ1bmN0aW9uICh1bmlmb3Jtcykge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHNoYWRlci5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICBzaGFkZXIuc3luY1VuaWZvcm1zKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgdW5pZm9ybXMsIHRoaXMucmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqL1xuICAgIC8qKlxuICAgICAqXG4gICAgICogc3luY3MgdW5pZm9ybXMgb24gdGhlIGdyb3VwXG4gICAgICogQHBhcmFtIHsqfSBncm91cCAtIHRoZSB1bmlmb3JtIGdyb3VwIHRvIHN5bmNcbiAgICAgKiBAcGFyYW0geyp9IFtzeW5jRGF0YV0gLSB0aGlzIGlzIGRhdGEgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIHN5bmMgZnVuY3Rpb24gYW5kIGFueSBuZXN0ZWQgc3luYyBmdW5jdGlvbnNcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5bmNVbmlmb3JtR3JvdXAgPSBmdW5jdGlvbiAoZ3JvdXAsIHN5bmNEYXRhKSB7XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSB0aGlzLmdldGdsUHJvZ3JhbSgpO1xuICAgICAgICBpZiAoIWdyb3VwLnN0YXRpYyB8fCBncm91cC5kaXJ0eUlkICE9PSBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0pIHtcbiAgICAgICAgICAgIGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSA9IGdyb3VwLmRpcnR5SWQ7XG4gICAgICAgICAgICB0aGlzLnN5bmNVbmlmb3Jtcyhncm91cCwgZ2xQcm9ncmFtLCBzeW5jRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBieSB0aGUgQHBpeGkvdW5zYWZlLWV2YWwgcGFja2FnZSB0byB1c2Ugc3RhdGljXG4gICAgICogc3luY1VuZm9ybXMgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybXMgPSBmdW5jdGlvbiAoZ3JvdXAsIGdsUHJvZ3JhbSwgc3luY0RhdGEpIHtcbiAgICAgICAgdmFyIHN5bmNGdW5jID0gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuY3JlYXRlU3luY0dyb3Vwcyhncm91cCk7XG4gICAgICAgIHN5bmNGdW5jKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgZ3JvdXAudW5pZm9ybXMsIHRoaXMucmVuZGVyZXIsIHN5bmNEYXRhKTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY3JlYXRlU3luY0dyb3VwcyA9IGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmdldFNpZ25hdHVyZShncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIGlmICghdGhpcy5jYWNoZVtpZF0pIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVbaWRdID0gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHRoaXMuc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXSA9IHRoaXMuY2FjaGVbaWRdO1xuICAgICAgICByZXR1cm4gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgYSB1bmlmb3JtIGdyb3VwIGFuZCBkYXRhIGFuZCBnZW5lcmF0ZXMgYSB1bmlxdWUgc2lnbmF0dXJlIGZvciB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlVuaWZvcm1Hcm91cH0gZ3JvdXAgLSB0aGUgdW5pZm9ybSBncm91cCB0byBnZXQgc2lnbmF0dXJlIG9mXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1EYXRhIC0gdW5pZm9ybSBpbmZvcm1hdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIHNoYWRlclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFVuaXF1ZSBzaWduYXR1cmUgb2YgdGhlIHVuaWZvcm0gZ3JvdXBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGdyb3VwLCB1bmlmb3JtRGF0YSkge1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBncm91cC51bmlmb3JtcztcbiAgICAgICAgdmFyIHN0cmluZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB1bmlmb3Jtcykge1xuICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGkpO1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1EYXRhW2ldKSB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKHVuaWZvcm1EYXRhW2ldLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgR0xTaGFkZSByb2YgdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICogVGhpcyBjYW4gYmUgaGFuZHkgZm9yIHdoZW4geW91IHRvIGhhdmUgYSBsaXR0bGUgbW9yZSBjb250cm9sIG92ZXIgdGhlIHNldHRpbmcgb2YgeW91ciB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIGZvciB0aGUgY3VycmVudGx5IGJvdW5kIFNoYWRlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRnbFByb2dyYW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNoYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGdsUHJvZ3JhbSB2ZXJzaW9uIG9mIHRoZSBTaGFkZXIgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBzaGFkZXIgdGhhdCB0aGUgZ2xQcm9ncmFtIHdpbGwgYmUgYmFzZWQgb24uXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IEEgc2hpbnkgbmV3IGdsUHJvZ3JhbSFcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdlbmVyYXRlU2hhZGVyID0gZnVuY3Rpb24gKHNoYWRlcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuICAgICAgICB2YXIgYXR0cmliTWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhKSB7XG4gICAgICAgICAgICBhdHRyaWJNYXBbaV0gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbaV0ubG9jYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNoYWRlclByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgcHJvZ3JhbS52ZXJ0ZXhTcmMsIHByb2dyYW0uZnJhZ21lbnRTcmMsIGF0dHJpYk1hcCk7XG4gICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpIGluIHByb2dyYW0udW5pZm9ybURhdGEpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gcHJvZ3JhbS51bmlmb3JtRGF0YVtpXTtcbiAgICAgICAgICAgIHVuaWZvcm1EYXRhW2ldID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgaSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZShkYXRhLnR5cGUsIGRhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBuZXcgR0xQcm9ncmFtKHNoYWRlclByb2dyYW0sIHVuaWZvcm1EYXRhKTtcbiAgICAgICAgcHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xQcm9ncmFtO1xuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIFNoYWRlclN5c3RlbSBzdGF0ZSwgZG9lcyBub3QgYWZmZWN0IFdlYkdMIHN0YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBTeXN0ZW0gYW5kIHJlbW92ZXMgYWxsIGl0cyB0ZXh0dXJlc1xuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVE9ETyBpbXBsZW1lbnQgZGVzdHJveSBtZXRob2QgZm9yIFNoYWRlclN5c3RlbVxuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gU2hhZGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge251bWJlcltdW119IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsLCBhcnJheSkge1xuICAgIGlmIChhcnJheSA9PT0gdm9pZCAwKSB7IGFycmF5ID0gW107IH1cbiAgICAvLyBUT0RPIC0gcHJlbXVsdGlwbHkgYWxwaGEgd291bGQgYmUgZGlmZmVyZW50LlxuICAgIC8vIGFkZCBhIGJvb2xlYW4gZm9yIHRoYXQhXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkFERF0gPSBbZ2wuT05FLCBnbC5PTkVdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk1VTFRJUExZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EQVJLRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTElHSFRFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9CVVJOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhBUkRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5ESUZGRVJFTkNFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IVUVdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk5PTkVdID0gWzAsIDBdO1xuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkIGJsZW5kIG1vZGVzXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkFERF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIC8vIGNvbXBvc2l0ZSBvcGVyYXRpb25zXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0lOXSA9IFtnbC5EU1RfQUxQSEEsIGdsLlpFUk9dO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNSQ19PVVRdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLlpFUk9dO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNSQ19BVE9QXSA9IFtnbC5EU1RfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVkVSXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5PTkVdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9JTl0gPSBbZ2wuWkVSTywgZ2wuU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfT1VUXSA9IFtnbC5aRVJPLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfQVRPUF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5YT1JdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIC8vIFNVQlRSQUNUIGZyb20gZmxhc2hcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TVUJUUkFDVF0gPSBbZ2wuT05FLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5GVU5DX1JFVkVSU0VfU1VCVFJBQ1QsIGdsLkZVTkNfQUREXTtcbiAgICByZXR1cm4gYXJyYXk7XG59XG5cbnZhciBCTEVORCQxID0gMDtcbnZhciBPRkZTRVQkMSA9IDE7XG52YXIgQ1VMTElORyQxID0gMjtcbnZhciBERVBUSF9URVNUJDEgPSAzO1xudmFyIFdJTkRJTkckMSA9IDQ7XG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBXZWJHTCBzdGF0ZSBtYWNoaW5lcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBTdGF0ZVN5c3RlbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RhdGVTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RhdGVTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHTCBjb250ZXh0XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBJRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGVJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb2x5Z29uIG9mZnNldFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCbGVuZCBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT05FXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9ORTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgY3VycmVudCBibGVuZCBlcXVhdGlvbiBpcyBkaWZmZXJlbnRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JsZW5kRXEgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgY2FsbHNcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXAgPSBbXTtcbiAgICAgICAgLy8gbWFwIGZ1bmN0aW9ucyBmb3Igd2hlbiB3ZSBzZXQgc3RhdGUuLlxuICAgICAgICBfdGhpcy5tYXBbQkxFTkQkMV0gPSBfdGhpcy5zZXRCbGVuZDtcbiAgICAgICAgX3RoaXMubWFwW09GRlNFVCQxXSA9IF90aGlzLnNldE9mZnNldDtcbiAgICAgICAgX3RoaXMubWFwW0NVTExJTkckMV0gPSBfdGhpcy5zZXRDdWxsRmFjZTtcbiAgICAgICAgX3RoaXMubWFwW0RFUFRIX1RFU1QkMV0gPSBfdGhpcy5zZXREZXB0aFRlc3Q7XG4gICAgICAgIF90aGlzLm1hcFtXSU5ESU5HJDFdID0gX3RoaXMuc2V0RnJvbnRGYWNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjaGVjayBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNoZWNrcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBXZWJHTCBTdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRlZmF1bHRTdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICBfdGhpcy5kZWZhdWx0U3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gKGdsKSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGVzID0gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsKTtcbiAgICAgICAgdGhpcy5zZXQodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldC5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG4gICAgICAgIC8vIFRPRE8gbWF5YmUgdG8gYW4gb2JqZWN0IGNoZWNrPyAoIHRoaXMuc3RhdGUgPT09IHN0YXRlICk/XG4gICAgICAgIGlmICh0aGlzLnN0YXRlSWQgIT09IHN0YXRlLmRhdGEpIHtcbiAgICAgICAgICAgIHZhciBkaWZmID0gdGhpcy5zdGF0ZUlkIF4gc3RhdGUuZGF0YTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIC8vIG9yZGVyIGZyb20gbGVhc3QgdG8gbW9zdCBjb21tb25cbiAgICAgICAgICAgIHdoaWxlIChkaWZmKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgJiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXRlIGNoYW5nZSFcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlmZiA9IGRpZmYgPj4gMTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJhc2VkIG9uIHRoZSBhYm92ZSBzZXR0aW5ncyB3ZSBjaGVjayBmb3Igc3BlY2lmaWMgbW9kZXMuLlxuICAgICAgICAvLyBmb3IgZXhhbXBsZSBpZiBibGVuZCBpcyBhY3RpdmUgd2UgY2hlY2sgYW5kIHNldCB0aGUgYmxlbmQgbW9kZXNcbiAgICAgICAgLy8gb3Igb2YgcG9seWdvbiBvZmZzZXQgaXMgYWN0aXZlIHdlIGNoZWNrIHRoZSBwb2x5IGRlcHRoLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YXRlLCB3aGVuIHByZXZpb3VzIHN0YXRlIGlzIHVua25vd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0XG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmZvcmNlU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZUlkID0gc3RhdGUuZGF0YTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZWQgYmxlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgYmxlbmRpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEJsZW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkJMRU5EKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgcG9seWdvbiBvZmZzZXQgdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0T2Zmc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tQb2x5Z29uT2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5QT0xZR09OX09GRlNFVF9GSUxMKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBkZXB0aCB0ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGRlcHRoIHRlc3RpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldERlcHRoVGVzdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuREVQVEhfVEVTVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgY3VsbCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGN1bGwgZmFjZS5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0Q3VsbEZhY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnbCBmcm9udCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHRydWUgaXMgY2xvY2t3aXNlIGFuZCBmYWxzZSBpcyBjb3VudGVyLWNsb2Nrd2lzZVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRGcm9udEZhY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbC5mcm9udEZhY2UodGhpcy5nbFt2YWx1ZSA/ICdDVycgOiAnQ0NXJ10pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBibGVuZCBtb2RlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5ibGVuZE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuYmxlbmRNb2Rlc1t2YWx1ZV07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKG1vZGVbMF0sIG1vZGVbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jU2VwYXJhdGUobW9kZVswXSwgbW9kZVsxXSwgbW9kZVsyXSwgbW9kZVszXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSA2KSB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShtb2RlWzRdLCBtb2RlWzVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9ibGVuZEVxKSB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gZmFsc2U7XG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZ2wuRlVOQ19BREQsIGdsLkZVTkNfQUREKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9seWdvbiBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSB0aGUgcG9seWdvbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB0aGUgcG9seWdvbiBvZmZzZXQgc2NhbGVcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0UG9seWdvbk9mZnNldCA9IGZ1bmN0aW9uICh2YWx1ZSwgc2NhbGUpIHtcbiAgICAgICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gICAgfTtcbiAgICAvLyB1c2VkXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCB0aGUgbG9naWMgYW5kIGRpc2FibGVzIHRoZSB2YW9zXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgZmFsc2UpO1xuICAgICAgICB0aGlzLmZvcmNlU3RhdGUodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSAtMTtcbiAgICAgICAgdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjaGVja3MgdG8gc2VlIHdoaWNoIHVwZGF0ZXMgc2hvdWxkIGJlIGNoZWNrZWQgYmFzZWQgb24gd2hpY2ggc2V0dGluZ3MgaGF2ZSBiZWVuIGFjdGl2YXRlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgaWYgYmxlbmQgaXMgZW5hYmxlZCB0aGVuIHdlIHNob3VsZCBjaGVjayB0aGUgYmxlbmQgbW9kZXMgZWFjaCB0aW1lIHRoZSBzdGF0ZSBpcyBjaGFuZ2VkXG4gICAgICogb3IgaWYgcG9seWdvbiBmaWxsIGlzIGFjdGl2YXRlZCB0aGVuIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHBvbHlnb24gb2Zmc2V0IGNoYW5nZXMuXG4gICAgICogVGhlIGlkZWEgaXMgdGhhdCB3ZSBvbmx5IGNoZWNrIHdoYXQgd2UgaGF2ZSB0b28uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gdGhlIGNoZWNraW5nIGZ1bmN0aW9uIHRvIGFkZCBvciByZW1vdmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gc2hvdWxkIHRoZSBjaGVjayBmdW5jdGlvbiBiZSBhZGRlZCBvciByZW1vdmVkLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVDaGVjayA9IGZ1bmN0aW9uIChmdW5jLCB2YWx1ZSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoZWNrcy5pbmRleE9mKGZ1bmMpO1xuICAgICAgICBpZiAodmFsdWUgJiYgaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrcy5wdXNoKGZ1bmMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF2YWx1ZSAmJiBpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgcHJpdmF0ZSBsaXR0bGUgd3JhcHBlciBmdW5jdGlvbiB0aGF0IHdlIGNhbGwgdG8gY2hlY2sgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGVTeXN0ZW19IFN5c3RlbSAtIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlIC0gdGhlIHN0YXRlIHRoYXQgdGhlIGJsZW5kTW9kZSB3aWxsIHB1bGxlZCBmcm9tXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUgPSBmdW5jdGlvbiAoc3lzdGVtLCBzdGF0ZSkge1xuICAgICAgICBzeXN0ZW0uc2V0QmxlbmRNb2RlKHN0YXRlLmJsZW5kTW9kZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtIC0gdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gc3RhdGUgLSB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja1BvbHlnb25PZmZzZXQgPSBmdW5jdGlvbiAoc3lzdGVtLCBzdGF0ZSkge1xuICAgICAgICBzeXN0ZW0uc2V0UG9seWdvbk9mZnNldCgxLCBzdGF0ZS5wb2x5Z29uT2Zmc2V0KTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0aW9uIG9uIHRoZSBHUFUsXG4gKiBlbnN1cmluZyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkIHVwIHdpdGggdGV4dHVyZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGJlaW5nIHVzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgVGV4dHVyZUdDU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0dXJlR0NTeXN0ZW0sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dHVyZUdDU3lzdGVtKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrIGNvdW50XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gaWRsZSB0aW1lLCBpbiBzZWNvbmRzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01BWF9JRExFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXhJZGxlID0gc2V0dGluZ3MuR0NfTUFYX0lETEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBpdGVtIHRvIGNoZWNrXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2hlY2tDb3VudE1heCA9IHNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgZ2FyYWJhZ2UgY29sbGVjdGlvbiBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR0NfTU9ERVN9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NT0RFXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb2RlID0gc2V0dGluZ3MuR0NfTU9ERTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUucG9zdHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSBHQ19NT0RFUy5NQU5VQUwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrQ291bnQrKztcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgdmFyIG1hbmFnZWRUZXh0dXJlcyA9IHRtLm1hbmFnZWRUZXh0dXJlcztcbiAgICAgICAgdmFyIHdhc1JlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuICAgICAgICAgICAgLy8gb25seSBzdXBwb3J0cyBub24gZ2VuZXJhdGVkIHRleHR1cmVzIGF0IHRoZSBtb21lbnQhXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuZnJhbWVidWZmZXIgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhc1JlbW92ZWQpIHtcbiAgICAgICAgICAgIHZhciBqID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRUZXh0dXJlc1tpXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaisrXSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoID0gajtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHRleHR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIHRoZSBHUFVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3QgdG8gcmVtb3ZlIHRoZSB0ZXh0dXJlcyBmcm9tLlxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGRpc3BsYXlPYmplY3QuX3RleHR1cmU7XG4gICAgICAgIC8vIG9ubHkgZGVzdHJveSBub24gZ2VuZXJhdGVkIHRleHR1cmVzXG4gICAgICAgIGlmICh0ZXh0dXJlICYmICF0ZXh0dXJlLmZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdGhpcy51bmxvYWQoZGlzcGxheU9iamVjdC5jaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlR0NTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEludGVybmFsIHRleHR1cmUgZm9yIFdlYkdMIGNvbnRleHRcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdMVGV4dHVyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHTFRleHR1cmUodGV4dHVyZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdpZHRoIG9mIHRleHR1cmUgdGhhdCB3YXMgdXNlZCBpbiB0ZXhJbWFnZTJEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhlaWdodCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZSBjb250ZW50cyBkaXJ0eSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZSBzdHlsZSBkaXJ0eSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTdHlsZUlkID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG1pcCBsZXZlbHMgaGFzIHRvIGJlIGdlbmVyYXRlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBNb2RlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3JhcE1vZGUgPSAzMzA3MTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gNjQwODtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcm5hbEZvcm1hdCA9IDUxMjE7XG4gICAgfVxuICAgIHJldHVybiBHTFRleHR1cmU7XG59KCkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0ZXh0dXJlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBUZXh0dXJlU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZXh0dXJlU3lzdGVtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVTeXN0ZW0ocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgIC8vIFRPRE8gc2V0IHRvIG1heCB0ZXh0dXJlcy4uLlxuICAgICAgICAvKipcbiAgICAgICAgICogQm91bmQgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJvdW5kVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgbG9jYXRpb25cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBtYW5hZ2VkIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpZCBzb21lb25lIHRlbXBlciB3aXRoIHRleHR1cmVzIHN0YXRlPyBXZSdsbCBvdmVyd3JpdGUgdGhlbSB3aGVuIHdlIG5lZWQgdG8gdW5iaW5kIHNvbWV0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZVRleHR1cmUgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVua25vd25UZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb247XG4gICAgICAgIHZhciBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGggPSBtYXhUZXh0dXJlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzLi4gdG8gYSBuaWNlIG1ha2UgZW1wdHkgdGV4dHVyZXMgY2xhc3MuLlxuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXMgPSB7fTtcbiAgICAgICAgdmFyIGVtcHR5VGV4dHVyZTJEID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBlbXB0eVRleHR1cmUyRC50ZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCAxLCAxLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBuZXcgVWludDhBcnJheSg0KSk7XG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXSA9IGVtcHR5VGV4dHVyZTJEO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0gPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFX0NVQkVfTUFQXS50ZXh0dXJlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaSwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5iaW5kKG51bGwsIGkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kIGEgdGV4dHVyZSB0byBhIHNwZWNpZmljIGxvY2F0aW9uXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byB1bmJpbmQgc29tZXRoaW5nLCBwbGVhc2UgdXNlIGB1bmJpbmQodGV4dHVyZSlgIGluc3RlYWQgb2YgYGJpbmQobnVsbCwgdGV4dHVyZUxvY2F0aW9uKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfFBJWEkuQmFzZVRleHR1cmV9IHRleHR1cmVfIC0gVGV4dHVyZSB0byBiaW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb2NhdGlvbj0wXSAtIExvY2F0aW9uIHRvIGJpbmQgYXRcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKHRleHR1cmUsIGxvY2F0aW9uKSB7XG4gICAgICAgIGlmIChsb2NhdGlvbiA9PT0gdm9pZCAwKSB7IGxvY2F0aW9uID0gMDsgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBpZiAodGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuY2FzdFRvQmFzZVRleHR1cmUoKTtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnBhcmVudFRleHR1cmVBcnJheSkge1xuICAgICAgICAgICAgICAgIC8vIGNhbm5vdCBiaW5kIHBhcnRpYWwgdGV4dHVyZVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlcG9ydCBhIHdhcm5pbmdcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRleHR1cmUudG91Y2hlZCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuICAgICAgICAgICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdIHx8IHRoaXMuaW5pdFRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gIT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUodGV4dHVyZS50YXJnZXQsIGdsVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkICE9PSB0ZXh0dXJlLmRpcnR5SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRleHR1cmUgbG9jYXRpb24gYW5kIGJvdW5kIHRleHR1cmVzXG4gICAgICpcbiAgICAgKiBBY3R1YWwgYGJpbmQobnVsbCwgaSlgIGNhbGxzIHdpbGwgYmUgcGVyZm9ybWVkIGF0IG5leHQgYHVuYmluZCgpYCBjYWxsXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSAtMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMudW5rbm93blRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuYmluZCBhIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGJpbmRcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBib3VuZFRleHR1cmVzID0gX2EuYm91bmRUZXh0dXJlcztcbiAgICAgICAgaWYgKHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gc29tZW9uZSBjaGFuZ2VkIHdlYkdMIHN0YXRlLFxuICAgICAgICAgICAgLy8gd2UgaGF2ZSB0byBiZSBzdXJlIHRoYXQgb3VyIHRleHR1cmUgZG9lcyBub3QgYXBwZWFyIGluIG11bHRpLXRleHR1cmUgcmVuZGVyZXIgc2FtcGxlcnNcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0aGlzLnVua25vd25UZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgaSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUodGV4dHVyZS50YXJnZXQsIHRoaXMuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlLnRhcmdldF0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gaW5pdGlhbGl6ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IG5ldyBHTFRleHR1cmUodGhpcy5nbC5jcmVhdGVUZXh0dXJlKCkpO1xuICAgICAgICAvLyBndWFyYW50ZWUgYW4gdXBkYXRlLi5cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSAtMTtcbiAgICAgICAgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGdsVGV4dHVyZTtcbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgICByZXR1cm4gZ2xUZXh0dXJlO1xuICAgIH07XG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuaW5pdFRleHR1cmVUeXBlID0gZnVuY3Rpb24gKHRleHR1cmUsIGdsVGV4dHVyZSkge1xuICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSB0ZXh0dXJlLmZvcm1hdDtcbiAgICAgICAgZ2xUZXh0dXJlLnR5cGUgPSB0ZXh0dXJlLnR5cGU7XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiAhPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IGdsLkZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSkge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTMyRjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGF0J3MgV2ViR0wxIEhBTEZfRkxPQVRfT0VTXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gY29udmVydCBpdCB0byBXZWJHTCBIQUxGX0ZMT0FUXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlID0gZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xUZXh0dXJlLnR5cGUgPT09IGdsLkhBTEZfRkxPQVRcbiAgICAgICAgICAgICYmIHRleHR1cmUuZm9ybWF0ID09PSBnbC5SR0JBKSB7XG4gICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMTZGO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gaW5pdGlhbGl6ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgaWYgKCFnbFRleHR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB0aGlzLmluaXRUZXh0dXJlVHlwZSh0ZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnVwbG9hZChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSkgO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQsIHJlbmRlclRleHR1cmUtbGlrZSBsb2dpY1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoICE9PSB3aWR0aFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5oZWlnaHQgIT09IGhlaWdodFxuICAgICAgICAgICAgICAgIHx8IGdsVGV4dHVyZS5kaXJ0eUlkIDwgMCkge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRCh0ZXh0dXJlLnRhcmdldCwgMCwgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCB0ZXh0dXJlLmZvcm1hdCwgZ2xUZXh0dXJlLnR5cGUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgb25seSB1cGRhdGUgd2hhdCBjaGFuZ2VzLi5cbiAgICAgICAgaWYgKHRleHR1cmUuZGlydHlTdHlsZUlkICE9PSBnbFRleHR1cmUuZGlydHlTdHlsZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IHRleHR1cmUuZGlydHlJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlXyAtIHRoZSB0ZXh0dXJlIHRvIGRlc3Ryb3lcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwUmVtb3ZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2tpcCByZW1vdmluZyB0aGUgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlTWFuYWdlci5cbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95VGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBza2lwUmVtb3ZlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmNhc3RUb0Jhc2VUZXh0dXJlKCk7XG4gICAgICAgIGlmICh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICB0aGlzLnVuYmluZCh0ZXh0dXJlKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIGlmICghc2tpcFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRleHR1cmUgc3R5bGUgc3VjaCBhcyBtaXBtYXAgZmxhZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodGV4dHVyZS5taXBtYXAgPT09IE1JUE1BUF9NT0RFUy5QT1cyIHx8IHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKSAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSB0ZXh0dXJlLm1pcG1hcCA+PSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiAhPT0gMiAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSB0ZXh0dXJlLndyYXBNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2Uuc3R5bGUodGhpcy5yZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSkgO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlTdHlsZUlkID0gdGV4dHVyZS5kaXJ0eVN0eWxlSWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgc3R5bGUgZm9yIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKGdsVGV4dHVyZS5taXBtYXApIHtcbiAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKHRleHR1cmUudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfUywgZ2xUZXh0dXJlLndyYXBNb2RlKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIgPyBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUiA6IGdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgdmFyIGFuaXNvdHJvcGljRXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuYW5pc290cm9waWNGaWx0ZXJpbmc7XG4gICAgICAgICAgICBpZiAoYW5pc290cm9waWNFeHQgJiYgdGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsID4gMCAmJiB0ZXh0dXJlLnNjYWxlTW9kZSA9PT0gU0NBTEVfTU9ERVMuTElORUFSKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gTWF0aC5taW4odGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsLCBnbC5nZXRQYXJhbWV0ZXIoYW5pc290cm9waWNFeHQuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSk7XG4gICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlLnRhcmdldCwgYW5pc290cm9waWNFeHQuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsIGxldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgICAgICB9XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgdGV4dHVyZS5zY2FsZU1vZGUgPT09IFNDQUxFX01PREVTLkxJTkVBUiA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbXMgYXJlIGluZGl2aWR1YWwgY29tcG9uZW50cyB0byB0aGUgUmVuZGVyZXIgcGlwZWxpbmUuXG4gKiBAbmFtZXNwYWNlIFBJWEkuc3lzdGVtc1xuICovXG5cbnZhciBzeXN0ZW1zID0gKHtcbiAgICBGaWx0ZXJTeXN0ZW06IEZpbHRlclN5c3RlbSxcbiAgICBCYXRjaFN5c3RlbTogQmF0Y2hTeXN0ZW0sXG4gICAgQ29udGV4dFN5c3RlbTogQ29udGV4dFN5c3RlbSxcbiAgICBGcmFtZWJ1ZmZlclN5c3RlbTogRnJhbWVidWZmZXJTeXN0ZW0sXG4gICAgR2VvbWV0cnlTeXN0ZW06IEdlb21ldHJ5U3lzdGVtLFxuICAgIE1hc2tTeXN0ZW06IE1hc2tTeXN0ZW0sXG4gICAgU2Npc3NvclN5c3RlbTogU2Npc3NvclN5c3RlbSxcbiAgICBTdGVuY2lsU3lzdGVtOiBTdGVuY2lsU3lzdGVtLFxuICAgIFByb2plY3Rpb25TeXN0ZW06IFByb2plY3Rpb25TeXN0ZW0sXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbTogUmVuZGVyVGV4dHVyZVN5c3RlbSxcbiAgICBTaGFkZXJTeXN0ZW06IFNoYWRlclN5c3RlbSxcbiAgICBTdGF0ZVN5c3RlbTogU3RhdGVTeXN0ZW0sXG4gICAgVGV4dHVyZUdDU3lzdGVtOiBUZXh0dXJlR0NTeXN0ZW0sXG4gICAgVGV4dHVyZVN5c3RlbTogVGV4dHVyZVN5c3RlbVxufSk7XG5cbnZhciB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuLyoqXG4gKiBUaGUgQWJzdHJhY3RSZW5kZXJlciBpcyB0aGUgYmFzZSBmb3IgYSBQaXhpSlMgUmVuZGVyZXIuIEl0IGlzIGV4dGVuZGVkIGJ5IHRoZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn1cbiAqIGFuZCB7QGxpbmsgUElYSS5SZW5kZXJlcn0gd2hpY2ggY2FuIGJlIHVzZWQgZm9yIHJlbmRlcmluZyBhIFBpeGlKUyBzY2VuZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBYnN0cmFjdFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzeXN0ZW0gLSBUaGUgbmFtZSBvZiB0aGUgc3lzdGVtIHRoaXMgcmVuZGVyZXIgaXMgZm9yLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICAgKiAgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RSZW5kZXJlcih0eXBlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvLyBBZGQgdGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHNldHRpbmdzLlJFTkRFUl9PUFRJT05TLCBvcHRpb25zKTtcbiAgICAgICAgLy8gRGVwcmVjYXRpb24gbm90aWNlIGZvciByZW5kZXJlciByb3VuZFBpeGVscyBvcHRpb25cbiAgICAgICAgaWYgKG9wdGlvbnMucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLlJPVU5EX1BJWEVMUyA9IG9wdGlvbnMucm91bmRQaXhlbHM7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4wLjAnLCAnUmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFMnLCAyKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN1cHBsaWVkIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlJFTkRFUkVSX1RZUEUuVU5LTk9XTlxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZWFzdXJlbWVudHMgb2YgdGhlIHNjcmVlbi4gKDAsIDAsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdHMgc2FmZSB0byB1c2UgYXMgZmlsdGVyQXJlYSBvciBoaXRBcmVhIGZvciB0aGUgd2hvbGUgc3RhZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXcgPSBvcHRpb25zLnZpZXcgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIENTUyBkaW1lbnNpb25zIG9mIGNhbnZhcyB2aWV3IHNob3VsZCBiZSByZXNpemVkIHRvIHNjcmVlbiBkaW1lbnNpb25zIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvRGVuc2l0eSA9IG9wdGlvbnMuYXV0b0RlbnNpdHkgfHwgb3B0aW9ucy5hdXRvUmVzaXplIHx8IGZhbHNlO1xuICAgICAgICAvLyBhdXRvUmVzaXplIGlzIGRlcHJlY2F0ZWQsIHByb3ZpZGVzIGZhbGxiYWNrIHN1cHBvcnRcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgcHJlc2VydmVEcmF3aW5nQnVmZmVyIGZsYWcgYWZmZWN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgY29udGVudHMgb2ZcbiAgICAgICAgICogdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHJldGFpbmVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzZXRzIGlmIHRoZSBDYW52YXNSZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAgICAgKiBJZiB0aGUgc2NlbmUgaXMgTk9UIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBhIGNhbnZhcyBzaXplZCBmaWxsUmVjdCBvcGVyYXRpb24gZXZlcnlcbiAgICAgICAgICogZnJhbWUgdG8gc2V0IHRoZSBjYW52YXMgYmFja2dyb3VuZCBjb2xvci4gSWYgdGhlIHNjZW5lIGlzIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBjbGVhclJlY3RcbiAgICAgICAgICogdG8gY2xlYXIgdGhlIGNhbnZhcyBldmVyeSBmcmFtZS4gRGlzYWJsZSB0aGlzIGJ5IHNldHRpbmcgdGhpcyB0byBmYWxzZS4gRm9yIGV4YW1wbGUsIGlmXG4gICAgICAgICAqIHlvdXIgZ2FtZSBoYXMgYSBjYW52YXMgZmlsbGluZyBiYWNrZ3JvdW5kIGltYWdlIHlvdSBvZnRlbiBkb24ndCBuZWVkIHRoaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBudW1iZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvciA9IDB4MDAwMDAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBbMCwgMCwgMCwgMF07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIHN0cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gJyMwMDAwMDAnO1xuICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCBfdGhpcy5fYmFja2dyb3VuZENvbG9yOyAvLyBydW4gYmcgY29sb3Igc2V0dGVyXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCByb290IG9iamVjdCB0aGF0IHRoZSByZW5kZXJlciB0cmllZCB0byByZW5kZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBsdWdpbnMuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5zID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGljTWFwIC0gVGhlIGRpY3Rpb25hcnkgb2Ygc3RhdGljYWxseSBzYXZlZCBwbHVnaW5zLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gKHN0YXRpY01hcCkge1xuICAgICAgICBmb3IgKHZhciBvIGluIHN0YXRpY01hcCkge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbmV3IChzdGF0aWNNYXBbb10pKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IDgwMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHZpZXcuaGVpZ2h0LCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IHZlcnRpY2FsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBzY3JlZW4gYW5kIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICogQ2FudmFzIGRpbWVuc2lvbnMgYXJlIG11bHRpcGxpZWQgYnkgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkge1xuICAgICAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHNjcmVlbldpZHRoO1xuICAgICAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IHNjcmVlbldpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBpZiAodGhpcy5hdXRvRGVuc2l0eSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gc2NyZWVuV2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciB2aWV3IGhhcyBiZWVuIHJlc2l6ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3Jlc2l6ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdyZXNpemUnLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZWZ1bCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0ZXh0dXJlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlIHNwcml0ZXNcbiAgICAgKiBUaGlzIGNhbiBiZSBxdWl0ZSB1c2VmdWwgaWYgeW91ciBkaXNwbGF5T2JqZWN0IGlzIGNvbXBsaWNhdGVkIGFuZCBuZWVkcyB0byBiZSByZXVzZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5T2JqZWN0IHRoZSBvYmplY3Qgd2lsbCBiZSBnZW5lcmF0ZWQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IHNjYWxlTW9kZSAtIFRoZSBzY2FsZSBtb2RlIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWdpb25dIC0gVGhlIHJlZ2lvbiBvZiB0aGUgZGlzcGxheU9iamVjdCwgdGhhdCBzaGFsbCBiZSByZW5kZXJlZCxcbiAgICAgKiAgICAgICAgaWYgbm8gcmVnaW9uIGlzIHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IEEgdGV4dHVyZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIChkaXNwbGF5T2JqZWN0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJlZ2lvbikge1xuICAgICAgICByZWdpb24gPSByZWdpb24gfHwgZGlzcGxheU9iamVjdC5nZXRMb2NhbEJvdW5kcyhudWxsLCB0cnVlKTtcbiAgICAgICAgLy8gbWluaW11bSB0ZXh0dXJlIHNpemUgaXMgMXgxLCAweDAgd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAgICBpZiAocmVnaW9uLndpZHRoID09PSAwKVxuICAgICAgICAgICAgeyByZWdpb24ud2lkdGggPSAxOyB9XG4gICAgICAgIGlmIChyZWdpb24uaGVpZ2h0ID09PSAwKVxuICAgICAgICAgICAgeyByZWdpb24uaGVpZ2h0ID0gMTsgfVxuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHtcbiAgICAgICAgICAgIHdpZHRoOiByZWdpb24ud2lkdGggfCAwLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWdpb24uaGVpZ2h0IHwgMCxcbiAgICAgICAgICAgIHNjYWxlTW9kZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBNYXRyaXgudHggPSAtcmVnaW9uLng7XG4gICAgICAgIHRlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG4gICAgICAgIHRoaXMucmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGZhbHNlLCB0ZW1wTWF0cml4LCAhIWRpc3BsYXlPYmplY3QucGFyZW50KTtcbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChyZW1vdmVWaWV3KSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gdGhpcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0FueSA9IHRoaXM7XG4gICAgICAgIC8vIG51bGwtaW5nIGFsbCBvYmplY3RzLCB0aGF0J3MgYSB0cmFkaXRpb24hXG4gICAgICAgIHRoaXNBbnkucGx1Z2lucyA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcbiAgICAgICAgdGhpc0FueS52aWV3ID0gbnVsbDtcbiAgICAgICAgdGhpc0FueS5zY3JlZW4gPSBudWxsO1xuICAgICAgICB0aGlzQW55Ll90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXNBbnkub3B0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLCBcImJhY2tncm91bmRDb2xvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IGhleDJzdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQWJzdHJhY3RSZW5kZXJlcjtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogVGhlIFJlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSBXZWJHTCBlbmFibGVkIGNhbnZhcy5cbiAqXG4gKiBUaGlzIHJlbmRlcmVyIHNob3VsZCBiZSB1c2VkIGZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgV2ViR0wuXG4gKlxuICogVGhpcyByZW5kZXJlciB3b3JrcyBieSBhdXRvbWF0aWNhbGx5IG1hbmFnaW5nIFdlYkdMQmF0Y2hlc20sIHNvIG5vIG5lZWQgZm9yIFNwcml0ZSBCYXRjaGVzIG9yIFNwcml0ZSBDbG91ZHMuXG4gKiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSB2aWV3IHRvIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmchXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5BYnN0cmFjdFJlbmRlcmVyXG4gKi9cbnZhciBSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gVGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzLiBJZiBub3QgYXZhaWxhYmxlIG5hdGl2ZWx5IHRoZW4gRlhBQVxuICAgICAqICBhbnRpYWxpYXNpbmcgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKiAgVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlcmVyIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXJcbiAgICAgKiAgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuIElmIHlvdSB3aXNoIHRvIHNldCB0aGlzIHRvIGZhbHNlLCB5b3UgKm11c3QqIHNldFxuICAgICAqICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgdG8gYHRydWVgLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLFxuICAgICAqICBlbmFibGUgdGhpcyBpZiB5b3UgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byBXZWJHTCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmNvbnRleHRdIC0gSWYgV2ViR0wgY29udGV4dCBhbHJlYWR5IGV4aXN0cywgYWxsIHBhcmFtZXRlcnMgbXVzdCBiZSB0YWtlbiBmcm9tIGl0LlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFJFTkRFUkVSX1RZUEUuV0VCR0wsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgICAgIC8vIHRoZSBvcHRpb25zIHdpbGwgaGF2ZSBiZWVuIG1vZGlmaWVkIGhlcmUgaW4gdGhlIHN1cGVyIGNvbnN0cnVjdG9yIHdpdGggcGl4aSdzIGRlZmF1bHQgc2V0dGluZ3MuLlxuICAgICAgICBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYkdMIGNvbnRleHQsIHNldCBieSB0aGUgY29udGV4dFN5c3RlbSAodGhpcy5jb250ZXh0KVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2wgPSBudWxsO1xuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgICAgIC8vIFRPRE8gbGVnYWN5IVxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgc2lnbmFsIGluc3RhbmNlcyBvZiAqKnJ1bm5lcioqLCB0aGVzZVxuICAgICAgICAgKiBhcmUgYXNzaWduZWQgdG8gZWFjaCBzeXN0ZW0gY3JlYXRlZC5cbiAgICAgICAgICogQHNlZSBQSVhJLlJ1bm5lclxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlcmVyI3J1bm5lcnNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IGRlc3Ryb3kgLSBEZXN0cm95IHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBjb250ZXh0Q2hhbmdlIC0gQ29udGV4dCBjaGFuZ2UgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHJlc2V0IC0gUmVzZXQgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHVwZGF0ZSAtIFVwZGF0ZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcG9zdHJlbmRlciAtIFBvc3QtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBwcmVyZW5kZXIgLSBQcmUtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSByZXNpemUgLSBSZXNpemUgcnVubmVyXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ydW5uZXJzID0ge1xuICAgICAgICAgICAgZGVzdHJveTogbmV3IFJ1bm5lcignZGVzdHJveScpLFxuICAgICAgICAgICAgY29udGV4dENoYW5nZTogbmV3IFJ1bm5lcignY29udGV4dENoYW5nZScpLFxuICAgICAgICAgICAgcmVzZXQ6IG5ldyBSdW5uZXIoJ3Jlc2V0JyksXG4gICAgICAgICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpLFxuICAgICAgICAgICAgcG9zdHJlbmRlcjogbmV3IFJ1bm5lcigncG9zdHJlbmRlcicpLFxuICAgICAgICAgICAgcHJlcmVuZGVyOiBuZXcgUnVubmVyKCdwcmVyZW5kZXInKSxcbiAgICAgICAgICAgIHJlc2l6ZTogbmV3IFJ1bm5lcigncmVzaXplJyksXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5NYXNrU3lzdGVtfSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFkZFN5c3RlbShNYXNrU3lzdGVtLCAnbWFzaycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRleHQgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQ29udGV4dFN5c3RlbX0gY29udGV4dFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShDb250ZXh0U3lzdGVtLCAnY29udGV4dCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0YXRlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtfSBzdGF0ZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGF0ZVN5c3RlbSwgJ3N0YXRlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhZGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNoYWRlclN5c3RlbX0gc2hhZGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNoYWRlclN5c3RlbSwgJ3NoYWRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZVN5c3RlbX0gdGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlU3lzdGVtLCAndGV4dHVyZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdlb21ldHJ5IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkdlb21ldHJ5U3lzdGVtfSBnZW9tZXRyeVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShHZW9tZXRyeVN5c3RlbSwgJ2dlb21ldHJ5JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRnJhbWVidWZmZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuRnJhbWVidWZmZXJTeXN0ZW19IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZyYW1lYnVmZmVyU3lzdGVtLCAnZnJhbWVidWZmZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTY2lzc29yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNjaXNzb3JTeXN0ZW19IHNjaXNzb3JcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU2Npc3NvclN5c3RlbSwgJ3NjaXNzb3InKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGVuY2lsIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0ZW5jaWxTeXN0ZW19IHN0ZW5jaWxcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RlbmNpbFN5c3RlbSwgJ3N0ZW5jaWwnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm9qZWN0aW9uIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlByb2plY3Rpb25TeXN0ZW19IHByb2plY3Rpb25cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUHJvamVjdGlvblN5c3RlbSwgJ3Byb2plY3Rpb24nKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIGdhcmJhZ2UgY29sbGVjdG9yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVHQ1N5c3RlbX0gdGV4dHVyZUdDXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVHQ1N5c3RlbSwgJ3RleHR1cmVHQycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpbHRlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGaWx0ZXJTeXN0ZW0sICdmaWx0ZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW5kZXJUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlJlbmRlclRleHR1cmVTeXN0ZW19IHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUmVuZGVyVGV4dHVyZVN5c3RlbSwgJ3JlbmRlclRleHR1cmUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCYXRjaCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5CYXRjaFN5c3RlbX0gYmF0Y2hcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oQmF0Y2hTeXN0ZW0sICdiYXRjaCcpO1xuICAgICAgICBfdGhpcy5pbml0UGx1Z2lucyhSZW5kZXJlci5fX3BsdWdpbnMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wdGlvbnMgcGFzc2VkIGluIHRvIGNyZWF0ZSBhIG5ldyBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgX3RoaXMuY29udGV4dC5pbml0RnJvbUNvbnRleHQob3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmNvbnRleHQuaW5pdEZyb21PcHRpb25zKHtcbiAgICAgICAgICAgICAgICBhbHBoYTogISFfdGhpcy50cmFuc3BhcmVudCxcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IG9wdGlvbnMuYW50aWFsaWFzLFxuICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogX3RoaXMudHJhbnNwYXJlbnQgJiYgX3RoaXMudHJhbnNwYXJlbnQgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBfdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIGlmIHdlIGFyZSByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiB2cyByZW5kZXJUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG4gICAgICAgIHNheUhlbGxvKF90aGlzLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyID8gJ1dlYkdMIDInIDogJ1dlYkdMIDEnKTtcbiAgICAgICAgX3RoaXMucmVzaXplKF90aGlzLm9wdGlvbnMud2lkdGgsIF90aGlzLm9wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcmVuZGVyZXIgaWYgV2ViR0wgaXMgYXZhaWxhYmxlLiBPdmVycmlkZWFibGVcbiAgICAgKiBieSB0aGUgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBwYWNrYWdlIHRvIGFsbG93IGZhbGxiYWNrLlxuICAgICAqIHRocm93cyBlcnJvciBpZiBXZWJHTCBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJlbmRlcmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1dlYkdMU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJHTCB1bnN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIsIHVzZSBcInBpeGkuanMtbGVnYWN5XCIgZm9yIGZhbGxiYWNrIGNhbnZhczJkIHN1cHBvcnQuJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgc3lzdGVtIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDbGFzc1JlZiAtIENsYXNzIHJlZmVyZW5jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBQcm9wZXJ0eSBuYW1lIGZvciBzeXN0ZW0sIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgKiAgICAgICAgd2lsbCB1c2UgYSBzdGF0aWMgYG5hbWVgIHByb3BlcnR5IG9uIHRoZSBjbGFzcyBpdHNlbGYuIFRoaXNcbiAgICAgKiAgICAgICAgbmFtZSB3aWxsIGJlIGFzc2lnbmVkIGFzIHMgcHJvcGVydHkgb24gdGhlIFJlbmRlcmVyIHNvIG1ha2VcbiAgICAgKiAgICAgICAgc3VyZSBpdCBkb2Vzbid0IGNvbGxpZGUgd2l0aCBwcm9wZXJ0aWVzIG9uIFJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybiBpbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5hZGRTeXN0ZW0gPSBmdW5jdGlvbiAoQ2xhc3NSZWYsIG5hbWUpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gQ2xhc3NSZWYubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3lzdGVtID0gbmV3IENsYXNzUmVmKHRoaXMpO1xuICAgICAgICBpZiAodGhpc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2hvb3BzISBUaGUgbmFtZSBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIGlzIGFscmVhZHkgaW4gdXNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbbmFtZV0gPSBzeXN0ZW07XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5ydW5uZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbaV0uYWRkKHN5c3RlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZyBmaW5pc2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcG9zdHJlbmRlclxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBXZWJHTCBjb250ZXh0IGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjY29udGV4dFxuICAgICAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gaXRzIFdlYkdMIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIG9iamVjdCB0byBiZSByZW5kZXJlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlciB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcj10cnVlXSAtIFNob3VsZCB0aGUgY2FudmFzIGJlIGNsZWFyZWQgYmVmb3JlIHRoZSBuZXcgcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm0gdG8gYXBwbHkgdG8gdGhlIHJlbmRlciB0ZXh0dXJlIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybSBwYXNzP1xuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuICAgICAgICB0aGlzLnJ1bm5lcnMucHJlcmVuZGVyLmVtaXQoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdwcmVyZW5kZXInKTtcbiAgICAgICAgLy8gYXBwbHkgYSB0cmFuc2Zvcm0gYXQgYSBHUFUgbGV2ZWxcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmlzTG9zdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNraXBVcGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc2NlbmUgZ3JhcGhcbiAgICAgICAgICAgIHZhciBjYWNoZVBhcmVudCA9IGRpc3BsYXlPYmplY3QuZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZGlzYWJsZVRlbXBQYXJlbnQoY2FjaGVQYXJlbnQpO1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcbiAgICAgICAgaWYgKGNsZWFyICE9PSB1bmRlZmluZWQgPyBjbGVhciA6IHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyKHRoaXMpO1xuICAgICAgICAvLyBhcHBseSB0cmFuc2Zvcm0uLlxuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO1xuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJ1bm5lcnMucG9zdHJlbmRlci5lbWl0KCk7XG4gICAgICAgIC8vIHJlc2V0IHRyYW5zZm9ybSBhZnRlciByZW5kZXJcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgV2ViR0wgdmlldyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgICAgIHRoaXMucnVubmVycy5yZXNpemUuZW1pdChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzZXQuZW1pdCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBmcmFtZSBidWZmZXJcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5iaW5kKCk7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIChldmVudCBsaXN0ZW5lcnMsIHNwcml0ZWJhdGNoLCBldGMuLi4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKiAgU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzIyMzNcbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChyZW1vdmVWaWV3KSB7XG4gICAgICAgIHRoaXMucnVubmVycy5kZXN0cm95LmVtaXQoKTtcbiAgICAgICAgZm9yICh2YXIgciBpbiB0aGlzLnJ1bm5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tyXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG4gICAgICAgIC8vIFRPRE8gbnVsbGlmeSBhbGwgdGhlIG1hbmFnZXJzLi5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW5OYW1lLCBjdG9yKSB7XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2lucyA9IFJlbmRlcmVyLl9fcGx1Z2lucyB8fCB7fTtcbiAgICAgICAgUmVuZGVyZXIuX19wbHVnaW5zW3BsdWdpbk5hbWVdID0gY3RvcjtcbiAgICB9O1xuICAgIHJldHVybiBSZW5kZXJlcjtcbn0oQWJzdHJhY3RSZW5kZXJlcikpO1xuXG4vKipcbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3Qgd2hpY2ggcmVuZGVyZXIgeW91IHNob3VsZCBiZSB1c2luZy5cbiAqIFdlYkdMIGlzIHRoZSBwcmVmZXJyZWQgcmVuZGVyZXIgYXMgaXQgaXMgYSBsb3QgZmFzdGVyLiBJZiBXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5XG4gKiB0aGUgYnJvd3NlciB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBjYW52YXMgcmVuZGVyZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICogICBpdCBpcyBpZ25vcmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkICoqd2ViZ2wgb25seSoqXG4gKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9IFJldHVybnMgV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuXG52YXIgX2RlZmF1bHQgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxudmFyIGRlZmF1bHRGaWx0ZXIgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBVc2VkIGJ5IHRoZSBiYXRjaGVyIHRvIGRyYXcgYmF0Y2hlcy5cbiAqIEVhY2ggb25lIG9mIHRoZXNlIGNvbnRhaW5zIGFsbCBpbmZvcm1hdGlvbiByZXF1aXJlZCB0byBkcmF3IGEgYm91bmQgZ2VvbWV0cnkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hEcmF3Q2FsbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaERyYXdDYWxsKCkge1xuICAgICAgICB0aGlzLnRleEFycmF5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ibGVuZCA9IDA7XG4gICAgICAgIHRoaXMudHlwZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRhdGEgZm9yIHVuaWZvcm1zIG9yIGN1c3RvbSB3ZWJnbCBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQmF0Y2hEcmF3Q2FsbDtcbn0oKSk7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBidWlsZCB0ZXh0dXJlIGJhdGNoZXMuXG4gKiBIb2xkcyBsaXN0IG9mIHRleHR1cmVzIGFuZCB0aGVpciByZXNwZWN0aXZlIGxvY2F0aW9ucy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFRleHR1cmVBcnJheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFRleHR1cmVBcnJheSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGluc2lkZSB0ZXh0dXJlcyBhcnJheVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNwZWN0aXZlIGxvY2F0aW9ucyBmb3IgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogbnVtYmVyIG9mIGZpbGxlZCBlbGVtZW50c1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB9XG4gICAgQmF0Y2hUZXh0dXJlQXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hUZXh0dXJlQXJyYXk7XG59KCkpO1xuXG4vKipcbiAqIEZsZXhpYmxlIHdyYXBwZXIgYXJvdW5kIGBBcnJheUJ1ZmZlcmAgdGhhdCBhbHNvIHByb3ZpZGVzXG4gKiB0eXBlZCBhcnJheSB2aWV3cyBvbiBkZW1hbmQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVmlld2FibGVCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYnVmZmVyIGluIGJ5dGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZXdhYmxlQnVmZmVyKHNpemUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuZGVybHlpbmcgYEFycmF5QnVmZmVyYCB0aGF0IGhvbGRzIGFsbCB0aGUgZGF0YVxuICAgICAgICAgKiBhbmQgaXMgb2YgY2FwYWNpdHkgYHNpemVgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MzJBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbmV3IFVpbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgRmxvYXQzMkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbG9hdDMyVmlldyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQ4Vmlld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50OEFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDhWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50OFZpZXcgPSBuZXcgSW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50OFZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcInVpbnQ4Vmlld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDhBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdWludDhWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdWludDhWaWV3ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91aW50OFZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcImludDE2Vmlld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50MTZBcnJheWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0ludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faW50MTZWaWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50MTZWaWV3ID0gbmV3IEludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnQxNlZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBcInVpbnQxNlZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQxNkFycmF5YC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdWludDE2Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBuZXcgVWludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91aW50MTZWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgXCJpbnQzMlZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDMyQXJyYXlgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtJbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludDMyVmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDMyVmlldyA9IG5ldyBJbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50MzJWaWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmlldyBvZiB0aGUgZ2l2ZW4gdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gT25lIG9mIGBpbnQ4YCwgYHVpbnQ4YCwgYGludDE2YCxcbiAgICAgKiAgICBgdWludDE2YCwgYGludDMyYCwgYHVpbnQzMmAsIGFuZCBgZmxvYXQzMmAuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSB0eXBlZCBhcnJheSBvZiBnaXZlbiB0eXBlXG4gICAgICovXG4gICAgVmlld2FibGVCdWZmZXIucHJvdG90eXBlLnZpZXcgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpc1t0eXBlICsgXCJWaWV3XCJdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYWxsIGJ1ZmZlciByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGFmdGVyIGNhbGxpbmdcbiAgICAgKiB0aGlzLlxuICAgICAqL1xuICAgIFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQ4VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VpbnQ4VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnQzMlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLnVpbnQzMlZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbnVsbDtcbiAgICB9O1xuICAgIFZpZXdhYmxlQnVmZmVyLnNpemVPZiA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnaW50OCc6XG4gICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBjYXNlICdpbnQxNic6XG4gICAgICAgICAgICBjYXNlICd1aW50MTYnOlxuICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgY2FzZSAnaW50MzInOlxuICAgICAgICAgICAgY2FzZSAndWludDMyJzpcbiAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MzInOlxuICAgICAgICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodHlwZSArIFwiIGlzbid0IGEgdmFsaWQgdmlldyB0eXBlXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVmlld2FibGVCdWZmZXI7XG59KCkpO1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgYmF0Y2ggcmVuZGVyZXIuIEl0IGJ1ZmZlcnMgb2JqZWN0c1xuICogd2l0aCB0ZXh0dXJlLWJhc2VkIGdlb21ldHJpZXMgYW5kIHJlbmRlcnMgdGhlbSBpblxuICogYmF0Y2hlcy4gSXQgdXBsb2FkcyBtdWx0aXBsZSB0ZXh0dXJlcyB0byB0aGUgR1BVIHRvXG4gKiByZWR1Y2UgdG8gdGhlIG51bWJlciBvZiBkcmF3IGNhbGxzLlxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIEFic3RyYWN0QmF0Y2hSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RCYXRjaFJlbmRlcmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBob29rIG9udG8gdGhlIHJlbmRlcmVyJ3MgYGNvbnRleHRDaGFuZ2VgXG4gICAgICogYW5kIGBwcmVyZW5kZXJgIHNpZ25hbHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0QmF0Y2hSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZCB0byBnZW5lcmF0ZSBhIHNoYWRlciB0aGF0IGNhblxuICAgICAgICAgKiBjb2xvciBlYWNoIHZlcnRleCBiYXNlZCBvbiBhIGBhVGV4dHVyZUlkYFxuICAgICAgICAgKiBhdHRyaWJ1dGUgdGhhdCBwb2ludHMgdG8gYW4gdGV4dHVyZSBpbiBgdVNhbXBsZXJgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGVuYWJsZXMgdGhlIG9iamVjdHMgd2l0aCBkaWZmZXJlbnQgdGV4dHVyZXNcbiAgICAgICAgICogdG8gYmUgZHJhd24gaW4gdGhlIHNhbWUgZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBZb3UgY2FuIGN1c3RvbWl6ZSB5b3VyIHNoYWRlciBieSBjcmVhdGluZyB5b3VyXG4gICAgICAgICAqIGN1c3RvbSBzaGFkZXIgZ2VuZXJhdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoU2hhZGVyR2VuZXJhdG9yfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNsYXNzIHRoYXQgcmVwcmVzZW50cyB0aGUgZ2VvbWV0cnkgb2Ygb2JqZWN0c1xuICAgICAgICAgKiB0aGF0IGFyZSBnb2luZyB0byBiZSBiYXRjaGVkIHdpdGggdGhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJhdGNoR2VvbWV0cnlcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VvbWV0cnlDbGFzcyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGRhdGEgYmVpbmcgYnVmZmVyZWQgcGVyIHZlcnRleCBpbiB0aGVcbiAgICAgICAgICogYXR0cmlidXRlIGJ1ZmZlcnMgKGluIGZsb2F0cykuIEJ5IGRlZmF1bHQsIHRoZVxuICAgICAgICAgKiBiYXRjaC1yZW5kZXJlciBwbHVnaW4gdXNlcyA2OlxuICAgICAgICAgKlxuICAgICAgICAgKiB8IGFWZXJ0ZXhQb3NpdGlvbiB8IDIgfFxuICAgICAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS18LS0tfFxuICAgICAgICAgKiB8IGFUZXh0dXJlQ29vcmRzICB8IDIgfFxuICAgICAgICAgKiB8IGFDb2xvciAgICAgICAgICB8IDEgfFxuICAgICAgICAgKiB8IGFUZXh0dXJlSWQgICAgICB8IDEgfFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmVydGV4U2l6ZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgaW4gd2hpY2ggdGhpcyByZW5kZXJlciB3aWxsIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBidWZmZXJhYmxlIG9iamVjdHMgYmVmb3JlIGEgZmx1c2hcbiAgICAgICAgICogb2NjdXJzIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUgKiA0XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplID0gc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUgKiA0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIHZlcnRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIGluZGljZXMgdXNlZCBieSB0aGUgY3VycmVudGx5XG4gICAgICAgICAqIGJ1ZmZlcmVkIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBvZiBvYmplY3RzIHRoYXQgYXJlIHlldCB0byBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyZWRFbGVtZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGF0YSBmb3IgdGV4dHVyZSBiYXRjaCBidWlsZGVyLCBoZWxwcyB0byBzYXZlIGEgYml0IG9mIENQVSBvbiBhIHBhc3MuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyZWRUZXh0dXJlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJ1ZmZlcmVkIGFuZCBhcmVcbiAgICAgICAgICogd2FpdGluZyB0byBiZSBmbHVzaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYnVmZmVyU2l6ZSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNoYWRlciBpcyBnZW5lcmF0ZWQgYnkgYHRoaXMuc2hhZGVyR2VuZXJhdG9yYC5cbiAgICAgICAgICpcbiAgICAgICAgICogSXQgaXMgZ2VuZXJhdGVkIHNwZWNpZmljYWxseSB0byBoYW5kbGUgdGhlIHJlcXVpcmVkXG4gICAgICAgICAqIG51bWJlciBvZiB0ZXh0dXJlcyBiZWluZyBiYXRjaGVkIHRvZ2V0aGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3NoYWRlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGB0aGlzLmdlb21ldHJ5Q2xhc3NgIGdlb21ldHJ5IG9iamVjdHNcbiAgICAgICAgICogdGhhdCBzdG9yZSBidWZmZXJzLiBUaGV5IGFyZSB1c2VkIHRvIHBhc3MgZGF0YVxuICAgICAgICAgKiB0byB0aGUgc2hhZGVyIG9uIGVhY2ggZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGVzZSBhcmUgbmV2ZXIgcmUtYWxsb2NhdGVkIGFnYWluLCB1bmxlc3MgYVxuICAgICAgICAgKiBjb250ZXh0IGNoYW5nZSBvY2N1cnM7IGhvd2V2ZXIsIHRoZSBwb29sIG1heVxuICAgICAgICAgKiBiZSBleHBhbmRlZCBpZiByZXF1aXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HZW9tZXRyeVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyLmNvbnRleHRDaGFuZ2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzYC4gSXQgY2FuIGJlIGV4cGFuZGVkXG4gICAgICAgICAqIGlmIG1vcmUgdGhhbiBgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZWAgZmx1c2hlc1xuICAgICAgICAgKiBvY2N1ciBpbiBhIHNpbmdsZSBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPSAyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbHVzaCBtYXkgb2NjdXIgbXVsdGlwbGUgdGltZXMgaW4gYSBzaW5nbGVcbiAgICAgICAgICogZnJhbWUuIE9uIGlPUyBkZXZpY2VzIG9yIHdoZW5cbiAgICAgICAgICogYHNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVJgIGlzIGZhbHNlLCB0aGVcbiAgICAgICAgICogYmF0Y2ggcmVuZGVyZXIgZG9lcyBub3QgdXBsb2FkIGRhdGEgdG8gdGhlIHNhbWVcbiAgICAgICAgICogYFdlYkdMQnVmZmVyYCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyB0aGUgaW5kZXggaW50byBgcGFja2VkR2VvbWV0cmllc2AgdGhhdCBwb2ludHMgdG9cbiAgICAgICAgICogZ2VvbWV0cnkgaG9sZGluZyB0aGUgbW9zdCByZWNlbnQgYnVmZmVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZsdXNoSWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVmlld2FibGVCdWZmZXJgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBhdHRyaWJ1dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgODsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5WaWV3YWJsZUJ1ZmZlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2dldEF0dHJpYnV0ZUJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FCdWZmZXJzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGBVaW50MTZBcnJheWAgb2JqZWN0cyB0aGF0IGFyZSBzb3J0ZWQgaW5cbiAgICAgICAgICogb3JkZXIgb2YgaW5jcmVhc2luZyBzaXplLiBUaGUgZmx1c2ggbWV0aG9kIHVzZXNcbiAgICAgICAgICogdGhlIGJ1ZmZlciB3aXRoIHRoZSBsZWFzdCBzaXplIGFib3ZlIHRoZSBhbW91bnRcbiAgICAgICAgICogaXQgcmVxdWlyZXMuIFRoZXNlIGFyZSB1c2VkIGZvciBwYXNzaW5nIGluZGljZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmaXJzdCBidWZmZXIgaGFzIGEgc2l6ZSBvZiAxMjsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXlbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRJbmRleEJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2lCdWZmZXJzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSB1cGxvYWRlZCB0b1xuICAgICAgICAgKiB0aGUgR1BVIHVuZGVyIHRoZSBjdXJyZW50IGNvbnRleHQuIEl0IGlzIGluaXRpYWxpemVkXG4gICAgICAgICAqIHByb3Blcmx5IGluIGB0aGlzLmNvbnRleHRDaGFuZ2VgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjY29udGV4dENoYW5nZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIF90aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCBfdGhpcy5vblByZXJlbmRlciwgX3RoaXMpO1xuICAgICAgICByZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuYWRkKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX2RjSW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5fYUluZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuX2lJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5faW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICBfdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBgY29udGV4dENoYW5nZWAgc2lnbmFsLlxuICAgICAqXG4gICAgICogSXQgY2FsY3VsYXRlcyBgdGhpcy5NQVhfVEVYVFVSRVNgIGFuZCBhbGxvY2F0aW5nIHRoZVxuICAgICAqIHBhY2tlZC1nZW9tZXRyeSBvYmplY3QgcG9vbC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKSB7XG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGVwIDE6IGZpcnN0IGNoZWNrIG1heCB0ZXh0dXJlcyB0aGUgR1BVIGNhbiBoYW5kbGUuXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IE1hdGgubWluKGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksIHNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMpO1xuICAgICAgICAgICAgLy8gc3RlcCAyOiBjaGVjayB0aGUgbWF4aW11bSBudW1iZXIgb2YgaWYgc3RhdGVtZW50cyB0aGUgc2hhZGVyIGNhbiBoYXZlIHRvby4uXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIodGhpcy5NQVhfVEVYVFVSRVMsIGdsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaGFkZXIgPSB0aGlzLnNoYWRlckdlbmVyYXRvci5nZW5lcmF0ZVNoYWRlcih0aGlzLk1BWF9URVhUVVJFUyk7XG4gICAgICAgIC8vIHdlIHVzZSB0aGUgc2Vjb25kIHNoYWRlciBhcyB0aGUgZmlyc3Qgb25lIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXJcbiAgICAgICAgLy8gbWF5IG9taXQgYVRleHR1cmVJZCBhcyBpdCBpcyBub3QgdXNlZCBieSB0aGUgc2hhZGVyIHNvIGlzIG9wdGltaXplZCBvdXQuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0Rmx1c2hCdWZmZXJzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlcyBzdXJlIHRoYXQgc3RhdGljIGFuZCBkeW5hbWljIGZsdXNoIHBvb2xlZCBvYmplY3RzIGhhdmUgY29ycmVjdCBkaW1lbnNpb25zXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5pbml0Rmx1c2hCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2RyYXdDYWxsUG9vbCA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sLCBfdGV4dHVyZUFycmF5UG9vbCA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fdGV4dHVyZUFycmF5UG9vbDtcbiAgICAgICAgLy8gbWF4IGRyYXcgY2FsbHNcbiAgICAgICAgdmFyIE1BWF9TUFJJVEVTID0gdGhpcy5zaXplIC8gNDtcbiAgICAgICAgLy8gbWF4IHRleHR1cmUgYXJyYXlzXG4gICAgICAgIHZhciBNQVhfVEEgPSBNYXRoLmZsb29yKE1BWF9TUFJJVEVTIC8gdGhpcy5NQVhfVEVYVFVSRVMpICsgMTtcbiAgICAgICAgd2hpbGUgKF9kcmF3Q2FsbFBvb2wubGVuZ3RoIDwgTUFYX1NQUklURVMpIHtcbiAgICAgICAgICAgIF9kcmF3Q2FsbFBvb2wucHVzaChuZXcgQmF0Y2hEcmF3Q2FsbCgpKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoX3RleHR1cmVBcnJheVBvb2wubGVuZ3RoIDwgTUFYX1RBKSB7XG4gICAgICAgICAgICBfdGV4dHVyZUFycmF5UG9vbC5wdXNoKG5ldyBCYXRjaFRleHR1cmVBcnJheSgpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuTUFYX1RFWFRVUkVTOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBCb3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYHByZXJlbmRlcmAgc2lnbmFsLlxuICAgICAqXG4gICAgICogSXQgZW5zdXJlcyB0aGF0IGZsdXNoZXMgc3RhcnQgZnJvbSB0aGUgZmlyc3QgZ2VvbWV0cnlcbiAgICAgKiBvYmplY3QgYWdhaW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5vblByZXJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZmx1c2hJZCA9IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCdWZmZXJzIHRoZSBcImJhdGNoYWJsZVwiIG9iamVjdC4gSXQgbmVlZCBub3QgYmUgcmVuZGVyZWRcbiAgICAgKiBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBlbGVtZW50IC0gdGhlIGVsZW1lbnQgdG8gcmVuZGVyIHdoZW5cbiAgICAgKiAgICB1c2luZyB0aGlzIHJlbmRlcmVyXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQuX3RleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgKyAoZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIpID4gdGhpcy5zaXplKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgKz0gZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgKz0gZWxlbWVudC5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fYnVmZmVyZWRUZXh0dXJlc1t0aGlzLl9idWZmZXJTaXplXSA9IGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkRWxlbWVudHNbdGhpcy5fYnVmZmVyU2l6ZSsrXSA9IGVsZW1lbnQ7XG4gICAgfTtcbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHRleHR1cmVzID0gX2EuX2J1ZmZlcmVkVGV4dHVyZXMsIE1BWF9URVhUVVJFUyA9IF9hLk1BWF9URVhUVVJFUztcbiAgICAgICAgdmFyIHRleHR1cmVBcnJheXMgPSBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2w7XG4gICAgICAgIHZhciBiYXRjaCA9IHRoaXMucmVuZGVyZXIuYmF0Y2g7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXM7XG4gICAgICAgIHZhciB0b3VjaCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuICAgICAgICB2YXIgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuICAgICAgICB2YXIgY291bnRUZXhBcnJheXMgPSAwO1xuICAgICAgICB2YXIgdGV4QXJyYXkgPSB0ZXh0dXJlQXJyYXlzWzBdO1xuICAgICAgICB2YXIgc3RhcnQgPSAwO1xuICAgICAgICBiYXRjaC5jb3B5Qm91bmRUZXh0dXJlcyhib3VuZFRleHR1cmVzLCBNQVhfVEVYVFVSRVMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlclNpemU7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRleCA9IHRleHR1cmVzW2ldO1xuICAgICAgICAgICAgdGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRleC5fYmF0Y2hFbmFibGVkID09PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGV4QXJyYXkuY291bnQgPj0gTUFYX1RFWFRVUkVTKSB7XG4gICAgICAgICAgICAgICAgYmF0Y2guYm91bmRBcnJheSh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgVElDSywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkRHJhd0NhbGxzKHRleEFycmF5LCBzdGFydCwgaSk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1srK2NvdW50VGV4QXJyYXlzXTtcbiAgICAgICAgICAgICAgICArK1RJQ0s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXguX2JhdGNoRW5hYmxlZCA9IFRJQ0s7XG4gICAgICAgICAgICB0ZXgudG91Y2hlZCA9IHRvdWNoO1xuICAgICAgICAgICAgdGV4QXJyYXkuZWxlbWVudHNbdGV4QXJyYXkuY291bnQrK10gPSB0ZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleEFycmF5LmNvdW50ID4gMCkge1xuICAgICAgICAgICAgYmF0Y2guYm91bmRBcnJheSh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgVElDSywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHModGV4QXJyYXksIHN0YXJ0LCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICsrY291bnRUZXhBcnJheXM7XG4gICAgICAgICAgICArK1RJQ0s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYW4tdXBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wdWxhdGluZyBkcmF3Y2FsbHMgZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmaW5pc2hcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkRHJhd0NhbGxzID0gZnVuY3Rpb24gKHRleEFycmF5LCBzdGFydCwgZmluaXNoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGVsZW1lbnRzID0gX2EuX2J1ZmZlcmVkRWxlbWVudHMsIF9hdHRyaWJ1dGVCdWZmZXIgPSBfYS5fYXR0cmlidXRlQnVmZmVyLCBfaW5kZXhCdWZmZXIgPSBfYS5faW5kZXhCdWZmZXIsIHZlcnRleFNpemUgPSBfYS52ZXJ0ZXhTaXplO1xuICAgICAgICB2YXIgZHJhd0NhbGxzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2w7XG4gICAgICAgIHZhciBkY0luZGV4ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgdmFyIGFJbmRleCA9IHRoaXMuX2FJbmRleDtcbiAgICAgICAgdmFyIGlJbmRleCA9IHRoaXMuX2lJbmRleDtcbiAgICAgICAgdmFyIGRyYXdDYWxsID0gZHJhd0NhbGxzW2RjSW5kZXhdO1xuICAgICAgICBkcmF3Q2FsbC5zdGFydCA9IHRoaXMuX2lJbmRleDtcbiAgICAgICAgZHJhd0NhbGwudGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZmluaXNoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciB0ZXggPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gcHJlbXVsdGlwbHlCbGVuZE1vZGVbdGV4LmFscGhhTW9kZSA/IDEgOiAwXVtzcHJpdGUuYmxlbmRNb2RlXTtcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChzdGFydCA8IGkgJiYgZHJhd0NhbGwuYmxlbmQgIT09IHNwcml0ZUJsZW5kTW9kZSkge1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsLnNpemUgPSBpSW5kZXggLSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwgPSBkcmF3Q2FsbHNbKytkY0luZGV4XTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbC50ZXhBcnJheSA9IHRleEFycmF5O1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsLnN0YXJ0ID0gaUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeShzcHJpdGUsIF9hdHRyaWJ1dGVCdWZmZXIsIF9pbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpO1xuICAgICAgICAgICAgYUluZGV4ICs9IHNwcml0ZS52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIgKiB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgaUluZGV4ICs9IHNwcml0ZS5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgIGRyYXdDYWxsLmJsZW5kID0gc3ByaXRlQmxlbmRNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydCA8IGZpbmlzaCkge1xuICAgICAgICAgICAgZHJhd0NhbGwuc2l6ZSA9IGlJbmRleCAtIGRyYXdDYWxsLnN0YXJ0O1xuICAgICAgICAgICAgKytkY0luZGV4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RjSW5kZXggPSBkY0luZGV4O1xuICAgICAgICB0aGlzLl9hSW5kZXggPSBhSW5kZXg7XG4gICAgICAgIHRoaXMuX2lJbmRleCA9IGlJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJpbmQgdGV4dHVyZXMgZm9yIGN1cnJlbnQgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXl9IHRleEFycmF5XG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kQW5kQ2xlYXJUZXhBcnJheSA9IGZ1bmN0aW9uICh0ZXhBcnJheSkge1xuICAgICAgICB2YXIgdGV4dHVyZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXhBcnJheS5jb3VudDsgaisrKSB7XG4gICAgICAgICAgICB0ZXh0dXJlU3lzdGVtLmJpbmQodGV4QXJyYXkuZWxlbWVudHNbal0sIHRleEFycmF5Lmlkc1tqXSk7XG4gICAgICAgICAgICB0ZXhBcnJheS5lbGVtZW50c1tqXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGV4QXJyYXkuY291bnQgPSAwO1xuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgcGFja2VkR2VvbWV0cmllcyA9IF9hLl9wYWNrZWRHZW9tZXRyaWVzLCBhdHRyaWJ1dGVCdWZmZXIgPSBfYS5fYXR0cmlidXRlQnVmZmVyLCBpbmRleEJ1ZmZlciA9IF9hLl9pbmRleEJ1ZmZlcjtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7IC8qIFVzdWFsbHkgb24gaU9TIGRldmljZXMsIHdoZXJlIHRoZSBicm93c2VyIGRvZXNuJ3RcbiAgICAgICAgICAgIGxpa2UgdXBsb2FkcyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUuICovXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA8PSB0aGlzLl9mbHVzaElkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSsrO1xuICAgICAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0gPSBuZXcgKHRoaXMuZ2VvbWV0cnlDbGFzcykoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2J1ZmZlci51cGRhdGUoYXR0cmlidXRlQnVmZmVyLnJhd0JpbmFyeURhdGEpO1xuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkuYmluZChwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkudXBkYXRlQnVmZmVycygpO1xuICAgICAgICAgICAgdGhpcy5fZmx1c2hJZCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGZhc3RlciBvcHRpb24sIGFsd2F5cyB1c2UgYnVmZmVyIG51bWJlciAwXG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5kcmF3QmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRjQ291bnQgPSB0aGlzLl9kY0luZGV4O1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnJlbmRlcmVyLCBnbCA9IF9hLmdsLCBzdGF0ZVN5c3RlbSA9IF9hLnN0YXRlO1xuICAgICAgICB2YXIgZHJhd0NhbGxzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2w7XG4gICAgICAgIHZhciBjdXJUZXhBcnJheSA9IG51bGw7XG4gICAgICAgIC8vIFVwbG9hZCB0ZXh0dXJlcyBhbmQgZG8gdGhlIGRyYXcgY2FsbHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkY0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYiA9IGRyYXdDYWxsc1tpXSwgdGV4QXJyYXkgPSBfYi50ZXhBcnJheSwgdHlwZSA9IF9iLnR5cGUsIHNpemUgPSBfYi5zaXplLCBzdGFydCA9IF9iLnN0YXJ0LCBibGVuZCA9IF9iLmJsZW5kO1xuICAgICAgICAgICAgaWYgKGN1clRleEFycmF5ICE9PSB0ZXhBcnJheSkge1xuICAgICAgICAgICAgICAgIGN1clRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kQW5kQ2xlYXJUZXhBcnJheSh0ZXhBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGJsZW5kO1xuICAgICAgICAgICAgc3RhdGVTeXN0ZW0uc2V0KHRoaXMuc3RhdGUpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUsIGdsLlVOU0lHTkVEX1NIT1JULCBzdGFydCAqIDIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IF9ub3dfIGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl92ZXJ0ZXhDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZUJ1ZmZlciA9IHRoaXMuZ2V0QXR0cmlidXRlQnVmZmVyKHRoaXMuX3ZlcnRleENvdW50KTtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4QnVmZmVyKHRoaXMuX2luZGV4Q291bnQpO1xuICAgICAgICB0aGlzLl9hSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9pSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9kY0luZGV4ID0gMDtcbiAgICAgICAgdGhpcy5idWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlR2VvbWV0cnkoKTtcbiAgICAgICAgdGhpcy5kcmF3QmF0Y2hlcygpO1xuICAgICAgICAvLyByZXNldCBlbGVtZW50cyBidWZmZXIgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuX2J1ZmZlclNpemUgPSAwO1xuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgPSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLl9zaGFkZXIpO1xuICAgICAgICBpZiAoc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUikge1xuICAgICAgICAgICAgLy8gYmluZCBidWZmZXIgIzAsIHdlIGRvbid0IG5lZWQgb3RoZXJzXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5fcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBgQWJzdHJhY3RCYXRjaFJlbmRlcmVyYC4gSXQgY2Fubm90IGJlIHVzZWQgYWdhaW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG4gICAgICAgIHRoaXMuX2FCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5faUJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYW4gYXR0cmlidXRlIGJ1ZmZlciBmcm9tIGB0aGlzLl9hQnVmZmVyc2AgdGhhdFxuICAgICAqIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gbWluaW11bSBjYXBhY2l0eSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1ZpZXdhYmxlQnVmZmVyfSAtIGJ1ZmZlciB0aGFuIGNhbiBob2xkIGF0bGVhc3QgYHNpemVgIGZsb2F0c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVCdWZmZXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICAvLyA4IHZlcnRpY2VzIGlzIGVub3VnaCBmb3IgMiBxdWFkc1xuICAgICAgICB2YXIgcm91bmRlZFAyID0gbmV4dFBvdzIoTWF0aC5jZWlsKHNpemUgLyA4KSk7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICB2YXIgcm91bmRlZFNpemUgPSByb3VuZGVkUDIgKiA4O1xuICAgICAgICBpZiAodGhpcy5fYUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV07XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV0gPSBidWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIocm91bmRlZFNpemUgKiB0aGlzLnZlcnRleFNpemUgKiA0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBpbmRleCBidWZmZXIgZnJvbSBgdGhpcy5faUJ1ZmZlcnNgIHRoYXQgY2FuXG4gICAgICogaGF2ZSBhdCBsZWFzdCBgc2l6ZWAgY2FwYWNpdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIG1pbmltdW0gcmVxdWlyZWQgY2FwYWNpdHlcbiAgICAgKiBAcmV0dXJuIHtVaW50MTZBcnJheX0gLSBidWZmZXIgdGhhdCBjYW4gZml0IGBzaXplYFxuICAgICAqICAgIGluZGljZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmdldEluZGV4QnVmZmVyID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgLy8gMTIgaW5kaWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gMTIpKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDEyO1xuICAgICAgICBpZiAodGhpcy5faUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9pQnVmZmVyc1tyb3VuZGVkU2l6ZUluZGV4XTtcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdID0gYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KHJvdW5kZWRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgdGhlIGZvdXIgYmF0Y2hpbmcgcGFyYW1ldGVycyBvZiBgZWxlbWVudGAsIGludGVybGVhdmVzXG4gICAgICogYW5kIHB1c2hlcyB0aGVtIGludG8gdGhlIGJhdGNoaW5nIGF0dHJpYnV0ZS9pbmRleCBidWZmZXJzIGdpdmVuLlxuICAgICAqXG4gICAgICogSXQgdXNlcyB0aGVzZSBwcm9wZXJ0aWVzOiBgdmVydGV4RGF0YWAgYHV2c2AsIGB0ZXh0dXJlSWRgIGFuZFxuICAgICAqIGBpbmRpY2llc2AuIEl0IGFsc28gdXNlcyB0aGUgXCJ0aW50XCIgb2YgdGhlIGJhc2UtdGV4dHVyZSwgaWZcbiAgICAgKiBwcmVzZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gZWxlbWVudCAtIGVsZW1lbnQgYmVpbmcgcmVuZGVyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuVmlld2FibGVCdWZmZXJ9IGF0dHJpYnV0ZUJ1ZmZlciAtIGF0dHJpYnV0ZSBidWZmZXIuXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gaW5kZXhCdWZmZXIgLSBpbmRleCBidWZmZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYUluZGV4IC0gbnVtYmVyIG9mIGZsb2F0cyBhbHJlYWR5IGluIHRoZSBhdHRyaWJ1dGUgYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlJbmRleCAtIG51bWJlciBvZiBpbmRpY2VzIGFscmVhZHkgaW4gYGluZGV4QnVmZmVyYFxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUucGFja0ludGVybGVhdmVkR2VvbWV0cnkgPSBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cmlidXRlQnVmZmVyLCBpbmRleEJ1ZmZlciwgYUluZGV4LCBpSW5kZXgpIHtcbiAgICAgICAgdmFyIHVpbnQzMlZpZXcgPSBhdHRyaWJ1dGVCdWZmZXIudWludDMyVmlldywgZmxvYXQzMlZpZXcgPSBhdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXc7XG4gICAgICAgIHZhciBwYWNrZWRWZXJ0aWNlcyA9IGFJbmRleCAvIHRoaXMudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIHV2cyA9IGVsZW1lbnQudXZzO1xuICAgICAgICB2YXIgaW5kaWNpZXMgPSBlbGVtZW50LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gZWxlbWVudC52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgICAgdmFyIGFscGhhID0gTWF0aC5taW4oZWxlbWVudC53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICB2YXIgYXJnYiA9IChhbHBoYSA8IDEuMFxuICAgICAgICAgICAgJiYgZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUpXG4gICAgICAgICAgICA/IHByZW11bHRpcGx5VGludChlbGVtZW50Ll90aW50UkdCLCBhbHBoYSlcbiAgICAgICAgICAgIDogZWxlbWVudC5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG4gICAgICAgIC8vIGxldHMgbm90IHdvcnJ5IGFib3V0IHRpbnQhIGZvciBub3cuLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHZlcnRleERhdGFbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHV2c1tpXTtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2FJbmRleCsrXSA9IHV2c1tpICsgMV07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2FJbmRleCsrXSA9IGFyZ2I7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB0ZXh0dXJlSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRpY2llcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXJbaUluZGV4KytdID0gcGFja2VkVmVydGljZXMgKyBpbmRpY2llc1tpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9vbCBvZiBgQmF0Y2hEcmF3Q2FsbGAgb2JqZWN0cyB0aGF0IGBmbHVzaGAgdXNlZFxuICAgICAqIHRvIGNyZWF0ZSBcImJhdGNoZXNcIiBvZiB0aGUgb2JqZWN0cyBiZWluZyByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4uXG4gICAgICogU2hhcmVkIGJldHdlZW4gYWxsIGJhdGNoIHJlbmRlcmVycyBiZWNhdXNlIGl0IGNhbiBiZSBvbmx5IG9uZSBcImZsdXNoXCIgd29ya2luZyBhdCB0aGUgbW9tZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge1BJWEkuQmF0Y2hEcmF3Q2FsbFtdfVxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sID0gW107XG4gICAgLyoqXG4gICAgICogUG9vbCBvZiBgQmF0Y2hEcmF3Q2FsbGAgb2JqZWN0cyB0aGF0IGBmbHVzaGAgdXNlZFxuICAgICAqIHRvIGNyZWF0ZSBcImJhdGNoZXNcIiBvZiB0aGUgb2JqZWN0cyBiZWluZyByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4uXG4gICAgICogU2hhcmVkIGJldHdlZW4gYWxsIGJhdGNoIHJlbmRlcmVycyBiZWNhdXNlIGl0IGNhbiBiZSBvbmx5IG9uZSBcImZsdXNoXCIgd29ya2luZyBhdCB0aGUgbW9tZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXlbXX1cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2wgPSBbXTtcbiAgICByZXR1cm4gQWJzdHJhY3RCYXRjaFJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG4vKipcbiAqIEhlbHBlciB0aGF0IGdlbmVyYXRlcyBiYXRjaGluZyBtdWx0aS10ZXh0dXJlIHNoYWRlci4gVXNlIGl0IHdpdGggeW91ciBuZXcgQmF0Y2hSZW5kZXJlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoU2hhZGVyR2VuZXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJ0ZXhTcmMgLSBWZXJ0ZXggc2hhZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYWdUZW1wbGF0ZSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleFNyYywgZnJhZ1RlbXBsYXRlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBzaGFkZXIgc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgZnJhZ2VtZW50IHNoYWRlciB0ZW1wbGF0ZS4gTXVzdCBjb250YWluIFwiJWNvdW50JVwiIGFuZCBcIiVmb3Jsb29wJVwiLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYWdUZW1wbGF0ZSA9IGZyYWdUZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5wcm9ncmFtQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZSA9IHt9O1xuICAgICAgICBpZiAoZnJhZ1RlbXBsYXRlLmluZGV4T2YoJyVjb3VudCUnKSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWNvdW50JVwiLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWZvcmxvb3AlJykgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVmb3Jsb29wJVwiLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEJhdGNoU2hhZGVyR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZVNoYWRlciA9IGZ1bmN0aW9uIChtYXhUZXh0dXJlcykge1xuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSkge1xuICAgICAgICAgICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KG1heFRleHR1cmVzKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSA9IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdUZW1wbGF0ZTtcbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgXCJcIiArIG1heFRleHR1cmVzKTtcbiAgICAgICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCB0aGlzLmdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSk7XG4gICAgICAgICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgICAgICBkZWZhdWx0OiB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG4gICAgfTtcbiAgICBCYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTYW1wbGVTcmMgPSBmdW5jdGlvbiAobWF4VGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIHNyYyA9ICcnO1xuICAgICAgICBzcmMgKz0gJ1xcbic7XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKSB7XG4gICAgICAgICAgICAgICAgc3JjICs9IFwiaWYodlRleHR1cmVJZCA8IFwiICsgaSArIFwiLjUpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICAgICAgc3JjICs9IFwiXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzW1wiICsgaSArIFwiXSwgdlRleHR1cmVDb29yZCk7XCI7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgICAgICB9XG4gICAgICAgIHNyYyArPSAnXFxuJztcbiAgICAgICAgc3JjICs9ICdcXG4nO1xuICAgICAgICByZXR1cm4gc3JjO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoU2hhZGVyR2VuZXJhdG9yO1xufSgpKTtcblxuLyoqXG4gKiBHZW9tZXRyeSB1c2VkIHRvIGJhdGNoIHN0YW5kYXJkIFBJWEkgY29udGVudCAoZS5nLiBNZXNoLCBTcHJpdGUsIEdyYXBoaWNzIG9iamVjdHMpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhdGNoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz1mYWxzZV0gLSBPcHRpbWl6YXRpb24gZmxhZywgd2hlcmUgYGZhbHNlYFxuICAgICAqICAgICAgICBpcyB1cGRhdGVkIGV2ZXJ5IGZyYW1lLCBgdHJ1ZWAgZG9lc24ndCBjaGFuZ2UgZnJhbWUtdG8tZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmF0Y2hHZW9tZXRyeShfc3RhdGljKSB7XG4gICAgICAgIGlmIChfc3RhdGljID09PSB2b2lkIDApIHsgX3N0YXRpYyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgdXNlZCBmb3IgcG9zaXRpb24sIGNvbG9yLCB0ZXh0dXJlIElEc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggYnVmZmVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgdHJ1ZSk7XG4gICAgICAgIF90aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgX3RoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIF90aGlzLl9idWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FDb2xvcicsIF90aGlzLl9idWZmZXIsIDQsIHRydWUsIFRZUEVTLlVOU0lHTkVEX0JZVEUpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUlkJywgX3RoaXMuX2J1ZmZlciwgMSwgdHJ1ZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoX3RoaXMuX2luZGV4QnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQmF0Y2hHZW9tZXRyeTtcbn0oR2VvbWV0cnkpKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMiA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5hdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHRpbnQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHRpbnQ7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDIgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgICVmb3Jsb29wJVxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG52YXIgQmF0Y2hQbHVnaW5GYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luRmFjdG9yeSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhdGNoUmVuZGVyZXIgcGx1Z2luIGZvciBSZW5kZXJlci4gdGhpcyBjb252ZW5pZW5jZSBjYW4gcHJvdmlkZSBhbiBlYXN5IHdheVxuICAgICAqIHRvIGV4dGVuZCBCYXRjaFJlbmRlcmVyIHdpdGggYWxsIHRoZSBuZWNlc3NhcnkgcGllY2VzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgZnJhZ21lbnQgPSBgXG4gICAgICogdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG4gICAgICogdmFyeWluZyB2ZWM0IHZDb2xvcjtcbiAgICAgKiB2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XG4gICAgICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdO1xuICAgICAqXG4gICAgICogdm9pZCBtYWluKHZvaWQpe1xuICAgICAqICAgICB2ZWM0IGNvbG9yO1xuICAgICAqICAgICAlZm9ybG9vcCVcbiAgICAgKiAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yICogdmVjNChjb2xvci5hIC0gY29sb3IucmdiLCBjb2xvci5hKTtcbiAgICAgKiB9XG4gICAgICogYDtcbiAgICAgKiBjb25zdCBJbnZlcnRCYXRjaFJlbmRlcmVyID0gUElYSS5CYXRjaFBsdWdpbkZhY3RvcnkuY3JlYXRlKHsgZnJhZ21lbnQgfSk7XG4gICAgICogUElYSS5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW52ZXJ0JywgSW52ZXJ0QmF0Y2hSZW5kZXJlcik7XG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKCk7XG4gICAgICogc3ByaXRlLnBsdWdpbk5hbWUgPSAnaW52ZXJ0JztcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnZlcnRleD1QSVhJLkJhdGNoUGx1Z2luRmFjdG9yeS5kZWZhdWx0VmVydGV4U3JjXSAtIFZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZyYWdtZW50PVBJWEkuQmF0Y2hQbHVnaW5GYWN0b3J5LmRlZmF1bHRGcmFnbWVudFRlbXBsYXRlXSAtIEZyYWdtZW50IHNoYWRlciB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy52ZXJ0ZXhTaXplPTZdIC0gVmVydGV4IHNpemVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZ2VvbWV0cnlDbGFzcz1QSVhJLkJhdGNoR2VvbWV0cnldXG4gICAgICogQHJldHVybiB7Kn0gTmV3IGJhdGNoIHJlbmRlcmVyIHBsdWdpblxuICAgICAqL1xuICAgIEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHZlcnRleDogZGVmYXVsdFZlcnRleCQyLFxuICAgICAgICAgICAgZnJhZ21lbnQ6IGRlZmF1bHRGcmFnbWVudCQyLFxuICAgICAgICAgICAgZ2VvbWV0cnlDbGFzczogQmF0Y2hHZW9tZXRyeSxcbiAgICAgICAgICAgIHZlcnRleFNpemU6IDYsXG4gICAgICAgIH0sIG9wdGlvbnMpLCB2ZXJ0ZXggPSBfYS52ZXJ0ZXgsIGZyYWdtZW50ID0gX2EuZnJhZ21lbnQsIHZlcnRleFNpemUgPSBfYS52ZXJ0ZXhTaXplLCBnZW9tZXRyeUNsYXNzID0gX2EuZ2VvbWV0cnlDbGFzcztcbiAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhCYXRjaFBsdWdpbiwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEJhdGNoUGx1Z2luKHJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVuZGVyZXIpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2hhZGVyR2VuZXJhdG9yID0gbmV3IEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleCwgZnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgIF90aGlzLmdlb21ldHJ5Q2xhc3MgPSBnZW9tZXRyeUNsYXNzO1xuICAgICAgICAgICAgICAgIF90aGlzLnZlcnRleFNpemUgPSB2ZXJ0ZXhTaXplO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCYXRjaFBsdWdpbjtcbiAgICAgICAgfShBYnN0cmFjdEJhdGNoUmVuZGVyZXIpKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXRjaFBsdWdpbkZhY3RvcnksIFwiZGVmYXVsdFZlcnRleFNyY1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhdGNoUGx1Z2luRmFjdG9yeSwgXCJkZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQkMjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCYXRjaFBsdWdpbkZhY3Rvcnk7XG59KCkpO1xuLy8gU2V0dXAgdGhlIGRlZmF1bHQgQmF0Y2hSZW5kZXJlciBwbHVnaW4sIHRoaXMgaXMgd2hhdFxuLy8gd2UnbGwgYWN0dWFsbHkgZXhwb3J0IGF0IHRoZSByb290IGxldmVsXG52YXIgQmF0Y2hSZW5kZXJlciA9IEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUoKTtcblxuZXhwb3J0IHsgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLCBBYnN0cmFjdFJlbmRlcmVyLCBBdHRyaWJ1dGUsIEJhc2VSZW5kZXJUZXh0dXJlLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hHZW9tZXRyeSwgQmF0Y2hQbHVnaW5GYWN0b3J5LCBCYXRjaFJlbmRlcmVyLCBCYXRjaFNoYWRlckdlbmVyYXRvciwgQmF0Y2hUZXh0dXJlQXJyYXksIEJ1ZmZlciwgRmlsdGVyLCBGaWx0ZXJTdGF0ZSwgRnJhbWVidWZmZXIsIEdMRnJhbWVidWZmZXIsIEdMUHJvZ3JhbSwgR0xUZXh0dXJlLCBHZW9tZXRyeSwgSUdMVW5pZm9ybURhdGEsIE1hc2tEYXRhLCBPYmplY3RSZW5kZXJlciwgUHJvZ3JhbSwgUXVhZCwgUXVhZFV2LCBSZW5kZXJUZXh0dXJlLCBSZW5kZXJUZXh0dXJlUG9vbCwgUmVuZGVyZXIsIFNoYWRlciwgU3ByaXRlTWFza0ZpbHRlciwgU3RhdGUsIFN5c3RlbSwgVGV4dHVyZSwgVGV4dHVyZU1hdHJpeCwgVGV4dHVyZVV2cywgVW5pZm9ybUdyb3VwLCBWaWV3YWJsZUJ1ZmZlciwgYXV0b0RldGVjdFJlbmRlcmVyLCBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLCBkZWZhdWx0RmlsdGVyIGFzIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIF9kZWZhdWx0IGFzIGRlZmF1bHRWZXJ0ZXgsIGluZGV4IGFzIHJlc291cmNlcywgc3lzdGVtcywgdW5pZm9ybVBhcnNlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2FwcCAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9hcHAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGNsYXNzIHRvIGNyZWF0ZSBhIG5ldyBQSVhJIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoaXMgY2xhc3MgYXV0b21hdGljYWxseSBjcmVhdGVzIHRoZSByZW5kZXJlciwgdGlja2VyIGFuZCByb290IGNvbnRhaW5lci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBBZGQgdGhlIHZpZXcgdG8gdGhlIERPTVxuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gZXgsIGFkZCBkaXNwbGF5IG9iamVjdHNcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJykpO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFwcGxpY2F0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9TdGFydD10cnVlXSAtIEF1dG9tYXRpY2FsbHkgc3RhcnRzIHRoZSByZW5kZXJpbmcgYWZ0ZXIgdGhlIGNvbnN0cnVjdGlvbi5cbiAgICAgKiAgICAgKipOb3RlKio6IFNldHRpbmcgdGhpcyBwYXJhbWV0ZXIgdG8gZmFsc2UgZG9lcyBOT1Qgc3RvcCB0aGUgc2hhcmVkIHRpY2tlciBldmVuIGlmIHlvdSBzZXRcbiAgICAgKiAgICAgb3B0aW9ucy5zaGFyZWRUaWNrZXIgdG8gdHJ1ZSBpbiBjYXNlIHRoYXQgaXQgaXMgYWxyZWFkeSBzdGFydGVkLiBTdG9wIGl0IGJ5IHlvdXIgb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlldy5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIFRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvRGVuc2l0eT1mYWxzZV0gLSBSZXNpemVzIHJlbmRlcmVyIHZpZXcgaW4gQ1NTIHBpeGVscyB0byBhbGxvdyBmb3JcbiAgICAgKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBTZXRzIGFudGlhbGlhc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIEVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAgICAgKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgV2ViR0wgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlciwgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gICAgICogICBvcHRpb24gb25seSBpcyBhdmFpbGFibGUgd2hlbiB1c2luZyAqKnBpeGkuanMtbGVnYWN5Kiogb3IgKipAcGl4aS9jYW52YXMtcmVuZGVyZXIqKiBtb2R1bGVzLCBvdGhlcndpc2VcbiAgICAgKiAgIGl0IGlzIGlnbm9yZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICAgKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gICAgICogIGZvciBkZXZpY2VzIHdpdGggZHVhbCBncmFwaGljcyBjYXJkLiAqKihXZWJHTCBvbmx5KSoqLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkVGlja2VyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgdGlja2VyLlxuICAgICAqICBJZiBzZXQgdG8gZmFsc2UsIHlvdSBjYW5ub3QgcmVnaXN0ZXIgYSBoYW5kbGVyIHRvIG9jY3VyIGJlZm9yZSBhbnl0aGluZyB0aGF0IHJ1bnMgb24gdGhlIHNoYXJlZCB0aWNrZXIuXG4gICAgICogIFRoZSBzeXN0ZW0gdGlja2VyIHdpbGwgYWx3YXlzIHJ1biBiZWZvcmUgYm90aCB0aGUgc2hhcmVkIHRpY2tlciBhbmQgdGhlIGFwcCB0aWNrZXIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaGFyZWRMb2FkZXI9ZmFsc2VdIC0gYHRydWVgIHRvIHVzZSBQSVhJLkxvYWRlci5zaGFyZWQsIGBmYWxzZWAgdG8gY3JlYXRlIG5ldyBMb2FkZXIuXG4gICAgICogQHBhcmFtIHtXaW5kb3d8SFRNTEVsZW1lbnR9IFtvcHRpb25zLnJlc2l6ZVRvXSAtIEVsZW1lbnQgdG8gYXV0b21hdGljYWxseSByZXNpemUgc3RhZ2UgdG8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXBwbGljYXRpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGZvcmNlQ2FudmFzOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlci5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IENvbnRhaW5lcigpO1xuICAgICAgICAvLyBpbnN0YWxsIHBsdWdpbnMgaGVyZVxuICAgICAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgIHBsdWdpbi5pbml0LmNhbGwoX3RoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBtaWRkbGV3YXJlIHBsdWdpbiBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW59IHBsdWdpbiAtIFBsdWdpbiBiZWluZyBpbnN0YWxsZWRcbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgQXBwbGljYXRpb24uX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE86IFNpbmNlIENhbnZhc1JlbmRlcmVyIGhhcyBub3QgYmVlbiBjb252ZXJ0ZWQgdGhpcyBmdW5jdGlvbiB0aGlua3MgaXQgdGFrZXMgRGlzcGxheU9iamVjdCAmIFBJWEkuRGlzcGxheU9iamVjdFxuICAgICAgICAvLyBUaGlzIGNhbiBiZSBmaXhlZCB3aGVuIENhbnZhc1JlbmRlcmVyIGlzIGNvbnZlcnRlZC5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwbGljYXRpb24ucHJvdG90eXBlLCBcInZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwbGljYXRpb24ucHJvdG90eXBlLCBcInNjcmVlblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuIHJlY3RhbmdsZS4gSXRzIHNhZmUgdG8gdXNlIGFzIGBmaWx0ZXJBcmVhYCBvciBgaGl0QXJlYWAgZm9yIHRoZSB3aG9sZSBzY3JlZW4uXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBBdXRvbWF0aWNhbGx5IHJlbW92ZSBjYW52YXMgZnJvbSBET00uXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW3N0YWdlT3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdzdGFnZU9wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIHN0YWdlT3B0aW9ucy5jaGlsZHJlbiBpcyBzZXRcbiAgICAgKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVtb3ZlVmlldywgc3RhZ2VPcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIERlc3Ryb3kgcGx1Z2lucyBpbiB0aGUgb3Bwb3NpdGUgb3JkZXJcbiAgICAgICAgLy8gd2hpY2ggdGhleSB3ZXJlIGNvbnN0cnVjdGVkXG4gICAgICAgIHZhciBwbHVnaW5zID0gQXBwbGljYXRpb24uX3BsdWdpbnMuc2xpY2UoMCk7XG4gICAgICAgIHBsdWdpbnMucmV2ZXJzZSgpO1xuICAgICAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgcGx1Z2luLmRlc3Ryb3kuY2FsbChfdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0YWdlLmRlc3Ryb3koc3RhZ2VPcHRpb25zKTtcbiAgICAgICAgdGhpcy5zdGFnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZGVzdHJveShyZW1vdmVWaWV3KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQXBwbGljYXRpb247XG59KCkpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvblxuICogQHR5cGVkZWYge29iamVjdH0gUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBpbml0IC0gQ2FsbGVkIHdoZW4gQXBwbGljYXRpb24gaXMgY29uc3RydWN0ZWQsIHNjb3BlZCB0byBBcHBsaWNhdGlvbiBpbnN0YW5jZS5cbiAqICBQYXNzZXMgaW4gYG9wdGlvbnNgIGFzIHRoZSBvbmx5IGFyZ3VtZW50LCB3aGljaCBhcmUgQXBwbGljYXRpb24gY29uc3RydWN0b3Igb3B0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGRlc3Ryb3kgLSBDYWxsZWQgd2hlbiBkZXN0cm95aW5nIEFwcGxpY2F0aW9uLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2VcbiAqL1xuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEB0eXBlIHtQSVhJLkFwcGxpY2F0aW9uLlBsdWdpbltdfVxuICovXG5BcHBsaWNhdGlvbi5fcGx1Z2lucyA9IFtdO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbnZhciBSZXNpemVQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIFJlc2l6ZVBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBIVE1MIGVsZW1lbnQgb3Igd2luZG93IHRvIGF1dG9tYXRpY2FsbHkgcmVzaXplIHRoZVxuICAgICAgICAgKiByZW5kZXJlcidzIHZpZXcgZWxlbWVudCB0byBtYXRjaCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAgICAgKiBAdHlwZSB7V2luZG93fEhUTUxFbGVtZW50fVxuICAgICAgICAgKiBAbmFtZSByZXNpemVUb1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzaXplVG8nLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkb20pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBkb207XG4gICAgICAgICAgICAgICAgaWYgKGRvbSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5xdWV1ZVJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXNpemVUbztcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzaXplIGlzIHRocm90dGxlZCwgc28gaXQnc1xuICAgICAgICAgKiBzYWZlIHRvIGNhbGwgdGhpcyBtdWx0aXBsZSB0aW1lcyBwZXIgZnJhbWUgYW5kIGl0J2xsXG4gICAgICAgICAqIG9ubHkgYmUgY2FsbGVkIG9uY2UuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNxdWV1ZVJlc2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Jlc2l6ZVRvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgICAgICAvLyAvLyBUaHJvdHRsZSByZXNpemUgZXZlbnRzIHBlciByYWZcbiAgICAgICAgICAgIF90aGlzLl9yZXNpemVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yZXNpemUoKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW5jZWwgdGhlIHJlc2l6ZSBxdWV1ZS5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI2NhbmNlbFJlc2l6ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3Jlc2l6ZUlkKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoX3RoaXMuX3Jlc2l6ZUlkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRXhlY3V0ZSBhbiBpbW1lZGlhdGUgcmVzaXplIG9uIHRoZSByZW5kZXJlciwgdGhpcyBpcyBub3RcbiAgICAgICAgICogdGhyb3R0bGVkIGFuZCBjYW4gYmUgZXhwZW5zaXZlIHRvIGNhbGwgbWFueSB0aW1lcyBpbiBhIHJvdy5cbiAgICAgICAgICogV2lsbCByZXNpemUgb25seSBpZiBgcmVzaXplVG9gIHByb3BlcnR5IGlzIHNldC5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3Jlc2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9yZXNpemVUbykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNsZWFyIHF1ZXVlIHJlc2l6ZVxuICAgICAgICAgICAgX3RoaXMuY2FuY2VsUmVzaXplKCk7XG4gICAgICAgICAgICB2YXIgd2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICAgICAgLy8gUmVzaXplIHRvIHRoZSB3aW5kb3dcbiAgICAgICAgICAgIGlmIChfdGhpcy5fcmVzaXplVG8gPT09IHdpbmRvdykge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzaXplIHRvIG90aGVyIEhUTUwgZW50aXRpZXNcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLl9yZXNpemVUbywgY2xpZW50V2lkdGggPSBfYS5jbGllbnRXaWR0aCwgY2xpZW50SGVpZ2h0ID0gX2EuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgIHdpZHRoID0gY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucmVuZGVyZXIucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBPbiByZXNpemVcbiAgICAgICAgdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZXNpemVUbyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZVRvIHx8IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0aGUgdGlja2VyLCBzY29wZWQgdG8gYXBwbGljYXRpb25cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXNpemVQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUoKTtcbiAgICAgICAgdGhpcy5jYW5jZWxSZXNpemUgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXVlUmVzaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemVUbyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzaXplID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVQbHVnaW47XG59KCkpO1xuXG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihSZXNpemVQbHVnaW4pO1xuXG5leHBvcnQgeyBBcHBsaWNhdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9leHRyYWN0IC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL2V4dHJhY3QgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBDYW52YXNSZW5kZXJUYXJnZXQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFJlbmRlclRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIFRFTVBfUkVDVCA9IG5ldyBSZWN0YW5nbGUoKTtcbnZhciBCWVRFU19QRVJfUElYRUwgPSA0O1xuLyoqXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIHJlbmRlcmVyLXNwZWNpZmljIHBsdWdpbnMgZm9yIGV4cG9ydGluZyBjb250ZW50IGZyb20gYSByZW5kZXJlci5cbiAqIEZvciBpbnN0YW5jZSwgdGhlc2UgcGx1Z2lucyBjYW4gYmUgdXNlZCBmb3Igc2F2aW5nIGFuIEltYWdlLCBDYW52YXMgZWxlbWVudCBvciBmb3IgZXhwb3J0aW5nIHRoZSByYXcgaW1hZ2UgZGF0YSAocGl4ZWxzKS5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhlc2UgcGx1Z2lucyBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwICh3aWxsIGF1dG8tYWRkIGV4dHJhY3QgcGx1Z2luIHRvIHJlbmRlcmVyKVxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgcmVkIGNpcmNsZVxuICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweEZGMDAwMClcbiAqICAgICAuZHJhd0NpcmNsZSgwLCAwLCA1MCk7XG4gKlxuICogLy8gUmVuZGVyIHRoZSBncmFwaGljcyBhcyBhbiBIVE1MSW1hZ2VFbGVtZW50XG4gKiBjb25zdCBpbWFnZSA9IGFwcC5yZW5kZXJlci5wbHVnaW5zLmV4dHJhY3QuaW1hZ2UoZ3JhcGhpY3MpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBFeHRyYWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV4dHJhY3QocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciBleHRyYWN0aW5nIGRhdGEgKGltYWdlLCBwaXhlbHMsIGV0Yy4pIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciByZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkV4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAqIEBzZWUgUElYSS5FeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHldIC0gSlBFRyBvciBXZWJwIGNvbXByZXNzaW9uIGZyb20gMCB0byAxLiBEZWZhdWx0IGlzIDAuOTIuXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiAodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KTtcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgRXh0cmFjdC5nZXRDYW52YXNgIGFuZCB0aGVuIHJ1bm5pbmcgdG9EYXRhVVJMIG9uIHRoYXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH0gQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uLlxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLmNhbnZhcyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZsaXBZID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5mbG9vcigoZnJhbWUud2lkdGggKiByZXNvbHV0aW9uKSArIDFlLTQpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcigoZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbikgKyAxZS00KTtcbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICBnbC5yZWFkUGl4ZWxzKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgd2ViZ2xQaXhlbHMpO1xuICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgIHZhciBjYW52YXNEYXRhID0gY2FudmFzQnVmZmVyLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgY2FudmFzRGF0YS5kYXRhKTtcbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuICAgICAgICAvLyBwdWxsaW5nIHBpeGVsc1xuICAgICAgICBpZiAoZmxpcFkpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRfMSA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQoY2FudmFzQnVmZmVyLndpZHRoLCBjYW52YXNCdWZmZXIuaGVpZ2h0LCAxKTtcbiAgICAgICAgICAgIHRhcmdldF8xLmNvbnRleHQuc2NhbGUoMSwgLTEpO1xuICAgICAgICAgICAgLy8gd2UgY2FuJ3QgcmVuZGVyIHRvIGl0c2VsZiBiZWNhdXNlIHdlIHNob3VsZCBiZSBlbXB0eSBiZWZvcmUgcmVuZGVyLlxuICAgICAgICAgICAgdGFyZ2V0XzEuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgICAgICAgICBjYW52YXNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyID0gdGFyZ2V0XzE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuICAgIEV4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHJlc29sdXRpb247XG4gICAgICAgIHZhciBmcmFtZTtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuICAgICAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIGdsLnJlYWRQaXhlbHMoZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB3ZWJnbFBpeGVscyk7XG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgd2ViZ2xQaXhlbHMpO1xuICAgICAgICByZXR1cm4gd2ViZ2xQaXhlbHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICAgICAqXG4gICAgICovXG4gICAgRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5leHRyYWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBwcmVtdWx0aXBsaWVkIHBpeGVsIGRhdGEgYW5kIHByb2R1Y2VzIHJlZ3VsYXIgcGl4ZWwgZGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gcGl4ZWxzIHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gYXJyYXkgb2YgcGl4ZWwgZGF0YVxuICAgICAqIEBwYXJhbSBvdXQge251bWJlcltdIHwgVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBvdXRwdXQgYXJyYXlcbiAgICAgKi9cbiAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSA9IGZ1bmN0aW9uIChwaXhlbHMsIG91dCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICAgICAgdmFyIGFscGhhID0gb3V0W2kgKyAzXSA9IHBpeGVsc1tpICsgM107XG4gICAgICAgICAgICBpZiAoYWxwaGEgIT09IDApIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAxXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAxXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAyXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAyXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRbaV0gPSBwaXhlbHNbaV07XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAxXSA9IHBpeGVsc1tpICsgMV07XG4gICAgICAgICAgICAgICAgb3V0W2kgKyAyXSA9IHBpeGVsc1tpICsgMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFeHRyYWN0O1xufSgpKTtcblxuZXhwb3J0IHsgRXh0cmFjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXh0cmFjdC5lcy5qcy5tYXBcbiIsIi8qIVxuICogcmVzb3VyY2UtbG9hZGVyIC0gdjMuMC4xXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktc291bmRcbiAqIENvbXBpbGVkIFR1ZSwgMDIgSnVsIDIwMTkgMTQ6MDY6MTggVVRDXG4gKlxuICogcmVzb3VyY2UtbG9hZGVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHBhcnNlVXJpIGZyb20gJ3BhcnNlLXVyaSc7XG5pbXBvcnQgU2lnbmFsIGZyb20gJ21pbmktc2lnbmFscyc7XG5cbi8qKlxuICogU21hbGxlciB2ZXJzaW9uIG9mIHRoZSBhc3luYyBsaWJyYXJ5IGNvbnN0cnVjdHMuXG4gKlxuICogQG5hbWVzcGFjZSBhc3luY1xuICovXG5cbi8qKlxuICogTm9vcCBmdW5jdGlvblxuICpcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIGFzeW5jXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkge31cbi8qIGVtcHR5ICovXG5cbi8qKlxuICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIGVhY2hTZXJpZXNcbiAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcnJheSAtIEFycmF5IHRvIGl0ZXJhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRvciAtIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZWxlbWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGRvbmUsIG9yIG9uIGVycm9yLlxuICogQHBhcmFtIHtib29sZWFufSBbZGVmZXJOZXh0PWZhbHNlXSAtIEJyZWFrIHN5bmNocm9ub3VzIGVhY2ggbG9vcCBieSBjYWxsaW5nIG5leHQgd2l0aCBhIHNldFRpbWVvdXQgb2YgMS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGVhY2hTZXJpZXMoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gIHZhciBpID0gMDtcbiAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICAoZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICBpZiAoZXJyIHx8IGkgPT09IGxlbikge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGVmZXJOZXh0KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICB9LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgfVxuICB9KSgpO1xufVxuLyoqXG4gKiBFbnN1cmVzIGEgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5cbmZ1bmN0aW9uIG9ubHlPbmNlKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICBpZiAoZm4gPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgd2FzIGFscmVhZHkgY2FsbGVkLicpO1xuICAgIH1cblxuICAgIHZhciBjYWxsRm4gPSBmbjtcbiAgICBmbiA9IG51bGw7XG4gICAgY2FsbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4vKipcbiAqIEFzeW5jIHF1ZXVlIGltcGxlbWVudGF0aW9uLFxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIHF1ZXVlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB3b3JrZXIgLSBUaGUgd29ya2VyIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdGFzay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb25jdXJyZW5jeSAtIEhvdyBtYW55IHdvcmtlcnMgdG8gcnVuIGluIHBhcnJhbGxlbC5cbiAqIEByZXR1cm4geyp9IFRoZSBhc3luYyBxdWV1ZSBvYmplY3QuXG4gKi9cblxuXG5mdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgIGNvbmN1cnJlbmN5ID0gMTtcbiAgfSBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ29uY3VycmVuY3kgbXVzdCBub3QgYmUgemVybycpO1xuICB9XG5cbiAgdmFyIHdvcmtlcnMgPSAwO1xuICB2YXIgcSA9IHtcbiAgICBfdGFza3M6IFtdLFxuICAgIGNvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSxcbiAgICBzYXR1cmF0ZWQ6IF9ub29wLFxuICAgIHVuc2F0dXJhdGVkOiBfbm9vcCxcbiAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICBlbXB0eTogX25vb3AsXG4gICAgZHJhaW46IF9ub29wLFxuICAgIGVycm9yOiBfbm9vcCxcbiAgICBzdGFydGVkOiBmYWxzZSxcbiAgICBwYXVzZWQ6IGZhbHNlLFxuICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGtpbGw6IGZ1bmN0aW9uIGtpbGwoKSB7XG4gICAgICB3b3JrZXJzID0gMDtcbiAgICAgIHEuZHJhaW4gPSBfbm9vcDtcbiAgICAgIHEuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgcS5fdGFza3MgPSBbXTtcbiAgICB9LFxuICAgIHVuc2hpZnQ6IGZ1bmN0aW9uIHVuc2hpZnQoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIF9pbnNlcnQoZGF0YSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgIHZhciB0YXNrID0gcS5fdGFza3Muc2hpZnQoKTtcblxuICAgICAgICBpZiAocS5fdGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcS5lbXB0eSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgIGlmICh3b3JrZXJzID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlcih0YXNrLmRhdGEsIG9ubHlPbmNlKF9uZXh0KHRhc2spKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgfSxcbiAgICBydW5uaW5nOiBmdW5jdGlvbiBydW5uaW5nKCkge1xuICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgfSxcbiAgICBpZGxlOiBmdW5jdGlvbiBpZGxlKCkge1xuICAgICAgcmV0dXJuIHEuX3Rhc2tzLmxlbmd0aCArIHdvcmtlcnMgPT09IDA7XG4gICAgfSxcbiAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxLnBhdXNlZCA9IHRydWU7XG4gICAgfSxcbiAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICAgIGlmIChxLnBhdXNlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxLnBhdXNlZCA9IGZhbHNlOyAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG5cbiAgICAgIGZvciAodmFyIHcgPSAxOyB3IDw9IHEuY29uY3VycmVuY3k7IHcrKykge1xuICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gX2luc2VydChkYXRhLCBpbnNlcnRBdEZyb250LCBjYWxsYmFjaykge1xuICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHEuc3RhcnRlZCA9IHRydWU7XG5cbiAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBxLmRyYWluKCk7XG4gICAgICB9LCAxKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaXRlbSA9IHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcFxuICAgIH07XG5cbiAgICBpZiAoaW5zZXJ0QXRGcm9udCkge1xuICAgICAgcS5fdGFza3MudW5zaGlmdChpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxLnByb2Nlc3MoKTtcbiAgICB9LCAxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9uZXh0KHRhc2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdvcmtlcnMgLT0gMTtcbiAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkodGFzaywgYXJndW1lbnRzKTtcblxuICAgICAgaWYgKGFyZ3VtZW50c1swXSAhPSBudWxsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgcS5lcnJvcihhcmd1bWVudHNbMF0sIHRhc2suZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3b3JrZXJzIDw9IHEuY29uY3VycmVuY3kgLSBxLmJ1ZmZlcikge1xuICAgICAgICBxLnVuc2F0dXJhdGVkKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChxLmlkbGUoKSkge1xuICAgICAgICBxLmRyYWluKCk7XG4gICAgICB9XG5cbiAgICAgIHEucHJvY2VzcygpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gcTtcbn1cblxudmFyIGFzeW5jID0gKHtcbiAgICBlYWNoU2VyaWVzOiBlYWNoU2VyaWVzLFxuICAgIHF1ZXVlOiBxdWV1ZVxufSk7XG5cbi8vIGEgc2ltcGxlIGluLW1lbW9yeSBjYWNoZSBmb3IgcmVzb3VyY2VzXG52YXIgY2FjaGUgPSB7fTtcbi8qKlxuICogQSBzaW1wbGUgaW4tbWVtb3J5IGNhY2hlIGZvciByZXNvdXJjZS5cbiAqXG4gKiBAbWVtYmVyb2YgbWlkZGxld2FyZVxuICogQGZ1bmN0aW9uIGNhY2hpbmdcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBMb2FkZXIsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICogbG9hZGVyLnVzZShtaWRkbGV3YXJlLmNhY2hpbmcpO1xuICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBDdXJyZW50IFJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5cbmZ1bmN0aW9uIGNhY2hpbmcocmVzb3VyY2UsIG5leHQpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICAvLyBpZiBjYWNoZWQsIHRoZW4gc2V0IGRhdGEgYW5kIGNvbXBsZXRlIHRoZSByZXNvdXJjZVxuICBpZiAoY2FjaGVbcmVzb3VyY2UudXJsXSkge1xuICAgIHJlc291cmNlLmRhdGEgPSBjYWNoZVtyZXNvdXJjZS51cmxdO1xuICAgIHJlc291cmNlLmNvbXBsZXRlKCk7IC8vIG1hcmtzIHJlc291cmNlIGxvYWQgY29tcGxldGUgYW5kIHN0b3BzIHByb2Nlc3NpbmcgYmVmb3JlIG1pZGRsZXdhcmVzXG4gIH0gLy8gaWYgbm90IGNhY2hlZCwgd2FpdCBmb3IgY29tcGxldGUgYW5kIHN0b3JlIGl0IGluIHRoZSBjYWNoZS5cbiAgZWxzZSB7XG4gICAgICByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2FjaGVbX3RoaXMudXJsXSA9IF90aGlzLmRhdGE7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgbmV4dCgpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbnZhciB1c2VYZHIgPSAhISh3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKSkpO1xudmFyIHRlbXBBbmNob3IgPSBudWxsOyAvLyBzb21lIHN0YXR1cyBjb25zdGFudHNcblxudmFyIFNUQVRVU19OT05FID0gMDtcbnZhciBTVEFUVVNfT0sgPSAyMDA7XG52YXIgU1RBVFVTX0VNUFRZID0gMjA0O1xudmFyIFNUQVRVU19JRV9CVUdfRU1QVFkgPSAxMjIzO1xudmFyIFNUQVRVU19UWVBFX09LID0gMjsgLy8gbm9vcFxuXG5mdW5jdGlvbiBfbm9vcCQxKCkge31cbi8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG5cbnZhciBSZXNvdXJjZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgKi9cbiAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uTG9hZFR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25Mb2FkVHlwZShleHRuYW1lLCBsb2FkVHlwZSkge1xuICAgIHNldEV4dE1hcChSZXNvdXJjZS5fbG9hZFR5cGVNYXAsIGV4dG5hbWUsIGxvYWRUeXBlKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB4aHJUeXBlIC0gVGhlIHhociB0eXBlIHRvIHNldCBpdCB0by5cbiAgICovXG4gIDtcblxuICBSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uWGhyVHlwZShleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIGZvciBhdWRpby92aWRlbyBsb2FkcyB5b3UgY2FuIHBhc3NcbiAgICogICAgICBhbiBhcnJheSBvZiBzb3VyY2VzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAqICAgICAgYmUgbG9hZGVkP1xuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbb3B0aW9ucy54aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5JTWV0YWRhdGF9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAqL1xuICA7XG5cbiAgZnVuY3Rpb24gUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLl9mbGFncyA9IDA7IC8vIHNldCBkYXRhIHVybCBmbGFnLCBuZWVkcyB0byBiZSBzZXQgZWFybHkgZm9yIHNvbWUgX2RldGVybWluZVggY2hlY2tzIHRvIHdvcmsuXG5cbiAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCwgdXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgLyoqXG4gICAgICogVGhlIHVybCB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIC8qKlxuICAgICAqIFRoZSBleHRlbnNpb24gdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuX2dldEV4dGVuc2lvbigpO1xuICAgIC8qKlxuICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHthbnl9XG4gICAgICovXG5cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLmNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICdhbm9ueW1vdXMnIDogb3B0aW9ucy5jcm9zc09yaWdpbjtcbiAgICAvKipcbiAgICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXMgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lXG4gICAgICogaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpcyBzZXQgdG8gYDBgXG4gICAgICogdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IDA7XG4gICAgLyoqXG4gICAgICogVGhlIG1ldGhvZCBvZiBsb2FkaW5nIHRvIHVzZSBmb3IgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLkxPQURfVFlQRX1cbiAgICAgKi9cblxuICAgIHRoaXMubG9hZFR5cGUgPSBvcHRpb25zLmxvYWRUeXBlIHx8IHRoaXMuX2RldGVybWluZUxvYWRUeXBlKCk7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgdXNlZCB0byBsb2FkIHRoZSByZXNvdXJjZSB2aWEgWEhSLiBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy54aHJUeXBlID0gb3B0aW9ucy54aHJUeXBlO1xuICAgIC8qKlxuICAgICAqIEV4dHJhIGluZm8gZm9yIG1pZGRsZXdhcmUsIGFuZCBjb250cm9sbGluZyBzcGVjaWZpY3MgYWJvdXQgaG93IHRoZSByZXNvdXJjZSBsb2Fkcy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAsIHRoZSBSZXNvdXJjZSBjbGFzcyB0YWtlcyBvd25lcnNoaXAgb2YgaXQuXG4gICAgICogTWVhbmluZyBpdCB3aWxsIG1vZGlmeSBpdCBhcyBpdCBzZWVzIGZpdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLklNZXRhZGF0YX1cbiAgICAgKi9cblxuICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgKGlmIGFueSkuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgKi9cblxuICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1hNTEh0dHBSZXF1ZXN0fVxuICAgICAqL1xuXG4gICAgdGhpcy54aHIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBjaGlsZCByZXNvdXJjZXMgdGhpcyByZXNvdXJjZSBvd25zLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLlRZUEV9XG4gICAgICovXG5cbiAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlVOS05PV047XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBgZGVxdWV1ZWAgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIGFzeW5jIHF1ZXVlIGRlcXVldWUgbWV0aG9kXG4gICAgICogdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9kZXF1ZXVlID0gX25vb3AkMTtcbiAgICAvKipcbiAgICAgKiBVc2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIG9uIGxvYWQgYmluZGluZyB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lciBmb3IgZWxlbWVudCBsb2FkcyB0byBjaGVjayBpZiB0aGV5IHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vbkVycm9yYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9ib3VuZE9uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25Qcm9ncmVzc2AgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uVGltZW91dGAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPblRpbWVvdXQgPSB0aGlzLl9vblRpbWVvdXQuYmluZCh0aGlzKTsgLy8geGhyIGNhbGxiYWNrc1xuXG4gICAgdGhpcy5fYm91bmRYaHJPbkVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0ID0gdGhpcy5feGhyT25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmRYaHJPbkFib3J0ID0gdGhpcy5feGhyT25BYm9ydC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25Mb2FkID0gdGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblN0YXJ0U2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PblN0YXJ0U2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIGVhY2ggdGltZSBwcm9ncmVzcyBvZiB0aGlzIHJlc291cmNlIGxvYWQgdXBkYXRlcy5cbiAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAqIHNvIHNvbWV0aW1lcyBpdCBtYXkgbm90IGJlIGF2YWlsYWJsZS4gSWYgdGhlIHJlc291cmNlXG4gICAgICogaXMgYmVpbmcgbG9hZGVkIG9uIGEgbW9kZXJuIGJyb3dzZXIsIHVzaW5nIFhIUiwgYW5kIHRoZSByZW1vdGUgc2VydmVyXG4gICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHRoaXMgcmVzb3VyY2UgaGFzIGxvYWRlZCwgaWYgdGhlcmUgd2FzIGFuIGVycm9yIGl0IHdpbGxcbiAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIGFmdGVyIHRoaXMgcmVzb3VyY2UgaGFzIGhhZCBhbGwgdGhlICphZnRlciogbWlkZGxld2FyZSBydW4gb24gaXQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IFNpZ25hbCgpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQHR5cGVkZWYge29iamVjdH0gSU1ldGFkYXRhXG4gICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfSBbbWltZVR5cGVdIC0gVGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBzb3VyY2UgZWxlbWVudFxuICAgKiAgICAgIG9mIGEgdmlkZW8vYXVkaW8gZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGxcbiAgICogICAgICB3aGVyZSBlYWNoIGluZGV4IGlzIHRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgY29ycmVzcG9uZGluZyB1cmwgaW5kZXguXG4gICAqL1xuXG4gIC8qKlxuICAgKiBTdG9yZXMgd2hldGhlciBvciBub3QgdGhpcyB1cmwgaXMgYSBkYXRhIHVybC5cbiAgICpcbiAgICogQHJlYWRvbmx5XG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFJlc291cmNlLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgKlxuICAgKi9cbiAgX3Byb3RvLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcblxuICAgIHRoaXMuX2ZpbmlzaCgpO1xuICB9XG4gIC8qKlxuICAgKiBBYm9ydHMgdGhlIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZSwgd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHVzZSBmb3IgdGhlIGVycm9yXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgIC8vIGFib3J0IGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGlnbm9yZSBzdWJzZXF1ZW50IGNhbGxzLlxuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBzdG9yZSBlcnJvclxuXG5cbiAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpOyAvLyBjbGVhciBldmVudHMgYmVmb3JlIGNhbGxpbmcgYWJvcnRzXG5cbiAgICB0aGlzLl9jbGVhckV2ZW50cygpOyAvLyBhYm9ydCB0aGUgYWN0dWFsIGxvYWRpbmdcblxuXG4gICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy54ZHIpIHtcbiAgICAgIHRoaXMueGRyLmFib3J0KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgIHRoaXMuZGF0YS5zcmMgPSBSZXNvdXJjZS5FTVBUWV9HSUY7XG4gICAgICB9IC8vIG11bHRpLXNvdXJjZVxuICAgICAgZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKHRoaXMuZGF0YS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlQ2hpbGQodGhpcy5kYXRhLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gLy8gZG9uZSBub3cuXG5cblxuICAgIHRoaXMuX2ZpbmlzaCgpO1xuICB9XG4gIC8qKlxuICAgKiBLaWNrcyBvZmYgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLiBUaGlzIG1ldGhvZCBpcyBhc3luY2hyb25vdXMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NiXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGNhbGwgb25jZSB0aGUgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKF90aGlzKTtcbiAgICAgICAgfSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgdHJ1ZSk7XG5cbiAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7IC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG5cbiAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gZmFsc2UgfHwgdHlwZW9mIHRoaXMuY3Jvc3NPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpO1xuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy5sb2FkVHlwZSkge1xuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0U6XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG5cbiAgICAgICAgdGhpcy5fbG9hZEVsZW1lbnQoJ2ltYWdlJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuXG4gICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5WSURFTzpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5WSURFTztcblxuICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSOlxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICB0aGlzLl9sb2FkWGRyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2hhc0ZsYWcgPSBmdW5jdGlvbiBfaGFzRmxhZyhmbGFnKSB7XG4gICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIGZsYWcpICE9PSAwO1xuICB9XG4gIC8qKlxuICAgKiAoVW4pU2V0cyB0aGUgZmxhZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byAodW4pc2V0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3NldEZsYWcgPSBmdW5jdGlvbiBfc2V0RmxhZyhmbGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuX2ZsYWdzID0gdmFsdWUgPyB0aGlzLl9mbGFncyB8IGZsYWcgOiB0aGlzLl9mbGFncyAmIH5mbGFnO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgYWxsIHRoZSBldmVudHMgZnJvbSB0aGUgdW5kZXJseWluZyBsb2FkaW5nIHNvdXJjZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2NsZWFyRXZlbnRzID0gZnVuY3Rpb24gX2NsZWFyRXZlbnRzKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9lbGVtZW50VGltZXIpO1xuXG4gICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnhocikge1xuICAgICAgaWYgKHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy54aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmluYWxpemVzIHRoZSBsb2FkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZmluaXNoID0gZnVuY3Rpb24gX2ZpbmlzaCgpIHtcbiAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUsIHRydWUpO1xuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIGEgc2luZ2xlIHNvdXJjZSxcbiAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZEVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZEVsZW1lbnQodHlwZSkge1xuICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ltYWdlJyAmJiB0eXBlb2Ygd2luZG93LkltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fYm91bmRPblRpbWVvdXQsIHRoaXMudGltZW91dCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIG11bHRpcGxlIHNvdXJjZXMsXG4gICAqIGxpa2UgYW4gSFRNTEF1ZGlvRWxlbWVudCBvciBIVE1MVmlkZW9FbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFNvdXJjZUVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiB0eXBlb2Ygd2luZG93LkF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IEF1ZGlvKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5hYm9ydChcIlVuc3VwcG9ydGVkIGVsZW1lbnQ6IFwiICsgdHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICB0aGlzLmRhdGEuc3JjID0gQXJyYXkuaXNBcnJheSh0aGlzLnVybCkgPyB0aGlzLnVybFswXSA6IHRoaXMudXJsO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICB2YXIgbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcbiAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShfbWltZVR5cGVzKSA/IF9taW1lVHlwZXNbMF0gOiBfbWltZVR5cGVzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5sb2FkKCk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkWGhyID0gZnVuY3Rpb24gX2xvYWRYaHIoKSB7XG4gICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcbiAgICB4aHIudGltZW91dCA9IHRoaXMudGltZW91dDsgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAvLyAqY291Z2gqIHNhZmFyaSAqY291Z2gqIGNhbid0IGRlYWwgd2l0aCBpdC5cblxuICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLnhoclR5cGU7XG4gICAgfVxuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYRG9tYWluUmVxdWVzdC4gVGhpcyBpcyBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byBzdXBwb3J0IElFOSAoZ3Jvc3MpLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFhkciA9IGZ1bmN0aW9uIF9sb2FkWGRyKCkge1xuICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgfVxuXG4gICAgdmFyIHhkciA9IHRoaXMueGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgIC8vIEEgd2F5IHRvIGF2b2lkIHRoaXMgaXMgdG8gbWFrZSBzdXJlIEFMTCBjYWxsYmFja3MgYXJlIHNldCBldmVuIGlmIG5vdCB1c2VkXG4gICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU3ODY5NjYveGRvbWFpbnJlcXVlc3QtYWJvcnRzLXBvc3Qtb24taWUtOVxuXG4gICAgeGRyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQgfHwgNTAwMDsgLy8gWERSIG5lZWRzIGEgdGltZW91dCB2YWx1ZSBvciBpdCBicmVha3MgaW4gSUU5XG5cbiAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICB4ZHIub250aW1lb3V0ID0gdGhpcy5fYm91bmRYaHJPblRpbWVvdXQ7XG4gICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7IC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgLy8gWERvbWFpblJlcXVlc3RzIGFyZSBiZWluZyBzZW50IGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHhkci5zZW5kKCk7XG4gICAgfSwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzb3VyY2UgdXNlZCBpbiBsb2FkaW5nIHZpYSBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBlbGVtZW50IHR5cGUgKHZpZGVvIG9yIGF1ZGlvKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBzb3VyY2UgVVJMIHRvIGxvYWQgZnJvbS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAqIEByZXR1cm4ge0hUTUxTb3VyY2VFbGVtZW50fSBUaGUgc291cmNlIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgIGlmICghbWltZSkge1xuICAgICAgbWltZSA9IHR5cGUgKyBcIi9cIiArIHRoaXMuX2dldEV4dGVuc2lvbih1cmwpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgICBzb3VyY2Uuc3JjID0gdXJsO1xuICAgIHNvdXJjZS50eXBlID0gbWltZTtcbiAgICByZXR1cm4gc291cmNlO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSBsb2FkIGVycm9ycyBvdXQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvcihldmVudCkge1xuICAgIHRoaXMuYWJvcnQoXCJGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiBcIiArIGV2ZW50LnRhcmdldC5ub2RlTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQgb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblByb2dyZXNzID0gZnVuY3Rpb24gX29uUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsIGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIHRpbWVvdXQgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblRpbWVvdXQgPSBmdW5jdGlvbiBfb25UaW1lb3V0KCkge1xuICAgIHRoaXMuYWJvcnQoXCJMb2FkIHRpbWVkIG91dC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uRXJyb3IgPSBmdW5jdGlvbiBfeGhyT25FcnJvcigpIHtcbiAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyBcIiBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiBcIiArIHhoci5zdGF0dXMgKyBcIiwgdGV4dDogXFxcIlwiICsgeGhyLnN0YXR1c1RleHQgKyBcIlxcXCJcIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uVGltZW91dCA9IGZ1bmN0aW9uIF94aHJPblRpbWVvdXQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB0aW1lZCBvdXQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gYWJvcnQgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkFib3J0ID0gZnVuY3Rpb24gX3hock9uQWJvcnQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGRhdGEgc3VjY2Vzc2Z1bGx5IGxvYWRzIGZyb20gYW4geGhyL3hkciByZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0TG9hZEV2ZW50fEV2ZW50fSBldmVudCAtIExvYWQgZXZlbnRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uTG9hZCA9IGZ1bmN0aW9uIF94aHJPbkxvYWQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHZhciB0ZXh0ID0gJyc7XG4gICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcblxuICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB4aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgdHlwZW9mIHhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICB9IC8vIHN0YXR1cyBjYW4gYmUgMCB3aGVuIHVzaW5nIHRoZSBgZmlsZTovL2AgcHJvdG9jb2wgc28gd2UgYWxzbyBjaGVjayBpZiBhIHJlc3BvbnNlIGlzIHNldC5cbiAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cblxuXG4gICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgfSAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfSUVfQlVHX0VNUFRZKSB7XG4gICAgICAgIHN0YXR1cyA9IFNUQVRVU19FTVBUWTtcbiAgICAgIH1cblxuICAgIHZhciBzdGF0dXNUeXBlID0gc3RhdHVzIC8gMTAwIHwgMDtcblxuICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5URVhUO1xuICAgICAgfSAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KFwiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiBcIiArIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkb21wYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L3htbCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkaXY7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiBcIiArIGUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBvdGhlciB0eXBlcyBqdXN0IHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlIHx8IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWJvcnQoXCJbXCIgKyB4aHIuc3RhdHVzICsgXCJdIFwiICsgeGhyLnN0YXR1c1RleHQgKyBcIjogXCIgKyB4aHIucmVzcG9uc2VVUkwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY29tcGxldGUoKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpIHtcbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gLy8gQSBzYW5kYm94ZWQgaWZyYW1lIHdpdGhvdXQgdGhlICdhbGxvdy1zYW1lLW9yaWdpbicgYXR0cmlidXRlIHdpbGwgaGF2ZSBhIHNwZWNpYWxcbiAgICAvLyBvcmlnaW4gZGVzaWduZWQgbm90IHRvIG1hdGNoIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sIGFuZCB3aWxsIGFsd2F5cyByZXF1aXJlXG4gICAgLy8gY3Jvc3NPcmlnaW4gcmVxdWVzdHMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBsb2NhdGlvbiBtYXRjaGVzLlxuXG5cbiAgICBpZiAod2luZG93Lm9yaWdpbiAhPT0gd2luZG93LmxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH0gLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cblxuXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9IC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG5cblxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBwYXJzZVVyaSh0ZW1wQW5jaG9yLmhyZWYsIHtcbiAgICAgIHN0cmljdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgc2FtZVBvcnQgPSAhdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnIHx8IHVybC5wb3J0ID09PSBsb2MucG9ydDtcbiAgICB2YXIgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyB1cmwucHJvdG9jb2wgKyBcIjpcIiA6ICcnOyAvLyBpZiBjcm9zcyBvcmlnaW5cblxuICAgIGlmICh1cmwuaG9zdCAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gVGhlIHJlc3BvbnNlVHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9kZXRlcm1pbmVYaHJUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZVhoclR5cGUoKSB7XG4gICAgcmV0dXJuIFJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBsb2FkVHlwZSBvZiBhIHJlc291cmNlIGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7UmVzb3VyY2UuTE9BRF9UWVBFfSBUaGUgbG9hZFR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lTG9hZFR5cGUgPSBmdW5jdGlvbiBfZGV0ZXJtaW5lTG9hZFR5cGUoKSB7XG4gICAgcmV0dXJuIFJlc291cmNlLl9sb2FkVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2dldEV4dGVuc2lvbiA9IGZ1bmN0aW9uIF9nZXRFeHRlbnNpb24oKSB7XG4gICAgdmFyIHVybCA9IHRoaXMudXJsO1xuICAgIHZhciBleHQgPSAnJztcblxuICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgdmFyIHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgdXJsLmluZGV4T2YoJzsnLCBzbGFzaEluZGV4KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgIHZhciBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4ocXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aCk7XG4gICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIG1pbWUgdHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgcmVzcG9uc2VUeXBlIG9mXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1pbWUgdHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9nZXRNaW1lRnJvbVhoclR5cGUgPSBmdW5jdGlvbiBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9ibG9iJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVDpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi94bWwnO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT046XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcbiAgICB9XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc291cmNlLCBbe1xuICAgIGtleTogXCJpc0RhdGFVcmxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICogbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQ29tcGxldGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAqIGFuZCBpcyBmYWxzZSBhZ2FpbiB3aGVuIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzTG9hZGluZ1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXNvdXJjZTtcbn0oKTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuXG5SZXNvdXJjZS5TVEFUVVNfRkxBR1MgPSB7XG4gIE5PTkU6IDAsXG4gIERBVEFfVVJMOiAxIDw8IDAsXG4gIENPTVBMRVRFOiAxIDw8IDEsXG4gIExPQURJTkc6IDEgPDwgMlxufTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuUmVzb3VyY2UuVFlQRSA9IHtcbiAgVU5LTk9XTjogMCxcbiAgSlNPTjogMSxcbiAgWE1MOiAyLFxuICBJTUFHRTogMyxcbiAgQVVESU86IDQsXG4gIFZJREVPOiA1LFxuICBURVhUOiA2XG59O1xuLyoqXG4gKiBUaGUgdHlwZXMgb2YgbG9hZGluZyBhIHJlc291cmNlIGNhbiB1c2UuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblJlc291cmNlLkxPQURfVFlQRSA9IHtcbiAgLyoqIFVzZXMgWE1MSHR0cFJlcXVlc3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIFhIUjogMSxcblxuICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgSU1BR0U6IDIsXG5cbiAgLyoqIFVzZXMgYW4gYEF1ZGlvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIEFVRElPOiAzLFxuXG4gIC8qKiBVc2VzIGEgYFZpZGVvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIFZJREVPOiA0XG59O1xuLyoqXG4gKiBUaGUgWEhSIHJlYWR5IHN0YXRlcywgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgLyoqIHN0cmluZyAqL1xuICBERUZBVUxUOiAndGV4dCcsXG5cbiAgLyoqIEFycmF5QnVmZmVyICovXG4gIEJVRkZFUjogJ2FycmF5YnVmZmVyJyxcblxuICAvKiogQmxvYiAqL1xuICBCTE9COiAnYmxvYicsXG5cbiAgLyoqIERvY3VtZW50ICovXG4gIERPQ1VNRU5UOiAnZG9jdW1lbnQnLFxuXG4gIC8qKiBPYmplY3QgKi9cbiAgSlNPTjogJ2pzb24nLFxuXG4gIC8qKiBTdHJpbmcgKi9cbiAgVEVYVDogJ3RleHQnXG59O1xuUmVzb3VyY2UuX2xvYWRUeXBlTWFwID0ge1xuICAvLyBpbWFnZXNcbiAgZ2lmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHBuZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBibXA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAganBnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGpwZWc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGlmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRpZmY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgd2VicDogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0Z2E6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgc3ZnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICdzdmcreG1sJzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAvLyBmb3IgU1ZHIGRhdGEgdXJsc1xuICAvLyBhdWRpb1xuICBtcDM6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgb2dnOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIHdhdjogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAvLyB2aWRlb3NcbiAgbXA0OiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gIHdlYm06IFJlc291cmNlLkxPQURfVFlQRS5WSURFT1xufTtcblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAvLyB4bWxcbiAgeGh0bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICBodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgaHRtOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgeG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgdG14OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgc3ZnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gIC8vIFNpbmNlIGl0IGlzIHdheSBsZXNzIGxpa2VseSBmb3IgcGVvcGxlIHRvIGJlIGxvYWRpbmcgVHlwZVNjcmlwdCBmaWxlcyBpbnN0ZWFkIG9mIFRpbGVkIGZpbGVzLFxuICAvLyB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSBmaW5lLlxuICB0c3g6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAvLyBpbWFnZXNcbiAgZ2lmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBwbmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGJtcDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAganBnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBqcGVnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0aWY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRpZmY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHdlYnA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRnYTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgLy8ganNvblxuICBqc29uOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OLFxuICAvLyB0ZXh0XG4gIHRleHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gIHR4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgLy8gZm9udHNcbiAgdHRmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gIG90ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSXG59OyAvLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gIH1cblxuICBpZiAoIWV4dG5hbWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHJlcVR5cGUoeGhyKSB7XG4gIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuXG52YXIgX2tleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICpcbiAqIEBmdW5jdGlvbiBlbmNvZGVCaW5hcnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaW5wdXQgZGF0YSB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBiYXNlNjQgc3RyaW5nXG4gKi9cblxuZnVuY3Rpb24gZW5jb2RlQmluYXJ5KGlucHV0KSB7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgdmFyIGlueCA9IDA7XG5cbiAgd2hpbGUgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICB2YXIgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICB2YXIgZW5jb2RlZENoYXJJbmRleGVzID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgZm9yICh2YXIgam54ID0gMDsgam54IDwgYnl0ZWJ1ZmZlci5sZW5ndGg7ICsram54KSB7XG4gICAgICBpZiAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIHRocm93IGF3YXkgaGlnaC1vcmRlciBieXRlLCBhcyBkb2N1bWVudGVkIGF0OlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICBieXRlYnVmZmVyW2pueF0gPSBpbnB1dC5jaGFyQ29kZUF0KGlueCsrKSAmIDB4ZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBieXRlYnVmZmVyW2pueF0gPSAwO1xuICAgICAgfVxuICAgIH0gLy8gR2V0IGVhY2ggZW5jb2RlZCBjaGFyYWN0ZXIsIDYgYml0cyBhdCBhIHRpbWVcbiAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcblxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyOyAvLyBpbmRleCAyOiBzZWNvbmQgNiBiaXRzICgyIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDEgKyA0IG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMilcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9IChieXRlYnVmZmVyWzBdICYgMHgzKSA8PCA0IHwgYnl0ZWJ1ZmZlclsxXSA+PiA0OyAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gKGJ5dGVidWZmZXJbMV0gJiAweDBmKSA8PCAyIHwgYnl0ZWJ1ZmZlclsyXSA+PiA2OyAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmOyAvLyBEZXRlcm1pbmUgd2hldGhlciBwYWRkaW5nIGhhcHBlbmVkLCBhbmQgYWRqdXN0IGFjY29yZGluZ2x5XG5cbiAgICB2YXIgcGFkZGluZ0J5dGVzID0gaW54IC0gKGlucHV0Lmxlbmd0aCAtIDEpO1xuXG4gICAgc3dpdGNoIChwYWRkaW5nQnl0ZXMpIHtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gNjQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICAgIC8vIE5vIHBhZGRpbmcgLSBwcm9jZWVkXG4gICAgfSAvLyBOb3cgd2Ugd2lsbCBncmFiIGVhY2ggYXBwcm9wcmlhdGUgY2hhcmFjdGVyIG91dCBvZiBvdXIga2V5c3RyaW5nXG4gICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcblxuXG4gICAgZm9yICh2YXIgX2pueCA9IDA7IF9qbnggPCBlbmNvZGVkQ2hhckluZGV4ZXMubGVuZ3RoOyArK19qbngpIHtcbiAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbX2pueF0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbnZhciBVcmwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG4vKipcbiAqIEEgbWlkZGxld2FyZSBmb3IgdHJhbnNmb3JtaW5nIFhIUiBsb2FkZWQgQmxvYnMgaW50byBtb3JlIHVzZWZ1bCBvYmplY3RzXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBwYXJzaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5wYXJzaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gIGlmICghcmVzb3VyY2UuZGF0YSkge1xuICAgIG5leHQoKTtcbiAgICByZXR1cm47XG4gIH0gLy8gaWYgdGhpcyB3YXMgYW4gWEhSIGxvYWQgb2YgYSBibG9iXG5cblxuICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IpIHtcbiAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgaWYgKCF3aW5kb3cuQmxvYiB8fCB0eXBlb2YgcmVzb3VyY2UuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTsgLy8gdGhpcyBpcyBhbiBpbWFnZSwgY29udmVydCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIGEgZGF0YSB1cmxcblxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBcImRhdGE6XCIgKyB0eXBlICsgXCI7YmFzZTY0LFwiICsgZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICByZXNvdXJjZS50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTsgLy8gd2FpdCB1bnRpbCB0aGUgaW1hZ2UgbG9hZHMgYW5kIHRoZW4gY2FsbGJhY2tcblxuICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9OyAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWRcblxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IC8vIGlmIGNvbnRlbnQgdHlwZSBzYXlzIHRoaXMgaXMgYW4gaW1hZ2UsIHRoZW4gd2Ugc2hvdWxkIHRyYW5zZm9ybSB0aGUgYmxvYiBpbnRvIGFuIEltYWdlIG9iamVjdFxuICAgIGVsc2UgaWYgKHJlc291cmNlLmRhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgIHZhciBzcmMgPSBVcmwuY3JlYXRlT2JqZWN0VVJMKHJlc291cmNlLmRhdGEpO1xuICAgICAgICByZXNvdXJjZS5ibG9iID0gcmVzb3VyY2UuZGF0YTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IHNyYztcbiAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7IC8vIGNsZWFudXAgdGhlIG5vIGxvbmdlciB1c2VkIGJsb2IgYWZ0ZXIgdGhlIGltYWdlIGxvYWRzXG4gICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cblxuICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBVcmwucmV2b2tlT2JqZWN0VVJMKHNyYyk7XG4gICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfTsgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkLlxuXG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICB9XG5cbiAgbmV4dCgpO1xufVxuXG4vKipcbiAqIEBuYW1lc3BhY2UgbWlkZGxld2FyZVxuICovXG5cbnZhciBpbmRleCA9ICh7XG4gICAgY2FjaGluZzogY2FjaGluZyxcbiAgICBwYXJzaW5nOiBwYXJzaW5nXG59KTtcblxudmFyIE1BWF9QUk9HUkVTUyA9IDEwMDtcbnZhciByZ3hFeHRyYWN0VXJsSGFzaCA9IC8oI1tcXHctXSspPyQvO1xuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBtdWx0aXBsZSByZXNvdXJjZXMgdG8gbG9hZC5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgTG9hZGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgKi9cbiAgZnVuY3Rpb24gTG9hZGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChiYXNlVXJsID09PSB2b2lkIDApIHtcbiAgICAgIGJhc2VVcmwgPSAnJztcbiAgICB9XG5cbiAgICBpZiAoY29uY3VycmVuY3kgPT09IHZvaWQgMCkge1xuICAgICAgY29uY3VycmVuY3kgPSAxMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIHBlcmNlbnQgb2YgdGhlIGxvYWRlciBnb2luZyB0aHJvdWdoIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAvKipcbiAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gZXZlcnkgVVJMIGFkZGVkIHRvIHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAqIGFsc28gKm5vdCogZXNjYXBlIHZhbHVlcyBmb3IgeW91LiBNYWtlIHN1cmUgdG8gZXNjYXBlIHlvdXIgcGFyYW1ldGVycyB3aXRoXG4gICAgICogW2BlbmNvZGVVUklDb21wb25lbnRgXShodHRwczovL21kbi5pby9lbmNvZGVVUklDb21wb25lbnQpIGJlZm9yZSBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgICAqXG4gICAgICogbG9hZGVyLmRlZmF1bHRRdWVyeVN0cmluZyA9ICd1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCc7XG4gICAgICpcbiAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAqIGxvYWRlci5hZGQoJ2ltYWdlLnBuZycpLmxvYWQoKTtcbiAgICAgKlxuICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAqXG4gICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz92PTEmdXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnJ1xuICAgICAqL1xuXG4gICAgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcgPSAnJztcbiAgICAvKipcbiAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIHRyYWNrcyB0aGUgcmVzb3VyY2VzIHdlIGFyZSBjdXJyZW50bHkgY29tcGxldGluZyBwYXJzaW5nIGZvci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9sb2FkUmVzb3VyY2VgIGZ1bmN0aW9uIGJvdW5kIHdpdGggdGhpcyBvYmplY3QgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZCAtIFRoZSBkZXF1ZXVlIGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRMb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiAociwgZCkge1xuICAgICAgcmV0dXJuIF90aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2VzIHdhaXRpbmcgdG8gYmUgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLl9xdWV1ZSA9IHF1ZXVlKHRoaXMuX2JvdW5kTG9hZFJlc291cmNlLCBjb25jdXJyZW5jeSk7XG5cbiAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuICAgIC8qKlxuICAgICAqIEFsbCB0aGUgcmVzb3VyY2VzIGZvciB0aGlzIGxvYWRlciBrZXllZCBieSBuYW1lLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgUmVzb3VyY2U+fVxuICAgICAqL1xuXG5cbiAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblByb2dyZXNzU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uRXJyb3JTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkVycm9yU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25FcnJvciA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Mb2FkU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Mb2FkID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25TdGFydFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uU3RhcnRTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblN0YXJ0ID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IFNpZ25hbCgpOyAvLyBBZGQgZGVmYXVsdCBiZWZvcmUgbWlkZGxld2FyZVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlLmxlbmd0aDsgKytpKSB7XG4gICAgICB0aGlzLnByZShMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlW2ldKTtcbiAgICB9IC8vIEFkZCBkZWZhdWx0IGFmdGVyIG1pZGRsZXdhcmVcblxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5sZW5ndGg7ICsrX2kpIHtcbiAgICAgIHRoaXMudXNlKExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZVtfaV0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgb3IgZmFpbGVkIHRvIGNhdXNlIHRoZSBwcm9ncmVzcyB0byBhZHZhbmNlLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiBhbiBlcnJvciBvY2N1cnJzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkVycm9yU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBsYW9kZWQgdGhlIHJlc291cmNlLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBmaW5pc2hlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICovXG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgZm9yIGEgY2FsbCB0byBgLmFkZCgpYC5cbiAgICpcbiAgICogQHNlZSBMb2FkZXIjYWRkXG4gICAqXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IElBZGRPcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XSAtIEFsaWFzIGZvciBgbmFtZWAuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xib29sZWFufSBbY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWVvdXQ9MF0gLSBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXNcbiAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgKiAgICAgIHNldCB0byBgMGAgdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLkxPQURfVFlQRX0gW2xvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAqICAgICAgYmUgbG9hZGVkP1xuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbeGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW29uQ29tcGxldGVdIC0gQ2FsbGJhY2sgdG8gYWRkIGFuIGFuIG9uQ29tcGxldGUgc2lnbmFsIGlzdGVuZXIuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEFsaWFzIGZvciBgb25Db21wbGV0ZWAuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbbWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICovXG5cbiAgLyogZXNsaW50LWRpc2FibGUgcmVxdWlyZS1qc2RvYyx2YWxpZC1qc2RvYyAqL1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgcmVzb3VyY2UgKG9yIG11bHRpcGxlIHJlc291cmNlcykgdG8gdGhlIGxvYWRlciBxdWV1ZS5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gdGFrZSBhIHdpZGUgdmFyaWV0eSBvZiBkaWZmZXJlbnQgcGFyYW1ldGVycy4gVGhlIG9ubHkgdGhpbmcgdGhhdCBpcyBhbHdheXNcbiAgICogcmVxdWlyZWQgdGhlIHVybCB0byBsb2FkLiBBbGwgdGhlIGZvbGxvd2luZyB3aWxsIHdvcms6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGxvYWRlclxuICAgKiAgICAgLy8gbm9ybWFsIHBhcmFtIHN5bnRheFxuICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nKVxuICAgKlxuICAgKiAgICAgLy8gb2JqZWN0IHN5bnRheFxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgbmFtZTogJ2tleTInLFxuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIG5hbWU6ICdrZXkzJyxcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9XG4gICAqICAgICB9KVxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgdXJsOiAnaHR0cHM6Ly8uLi4nLFxuICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9LFxuICAgKiAgICAgICAgIGNyb3NzT3JpZ2luOiB0cnVlXG4gICAqICAgICB9KVxuICAgKlxuICAgKiAgICAgLy8geW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzIG9yIGJvdGhcbiAgICogICAgIC5hZGQoW1xuICAgKiAgICAgICAgIHsgbmFtZTogJ2tleTQnLCB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICogICAgICAgICB7IHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgKiAgICAgICAgICdodHRwOi8vLi4uJ1xuICAgKiAgICAgXSlcbiAgICpcbiAgICogICAgIC8vIGFuZCB5b3UgY2FuIHVzZSBib3RoIHBhcmFtcyBhbmQgb3B0aW9uc1xuICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEB2YXJpYXRpb24gMVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiAyXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gM1xuICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDRcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNVxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuIFRoaXMgb2JqZWN0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNlxuICAqIEBwYXJhbSB7QXJyYXk8SUFkZE9wdGlvbnN8c3RyaW5nPn0gcmVzb3VyY2VzIC0gQW4gYXJyYXkgb2YgcmVzb3VyY2VzIHRvIGxvYWQsIHdoZXJlIGVhY2ggaXNcbiAgKiAgICAgIGVpdGhlciBhbiBvYmplY3Qgd2l0aCB0aGUgb3B0aW9ucyBvciBhIHN0cmluZyB1cmwuIElmIHlvdSBwYXNzIGFuIG9iamVjdCwgaXQgbXVzdCBjb250YWluIGEgYHVybGAgcHJvcGVydHkuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cblxuICB2YXIgX3Byb3RvID0gTG9hZGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2IpIHtcbiAgICAvLyBzcGVjaWFsIGNhc2Ugb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLmFkZChuYW1lW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG5cblxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNiID0gdXJsIHx8IG5hbWUuY2FsbGJhY2sgfHwgbmFtZS5vbkNvbXBsZXRlO1xuICAgICAgb3B0aW9ucyA9IG5hbWU7XG4gICAgICB1cmwgPSBuYW1lLnVybDtcbiAgICAgIG5hbWUgPSBuYW1lLm5hbWUgfHwgbmFtZS5rZXkgfHwgbmFtZS51cmw7XG4gICAgfSAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuXG5cbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICB1cmwgPSBuYW1lO1xuICAgIH0gLy8gbm93IHRoYXQgd2Ugc2hpZnRlZCBtYWtlIHN1cmUgd2UgaGF2ZSBhIHByb3BlciB1cmwuXG5cblxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1cmwgcGFzc2VkIHRvIGFkZCByZXNvdXJjZSB0byBsb2FkZXIuJyk7XG4gICAgfSAvLyBvcHRpb25zIGFyZSBvcHRpb25hbCBzbyBwZW9wbGUgbWlnaHQgcGFzcyBhIGZ1bmN0aW9uIGFuZCBubyBvcHRpb25zXG5cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgfSAvLyBpZiBsb2FkaW5nIGFscmVhZHkgeW91IGNhbiBvbmx5IGFkZCByZXNvdXJjZXMgdGhhdCBoYXZlIGEgcGFyZW50LlxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nICYmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5wYXJlbnRSZXNvdXJjZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCByZXNvdXJjZXMgd2hpbGUgdGhlIGxvYWRlciBpcyBydW5uaW5nLicpO1xuICAgIH0gLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG5cblxuICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzb3VyY2UgbmFtZWQgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBhbHJlYWR5IGV4aXN0cy5cIik7XG4gICAgfSAvLyBhZGQgYmFzZSB1cmwgaWYgdGhpcyBpc24ndCBhbiBhYnNvbHV0ZSB1cmxcblxuXG4gICAgdXJsID0gdGhpcy5fcHJlcGFyZVVybCh1cmwpOyAvLyBjcmVhdGUgdGhlIHN0b3JlIHRoZSByZXNvdXJjZVxuXG4gICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKTtcblxuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLm9uQWZ0ZXJNaWRkbGV3YXJlLm9uY2UoY2IpO1xuICAgIH0gLy8gaWYgYWN0aXZlbHkgbG9hZGluZywgbWFrZSBzdXJlIHRvIGFkanVzdCBwcm9ncmVzcyBjaHVua3MgZm9yIHRoYXQgcGFyZW50IGFuZCBpdHMgY2hpbGRyZW5cblxuXG4gICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50UmVzb3VyY2U7XG4gICAgICB2YXIgaW5jb21wbGV0ZUNoaWxkcmVuID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgIGlmICghcGFyZW50LmNoaWxkcmVuW19pMl0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbi5wdXNoKHBhcmVudC5jaGlsZHJlbltfaTJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG5cbiAgICAgIHZhciBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG5cbiAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgIHBhcmVudC5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuXG4gICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoOyArK19pMykge1xuICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW5bX2kzXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgIH0gLy8gYWRkIHRoZSByZXNvdXJjZSB0byB0aGUgcXVldWVcblxuXG4gICAgdGhpcy5fcXVldWUucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cblxuICAvKipcbiAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucHJlID0gZnVuY3Rpb24gcHJlKGZuKSB7XG4gICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIHF1ZXVlIG9mIHRoZSBsb2FkZXIgdG8gcHJlcGFyZSBmb3IgYSBuZXcgbG9hZC5cbiAgICpcbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLl9xdWV1ZS5raWxsKCk7XG5cbiAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpOyAvLyBhYm9ydCBhbGwgcmVzb3VyY2UgbG9hZHNcblxuXG4gICAgZm9yICh2YXIgayBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgdmFyIHJlcyA9IHRoaXMucmVzb3VyY2VzW2tdO1xuXG4gICAgICBpZiAocmVzLl9vbkxvYWRCaW5kaW5nKSB7XG4gICAgICAgIHJlcy5fb25Mb2FkQmluZGluZy5kZXRhY2goKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU3RhcnRzIGxvYWRpbmcgdGhlIHF1ZXVlZCByZXNvdXJjZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgIC8vIHJlZ2lzdGVyIGNvbXBsZXRlIGNhbGxiYWNrIGlmIHRoZXkgcGFzcyBvbmVcbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgfSAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9xdWV1ZS5pZGxlKCkpIHtcbiAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgdmFyIG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgIHZhciBjaHVuayA9IE1BWF9QUk9HUkVTUyAvIG51bVRhc2tzO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICB9IC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcblxuXG4gICAgICB0aGlzLl9vblN0YXJ0KCk7IC8vIHN0YXJ0IGxvYWRpbmdcblxuXG4gICAgICB0aGlzLl9xdWV1ZS5yZXN1bWUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQGRlZmF1bHQgMTBcbiAgICovXG4gIDtcblxuICAvKipcbiAgICogUHJlcGFyZXMgYSB1cmwgZm9yIHVzYWdlIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHByZXBhcmUuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHByZXBhcmVkIHVybC5cbiAgICovXG4gIF9wcm90by5fcHJlcGFyZVVybCA9IGZ1bmN0aW9uIF9wcmVwYXJlVXJsKHVybCkge1xuICAgIHZhciBwYXJzZWRVcmwgPSBwYXJzZVVyaSh1cmwsIHtcbiAgICAgIHN0cmljdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgcmVzdWx0OyAvLyBhYnNvbHV0ZSB1cmwsIGp1c3QgdXNlIGl0IGFzIGlzLlxuXG4gICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgIHJlc3VsdCA9IHVybDtcbiAgICB9IC8vIGlmIGJhc2VVcmwgZG9lc24ndCBlbmQgaW4gc2xhc2ggYW5kIHVybCBkb2Vzbid0IHN0YXJ0IHdpdGggc2xhc2gsIHRoZW4gYWRkIGEgc2xhc2ggaW5iZXR3ZWVuXG4gICAgZWxzZSBpZiAodGhpcy5iYXNlVXJsLmxlbmd0aCAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEgJiYgdXJsLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIFwiL1wiICsgdXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgdXJsO1xuICAgICAgfSAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuXG5cbiAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgIHZhciBoYXNoID0gcmd4RXh0cmFjdFVybEhhc2guZXhlYyhyZXN1bHQpWzBdO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiJlwiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgKz0gXCI/XCIgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ICs9IGhhc2g7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgYSBzaW5nbGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlcXVldWUgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHdlIG5lZWQgdG8gZGVxdWV1ZSB0aGlzIGl0ZW0uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFJlc291cmNlKHJlc291cmNlLCBkZXF1ZXVlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXNvdXJjZS5fZGVxdWV1ZSA9IGRlcXVldWU7IC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuXG4gICAgZWFjaFNlcmllcyh0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgIGZuLmNhbGwoX3RoaXMyLCByZXNvdXJjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZiB0aGUgYmVmb3JlIG1pZGRsZXdhcmUgbWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLFxuICAgICAgICAvLyBicmVhayBhbmQgZG9uJ3QgcHJvY2VzcyBhbnkgbW9yZSBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBuZXh0KHJlc291cmNlLmlzQ29tcGxldGUgPyB7fSA6IG51bGwpO1xuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgX3RoaXMyLl9vbkxvYWQocmVzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoX3RoaXMyLl9vbkxvYWQsIF90aGlzMik7XG4gICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgbG9hZGluZyBoYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uU3RhcnQgPSBmdW5jdGlvbiBfb25TdGFydCgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgZWFjaCByZXNvdXJjZSBoYXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Db21wbGV0ZSA9IGZ1bmN0aW9uIF9vbkNvbXBsZXRlKCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMsIHRoaXMucmVzb3VyY2VzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGVhY2ggdGltZSBhIHJlc291cmNlcyBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgd2FzIGxvYWRlZFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Mb2FkID0gZnVuY3Rpb24gX29uTG9hZChyZXNvdXJjZSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSBudWxsOyAvLyByZW1vdmUgdGhpcyByZXNvdXJjZSBmcm9tIHRoZSBhc3luYyBxdWV1ZSwgYW5kIGFkZCBpdCB0byBvdXIgbGlzdCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgYmVpbmcgcGFyc2VkXG5cbiAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnB1c2gocmVzb3VyY2UpO1xuXG4gICAgcmVzb3VyY2UuX2RlcXVldWUoKTsgLy8gcnVuIGFsbCB0aGUgYWZ0ZXIgbWlkZGxld2FyZSBmb3IgdGhpcyByZXNvdXJjZVxuXG5cbiAgICBlYWNoU2VyaWVzKHRoaXMuX2FmdGVyTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICBmbi5jYWxsKF90aGlzMywgcmVzb3VyY2UsIG5leHQpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcbiAgICAgIF90aGlzMy5wcm9ncmVzcyA9IE1hdGgubWluKE1BWF9QUk9HUkVTUywgX3RoaXMzLnByb2dyZXNzICsgcmVzb3VyY2UucHJvZ3Jlc3NDaHVuayk7XG5cbiAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgX3RoaXMzLm9uRXJyb3IuZGlzcGF0Y2gocmVzb3VyY2UuZXJyb3IsIF90aGlzMywgcmVzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMzLm9uTG9hZC5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLnNwbGljZShfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcuaW5kZXhPZihyZXNvdXJjZSksIDEpOyAvLyBkbyBjb21wbGV0aW9uIGNoZWNrXG5cblxuICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgX3RoaXMzLl9vbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKExvYWRlciwgW3tcbiAgICBrZXk6IFwiY29uY3VycmVuY3lcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGNvbmN1cnJlbmN5KSB7XG4gICAgICB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59KCk7XG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICogRWFjaCBvZiB0aGVzZSBtaWRkbGV3YXJlcyBhcmUgYWRkZWQgdG8gYW55IG5ldyBMb2FkZXIgaW5zdGFuY2VzIHdoZW4gdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAqL1xuXG5cbkxvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUgPSBbXTtcbi8qKlxuICogQSBkZWZhdWx0IGFycmF5IG9mIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cblxuTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlID0gW107XG4vKipcbiAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblxuTG9hZGVyLnByZSA9IGZ1bmN0aW9uIExvYWRlclByZVN0YXRpYyhmbikge1xuICBMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59O1xuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblxuXG5Mb2FkZXIudXNlID0gZnVuY3Rpb24gTG9hZGVyVXNlU3RhdGljKGZuKSB7XG4gIExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICByZXR1cm4gTG9hZGVyO1xufTtcblxuZXhwb3J0IHsgTG9hZGVyLCBSZXNvdXJjZSwgYXN5bmMsIGVuY29kZUJpbmFyeSwgaW5kZXggYXMgbWlkZGxld2FyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2UtbG9hZGVyLmVzbS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbG9hZGVycyAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9sb2FkZXJzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVzb3VyY2UsIExvYWRlciBhcyBMb2FkZXIkMSwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuKiBSZWZlcmVuY2UgdG8gKip7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuKiByZXNvdXJjZS1sb2FkZXJ9KioncyBSZXNvdXJjZSBjbGFzcy5cbiogQHNlZSBodHRwOi8vZW5nbGVyY2ouZ2l0aHViLmlvL3Jlc291cmNlLWxvYWRlci9SZXNvdXJjZS5odG1sXG4qIEBjbGFzcyBMb2FkZXJSZXNvdXJjZVxuKiBAbWVtYmVyb2YgUElYSVxuKi9cbnZhciBMb2FkZXJSZXNvdXJjZSA9IFJlc291cmNlO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBMb2FkZXIgcGx1Z2luIGZvciBoYW5kbGluZyBUZXh0dXJlIHJlc291cmNlcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgVGV4dHVyZUxvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0dXJlTG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBUZXh0dXJlTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZSBpZiB0aGUgZGF0YSBpcyBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEgJiYgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRSkge1xuICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZSA9IFRleHR1cmUuZnJvbUxvYWRlcihyZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwsIHJlc291cmNlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0dXJlTG9hZGVyO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgbmV3IGxvYWRlciwgZXh0ZW5kcyBSZXNvdXJjZSBMb2FkZXIgYnkgQ2hhZCBFbmdsZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgbG9hZGVyID0gUElYSS5Mb2FkZXIuc2hhcmVkOyAvLyBQaXhpSlMgZXhwb3NlcyBhIHByZW1hZGUgaW5zdGFuY2UgZm9yIHlvdSB0byB1c2UuXG4gKiAvL29yXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5Mb2FkZXIoKTsgLy8geW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biBpZiB5b3Ugd2FudFxuICpcbiAqIGNvbnN0IHNwcml0ZXMgPSB7fTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYGFkZGAgdG8gZW5xdWV1ZSBhIHJlc291cmNlXG4gKiBsb2FkZXIuYWRkKCdidW5ueScsICdkYXRhL2J1bm55LnBuZycpXG4gKiAgICAgICAuYWRkKCdzcGFjZXNoaXAnLCAnYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb24nKTtcbiAqIGxvYWRlci5hZGQoJ3Njb3JlRm9udCcsICdhc3NldHMvc2NvcmUuZm50Jyk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBwcmVgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYmVmb3JlKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIGNhY2hpbmcgbW9kdWxlcyAodXNpbmcgZmlsZXN5c3RlbSwgaW5kZXhlZGRiLCBtZW1vcnksIGV0YykuXG4gKiBsb2FkZXIucHJlKGNhY2hpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHVzZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICphZnRlciogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBwYXJzaW5nIG1vZHVsZXMgKGxpa2Ugc3ByaXRlc2hlZXQgcGFyc2Vycywgc3BpbmUgcGFyc2VyLCBldGMpLlxuICogbG9hZGVyLnVzZShwYXJzaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gVGhlIGBsb2FkYCBtZXRob2QgbG9hZHMgdGhlIHF1ZXVlIG9mIHJlc291cmNlcywgYW5kIGNhbGxzIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2sgY2FsbGVkIG9uY2UgYWxsXG4gKiAvLyByZXNvdXJjZXMgaGF2ZSBsb2FkZWQuXG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgICAvLyByZXNvdXJjZXMgaXMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSByZXNvdXJjZSBvYmplY3QuXG4gKiAgICAgLy8gVGhleSBoYXZlIGEgY291cGxlIGRlZmF1bHQgcHJvcGVydGllczpcbiAqICAgICAvLyAtIGB1cmxgOiBUaGUgVVJMIHRoYXQgdGhlIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbVxuICogICAgIC8vIC0gYGVycm9yYDogVGhlIGVycm9yIHRoYXQgaGFwcGVuZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCAoaWYgYW55KVxuICogICAgIC8vIC0gYGRhdGFgOiBUaGUgcmF3IGRhdGEgdGhhdCB3YXMgbG9hZGVkXG4gKiAgICAgLy8gYWxzbyBtYXkgY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBtaWRkbGV3YXJlIHRoYXQgcnVucy5cbiAqICAgICBzcHJpdGVzLmJ1bm55ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5idW5ueS50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNwYWNlc2hpcCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc3BhY2VzaGlwLnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc2NvcmVGb250ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zY29yZUZvbnQudGV4dHVyZSk7XG4gKiB9KTtcbiAqXG4gKiAvLyB0aHJvdWdob3V0IHRoZSBwcm9jZXNzIG11bHRpcGxlIHNpZ25hbHMgY2FuIGJlIGRpc3BhdGNoZWQuXG4gKiBsb2FkZXIub25Qcm9ncmVzcy5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkL2Vycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uRXJyb3IuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGVycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uTG9hZC5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkIGZpbGVcbiAqIGxvYWRlci5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBAY2xhc3MgTG9hZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICovXG52YXIgTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMb2FkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTG9hZGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB8fCB0aGlzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IExvYWRlci5fcGx1Z2lucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHBsdWdpbiA9IExvYWRlci5fcGx1Z2luc1tpXTtcbiAgICAgICAgICAgIHZhciBwcmUgPSBwbHVnaW4ucHJlLCB1c2UgPSBwbHVnaW4udXNlO1xuICAgICAgICAgICAgaWYgKHByZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByZShwcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnVzZSh1c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGxvYWRlciBjYW5ub3QgYmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGxvYWRlciwgcmVtb3ZlcyByZWZlcmVuY2VzLlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAgICAgKiBAbWV0aG9kIGRlc3Ryb3lcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9hZGVyLCBcInNoYXJlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLlxuICAgICAgICAgKiBAbmFtZSBzaGFyZWRcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2hhcmVkID0gTG9hZGVyLl9zaGFyZWQ7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZCkge1xuICAgICAgICAgICAgICAgIHNoYXJlZCA9IG5ldyBMb2FkZXIoKTtcbiAgICAgICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgTG9hZGVyLl9zaGFyZWQgPSBzaGFyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2hhcmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWRkcyBhIExvYWRlciBwbHVnaW4gZm9yIHRoZSBnbG9iYWwgc2hhcmVkIGxvYWRlciBhbmQgYWxsXG4gICAgICogbmV3IExvYWRlciBpbnN0YW5jZXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWV0aG9kIHJlZ2lzdGVyUGx1Z2luXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLklMb2FkZXJQbHVnaW59IHBsdWdpbiAtIFRoZSBwbHVnaW4gdG8gYWRkXG4gICAgICogQHJldHVybiB7UElYSS5Mb2FkZXJ9IFJlZmVyZW5jZSB0byBQSVhJLkxvYWRlciBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBMb2FkZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIExvYWRlci5fcGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgICAgIGlmIChwbHVnaW4uYWRkKSB7XG4gICAgICAgICAgICBwbHVnaW4uYWRkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExvYWRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYWxsIGluc3RhbGxlZCBgdXNlYCBtaWRkbGV3YXJlIGZvciBMb2FkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5JTG9hZGVyUGx1Z2luPn0gX3BsdWdpbnNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIExvYWRlci5fcGx1Z2lucyA9IFtdO1xuICAgIHJldHVybiBMb2FkZXI7XG59KExvYWRlciQxKSk7XG4vLyBwYXJzZSBhbnkgYmxvYiBpbnRvIG1vcmUgdXNhYmxlIG9iamVjdHMgKGUuZy4gSW1hZ2UpXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oeyB1c2U6IG1pZGRsZXdhcmUucGFyc2luZyB9KTtcbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbkxvYWRlci5yZWdpc3RlclBsdWdpbihUZXh0dXJlTG9hZGVyKTtcbi8qKlxuICogUGx1Z2luIHRvIGJlIGluc3RhbGxlZCBmb3IgaGFuZGxpbmcgc3BlY2lmaWMgTG9hZGVyIHJlc291cmNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUxvYWRlclBsdWdpblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW2FkZF0gLSBGdW5jdGlvbiB0byBjYWxsIGltbWVkaWF0ZSBhZnRlciByZWdpc3RlcmluZyBwbHVnaW4uXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmV9IFtwcmVdIC0gTWlkZGxld2FyZSBmdW5jdGlvbiB0byBydW4gYmVmb3JlIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmV9IFt1c2VdIC0gTWlkZGxld2FyZSBmdW5jdGlvbiB0byBydW4gYWZ0ZXIgbG9hZCwgdGhlXG4gKiAgICAgICAgICAgYXJndW1lbnRzIGZvciB0aGlzIGFyZSBgKHJlc291cmNlLCBuZXh0KWBcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElDYWxsYmFja0lEXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb259IElTaWduYWxDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHtvYmplY3R9IFtjb250ZXh0XSAtIENvbnRleHRcbiAqIEByZXR1cm5zIHtJQ2FsbGJhY2tJRH0gLSBDYWxsYmFja0lEXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAdHlwZWRlZiB7ZnVuY3Rpb259IElTaWduYWxEZXRhY2hcbiAqIEBwYXJhbSB7SUNhbGxiYWNrSUR9IGlkIC0gQ2FsbGJhY2tJRCByZXR1cm5lZCBieSBgYWRkYC9gb25jZWAgbWV0aG9kc1xuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHR5cGVkZWYgSUxvYWRlclNpZ25hbFxuICogQHByb3BlcnR5IHtJU2lnbmFsQ2FsbGJhY2t9IGFkZCAtIFJlZ2lzdGVyIGNhbGxiYWNrXG4gKiBAcHJvcGVydHkge0lTaWduYWxDYWxsYmFja30gb25jZSAtIFJlZ2lzdGVyIG9uZXNob3QgY2FsbGJhY2tcbiAqIEBwcm9wZXJ0eSB7SVNpZ25hbERldGFjaH0gZGV0YWNoIC0gRGV0YWNoIHNwZWNpZmljIGNhbGxiYWNrIGJ5IElEXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAY2FsbGJhY2sgbG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gbG9hZGluZyBwcm9jZXNzLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25TdGFydFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25Qcm9ncmVzc1xuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBkZXNjcmlwdGlvbiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gKiBAbWVtYmVyIHtQSVhJLkxvYWRlci5JTG9hZGVyU2lnbmFsfSBvbkVycm9yXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQGRlc2NyaXB0aW9uIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIHJlc291cmNlLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25Mb2FkXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQGRlc2NyaXB0aW9uIERpc3BhdGNoZWQgd2hlbiBjb21wbGV0ZWx5IGxvYWRlZCBhbGwgcmVzb3VyY2VzLlxuICogQG1lbWJlciB7UElYSS5Mb2FkZXIuSUxvYWRlclNpZ25hbH0gb25Db21wbGV0ZVxuICovXG5cbi8qKlxuICogQXBwbGljYXRpb24gcGx1Z2luIGZvciBzdXBwb3J0aW5nIGxvYWRlciBvcHRpb24uIEluc3RhbGxpbmcgdGhlIExvYWRlclBsdWdpblxuICogaXMgbm90IG5lY2Vzc2FyeSBpZiB1c2luZyAqKnBpeGkuanMqKiBvciAqKnBpeGkuanMtbGVnYWN5KiouXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtBcHBMb2FkZXJQbHVnaW59IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuICogaW1wb3J0IHtBcHBsaWNhdGlvbn0gZnJvbSAnQHBpeGkvYXBwJztcbiAqIEFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKEFwcExvYWRlclBsdWdpbik7XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBMb2FkZXJQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwTG9hZGVyUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb24gYXBwbGljYXRpb24gY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXBwTG9hZGVyUGx1Z2luLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvYWRlciBpbnN0YW5jZSB0byBoZWxwIHdpdGggYXNzZXQgbG9hZGluZy5cbiAgICAgICAgICogQG5hbWUgUElYSS5BcHBsaWNhdGlvbiNsb2FkZXJcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZGVyID0gb3B0aW9ucy5zaGFyZWRMb2FkZXIgPyBMb2FkZXIuc2hhcmVkIDogbmV3IExvYWRlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYXBwbGljYXRpb24gZGVzdHJveWVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBcHBMb2FkZXJQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBcHBMb2FkZXJQbHVnaW47XG59KCkpO1xuXG5leHBvcnQgeyBBcHBMb2FkZXJQbHVnaW4sIExvYWRlciwgTG9hZGVyUmVzb3VyY2UsIFRleHR1cmVMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlcnMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3BhcnRpY2xlcyAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9wYXJ0aWNsZXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBCTEVORF9NT0RFUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBoZXgycmdiLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGNvcnJlY3RCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgR2VvbWV0cnksIEJ1ZmZlciwgU2hhZGVyLCBTdGF0ZSwgT2JqZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyoqXG4gKiBUaGUgUGFydGljbGVDb250YWluZXIgY2xhc3MgaXMgYSByZWFsbHkgZmFzdCB2ZXJzaW9uIG9mIHRoZSBDb250YWluZXIgYnVpbHQgc29sZWx5IGZvciBzcGVlZCxcbiAqIHNvIHVzZSB3aGVuIHlvdSBuZWVkIGEgbG90IG9mIHNwcml0ZXMgb3IgcGFydGljbGVzLlxuICpcbiAqIFRoZSB0cmFkZW9mZiBvZiB0aGUgUGFydGljbGVDb250YWluZXIgaXMgdGhhdCBtb3N0IGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgd2lsbCBub3Qgd29yay5cbiAqIFBhcnRpY2xlQ29udGFpbmVyIGltcGxlbWVudHMgdGhlIGJhc2ljIG9iamVjdCB0cmFuc2Zvcm0gKHBvc2l0aW9uLCBzY2FsZSwgcm90YXRpb24pXG4gKiBhbmQgc29tZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgdGludCAoYXMgb2YgdjQuNS42KS5cbiAqXG4gKiBPdGhlciBtb3JlIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSBtYXNraW5nLCBjaGlsZHJlbiwgZmlsdGVycywgZXRjIHdpbGwgbm90IHdvcmsgb24gc3ByaXRlcyBpbiB0aGlzIGJhdGNoLlxuICpcbiAqIEl0J3MgZXh0cmVtZWx5IGVhc3kgdG8gdXNlOlxuICogYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUGFydGljbGVDb250YWluZXIoKTtcbiAqXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgKytpKVxuICoge1xuICogICAgIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwibXlJbWFnZS5wbmdcIik7XG4gKiAgICAgY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBbmQgaGVyZSB5b3UgaGF2ZSBhIGh1bmRyZWQgc3ByaXRlcyB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXQgdGhlIHNwZWVkIG9mIGxpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUNvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFydGljbGVDb250YWluZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaXplPTE1MDBdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGF0IGNhbiBiZSByZW5kZXJlZCBieSB0aGUgY29udGFpbmVyLlxuICAgICAqICBBZmZlY3RzIHNpemUgb2YgYWxsb2NhdGVkIGJ1ZmZlcnMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtwcm9wZXJ0aWVzXSAtIFRoZSBwcm9wZXJ0aWVzIG9mIGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIHVwbG9hZGVkIHRvIHRoZSBncHUgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy52ZXJ0aWNlcz1mYWxzZV0gLSBXaGVuIHRydWUsIHZlcnRpY2VzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqICAgICAgICAgICAgICAgICAgaWYgc3ByaXRlJ3MgYCBzY2FsZS9hbmNob3IvdHJpbS9mcmFtZS9vcmlnYCBpcyBkeW5hbWljLCBwbGVhc2Ugc2V0IGB0cnVlYC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnBvc2l0aW9uPXRydWVdIC0gV2hlbiB0cnVlLCBwb3NpdGlvbiBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wZXJ0aWVzLnJvdGF0aW9uPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgcm90YXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy51dnM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB1dnMgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy50aW50PWZhbHNlXSAtIFdoZW4gdHJ1ZSwgYWxwaGEgYW5kIHRpbnQgYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiYXRjaFNpemU9MTYzODRdIC0gTnVtYmVyIG9mIHBhcnRpY2xlcyBwZXIgYmF0Y2guIElmIGxlc3MgdGhhbiBtYXhTaXplLCBpdCB1c2VzIG1heFNpemUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvUmVzaXplPWZhbHNlXSAtIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2VcbiAgICAgKiAgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQ29udGFpbmVyKG1heFNpemUsIHByb3BlcnRpZXMsIGJhdGNoU2l6ZSwgYXV0b1Jlc2l6ZSkge1xuICAgICAgICBpZiAobWF4U2l6ZSA9PT0gdm9pZCAwKSB7IG1heFNpemUgPSAxNTAwOyB9XG4gICAgICAgIGlmIChiYXRjaFNpemUgPT09IHZvaWQgMCkgeyBiYXRjaFNpemUgPSAxNjM4NDsgfVxuICAgICAgICBpZiAoYXV0b1Jlc2l6ZSA9PT0gdm9pZCAwKSB7IGF1dG9SZXNpemUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvLyBNYWtpbmcgc3VyZSB0aGUgYmF0Y2ggc2l6ZSBpcyB2YWxpZFxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICB2YXIgbWF4QmF0Y2hTaXplID0gMTYzODQ7XG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhCYXRjaFNpemUpIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHByb3BlcnRpZXMgdG8gYmUgZHluYW1pYyAodHJ1ZSkgLyBzdGF0aWMgKGZhbHNlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFuW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4U2l6ZSA9IG1heFNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CdWZmZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogZm9yIGV2ZXJ5IGJhdGNoIHN0b3JlcyBfdXBkYXRlSUQgY29ycmVzcG9uZGluZyB0byB0aGUgbGFzdCBjaGFuZ2UgaW4gdGhhdCBiYXRjaFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoZW4gY2hpbGQgaW5zZXJ0ZWQsIHJlbW92ZWQgb3IgY2hhbmdlcyBwb3NpdGlvbiB0aGlzIG51bWJlciBnb2VzIHVwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYFxuICAgICAgICAgKiB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2UgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1Jlc2l6ZSA9IGF1dG9SZXNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIERlZmF1bHQgdG8gdHJ1ZSBoZXJlIGFzIHBlcmZvcm1hbmNlIGlzIHVzdWFsbHkgdGhlIHByaW9yaXR5IGZvciBwYXJ0aWNsZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvdW5kUGl4ZWxzID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgdG8gcmVuZGVyIHRoZSBjaGlsZHJlbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgICAqIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IDA7XG4gICAgICAgIF90aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcHJpdmF0ZSBwcm9wZXJ0aWVzIGFycmF5IHRvIGR5bmFtaWMgLyBzdGF0aWMgYmFzZWQgb24gdGhlIHBhc3NlZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byBiZSB1cGxvYWRlZFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMF0gPSAndmVydGljZXMnIGluIHByb3BlcnRpZXMgfHwgJ3NjYWxlJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudmVydGljZXMgfHwgISFwcm9wZXJ0aWVzLnNjYWxlIDogdGhpcy5fcHJvcGVydGllc1swXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMV0gPSAncG9zaXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucG9zaXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzFdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1syXSA9ICdyb3RhdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5yb3RhdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMl07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzNdID0gJ3V2cycgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy51dnMgOiB0aGlzLl9wcm9wZXJ0aWVzWzNdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1s0XSA9ICd0aW50JyBpbiBwcm9wZXJ0aWVzIHx8ICdhbHBoYScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE8gZG9uJ3QgbmVlZCB0byFcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICoqIElNUE9SVEFOVDogVGhpcyBpcyBhIFdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICBoZXgycmdiKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGFpbmVyIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRoaXMuY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoMCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUpO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmxhZyB0aGF0IHN0YXRpYyBkYXRhIHNob3VsZCBiZSB1cGRhdGVkIHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNtYWxsZXN0Q2hpbGRJbmRleCAtIFRoZSBzbWFsbGVzdCBjaGlsZCBpbmRleFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gKHNtYWxsZXN0Q2hpbGRJbmRleCkge1xuICAgICAgICB2YXIgYnVmZmVySW5kZXggPSBNYXRoLmZsb29yKHNtYWxsZXN0Q2hpbGRJbmRleCAvIHRoaXMuX2JhdGNoU2l6ZSk7XG4gICAgICAgIHdoaWxlICh0aGlzLl9idWZmZXJVcGRhdGVJRHMubGVuZ3RoIDwgYnVmZmVySW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEc1tidWZmZXJJbmRleF0gPSArK3RoaXMuX3VwZGF0ZUlEO1xuICAgIH07XG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUGFydGljbGVDb250YWluZXI7XG59KENvbnRhaW5lcikpO1xuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXRcbiAqIHRoZXkgbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlQnVmZmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZUJ1ZmZlci5qYXZhXG4gKi9cbi8qKlxuICogVGhlIHBhcnRpY2xlIGJ1ZmZlciBtYW5hZ2VzIHRoZSBzdGF0aWMgYW5kIGR5bmFtaWMgYnVmZmVycyBmb3IgYSBwYXJ0aWNsZSBjb250YWluZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlQnVmZmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFuW119IGR5bmFtaWNQcm9wZXJ0eUZsYWdzIC0gRmxhZ3MgZm9yIHdoaWNoIHByb3BlcnRpZXMgYXJlIGR5bmFtaWMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYmF0Y2guXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVCdWZmZXIocHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIHNpemUpIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgcGFydGljbGVzIHRoZSBidWZmZXIgY2FuIGhvbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBkeW5hbWljLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBzdGF0aWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIC8vIE1ha2UgY29weSBvZiBwcm9wZXJ0aWVzIG9iamVjdCBzbyB0aGF0IHdoZW4gd2UgZWRpdCB0aGUgb2Zmc2V0IGl0IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIHRoZSBvYmplY3QgbGl0ZXJhbFxuICAgICAgICAgICAgcHJvcGVydHkgPSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICBzaXplOiBwcm9wZXJ0eS5zaXplLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgICAgICB0eXBlOiBwcm9wZXJ0eS50eXBlIHx8IFRZUEVTLkZMT0FULFxuICAgICAgICAgICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuaW5pdEJ1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciBkeW5hbWljT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBpbmRpY2VzIG9mIHRoZSBnZW9tZXRyeSAocXVhZHMpIHRvIGRyYXdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihjcmVhdGVJbmRpY2VzRm9yUXVhZHModGhpcy5zaXplKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdlb21ldHJ5LmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICAgICAgZHluYW1pY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGR5bkJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmR5bmFtaWNEYXRhLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAvLyBzdGF0aWMgLy9cbiAgICAgICAgdmFyIHN0YXRpY09mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5Lm9mZnNldCA9IHN0YXRpY09mZnNldDtcbiAgICAgICAgICAgIHN0YXRpY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5zdGF0aWNEYXRhLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLCB0aGlzLmR5bmFtaWNCdWZmZXIsIDAsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsIHByb3BlcnR5LnR5cGUsIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQsIHByb3BlcnR5Lm9mZnNldCAqIDQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUocHJvcGVydHkuYXR0cmlidXRlTmFtZSwgdGhpcy5zdGF0aWNCdWZmZXIsIDAsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsIHByb3BlcnR5LnR5cGUsIHRoaXMuc3RhdGljU3RyaWRlICogNCwgcHJvcGVydHkub2Zmc2V0ICogNCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIGR5bmFtaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkRHluYW1pYyA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLmR5bmFtaWNEYXRhVWludDMyIDogdGhpcy5keW5hbWljRGF0YSwgdGhpcy5keW5hbWljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWRTdGF0aWMgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuc3RhdGljRGF0YVVpbnQzMiA6IHRoaXMuc3RhdGljRGF0YSwgdGhpcy5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgICAgICAvLyBhbGwgYnVmZmVycyBhcmUgZGVzdHJveWVkIGluc2lkZSBnZW9tZXRyeVxuICAgICAgICB0aGlzLmdlb21ldHJ5LmRlc3Ryb3koKTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZUJ1ZmZlcjtcbn0oKSk7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCI7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb25Db29yZDtcXG5hdHRyaWJ1dGUgZmxvYXQgYVJvdGF0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBmbG9hdCB4ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIGNvcyhhUm90YXRpb24pIC0gKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIHNpbihhUm90YXRpb24pO1xcbiAgICBmbG9hdCB5ID0gKGFWZXJ0ZXhQb3NpdGlvbi54KSAqIHNpbihhUm90YXRpb24pICsgKGFWZXJ0ZXhQb3NpdGlvbi55KSAqIGNvcyhhUm90YXRpb24pO1xcblxcbiAgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpO1xcbiAgICB2ID0gdiArIGFQb3NpdGlvbkNvb3JkO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyh2LCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yICogdUNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBAYXV0aG9yIE1hdCBHcm92ZXNcbiAqXG4gKiBCaWcgdGhhbmtzIHRvIHRoZSB2ZXJ5IGNsZXZlciBNYXR0IERlc0xhdXJpZXJzIDxtYXR0ZGVzbD4gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL1xuICogZm9yIGNyZWF0aW5nIHRoZSBvcmlnaW5hbCBQaXhpSlMgdmVyc2lvbiFcbiAqIEFsc28gYSB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL2JjaGV2YWxpZXIgZm9yIHR3ZWFraW5nIHRoZSB0aW50IGFuZCBhbHBoYSBzbyB0aGF0IHRoZXkgbm93XG4gKiBzaGFyZSA0IGJ5dGVzIG9uIHRoZSB2ZXJ0ZXggYnVmZmVyXG4gKlxuICogSGVhdmlseSBpbnNwaXJlZCBieSBMaWJHRFgncyBQYXJ0aWNsZVJlbmRlcmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZVJlbmRlcmVyLmphdmFcbiAqL1xuLyoqXG4gKiBSZW5kZXJlciBmb3IgUGFydGljbGVzIHRoYXQgaXMgZGVzaWduZXIgZm9yIHNwZWVkIG92ZXIgZmVhdHVyZSBzZXQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFydGljbGVSZW5kZXJlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICAvLyBhbmQgbWF4IG51bWJlciBvZiBlbGVtZW50IGluIHRoZSBpbmRleCBidWZmZXIgaXMgMTYzODQgKiA2ID0gOTgzMDRcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBmdWxsIGluZGV4IGJ1ZmZlciwgb3ZlcmhlYWQgaXMgOTgzMDQgKiAyID0gMTk2S29cbiAgICAgICAgLy8gbGV0IG51bUluZGljZXMgPSA5ODMwNDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IHNoYWRlciB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIF90aGlzLnRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIF90aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAvLyB2ZXJ0aWNlc0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVZlcnRleFBvc2l0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRWZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FQb3NpdGlvbkNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBfdGhpcy51cGxvYWRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcm90YXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FSb3RhdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHV2c0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVRleHR1cmVDb29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVXZzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhQ29sb3InLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogX3RoaXMudXBsb2FkVGludCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9IF07XG4gICAgICAgIF90aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHt9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSBpbiB3aGljaCB0aGlzIHJlbmRlcmVyIHdpbGwgd29yay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIHZhciBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvdGFsQ2hpbGRyZW4gPiBtYXhTaXplICYmICFjb250YWluZXIuYXV0b1Jlc2l6ZSkge1xuICAgICAgICAgICAgdG90YWxDaGlsZHJlbiA9IG1heFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnM7XG4gICAgICAgIGlmICghYnVmZmVycykge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycyA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSBjb3JyZWN0QmxlbmRNb2RlKGNvbnRhaW5lci5ibGVuZE1vZGUsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0aGlzLnRlbXBNYXRyaXgpO1xuICAgICAgICBtLnByZXBlbmQocmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbS50b0FycmF5KHRydWUpO1xuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVJnYmEoY29udGFpbmVyLnRpbnRSZ2IsIGNvbnRhaW5lci53b3JsZEFscGhhLCB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gYmFzZVRleHR1cmU7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5zaGFkZXIpO1xuICAgICAgICB2YXIgdXBkYXRlU3RhdGljID0gZmFsc2U7XG4gICAgICAgIC8vIG5vdyBsZXRzIHVwbG9hZCBhbmQgcmVuZGVyIHRoZSBidWZmZXJzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxDaGlsZHJlbjsgaSArPSBiYXRjaFNpemUsIGogKz0gMSkge1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9ICh0b3RhbENoaWxkcmVuIC0gaSk7XG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG4gICAgICAgICAgICAvLyB3ZSBhbHdheXMgdXBsb2FkIHRoZSBkeW5hbWljXG4gICAgICAgICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIHZhciBiaWQgPSBjb250YWluZXIuX2J1ZmZlclVwZGF0ZUlEc1tqXSB8fCAwO1xuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBwYXJ0aWNsZSBidWZmZXIgZm9yIGVhY2ggY2hpbGQgaW4gdGhlIGNvbnRhaW5lciB3ZSB3YW50IHRvIHJlbmRlciBhbmQgdXBkYXRlcyBpbnRlcm5hbCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJbXX0gVGhlIGJ1ZmZlcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlQnVmZmVycyA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdmFyIHNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2gobmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgbW9yZSBwYXJ0aWNsZSBidWZmZXIsIGJlY2F1c2UgY29udGFpbmVyIGhhcyBhdXRvUmVzaXplIGZlYXR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcn0gZ2VuZXJhdGVkIGJ1ZmZlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG4gICAgICAgIHJldHVybiBuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgdmVydGljZXMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFZlcnRpY2VzID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgICAgICB2YXIgc3ggPSBzcHJpdGUuc2NhbGUueDtcbiAgICAgICAgICAgIHZhciBzeSA9IHNwcml0ZS5zY2FsZS55O1xuICAgICAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgICAgIGlmICh0cmltKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBleHRyYSBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLi5cbiAgICAgICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChzcHJpdGUuYW5jaG9yLnggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcbiAgICAgICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdzAgPSAob3JpZy53aWR0aCkgKiAoMSAtIHNwcml0ZS5hbmNob3IueCk7XG4gICAgICAgICAgICAgICAgdzEgPSAob3JpZy53aWR0aCkgKiAtc3ByaXRlLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIGgwID0gb3JpZy5oZWlnaHQgKiAoMSAtIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgICAgICAgICAgaDEgPSBvcmlnLmhlaWdodCAqIC1zcHJpdGUuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBoMSAqIHN5O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IGgwICogc3k7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUG9zaXRpb24gPSBmdW5jdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFJvdGF0aW9uID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUm90YXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gc3ByaXRlUm90YXRpb247XG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgVXZzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVXZzID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5fdGV4dHVyZS5fdXZzO1xuICAgICAgICAgICAgaWYgKHRleHR1cmVVdnMpIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHRleHR1cmVVdnMueTM7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHlvdSBrbm93IHRoaXMgY2FuIGJlIGVhc2llciFcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IDA7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHRpbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVGludCA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciBwcmVtdWx0aXBsaWVkID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlLmFscGhhTW9kZSA+IDA7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSBzcHJpdGUuYWxwaGE7XG4gICAgICAgICAgICAvLyB3ZSBkb250IGNhbGwgZXh0cmEgZnVuY3Rpb24gaWYgYWxwaGEgaXMgMS4wLCB0aGF0J3MgZmFzdGVyXG4gICAgICAgICAgICB2YXIgYXJnYiA9IGFscGhhIDwgMS4wICYmIHByZW11bHRpcGxpZWRcbiAgICAgICAgICAgICAgICA/IHByZW11bHRpcGx5VGludChzcHJpdGUuX3RpbnRSR0IsIGFscGhhKSA6IHNwcml0ZS5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gYXJnYjtcbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVSZW5kZXJlci5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBQYXJ0aWNsZVJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG5leHBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lciwgUGFydGljbGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGVzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ncmFwaGljcyAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9ncmFwaGljcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlLCBCYXRjaERyYXdDYWxsLCBCYXRjaFRleHR1cmVBcnJheSwgQmF0Y2hHZW9tZXRyeSwgU3RhdGUsIFVuaWZvcm1Hcm91cCwgU2hhZGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTSEFQRVMsIFBvaW50LCBQb2x5Z29uLCBQSV8yLCBNYXRyaXgsIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgQ2lyY2xlLCBFbGxpcHNlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBlYXJjdXQsIHByZW11bHRpcGx5VGludCwgZGVwcmVjYXRpb24sIGhleDJyZ2IgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBXUkFQX01PREVTLCBEUkFXX01PREVTLCBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFN1cHBvcnRlZCBsaW5lIGpvaW50cyBpbiBgUElYSS5MaW5lU3R5bGVgIGZvciBncmFwaGljcy5cbiAqXG4gKiBAc2VlIFBJWEkuR3JhcGhpY3MjbGluZVN0eWxlXG4gKiBAc2VlIGh0dHBzOi8vZ3JhcGhpY2Rlc2lnbi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNTkwMTgvd2hhdC1pcy1hLWJldmVsLWpvaW4tb2YtdHdvLWxpbmVzLWV4YWN0bHktaWxsdXN0cmF0b3JcbiAqXG4gKiBAbmFtZSBMSU5FX0pPSU5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IE1JVEVSIC0gJ21pdGVyJzogbWFrZSBhIHNoYXJwIGNvcm5lciB3aGVyZSBvdXRlciBwYXJ0IG9mIGxpbmVzIG1lZXRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBCRVZFTCAtICdiZXZlbCc6IGFkZCBhIHNxdWFyZSBidXR0IGF0IGVhY2ggZW5kIG9mIGxpbmUgc2VnbWVudCBhbmQgZmlsbCB0aGUgdHJpYW5nbGUgYXQgdHVyblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFJPVU5EIC0gJ3JvdW5kJzogYWRkIGFuIGFyYyBhdCB0aGUgam9pbnRcbiAqL1xudmFyIExJTkVfSk9JTjtcbihmdW5jdGlvbiAoTElORV9KT0lOKSB7XG4gICAgTElORV9KT0lOW1wiTUlURVJcIl0gPSBcIm1pdGVyXCI7XG4gICAgTElORV9KT0lOW1wiQkVWRUxcIl0gPSBcImJldmVsXCI7XG4gICAgTElORV9KT0lOW1wiUk9VTkRcIl0gPSBcInJvdW5kXCI7XG59KShMSU5FX0pPSU4gfHwgKExJTkVfSk9JTiA9IHt9KSk7XG4vKipcbiAqIFN1cHBvcnQgbGluZSBjYXBzIGluIGBQSVhJLkxpbmVTdHlsZWAgZm9yIGdyYXBoaWNzLlxuICpcbiAqIEBzZWUgUElYSS5HcmFwaGljcyNsaW5lU3R5bGVcbiAqXG4gKiBAbmFtZSBMSU5FX0NBUFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gQlVUVCAtICdidXR0JzogZG9uJ3QgYWRkIGFueSBjYXAgYXQgbGluZSBlbmRzIChsZWF2ZXMgb3J0aG9nb25hbCBlZGdlcylcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBST1VORCAtICdyb3VuZCc6IGFkZCBzZW1pY2lyY2xlIGF0IGVuZHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBTUVVBUkUgLSAnc3F1YXJlJzogYWRkIHNxdWFyZSBhdCBlbmQgKGxpa2UgYEJVVFRgIGV4Y2VwdCBtb3JlIGxlbmd0aCBhdCBlbmQpXG4gKi9cbnZhciBMSU5FX0NBUDtcbihmdW5jdGlvbiAoTElORV9DQVApIHtcbiAgICBMSU5FX0NBUFtcIkJVVFRcIl0gPSBcImJ1dHRcIjtcbiAgICBMSU5FX0NBUFtcIlJPVU5EXCJdID0gXCJyb3VuZFwiO1xuICAgIExJTkVfQ0FQW1wiU1FVQVJFXCJdID0gXCJzcXVhcmVcIjtcbn0pKExJTkVfQ0FQIHx8IChMSU5FX0NBUCA9IHt9KSk7XG4vKipcbiAqIEdyYXBoaWNzIGN1cnZlcyByZXNvbHV0aW9uIHNldHRpbmdzLiBJZiBgYWRhcHRpdmVgIGZsYWcgaXMgc2V0IHRvIGB0cnVlYCxcbiAqIHRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGN1cnZlJ3MgbGVuZ3RoIHRvIGVuc3VyZSBiZXR0ZXIgdmlzdWFsIHF1YWxpdHkuXG4gKiBBZGFwdGl2ZSBkcmF3IHdvcmtzIHdpdGggYGJlemllckN1cnZlVG9gIGFuZCBgcXVhZHJhdGljQ3VydmVUb2AuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgR1JBUEhJQ1NfQ1VSVkVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtib29sZWFufSBhZGFwdGl2ZT1mYWxzZSAtIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgcmVzb2x1dGlvbiBzaG91bGQgYmUgYWRhcHRpdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhMZW5ndGg9MTAgLSBtYXhpbWFsIGxlbmd0aCBvZiBhIHNpbmdsZSBzZWdtZW50IG9mIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5TZWdtZW50cz04IC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFNlZ21lbnRzPTIwNDggLSBtYXhpbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKi9cbnZhciBHUkFQSElDU19DVVJWRVMgPSB7XG4gICAgYWRhcHRpdmU6IHRydWUsXG4gICAgbWF4TGVuZ3RoOiAxMCxcbiAgICBtaW5TZWdtZW50czogOCxcbiAgICBtYXhTZWdtZW50czogMjA0OCxcbiAgICBlcHNpbG9uOiAwLjAwMDEsXG4gICAgX3NlZ21lbnRzQ291bnQ6IGZ1bmN0aW9uIChsZW5ndGgsIGRlZmF1bHRTZWdtZW50cykge1xuICAgICAgICBpZiAoZGVmYXVsdFNlZ21lbnRzID09PSB2b2lkIDApIHsgZGVmYXVsdFNlZ21lbnRzID0gMjA7IH1cbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0aXZlIHx8ICFsZW5ndGggfHwgaXNOYU4obGVuZ3RoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKGxlbmd0aCAvIHRoaXMubWF4TGVuZ3RoKTtcbiAgICAgICAgaWYgKHJlc3VsdCA8IHRoaXMubWluU2VnbWVudHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWluU2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0ID4gdGhpcy5tYXhTZWdtZW50cykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tYXhTZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEZpbGwgc3R5bGUgb2JqZWN0IGZvciBHcmFwaGljcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGaWxsU3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsbFN0eWxlKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhleCBjb2xvciB2YWx1ZSB1c2VkIHdoZW4gY29sb3JpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvciA9IDB4RkZGRkZGO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYSA9IDEuMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRvIGJlIHVzZWQgZm9yIHRoZSBmaWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGFwbHBpZWQgdG8gdGhlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgY3VycmVudCBmaWxsIGlzIHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5GaWxsU3R5bGV9XG4gICAgICovXG4gICAgRmlsbFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBGaWxsU3R5bGUoKTtcbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldFxuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqL1xuICAgIEZpbGxTdHlsZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbGxTdHlsZTtcbn0oKSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIHBvbHlnb24gdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUG9seSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIH0sXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KSB7XG4gICAgICAgICAgICB2YXIgaG9sZUFycmF5ID0gW107XG4gICAgICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgICAgIGhvbGVBcnJheS5wdXNoKHBvaW50cy5sZW5ndGggLyAyKTtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgICAgIHZhciB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuICAgICAgICAgICAgaWYgKCF0cmlhbmdsZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vLyBmb3IgdHlwZSBvbmx5XG4vKipcbiAqIEJ1aWxkcyBhIGNpcmNsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byBkcmF3XG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkQ2lyY2xlID0ge1xuICAgIGJ1aWxkOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlRGF0YS54O1xuICAgICAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gVE9ETyAtIGJpdCBoYWNreT8/XG4gICAgICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlbGxpcHNlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgICAgIHdpZHRoID0gZWxsaXBzZURhdGEud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBlbGxpcHNlRGF0YS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSlcbiAgICAgICAgICAgIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQod2lkdGggKyBoZWlnaHQpKTtcbiAgICAgICAgdG90YWxTZWdzIC89IDIuMztcbiAgICAgICAgdmFyIHNlZyA9IChNYXRoLlBJICogMikgLyB0b3RhbFNlZ3M7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTZWdzIC0gMC41OyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHggKyAoTWF0aC5zaW4oLXNlZyAqIGkpICogd2lkdGgpLCB5ICsgKE1hdGguY29zKC1zZWcgKiBpKSAqIGhlaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZlcnRQb3M7XG4gICAgICAgIHZhciBjaXJjbGUgPSAoZ3JhcGhpY3NEYXRhLnNoYXBlKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IGdyYXBoaWNzRGF0YS5tYXRyaXg7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlLng7XG4gICAgICAgIHZhciB5ID0gY2lyY2xlLnk7XG4gICAgICAgIC8vIFB1c2ggY2VudGVyIChzcGVjaWFsIHBvaW50KVxuICAgICAgICB2ZXJ0cy5wdXNoKGdyYXBoaWNzRGF0YS5tYXRyaXggPyAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4IDogeCwgZ3JhcGhpY3NEYXRhLm1hdHJpeCA/IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHkgOiB5KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbaSArIDFdKTtcbiAgICAgICAgICAgIC8vIGFkZCBzb21lIHV2c1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MrKywgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRSZWN0YW5nbGUgPSB7XG4gICAgYnVpbGQ6IGZ1bmN0aW9uIChncmFwaGljc0RhdGEpIHtcbiAgICAgICAgLy8gLS0tIC8vXG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICAvL1xuICAgICAgICB2YXIgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIHZhciB4ID0gcmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSByZWN0RGF0YS55O1xuICAgICAgICB2YXIgd2lkdGggPSByZWN0RGF0YS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICBwb2ludHMucHVzaCh4LCB5LCB4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCk7XG4gICAgfSxcbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10sIHBvaW50c1s2XSwgcG9pbnRzWzddLCBwb2ludHNbNF0sIHBvaW50c1s1XSk7XG4gICAgICAgIGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcy5wdXNoKHZlcnRQb3MsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMyk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKSB7XG4gICAgdmFyIGRpZmYgPSBuMiAtIG4xO1xuICAgIHJldHVybiBuMSArIChkaWZmICogcGVyYyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZLCBvdXQpIHtcbiAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gW107IH1cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG4gICAgdmFyIHhhID0gMDtcbiAgICB2YXIgeWEgPSAwO1xuICAgIHZhciB4YiA9IDA7XG4gICAgdmFyIHliID0gMDtcbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG4gICAgICAgIC8vIFRoZSBCbGFjayBEb3RcbiAgICAgICAgeCA9IGdldFB0KHhhLCB4Yiwgaik7XG4gICAgICAgIHkgPSBnZXRQdCh5YSwgeWIsIGopO1xuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50cztcbn1cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUm91bmRlZFJlY3RhbmdsZSA9IHtcbiAgICBidWlsZDogZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSkge1xuICAgICAgICB2YXIgcnJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHggPSBycmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSBycmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcnJlY3REYXRhLmhlaWdodDtcbiAgICAgICAgLy8gRG9uJ3QgYWxsb3cgbmVnYXRpdmUgcmFkaXVzIG9yIGdyZWF0ZXIgdGhhbiBoYWxmIHRoZSBzbWFsbGVzdCB3aWR0aFxuICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocnJlY3REYXRhLnJhZGl1cywgTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyKSk7XG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAvLyBObyByYWRpdXMsIGRvIGEgc2ltcGxlIHJlY3RhbmdsZVxuICAgICAgICBpZiAoIXJhZGl1cykge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIHJhZGl1cywgeCwgeSwgeCArIHJhZGl1cywgeSwgcG9pbnRzKTtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cywgeSwgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyByYWRpdXMsIHBvaW50cyk7XG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LCBwb2ludHMpO1xuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIHJhZGl1cywgcG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIHRpbnkgbnVtYmVyIGRlYWxzIHdpdGggdGhlIGlzc3VlIHRoYXQgb2NjdXJzIHdoZW4gcG9pbnRzIG92ZXJsYXAgYW5kIGVhcmN1dCBmYWlscyB0byB0cmlhbmd1bGF0ZSB0aGUgaXRlbS5cbiAgICAgICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cbiAgICB9LFxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgICAgIHZhciB2ZWNQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICB2YXIgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgbnVsbCwgMik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHBvaW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldLCBwb2ludHNbKytpXSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWZmZXJzIHZlcnRpY2VzIHRvIGRyYXcgYSBzcXVhcmUgY2FwLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFgtY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFktY29vcmQgb2YgZW5kIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gbnggLSBYLWNvb3JkIG9mIGxpbmUgbm9ybWFsIHBvaW50aW5nIGluc2lkZVxuICogQHBhcmFtIHtudW1iZXJ9IG55IC0gWS1jb29yZCBvZiBsaW5lIG5vcm1hbCBwb2ludGluZyBpbnNpZGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gdmVydHMgLSB2ZXJ0ZXggYnVmZmVyXG4gKiBAcmV0dXJucyB7fVxuICovXG5mdW5jdGlvbiBzcXVhcmUoeCwgeSwgbngsIG55LCBpbm5lcldlaWdodCwgb3V0ZXJXZWlnaHQsIGNsb2Nrd2lzZSwgLyogcm90YXRpb24gZm9yIHNxdWFyZSAodHJ1ZSBhdCBsZWZ0IGVuZCwgZmFsc2UgYXQgcmlnaHQgZW5kKSAqLyB2ZXJ0cykge1xuICAgIHZhciBpeCA9IHggLSAobnggKiBpbm5lcldlaWdodCk7XG4gICAgdmFyIGl5ID0geSAtIChueSAqIGlubmVyV2VpZ2h0KTtcbiAgICB2YXIgb3ggPSB4ICsgKG54ICogb3V0ZXJXZWlnaHQpO1xuICAgIHZhciBveSA9IHkgKyAobnkgKiBvdXRlcldlaWdodCk7XG4gICAgLyogUm90YXRlIG54LG55IGZvciBleHRlbnNpb24gdmVjdG9yICovXG4gICAgdmFyIGV4eDtcbiAgICB2YXIgZXl5O1xuICAgIGlmIChjbG9ja3dpc2UpIHtcbiAgICAgICAgZXh4ID0gbnk7XG4gICAgICAgIGV5eSA9IC1ueDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4eCA9IC1ueTtcbiAgICAgICAgZXl5ID0gbng7XG4gICAgfVxuICAgIC8qIFtpfDBdeCx5IGV4dGVuZGVkIGF0IGNhcCAqL1xuICAgIHZhciBlaXggPSBpeCArIGV4eDtcbiAgICB2YXIgZWl5ID0gaXkgKyBleXk7XG4gICAgdmFyIGVveCA9IG94ICsgZXh4O1xuICAgIHZhciBlb3kgPSBveSArIGV5eTtcbiAgICAvKiBTcXVhcmUgaXRzZWxmIG11c3QgYmUgaW5zZXJ0ZWQgY2xvY2t3aXNlKi9cbiAgICB2ZXJ0cy5wdXNoKGVpeCwgZWl5KTtcbiAgICB2ZXJ0cy5wdXNoKGVveCwgZW95KTtcbiAgICByZXR1cm4gMjtcbn1cbi8qKlxuICogQnVmZmVycyB2ZXJ0aWNlcyB0byBkcmF3IGFuIGFyYyBhdCB0aGUgbGluZSBqb2ludCBvciBjYXAuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFgtY29vcmQgb2YgY2VudGVyXG4gKiBAcGFyYW0ge251bWJlcn0gY3kgLSBZLWNvb3JkIG9mIGNlbnRlclxuICogQHBhcmFtIHtudW1iZXJ9IHN4IC0gWC1jb29yZCBvZiBhcmMgc3RhcnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBzeSAtIFktY29vcmQgb2YgYXJjIHN0YXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gZXggLSBYLWNvb3JkIG9mIGFyYyBlbmRcbiAqIEBwYXJhbSB7bnVtYmVyfSBleSAtIFktY29vcmQgb2YgYXJjIGVuZFxuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSB2ZXJ0cyAtIGJ1ZmZlciBvZiB2ZXJ0aWNlc1xuICogQHBhcmFtIHtib29sZWFufSBjbG9ja3dpc2UgLSBvcmllbnRhdGlvbiBvZiB2ZXJ0aWNlc1xuICogQHJldHVybnMge251bWJlcn0gLSBuby4gb2YgdmVydGljZXMgcHVzaGVkXG4gKi9cbmZ1bmN0aW9uIHJvdW5kKGN4LCBjeSwgc3gsIHN5LCBleCwgZXksIHZlcnRzLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgY3gycDB4ID0gc3ggLSBjeDtcbiAgICB2YXIgY3kycDB5ID0gc3kgLSBjeTtcbiAgICB2YXIgYW5nbGUwID0gTWF0aC5hdGFuMihjeDJwMHgsIGN5MnAweSk7XG4gICAgdmFyIGFuZ2xlMSA9IE1hdGguYXRhbjIoZXggLSBjeCwgZXkgLSBjeSk7XG4gICAgaWYgKGNsb2Nrd2lzZSAmJiBhbmdsZTAgPCBhbmdsZTEpIHtcbiAgICAgICAgYW5nbGUwICs9IE1hdGguUEkgKiAyO1xuICAgIH1cbiAgICBlbHNlIGlmICghY2xvY2t3aXNlICYmIGFuZ2xlMCA+IGFuZ2xlMSkge1xuICAgICAgICBhbmdsZTEgKz0gTWF0aC5QSSAqIDI7XG4gICAgfVxuICAgIHZhciBzdGFydEFuZ2xlID0gYW5nbGUwO1xuICAgIHZhciBhbmdsZURpZmYgPSBhbmdsZTEgLSBhbmdsZTA7XG4gICAgdmFyIGFic0FuZ2xlRGlmZiA9IE1hdGguYWJzKGFuZ2xlRGlmZik7XG4gICAgLyogaWYgKGFic0FuZ2xlRGlmZiA+PSBQSV9MQk9VTkQgJiYgYWJzQW5nbGVEaWZmIDw9IFBJX1VCT1VORClcbiAgICB7XG4gICAgICAgIGNvbnN0IHIxeCA9IGN4IC0gbnh0UHg7XG4gICAgICAgIGNvbnN0IHIxeSA9IGN5IC0gbnh0UHk7XG5cbiAgICAgICAgaWYgKHIxeCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHIxeSA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYW5nbGVEaWZmID0gLWFuZ2xlRGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyMXggPj0gLUdSQVBISUNTX0NVUlZFUy5lcHNpbG9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBhbmdsZURpZmYgPSAtYW5nbGVEaWZmO1xuICAgICAgICB9XG4gICAgfSovXG4gICAgdmFyIHJhZGl1cyA9IE1hdGguc3FydCgoY3gycDB4ICogY3gycDB4KSArIChjeTJwMHkgKiBjeTJwMHkpKTtcbiAgICB2YXIgc2VnQ291bnQgPSAoKDE1ICogYWJzQW5nbGVEaWZmICogTWF0aC5zcXJ0KHJhZGl1cykgLyBNYXRoLlBJKSA+PiAwKSArIDE7XG4gICAgdmFyIGFuZ2xlSW5jID0gYW5nbGVEaWZmIC8gc2VnQ291bnQ7XG4gICAgc3RhcnRBbmdsZSArPSBhbmdsZUluYztcbiAgICBpZiAoY2xvY2t3aXNlKSB7XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgYW5nbGUgPSBzdGFydEFuZ2xlOyBpIDwgc2VnQ291bnQ7IGkrKywgYW5nbGUgKz0gYW5nbGVJbmMpIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goY3ggKyAoKE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cykpLCBjeSArICgoTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHZlcnRzLnB1c2goY3gsIGN5KTtcbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmVydHMucHVzaChzeCwgc3kpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBhbmdsZSA9IHN0YXJ0QW5nbGU7IGkgPCBzZWdDb3VudDsgaSsrLCBhbmdsZSArPSBhbmdsZUluYykge1xuICAgICAgICAgICAgdmVydHMucHVzaChjeCArICgoTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzKSksIGN5ICsgKChNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMpKSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgICAgIH1cbiAgICAgICAgdmVydHMucHVzaChleCwgZXkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKGN4LCBjeSk7XG4gICAgfVxuICAgIHJldHVybiBzZWdDb3VudCAqIDI7XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgcG9seWdvbiBtZXRob2QuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSkge1xuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHMuc2xpY2UoKTtcbiAgICB2YXIgZXBzID0gZ3JhcGhpY3NHZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGxpbmUgd2lkdGggaXMgYW4gb2RkIG51bWJlciBhZGQgMC41IHRvIGFsaWduIHRvIGEgd2hvbGUgcGl4ZWxcbiAgICAvLyBjb21tZW50aW5nIHRoaXMgb3V0IGZpeGVzICM3MTEgYW5kICMxNjIwXG4gICAgLy8gaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGglMilcbiAgICAvLyB7XG4gICAgLy8gICAgIGZvciAoaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAgIHBvaW50c1tpXSArPSAwLjU7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG4gICAgdmFyIHN0eWxlID0gZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZTtcbiAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgdmFyIGZpcnN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIHZhciBsYXN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgdmFyIGNsb3NlZFBhdGggPSBNYXRoLmFicyhmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgPCBlcHNcbiAgICAgICAgJiYgTWF0aC5hYnMoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpIDwgZXBzO1xuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGNsb3NlZFNoYXBlKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gY2xvbmUgYXMgd2UgYXJlIGdvaW5nIHRvIHNsaWdodGx5IG1vZGlmeSB0aGUgc2hhcGUuLlxuICAgICAgICBwb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcbiAgICAgICAgaWYgKGNsb3NlZFBhdGgpIHtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RQb2ludC5zZXQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IChmaXJzdFBvaW50LnggKyBsYXN0UG9pbnQueCkgKiAwLjU7XG4gICAgICAgIHZhciBtaWRQb2ludFkgPSAobGFzdFBvaW50LnkgKyBmaXJzdFBvaW50LnkpICogMC41O1xuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgLy8gTWF4LiBpbm5lciBhbmQgb3V0ZXIgd2lkdGhcbiAgICB2YXIgd2lkdGggPSBzdHlsZS53aWR0aCAvIDI7XG4gICAgdmFyIHdpZHRoU3F1YXJlZCA9IHdpZHRoICogd2lkdGg7XG4gICAgdmFyIG1pdGVyTGltaXRTcXVhcmVkID0gc3R5bGUubWl0ZXJMaW1pdCAqIHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgLyogTGluZSBzZWdtZW50cyBvZiBpbnRlcmVzdCB3aGVyZSAoeDEseTEpIGZvcm1zIHRoZSBjb3JuZXIuICovXG4gICAgdmFyIHgwID0gcG9pbnRzWzBdO1xuICAgIHZhciB5MCA9IHBvaW50c1sxXTtcbiAgICB2YXIgeDEgPSBwb2ludHNbMl07XG4gICAgdmFyIHkxID0gcG9pbnRzWzNdO1xuICAgIHZhciB4MiA9IDA7XG4gICAgdmFyIHkyID0gMDtcbiAgICAvKiBwZXJwWz9dKHh8eSkgPSB0aGUgbGluZSBub3JtYWwgd2l0aCBtYWduaXR1ZGUgbGluZVdpZHRoLiAqL1xuICAgIHZhciBwZXJweCA9IC0oeTAgLSB5MSk7XG4gICAgdmFyIHBlcnB5ID0geDAgLSB4MTtcbiAgICB2YXIgcGVycDF4ID0gMDtcbiAgICB2YXIgcGVycDF5ID0gMDtcbiAgICB2YXIgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcbiAgICB2YXIgcmF0aW8gPSBzdHlsZS5hbGlnbm1lbnQ7IC8vIDAuNTtcbiAgICB2YXIgaW5uZXJXZWlnaHQgPSAoMSAtIHJhdGlvKSAqIDI7XG4gICAgdmFyIG91dGVyV2VpZ2h0ID0gcmF0aW8gKiAyO1xuICAgIGlmICghY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuUk9VTkQpIHtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDAgLSAocGVycHggKiAoaW5uZXJXZWlnaHQgLSBvdXRlcldlaWdodCkgKiAwLjUpLCB5MCAtIChwZXJweSAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDAgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkwICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgdHJ1ZSkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuU1FVQVJFKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHNxdWFyZSh4MCwgeTAsIHBlcnB4LCBwZXJweSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCB0cnVlLCB2ZXJ0cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUHVzaCBmaXJzdCBwb2ludCAoYmVsb3cgJiBhYm92ZSB2ZXJ0aWNlcylcbiAgICB2ZXJ0cy5wdXNoKHgwIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MCAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7XG4gICAgdmVydHMucHVzaCh4MCArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTAgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIHgwID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgeTAgPSBwb2ludHNbKChpIC0gMSkgKiAyKSArIDFdO1xuICAgICAgICB4MSA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHkxID0gcG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgeDIgPSBwb2ludHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICB5MiA9IHBvaW50c1soKGkgKyAxKSAqIDIpICsgMV07XG4gICAgICAgIHBlcnB4ID0gLSh5MCAtIHkxKTtcbiAgICAgICAgcGVycHkgPSB4MCAtIHgxO1xuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgICAgICBwZXJweSAqPSB3aWR0aDtcbiAgICAgICAgcGVycDF4ID0gLSh5MSAtIHkyKTtcbiAgICAgICAgcGVycDF5ID0geDEgLSB4MjtcbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDF4ICogcGVycDF4KSArIChwZXJwMXkgKiBwZXJwMXkpKTtcbiAgICAgICAgcGVycDF4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAxeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMXggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAxeSAqPSB3aWR0aDtcbiAgICAgICAgLyogZFt4fHldKDB8MSkgPSB0aGUgY29tcG9uZW50IGRpc3BsYWNtZW50IGJldHdlZW4gcG9pbnRzIHAoMCwxfDEsMikgKi9cbiAgICAgICAgdmFyIGR4MCA9IHgxIC0geDA7XG4gICAgICAgIHZhciBkeTAgPSB5MCAtIHkxO1xuICAgICAgICB2YXIgZHgxID0geDEgLSB4MjtcbiAgICAgICAgdmFyIGR5MSA9IHkyIC0geTE7XG4gICAgICAgIC8qICt2ZSBpZiBpbnRlcm5hbCBhbmdsZSBjb3VudGVyY2xvY2t3aXNlLCAtdmUgaWYgaW50ZXJuYWwgYW5nbGUgY2xvY2t3aXNlLiAqL1xuICAgICAgICB2YXIgY3Jvc3MgPSAoZHkwICogZHgxKSAtIChkeTEgKiBkeDApO1xuICAgICAgICB2YXIgY2xvY2t3aXNlID0gKGNyb3NzIDwgMCk7XG4gICAgICAgIC8qIEdvaW5nIG5lYXJseSBzdHJhaWdodD8gKi9cbiAgICAgICAgaWYgKE1hdGguYWJzKGNyb3NzKSA8IDAuMSkge1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLyogcFt4fHldIGlzIHRoZSBtaXRlciBwb2ludC4gcGRpc3QgaXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gbWl0ZXIgcG9pbnQgYW5kIHAxLiAqL1xuICAgICAgICB2YXIgYzEgPSAoKC1wZXJweCArIHgwKSAqICgtcGVycHkgKyB5MSkpIC0gKCgtcGVycHggKyB4MSkgKiAoLXBlcnB5ICsgeTApKTtcbiAgICAgICAgdmFyIGMyID0gKCgtcGVycDF4ICsgeDIpICogKC1wZXJwMXkgKyB5MSkpIC0gKCgtcGVycDF4ICsgeDEpICogKC1wZXJwMXkgKyB5MikpO1xuICAgICAgICB2YXIgcHggPSAoKGR4MCAqIGMyKSAtIChkeDEgKiBjMSkpIC8gY3Jvc3M7XG4gICAgICAgIHZhciBweSA9ICgoZHkxICogYzEpIC0gKGR5MCAqIGMyKSkgLyBjcm9zcztcbiAgICAgICAgdmFyIHBkaXN0ID0gKChweCAtIHgxKSAqIChweCAtIHgxKSkgKyAoKHB5IC0geTEpICogKHB5IC0geTEpKTtcbiAgICAgICAgLyogSW5uZXIgbWl0ZXIgcG9pbnQgKi9cbiAgICAgICAgdmFyIGlteCA9IHgxICsgKChweCAtIHgxKSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIGlteSA9IHkxICsgKChweSAtIHkxKSAqIGlubmVyV2VpZ2h0KTtcbiAgICAgICAgLyogT3V0ZXIgbWl0ZXIgcG9pbnQgKi9cbiAgICAgICAgdmFyIG9teCA9IHgxIC0gKChweCAtIHgxKSAqIG91dGVyV2VpZ2h0KTtcbiAgICAgICAgdmFyIG9teSA9IHkxIC0gKChweSAtIHkxKSAqIG91dGVyV2VpZ2h0KTtcbiAgICAgICAgLyogSXMgdGhlIGluc2lkZSBtaXRlciBwb2ludCB0b28gZmFyIGF3YXksIGNyZWF0aW5nIGEgc3Bpa2U/ICovXG4gICAgICAgIHZhciBzbWFsbGVySW5zaWRlU2VnbWVudFNxID0gTWF0aC5taW4oKGR4MCAqIGR4MCkgKyAoZHkwICogZHkwKSwgKGR4MSAqIGR4MSkgKyAoZHkxICogZHkxKSk7XG4gICAgICAgIHZhciBpbnNpZGVXZWlnaHQgPSBjbG9ja3dpc2UgPyBpbm5lcldlaWdodCA6IG91dGVyV2VpZ2h0O1xuICAgICAgICB2YXIgc21hbGxlckluc2lkZURpYWdvbmFsU3EgPSBzbWFsbGVySW5zaWRlU2VnbWVudFNxICsgKGluc2lkZVdlaWdodCAqIGluc2lkZVdlaWdodCAqIHdpZHRoU3F1YXJlZCk7XG4gICAgICAgIHZhciBpbnNpZGVNaXRlck9rID0gcGRpc3QgPD0gc21hbGxlckluc2lkZURpYWdvbmFsU3E7XG4gICAgICAgIGlmIChpbnNpZGVNaXRlck9rKSB7XG4gICAgICAgICAgICBpZiAoc3R5bGUuam9pbiA9PT0gTElORV9KT0lOLkJFVkVMIHx8IHBkaXN0IC8gd2lkdGhTcXVhcmVkID4gbWl0ZXJMaW1pdFNxdWFyZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvY2t3aXNlKSAvKiByb3RhdGluZyBhdCBpbm5lciBhbmdsZSAqLyB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpOyAvLyBpbm5lciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7IC8vIGZpcnN0IHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCkpOyAvLyBzZWNvbmQgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIC8qIHJvdGF0aW5nIGF0IG91dGVyIGFuZ2xlICovIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpOyAvLyBmaXJzdCBzZWdtZW50J3MgaW5uZXIgdmVydGV4XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gob214LCBvbXkpOyAvLyBvdXRlciBtaXRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpKTsgLy8gc2Vjb25kIHNlZ21lbnQncyBvdXRlciB2ZXJ0ZXhcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIG91dGVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5ST1VORCkge1xuICAgICAgICAgICAgICAgIGlmIChjbG9ja3dpc2UpIC8qIGFyYyBpcyBvdXRzaWRlICovIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSwgeDEgKyAocGVycDF4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJwMXkgKiBvdXRlcldlaWdodCksIHZlcnRzLCB0cnVlKSArIDQ7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnB1c2goaW14LCBpbXkpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSAvKiBhcmMgaXMgaW5zaWRlICovIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaCh4MSAtIChwZXJweCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycHkgKiBpbm5lcldlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSwgeTEsIHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSwgeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCksIHZlcnRzLCBmYWxzZSkgKyA0O1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnAxeCAqIGlubmVyV2VpZ2h0KSwgeTEgLSAocGVycDF5ICogaW5uZXJXZWlnaHQpKTtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSAvLyBpbnNpZGUgbWl0ZXIgaXMgTk9UIG9rXG4gICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHgxIC0gKHBlcnB4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJweSAqIGlubmVyV2VpZ2h0KSk7IC8vIGZpcnN0IHNlZ21lbnQncyBpbm5lciB2ZXJ0ZXhcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgKyAocGVycHggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnB5ICogb3V0ZXJXZWlnaHQpKTsgLy8gZmlyc3Qgc2VnbWVudCdzIG91dGVyIHZlcnRleFxuICAgICAgICAgICAgaWYgKHN0eWxlLmpvaW4gPT09IExJTkVfSk9JTi5CRVZFTCB8fCBwZGlzdCAvIHdpZHRoU3F1YXJlZCA+IG1pdGVyTGltaXRTcXVhcmVkKSA7XG4gICAgICAgICAgICBlbHNlIGlmIChzdHlsZS5qb2luID09PSBMSU5FX0pPSU4uUk9VTkQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvY2t3aXNlKSAvKiBhcmMgaXMgb3V0c2lkZSAqLyB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gcm91bmQoeDEsIHkxLCB4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCksIHgxICsgKHBlcnAxeCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycDF5ICogb3V0ZXJXZWlnaHQpLCB2ZXJ0cywgdHJ1ZSkgKyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIC8qIGFyYyBpcyBpbnNpZGUgKi8ge1xuICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50ICs9IHJvdW5kKHgxLCB5MSwgeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLCB4MSAtIChwZXJwMXggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnAxeSAqIGlubmVyV2VpZ2h0KSwgdmVydHMsIGZhbHNlKSArIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb2Nrd2lzZSkge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKG9teCwgb215KTsgLy8gaW5uZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChvbXgsIG9teSk7IC8vIGlubmVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0cy5wdXNoKGlteCwgaW15KTsgLy8gb3V0ZXIgbWl0ZXIgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChpbXgsIGlteSk7IC8vIG91dGVyIG1pdGVyIHBvaW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4Q291bnQgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZlcnRzLnB1c2goeDEgLSAocGVycDF4ICogaW5uZXJXZWlnaHQpLCB5MSAtIChwZXJwMXkgKiBpbm5lcldlaWdodCkpOyAvLyBzZWNvbmQgc2VnbWVudCdzIGlubmVyIHZlcnRleFxuICAgICAgICAgICAgdmVydHMucHVzaCh4MSArIChwZXJwMXggKiBvdXRlcldlaWdodCksIHkxICsgKHBlcnAxeSAqIG91dGVyV2VpZ2h0KSk7IC8vIHNlY29uZCBzZWdtZW50J3Mgb3V0ZXIgdmVydGV4XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IDI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeDAgPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMl07XG4gICAgeTAgPSBwb2ludHNbKChsZW5ndGggLSAyKSAqIDIpICsgMV07XG4gICAgeDEgPSBwb2ludHNbKGxlbmd0aCAtIDEpICogMl07XG4gICAgeTEgPSBwb2ludHNbKChsZW5ndGggLSAxKSAqIDIpICsgMV07XG4gICAgcGVycHggPSAtKHkwIC0geTEpO1xuICAgIHBlcnB5ID0geDAgLSB4MTtcbiAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuICAgIHZlcnRzLnB1c2goeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpKTtcbiAgICB2ZXJ0cy5wdXNoKHgxICsgKHBlcnB4ICogb3V0ZXJXZWlnaHQpLCB5MSArIChwZXJweSAqIG91dGVyV2VpZ2h0KSk7XG4gICAgaWYgKCFjbG9zZWRTaGFwZSkge1xuICAgICAgICBpZiAoc3R5bGUuY2FwID09PSBMSU5FX0NBUC5ST1VORCkge1xuICAgICAgICAgICAgaW5kZXhDb3VudCArPSByb3VuZCh4MSAtIChwZXJweCAqIChpbm5lcldlaWdodCAtIG91dGVyV2VpZ2h0KSAqIDAuNSksIHkxIC0gKHBlcnB5ICogKGlubmVyV2VpZ2h0IC0gb3V0ZXJXZWlnaHQpICogMC41KSwgeDEgLSAocGVycHggKiBpbm5lcldlaWdodCksIHkxIC0gKHBlcnB5ICogaW5uZXJXZWlnaHQpLCB4MSArIChwZXJweCAqIG91dGVyV2VpZ2h0KSwgeTEgKyAocGVycHkgKiBvdXRlcldlaWdodCksIHZlcnRzLCBmYWxzZSkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmNhcCA9PT0gTElORV9DQVAuU1FVQVJFKSB7XG4gICAgICAgICAgICBpbmRleENvdW50ICs9IHNxdWFyZSh4MSwgeTEsIHBlcnB4LCBwZXJweSwgaW5uZXJXZWlnaHQsIG91dGVyV2VpZ2h0LCBmYWxzZSwgdmVydHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgIHZhciBlcHMyID0gR1JBUEhJQ1NfQ1VSVkVTLmVwc2lsb24gKiBHUkFQSElDU19DVVJWRVMuZXBzaWxvbjtcbiAgICAvLyBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCk7XG4gICAgZm9yICh2YXIgaSA9IGluZGV4U3RhcnQ7IGkgPCBpbmRleENvdW50ICsgaW5kZXhTdGFydCAtIDI7ICsraSkge1xuICAgICAgICB4MCA9IHZlcnRzWyhpICogMildO1xuICAgICAgICB5MCA9IHZlcnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgeDEgPSB2ZXJ0c1soaSArIDEpICogMl07XG4gICAgICAgIHkxID0gdmVydHNbKChpICsgMSkgKiAyKSArIDFdO1xuICAgICAgICB4MiA9IHZlcnRzWyhpICsgMikgKiAyXTtcbiAgICAgICAgeTIgPSB2ZXJ0c1soKGkgKyAyKSAqIDIpICsgMV07XG4gICAgICAgIC8qIFNraXAgemVybyBhcmVhIHRyaWFuZ2xlcyAqL1xuICAgICAgICBpZiAoTWF0aC5hYnMoKHgwICogKHkxIC0geTIpKSArICh4MSAqICh5MiAtIHkwKSkgKyAoeDIgKiAoeTAgLSB5MSkpKSA8IGVwczIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZGljZXMucHVzaChpLCBpICsgMSwgaSArIDIpO1xuICAgIH1cbn1cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTKSBtZXRob2RcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHM7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgIHsgcmV0dXJuOyB9XG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBzdGFydEluZGV4ID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgY3VycmVudEluZGV4ID0gc3RhcnRJbmRleDtcbiAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbaSAqIDJdLCBwb2ludHNbKGkgKiAyKSArIDFdKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgY3VycmVudEluZGV4ICsgMSk7XG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgIH1cbiAgICBpZiAoY2xvc2VkU2hhcGUpIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgc3RhcnRJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KSB7XG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lU3R5bGUubmF0aXZlKSB7XG4gICAgICAgIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSk7XG4gICAgfVxufVxuXG4vKipcbiAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlBvbHlnb25cbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gKi9cbnZhciBTdGFyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGFyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gPT09IHZvaWQgMCkgeyByb3RhdGlvbiA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaW5uZXJSYWRpdXMgPSBpbm5lclJhZGl1cyB8fCByYWRpdXMgLyAyO1xuICAgICAgICB2YXIgc3RhcnRBbmdsZSA9ICgtMSAqIE1hdGguUEkgLyAyKSArIHJvdGF0aW9uO1xuICAgICAgICB2YXIgbGVuID0gcG9pbnRzICogMjtcbiAgICAgICAgdmFyIGRlbHRhID0gUElfMiAvIGxlbjtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA/IGlubmVyUmFkaXVzIDogcmFkaXVzO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gKGkgKiBkZWx0YSkgKyBzdGFydEFuZ2xlO1xuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHggKyAociAqIE1hdGguY29zKGFuZ2xlKSksIHkgKyAociAqIE1hdGguc2luKGFuZ2xlKSkpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9seWdvbikgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU3Rhcjtcbn0oUG9seWdvbikpO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgYXJjIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQXJjVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXJjVXRpbHMoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IElmIHRoZSBhcmMgbGVuZ3RoIGlzIHZhbGlkLCByZXR1cm4gY2VudGVyIG9mIGNpcmNsZSwgcmFkaXVzIGFuZCBvdGhlciBpbmZvIG90aGVyd2lzZSBgbnVsbGAuXG4gICAgICovXG4gICAgQXJjVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uICh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIGExID0gZnJvbVkgLSB5MTtcbiAgICAgICAgdmFyIGIxID0gZnJvbVggLSB4MTtcbiAgICAgICAgdmFyIGEyID0geTIgLSB5MTtcbiAgICAgICAgdmFyIGIyID0geDIgLSB4MTtcbiAgICAgICAgdmFyIG1tID0gTWF0aC5hYnMoKGExICogYjIpIC0gKGIxICogYTIpKTtcbiAgICAgICAgaWYgKG1tIDwgMS4wZS04IHx8IHJhZGl1cyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goeDEsIHkxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZCA9IChhMSAqIGExKSArIChiMSAqIGIxKTtcbiAgICAgICAgdmFyIGNjID0gKGEyICogYTIpICsgKGIyICogYjIpO1xuICAgICAgICB2YXIgdHQgPSAoYTEgKiBhMikgKyAoYjEgKiBiMik7XG4gICAgICAgIHZhciBrMSA9IHJhZGl1cyAqIE1hdGguc3FydChkZCkgLyBtbTtcbiAgICAgICAgdmFyIGsyID0gcmFkaXVzICogTWF0aC5zcXJ0KGNjKSAvIG1tO1xuICAgICAgICB2YXIgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgICAgIHZhciBqMiA9IGsyICogdHQgLyBjYztcbiAgICAgICAgdmFyIGN4ID0gKGsxICogYjIpICsgKGsyICogYjEpO1xuICAgICAgICB2YXIgY3kgPSAoazEgKiBhMikgKyAoazIgKiBhMSk7XG4gICAgICAgIHZhciBweCA9IGIxICogKGsyICsgajEpO1xuICAgICAgICB2YXIgcHkgPSBhMSAqIChrMiArIGoxKTtcbiAgICAgICAgdmFyIHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgICAgIHZhciBxeSA9IGEyICogKGsxICsgajIpO1xuICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIocHkgLSBjeSwgcHggLSBjeCk7XG4gICAgICAgIHZhciBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjeDogKGN4ICsgeDEpLFxuICAgICAgICAgICAgY3k6IChjeSArIHkxKSxcbiAgICAgICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgICAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZSxcbiAgICAgICAgICAgIGFudGljbG9ja3dpc2U6IChiMSAqIGEyID4gYjIgKiBhMSksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRYIC0gU3RhcnQgeCBsb2NhdGlvbiBvZiBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIC0gU3RhcnQgeSBsb2NhdGlvbiBvZiBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhbnRpY2xvY2t3aXNlIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIENvbGxlY3Rpb24gb2YgcG9pbnRzIHRvIGFkZCB0b1xuICAgICAqL1xuICAgIEFyY1V0aWxzLmFyYyA9IGZ1bmN0aW9uIChfc3RhcnRYLCBfc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIF9hbnRpY2xvY2t3aXNlLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChNYXRoLmFicyhzd2VlcCkgKiByYWRpdXMsIE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBQSV8yKSAqIDQwKTtcbiAgICAgICAgdmFyIHRoZXRhID0gKHN3ZWVwKSAvIChuICogMik7XG4gICAgICAgIHZhciB0aGV0YTIgPSB0aGV0YSAqIDI7XG4gICAgICAgIHZhciBjVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgIHZhciBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG4gICAgICAgIHZhciBzZWdNaW51cyA9IG4gLSAxO1xuICAgICAgICB2YXIgcmVtYWluZGVyID0gKHNlZ01pbnVzICUgMSkgLyBzZWdNaW51cztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2VnTWludXM7ICsraSkge1xuICAgICAgICAgICAgdmFyIHJlYWwgPSBpICsgKHJlbWFpbmRlciAqIGkpO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gKCh0aGV0YSkgKyBzdGFydEFuZ2xlICsgKHRoZXRhMiAqIHJlYWwpKTtcbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgdmFyIHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goKCgoY1RoZXRhICogYykgKyAoc1RoZXRhICogcykpICogcmFkaXVzKSArIGN4LCAoKChjVGhldGEgKiAtcykgKyAoc1RoZXRhICogYykpICogcmFkaXVzKSArIGN5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFyY1V0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGJlemllciBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEJlemllclV0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJlemllclV0aWxzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGVuZ3RoIG9mIGJlemllciBjdXJ2ZS5cbiAgICAgKiBBbmFseXRpY2FsIHNvbHV0aW9uIGlzIGltcG9zc2libGUsIHNpbmNlIGl0IGludm9sdmVzIGFuIGludGVncmFsIHRoYXQgZG9lcyBub3QgaW50ZWdyYXRlIGluIGdlbmVyYWwuXG4gICAgICogVGhlcmVmb3JlIG51bWVyaWNhbCBzb2x1dGlvbiBpcyB1c2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBTdGFydGluZyBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gU3RhcnRpbmcgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIGJlemllciBjdXJ2ZVxuICAgICAqL1xuICAgIEJlemllclV0aWxzLmN1cnZlTGVuZ3RoID0gZnVuY3Rpb24gKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgICAgIHZhciBuID0gMTA7XG4gICAgICAgIHZhciByZXN1bHQgPSAwLjA7XG4gICAgICAgIHZhciB0ID0gMC4wO1xuICAgICAgICB2YXIgdDIgPSAwLjA7XG4gICAgICAgIHZhciB0MyA9IDAuMDtcbiAgICAgICAgdmFyIG50ID0gMC4wO1xuICAgICAgICB2YXIgbnQyID0gMC4wO1xuICAgICAgICB2YXIgbnQzID0gMC4wO1xuICAgICAgICB2YXIgeCA9IDAuMDtcbiAgICAgICAgdmFyIHkgPSAwLjA7XG4gICAgICAgIHZhciBkeCA9IDAuMDtcbiAgICAgICAgdmFyIGR5ID0gMC4wO1xuICAgICAgICB2YXIgcHJldlggPSBmcm9tWDtcbiAgICAgICAgdmFyIHByZXZZID0gZnJvbVk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgdCA9IGkgLyBuO1xuICAgICAgICAgICAgdDIgPSB0ICogdDtcbiAgICAgICAgICAgIHQzID0gdDIgKiB0O1xuICAgICAgICAgICAgbnQgPSAoMS4wIC0gdCk7XG4gICAgICAgICAgICBudDIgPSBudCAqIG50O1xuICAgICAgICAgICAgbnQzID0gbnQyICogbnQ7XG4gICAgICAgICAgICB4ID0gKG50MyAqIGZyb21YKSArICgzLjAgKiBudDIgKiB0ICogY3BYKSArICgzLjAgKiBudCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpO1xuICAgICAgICAgICAgeSA9IChudDMgKiBmcm9tWSkgKyAoMy4wICogbnQyICogdCAqIGNwWSkgKyAoMyAqIG50ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSk7XG4gICAgICAgICAgICBkeCA9IHByZXZYIC0geDtcbiAgICAgICAgICAgIGR5ID0gcHJldlkgLSB5O1xuICAgICAgICAgICAgcHJldlggPSB4O1xuICAgICAgICAgICAgcHJldlkgPSB5O1xuICAgICAgICAgICAgcmVzdWx0ICs9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAgICAgKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQYXRoIGFycmF5IHRvIHB1c2ggcG9pbnRzIGludG9cbiAgICAgKi9cbiAgICBCZXppZXJVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgcG9pbnRzKSB7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHBvaW50cy5sZW5ndGggLT0gMjtcbiAgICAgICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoQmV6aWVyVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpKTtcbiAgICAgICAgdmFyIGR0ID0gMDtcbiAgICAgICAgdmFyIGR0MiA9IDA7XG4gICAgICAgIHZhciBkdDMgPSAwO1xuICAgICAgICB2YXIgdDIgPSAwO1xuICAgICAgICB2YXIgdDMgPSAwO1xuICAgICAgICBwb2ludHMucHVzaChmcm9tWCwgZnJvbVkpO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgaiA9IDA7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICBqID0gaSAvIG47XG4gICAgICAgICAgICBkdCA9ICgxIC0gaik7XG4gICAgICAgICAgICBkdDIgPSBkdCAqIGR0O1xuICAgICAgICAgICAgZHQzID0gZHQyICogZHQ7XG4gICAgICAgICAgICB0MiA9IGogKiBqO1xuICAgICAgICAgICAgdDMgPSB0MiAqIGo7XG4gICAgICAgICAgICBwb2ludHMucHVzaCgoZHQzICogZnJvbVgpICsgKDMgKiBkdDIgKiBqICogY3BYKSArICgzICogZHQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKSwgKGR0MyAqIGZyb21ZKSArICgzICogZHQyICogaiAqIGNwWSkgKyAoMyAqIGR0ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQmV6aWVyVXRpbHM7XG59KCkpO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgcXVhZHJhdGljIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUXVhZHJhdGljVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVhZHJhdGljVXRpbHMoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy5tYWxjemFrLmxpbnV4cGwuY29tL2Jsb2cvcXVhZHJhdGljLWJlemllci1jdXJ2ZS1sZW5ndGgvfVxuICAgICAqIGZvciB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb2YgbWF0aCBiZWhpbmQgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqL1xuICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoID0gZnVuY3Rpb24gKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgICAgIHZhciBheCA9IGZyb21YIC0gKDIuMCAqIGNwWCkgKyB0b1g7XG4gICAgICAgIHZhciBheSA9IGZyb21ZIC0gKDIuMCAqIGNwWSkgKyB0b1k7XG4gICAgICAgIHZhciBieCA9ICgyLjAgKiBjcFgpIC0gKDIuMCAqIGZyb21YKTtcbiAgICAgICAgdmFyIGJ5ID0gKDIuMCAqIGNwWSkgLSAoMi4wICogZnJvbVkpO1xuICAgICAgICB2YXIgYSA9IDQuMCAqICgoYXggKiBheCkgKyAoYXkgKiBheSkpO1xuICAgICAgICB2YXIgYiA9IDQuMCAqICgoYXggKiBieCkgKyAoYXkgKiBieSkpO1xuICAgICAgICB2YXIgYyA9IChieCAqIGJ4KSArIChieSAqIGJ5KTtcbiAgICAgICAgdmFyIHMgPSAyLjAgKiBNYXRoLnNxcnQoYSArIGIgKyBjKTtcbiAgICAgICAgdmFyIGEyID0gTWF0aC5zcXJ0KGEpO1xuICAgICAgICB2YXIgYTMyID0gMi4wICogYSAqIGEyO1xuICAgICAgICB2YXIgYzIgPSAyLjAgKiBNYXRoLnNxcnQoYyk7XG4gICAgICAgIHZhciBiYSA9IGIgLyBhMjtcbiAgICAgICAgcmV0dXJuICgoYTMyICogcylcbiAgICAgICAgICAgICsgKGEyICogYiAqIChzIC0gYzIpKVxuICAgICAgICAgICAgKyAoKCg0LjAgKiBjICogYSkgLSAoYiAqIGIpKVxuICAgICAgICAgICAgICAgICogTWF0aC5sb2coKCgyLjAgKiBhMikgKyBiYSArIHMpIC8gKGJhICsgYzIpKSkpIC8gKDQuMCAqIGEzMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUG9pbnRzIHRvIGFkZCBzZWdtZW50cyB0by5cbiAgICAgKi9cbiAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKSB7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSk7XG4gICAgICAgIHZhciB4YSA9IDA7XG4gICAgICAgIHZhciB5YSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSkge1xuICAgICAgICAgICAgdmFyIGogPSBpIC8gbjtcbiAgICAgICAgICAgIHhhID0gZnJvbVggKyAoKGNwWCAtIGZyb21YKSAqIGopO1xuICAgICAgICAgICAgeWEgPSBmcm9tWSArICgoY3BZIC0gZnJvbVkpICogaik7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4YSArICgoKGNwWCArICgodG9YIC0gY3BYKSAqIGopKSAtIHhhKSAqIGopLCB5YSArICgoKGNwWSArICgodG9ZIC0gY3BZKSAqIGopKSAtIHlhKSAqIGopKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFF1YWRyYXRpY1V0aWxzO1xufSgpKTtcblxuLyoqXG4gKiBBIHN0cnVjdHVyZSB0byBob2xkIGludGVyaW0gYmF0Y2ggb2JqZWN0cyBmb3IgR3JhcGhpY3MuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqL1xudmFyIEJhdGNoUGFydCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFBhcnQoKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmVnaW4gYmF0Y2ggcGFydFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF0dHJpYlN0YXJ0XG4gICAgICovXG4gICAgQmF0Y2hQYXJ0LnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uIChzdHlsZSwgc3RhcnRJbmRleCwgYXR0cmliU3RhcnQpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydEluZGV4O1xuICAgICAgICB0aGlzLmF0dHJpYlN0YXJ0ID0gYXR0cmliU3RhcnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmQgYmF0Y2ggcGFydFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEF0dHJpYlxuICAgICAqL1xuICAgIEJhdGNoUGFydC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGVuZEluZGV4LCBlbmRBdHRyaWIpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJTaXplID0gZW5kQXR0cmliIC0gdGhpcy5hdHRyaWJTdGFydDtcbiAgICAgICAgdGhpcy5zaXplID0gZW5kSW5kZXggLSB0aGlzLnN0YXJ0O1xuICAgIH07XG4gICAgQmF0Y2hQYXJ0LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgICAgICB0aGlzLmF0dHJpYlN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5hdHRyaWJTaXplID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBCYXRjaFBhcnQ7XG59KCkpO1xuXG4vKipcbiAqIEdlbmVyYWxpemVkIGNvbnZlbmllbmNlIHV0aWxpdGllcyBmb3IgR3JhcGhpY3MuXG4gKlxuICogQG5hbWVzcGFjZSBncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgX2E7XG4vKipcbiAqIE1hcCBvZiBmaWxsIGNvbW1hbmRzIGZvciBlYWNoIHNoYXBlIHR5cGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICogQG1lbWJlciB7T2JqZWN0fSBGSUxMX0NPTU1BTkRTXG4gKi9cbnZhciBGSUxMX0NPTU1BTkRTID0gKF9hID0ge30sXG4gICAgX2FbU0hBUEVTLlBPTFldID0gYnVpbGRQb2x5LFxuICAgIF9hW1NIQVBFUy5DSVJDXSA9IGJ1aWxkQ2lyY2xlLFxuICAgIF9hW1NIQVBFUy5FTElQXSA9IGJ1aWxkQ2lyY2xlLFxuICAgIF9hW1NIQVBFUy5SRUNUXSA9IGJ1aWxkUmVjdGFuZ2xlLFxuICAgIF9hW1NIQVBFUy5SUkVDXSA9IGJ1aWxkUm91bmRlZFJlY3RhbmdsZSxcbiAgICBfYSk7XG4vKipcbiAqIEJhdGNoIHBvb2wsIHN0b3JlcyB1bnVzZWQgYmF0Y2hlcyBmb3IgcHJldmVudGluZyBhbGxvY2F0aW9ucy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5ncmFwaGljc1V0aWxzXG4gKiBAbWVtYmVyIHtBcnJheTxQSVhJLmdyYXBoaWNzVXRpbHMuQmF0Y2hQYXJ0Pn0gQkFUQ0hfUE9PTFxuICovXG52YXIgQkFUQ0hfUE9PTCA9IFtdO1xuLyoqXG4gKiBEcmF3IGNhbGwgcG9vbCwgc3RvcmVzIHVudXNlZCBkcmF3IGNhbGxzIGZvciBwcmV2ZW50aW5nIGFsbG9jYXRpb25zLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLmdyYXBoaWNzVXRpbHNcbiAqIEBtZW1iZXIge0FycmF5PFBJWEkuQmF0Y2hEcmF3Q2FsbD59IERSQVdfQ0FMTF9QT09MXG4gKi9cbnZhciBEUkFXX0NBTExfUE9PTCA9IFtdO1xuXG52YXIgaW5kZXggPSAoe1xuICAgIGJ1aWxkUG9seTogYnVpbGRQb2x5LFxuICAgIGJ1aWxkQ2lyY2xlOiBidWlsZENpcmNsZSxcbiAgICBidWlsZFJlY3RhbmdsZTogYnVpbGRSZWN0YW5nbGUsXG4gICAgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlOiBidWlsZFJvdW5kZWRSZWN0YW5nbGUsXG4gICAgRklMTF9DT01NQU5EUzogRklMTF9DT01NQU5EUyxcbiAgICBCQVRDSF9QT09MOiBCQVRDSF9QT09MLFxuICAgIERSQVdfQ0FMTF9QT09MOiBEUkFXX0NBTExfUE9PTCxcbiAgICBidWlsZExpbmU6IGJ1aWxkTGluZSxcbiAgICBTdGFyOiBTdGFyLFxuICAgIEFyY1V0aWxzOiBBcmNVdGlscyxcbiAgICBCZXppZXJVdGlsczogQmV6aWVyVXRpbHMsXG4gICAgUXVhZHJhdGljVXRpbHM6IFF1YWRyYXRpY1V0aWxzLFxuICAgIEJhdGNoUGFydDogQmF0Y2hQYXJ0XG59KTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbnRhaW4gZGF0YSB1c2VmdWwgZm9yIEdyYXBoaWNzIG9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0RhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlfSBbZmlsbFN0eWxlXSAtIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gW2xpbmVTdHlsZV0gLSB0aGUgY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXhdIC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCkge1xuICAgICAgICBpZiAoZmlsbFN0eWxlID09PSB2b2lkIDApIHsgZmlsbFN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobGluZVN0eWxlID09PSB2b2lkIDApIHsgbGluZVN0eWxlID0gbnVsbDsgfVxuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgbGluZS5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVTdHlsZSA9IGxpbmVTdHlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlLCBzZWUgdGhlIENvbnN0LlNoYXBlcyBmaWxlIGZvciBhbGwgdGhlIGV4aXN0aW5nIHR5cGVzLFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgcG9pbnRzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBob2xlcy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaG9sZXMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljc0RhdGEgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gICAgICovXG4gICAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljc0RhdGEodGhpcy5zaGFwZSwgdGhpcy5maWxsU3R5bGUsIHRoaXMubGluZVN0eWxlLCB0aGlzLm1hdHJpeCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3MgZGF0YS5cbiAgICAgKlxuICAgICAqL1xuICAgIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaG9sZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR3JhcGhpY3NEYXRhO1xufSgpKTtcblxudmFyIHRtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdG1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogR3JhcGhpY3NHZW9tZXRyeSBpcyBkZXNpZ25lZCB0byBub3QgYmUgY29udGludWFsbHkgdXBkYXRpbmcgdGhlIGdlb21ldHJ5IHNpbmNlIGl0J3MgZXhwZW5zaXZlXG4gKiB0byByZS10ZXNzZWxhdGUgdXNpbmcgKiplYXJjdXQqKi4gQ29uc2lkZXIgdXNpbmcge0BsaW5rIFBJWEkuTWVzaH0gZm9yIHRoaXMgdXNlLWNhc2UsIGl0J3MgbXVjaCBmYXN0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhdGNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0dlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHcmFwaGljc0dlb21ldHJ5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzR2VvbWV0cnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnV2c0Zsb2F0MzIgPSBudWxsO1xuICAgICAgICBfdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0byBkcmF3LCAyIG51bWJlcnMgcGVyIHBvaW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wb2ludHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGNvbG9yc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29sb3JzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVVZzIGNvbGxlY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgSURzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUlkcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgZHJhd24gc2hhcGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBncmFwaGljcyBvYmplY3QgaGFzIGNoYW5nZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlcyBuZWVkIHRvIHJlZ2VuZXJhdGVkIGlmIHRoZSBnZW9tZXRyeSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgdGhlIGNhY2hlIGlzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhY2hlRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIGNsZWFyZWQgdGhlIGdyYXBoaWNzRGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsZWFyRGlydHkgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBjdXJyZW50IGRyYXcgY2FsbHMgZHJpdmVkIGZyb20gdGhlIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kcmF3Q2FsbHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybWVkaWF0ZSBhYnN0cmFjdCBmb3JtYXQgc2VudCB0byBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIENhbiBiZSBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzIG9yIHRvIGJhdGNoYWJsZSBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmdyYXBoaWNzVXRpbHMuQmF0Y2hQYXJ0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IG9mIHRoZSBsYXN0IGJhdGNoZWQgc2hhcGUgaW4gdGhlIHN0YWNrIG9mIGNhbGxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNoYXBlSW5kZXggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIGJvdW5kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIGRpcnR5IGZsYWcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgdG8gYWRkIHRvIHRoZSBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzUGFkZGluZyA9IDA7XG4gICAgICAgIF90aGlzLmJhdGNoYWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcbiAgICAgICAgX3RoaXMudXZzRmxvYXQzMiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pbWFsIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIHRoYXQgYXJlIGNvbnNpZGVyZWQgZGlmZmVyZW50LlxuICAgICAgICAgKiBBZmZlY3RzIGxpbmUgdGVzc2VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsb3NlUG9pbnRFcHMgPSAxZS00O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZSwgXCJib3VuZHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBnZW9tZXRyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2FsbCBpZiB5b3UgY2hhbmdlZCBncmFwaGljc0RhdGEgbWFudWFsbHkuXG4gICAgICogRW1wdGllcyBhbGwgYmF0Y2ggYnVmZmVycy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMubGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgYmF0Y2hQYXJ0LnJlc2V0KCk7XG4gICAgICAgICAgICBCQVRDSF9QT09MLnB1c2goYmF0Y2hQYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFRoaXMgR3JhcGhpY3NHZW9tZXRyeSBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGV9IGZpbGxTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGZpbGwuXG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gbGluZVN0eWxlIC0gRGVmaW5lcyBzdHlsZSBvZiB0aGUgbGluZXMuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbiAoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpIHtcbiAgICAgICAgaWYgKGZpbGxTdHlsZSA9PT0gdm9pZCAwKSB7IGZpbGxTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKGxpbmVTdHlsZSA9PT0gdm9pZCAwKSB7IGxpbmVTdHlsZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKG1hdHJpeCA9PT0gdm9pZCAwKSB7IG1hdHJpeCA9IG51bGw7IH1cbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KTtcbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kcmF3SG9sZSA9IGZ1bmN0aW9uIChzaGFwZSwgbWF0cml4KSB7XG4gICAgICAgIGlmIChtYXRyaXggPT09IHZvaWQgMCkgeyBtYXRyaXggPSBudWxsOyB9XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIG51bGwsIG51bGwsIG1hdHJpeCk7XG4gICAgICAgIHZhciBsYXN0U2hhcGUgPSB0aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcbiAgICAgICAgZGF0YS5saW5lU3R5bGUgPSBsYXN0U2hhcGUubGluZVN0eWxlO1xuICAgICAgICBsYXN0U2hhcGUuaG9sZXMucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljc0dlb21ldHJ5IG9iamVjdC5cbiAgICAgKlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBkZXN0cm95IGVhY2ggb2YgdGhlIEdyYXBoaWNzRGF0YSBvYmplY3RzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgYSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSBQb2ludCB0byBjaGVjayBpZiBpdCdzIGNvbnRhaW5lZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gZ2VvbWV0cnkuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB2YXIgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIGlmICghZGF0YS5maWxsU3R5bGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSBkZWFsIHdpdGggZmlsbHMuLlxuICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5tYXRyaXguYXBwbHlJbnZlcnNlKHBvaW50LCB0bXBQb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0bXBQb2ludC5jb3B5RnJvbShwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoaXRIb2xlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhvbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwOyBpXzEgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGRhdGEuaG9sZXNbaV8xXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9sZS5zaGFwZS5jb250YWlucyh0bXBQb2ludC54LCB0bXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRIb2xlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGl0SG9sZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGludGVybWVkaWF0ZSBiYXRjaCBkYXRhLiBFaXRoZXIgZ2V0cyBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzXG4gICAgICogb3IgdXNlZCB0byBjb252ZXJ0IHRvIGJhdGNoIG9iamVjdHMgZGlyZWN0bHkgYnkgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Fsb293MzJJbmRpY2VzXSAtIEFsbG93IHVzaW5nIDMyLWJpdCBpbmRpY2VzIGZvciBwcmV2ZW50aW5ncyBhcnRlZmFjdHMgd2hlbiBtb3JlIHRoYXQgNjU1MzUgdmVydGljZXNcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVCYXRjaGVzID0gZnVuY3Rpb24gKGFsbG93MzJJbmRpY2VzKSB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQmF0Y2hpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGVEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnRTdHlsZSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IGJhdGNoUGFydC5zdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5zaGFwZUluZGV4OyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXBlSW5kZXgrKztcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIGZpbGxTdHlsZSA9IGRhdGEuZmlsbFN0eWxlO1xuICAgICAgICAgICAgdmFyIGxpbmVTdHlsZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG4gICAgICAgICAgICAvLyBidWlsZCBvdXQgdGhlIHNoYXBlcyBwb2ludHMuLlxuICAgICAgICAgICAgY29tbWFuZC5idWlsZChkYXRhKTtcbiAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGRhdGEucG9pbnRzLCBkYXRhLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDI7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IChqID09PSAwKSA/IGZpbGxTdHlsZSA6IGxpbmVTdHlsZTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0eWxlLnZpc2libGUpXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleF8xID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmliSW5kZXggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRmlsbChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0xpbmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gKHRoaXMucG9pbnRzLmxlbmd0aCAvIDIpIC0gYXR0cmliSW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAvLyBjbG9zZSBiYXRjaCBpZiBzdHlsZSBpcyBkaWZmZXJlbnRcbiAgICAgICAgICAgICAgICBpZiAoYmF0Y2hQYXJ0ICYmICF0aGlzLl9jb21wYXJlU3R5bGVzKGN1cnJlbnRTdHlsZSwgc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5lbmQoaW5kZXhfMSwgYXR0cmliSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzcGF3biBuZXcgYmF0Y2ggaWYgaXRzIGZpcnN0IGJhdGNoIG9yIHByZXZpb3VzIHdhcyBjbG9zZWRcbiAgICAgICAgICAgICAgICBpZiAoIWJhdGNoUGFydCkge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBCQVRDSF9QT09MLnBvcCgpIHx8IG5ldyBCYXRjaFBhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmJlZ2luKHN0eWxlLCBpbmRleF8xLCBhdHRyaWJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlcy5wdXNoKGJhdGNoUGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IHN0eWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkZFV2cyh0aGlzLnBvaW50cywgdXZzLCBzdHlsZS50ZXh0dXJlLCBhdHRyaWJJbmRleCwgc2l6ZSwgc3R5bGUubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICAgICAgaWYgKGJhdGNoUGFydCkge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0LmVuZChpbmRleCwgYXR0cmliKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gdGhlcmUgYXJlIG5vIHZpc2libGUgc3R5bGVzIGluIEdyYXBoaWNzRGF0YVxuICAgICAgICAgICAgLy8gaXRzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSB3YW50cyBHcmFwaGljcyBqdXN0IGZvciB0aGUgYm91bmRzXG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJldmVudCBhbGxvY2F0aW9uIHdoZW4gbGVuZ3RoIGlzIHNhbWUgYXMgYnVmZmVyXG4gICAgICAgIGlmICh0aGlzLmluZGljZXNVaW50MTYgJiYgdGhpcy5pbmRpY2VzLmxlbmd0aCA9PT0gdGhpcy5pbmRpY2VzVWludDE2Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2LnNldCh0aGlzLmluZGljZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG5lZWQzMiA9IGF0dHJpYiA+IDB4ZmZmZiAmJiBhbGxvdzMySW5kaWNlcztcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG5lZWQzMiA/IG5ldyBVaW50MzJBcnJheSh0aGlzLmluZGljZXMpIDogbmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyBtYWtlIHRoaXMgYSBjb25zdC4uXG4gICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdGhpcy5pc0JhdGNoYWJsZSgpO1xuICAgICAgICBpZiAodGhpcy5iYXRjaGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucGFja0JhdGNoZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWZmaW5pdHkgY2hlY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGUgfCBQSVhJLkxpbmVTdHlsZX0gc3R5bGVBXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZSB8IFBJWEkuTGluZVN0eWxlfSBzdHlsZUJcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5fY29tcGFyZVN0eWxlcyA9IGZ1bmN0aW9uIChzdHlsZUEsIHN0eWxlQikge1xuICAgICAgICBpZiAoIXN0eWxlQSB8fCAhc3R5bGVCKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlQS50ZXh0dXJlLmJhc2VUZXh0dXJlICE9PSBzdHlsZUIudGV4dHVyZS5iYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZUEuY29sb3IgKyBzdHlsZUEuYWxwaGEgIT09IHN0eWxlQi5jb2xvciArIHN0eWxlQi5hbHBoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIXN0eWxlQS5uYXRpdmUgIT09ICEhc3R5bGVCLm5hdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBnZW9tZXRyeSBmb3IgYmF0Y2hpbmcgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS52YWxpZGF0ZUJhdGNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSA9PT0gdGhpcy5jYWNoZURpcnR5IHx8ICF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBmaWxsID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICAgICAgICB2YXIgbGluZSA9IGRhdGEubGluZVN0eWxlO1xuICAgICAgICAgICAgaWYgKGZpbGwgJiYgIWZpbGwudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgICAgICB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgaWYgKGxpbmUgJiYgIWxpbmUudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgICAgICB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT2Zmc2V0IHRoZSBpbmRpY2VzIHNvIHRoYXQgaXQgd29ya3Mgd2l0aCB0aGUgYmF0Y2hlci5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wYWNrQmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy51dnMpO1xuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBiYXRjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmF0Y2guc2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmF0Y2guc3RhcnQgKyBqO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gPSB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdIC0gYmF0Y2guYXR0cmliU3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgdGhpcyBncmFwaGljcyBnZW9tZXRyeSBjYW4gYmUgYmF0Y2hlZC5cbiAgICAgKiBDdXJyZW50bHkgaXQgbmVlZHMgdG8gYmUgc21hbGwgZW5vdWdoIGFuZCBub3QgY29udGFpbiBhbnkgbmF0aXZlIGxpbmVzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmlzQmF0Y2hhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBwcmV2ZW50IGhlYXZ5IG1lc2ggYmF0Y2hpbmdcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzLmxlbmd0aCA+IDB4ZmZmZiAqIDIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hlc1tpXS5zdHlsZS5uYXRpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLnBvaW50cy5sZW5ndGggPCBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFICogMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBpbnRlcm1lZGlhdGUgYmF0Y2hlcyBkYXRhIHRvIGRyYXdDYWxscy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5idWlsZERyYXdDYWxscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG4gICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICAgICAgaWYgKCFjdXJyZW50R3JvdXApIHtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gMDtcbiAgICAgICAgdmFyIG5hdGl2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAvLyBUT0RPIC0gdGhpcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmJhdGNoZXNbaV07XG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzb21lIGZ1bGwgb24gTUFYX1RFWFRVUkUgQ09ERS4uXG4gICAgICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gODtcbiAgICAgICAgICAgIC8vIEZvcmNlZCBjYXN0IGZvciBjaGVja2luZyBgbmF0aXZlYCB3aXRob3V0IGVycm9yc1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gZGF0YS5zdHlsZTtcbiAgICAgICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAobmF0aXZlICE9PSAhIXN0eWxlLm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZSA9ICEhc3R5bGUubmF0aXZlO1xuICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gbmF0aXZlID8gRFJBV19NT0RFUy5MSU5FUyA6IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50VGV4dHVyZSAhPT0gbmV4dFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkICE9PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IE1BWF9URVhUVVJFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50R3JvdXAuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkgPSBuZXcgQmF0Y2hUZXh0dXJlQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4QXJyYXkuY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnR5cGUgPSBkcmF3TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGFkZCB0aGlzIHRvIHRoZSByZW5kZXIgcGFydC4uXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhY2shIEJlY2F1c2UgdGV4dHVyZSBoYXMgcHJvdGVjdGVkIGB0b3VjaGVkYFxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gMTsgLy8gdG91Y2g7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hMb2NhdGlvbiA9IHRleHR1cmVDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUud3JhcE1vZGUgPSAxMDQ5NztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleEFycmF5LmVsZW1lbnRzW2N1cnJlbnRHcm91cC50ZXhBcnJheS5jb3VudCsrXSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICBpbmRleCArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICB0ZXh0dXJlSWQgPSBuZXh0VGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29sb3JzKGNvbG9ycywgc3R5bGUuY29sb3IsIHN0eWxlLmFscGhhLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICAgICAgdGhpcy5hZGRUZXh0dXJlSWRzKHRleHR1cmVJZHMsIHRleHR1cmVJZCwgZGF0YS5hdHRyaWJTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgICAgICAvLyB1cGxvYWQuLlxuICAgICAgICAvLyBtZXJnZSBmb3Igbm93IVxuICAgICAgICB0aGlzLnBhY2tBdHRyaWJ1dGVzKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWNrcyBhdHRyaWJ1dGVzIHRvIHNpbmdsZSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucGFja0F0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2ZXJ0cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG4gICAgICAgIC8vIHZlcnRzIGFyZSAyIHBvc2l0aW9ucy4uIHNvIHdlICogYnkgMyBhcyB0aGVyZSBhcmUgNiBwcm9wZXJ0aWVzLi4gdGhlbiA0IGNvcyBpdHMgYnl0ZXNcbiAgICAgICAgdmFyIGdsUG9pbnRzID0gbmV3IEFycmF5QnVmZmVyKHZlcnRzLmxlbmd0aCAqIDMgKiA0KTtcbiAgICAgICAgdmFyIGYzMiA9IG5ldyBGbG9hdDMyQXJyYXkoZ2xQb2ludHMpO1xuICAgICAgICB2YXIgdTMyID0gbmV3IFVpbnQzMkFycmF5KGdsUG9pbnRzKTtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgZjMyW3ArK10gPSB2ZXJ0c1tpICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHUzMltwKytdID0gY29sb3JzW2ldO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB0ZXh0dXJlSWRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlci51cGRhdGUoZ2xQb2ludHMpO1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlci51cGRhdGUodGhpcy5pbmRpY2VzVWludDE2KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgZmlsbCBwYXJ0IG9mIEdyYXBoaWNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzRmlsbCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmhvbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSG9sZXMoZGF0YS5ob2xlcyk7XG4gICAgICAgICAgICBidWlsZFBvbHkudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbZGF0YS50eXBlXTtcbiAgICAgICAgICAgIGNvbW1hbmQudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgbGluZSBwYXJ0IG9mIEdyYXBoaWNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzTGluZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGJ1aWxkTGluZShkYXRhLCB0aGlzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBidWlsZExpbmUoZGF0YS5ob2xlc1tpXSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGhvbGVzIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhW119IGhvbGVzIC0gSG9sZXMgdG8gcmVuZGVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NIb2xlcyA9IGZ1bmN0aW9uIChob2xlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2hvbGUudHlwZV07XG4gICAgICAgICAgICBjb21tYW5kLmJ1aWxkKGhvbGUpO1xuICAgICAgICAgICAgaWYgKGhvbGUubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoaG9sZS5wb2ludHMsIGhvbGUubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIG9iamVjdC4gRXhwZW5zaXZlIHRvIHVzZSBwZXJmb3JtYW5jZS13aXNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICAgICAgdmFyIHNlcXVlbmNlQm91bmRzID0gdG1wQm91bmRzO1xuICAgICAgICB2YXIgY3VyTWF0cml4ID0gTWF0cml4LklERU5USVRZO1xuICAgICAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICAgICAgc2VxdWVuY2VCb3VuZHMuY2xlYXIoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IGRhdGEuc2hhcGU7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgICAgIHZhciBsaW5lU3R5bGUgPSBkYXRhLmxpbmVTdHlsZTtcbiAgICAgICAgICAgIHZhciBuZXh0TWF0cml4ID0gZGF0YS5tYXRyaXggfHwgTWF0cml4LklERU5USVRZO1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IDAuMDtcbiAgICAgICAgICAgIGlmIChsaW5lU3R5bGUgJiYgbGluZVN0eWxlLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxpZ25tZW50ID0gbGluZVN0eWxlLmFsaWdubWVudDtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lU3R5bGUud2lkdGg7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5QT0xZKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqICgwLjUgKyBNYXRoLmFicygwLjUgLSBhbGlnbm1lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqIE1hdGgubWF4KDAsIGFsaWdubWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1ck1hdHJpeCAhPT0gbmV4dE1hdHJpeCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VxdWVuY2VCb3VuZHMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5hZGRCb3VuZHNNYXRyaXgoc2VxdWVuY2VCb3VuZHMsIGN1ck1hdHJpeCk7XG4gICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1ck1hdHJpeCA9IG5leHRNYXRyaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gU0hBUEVTLlJFQ1QgfHwgdHlwZSA9PT0gU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKHJlY3QueCwgcmVjdC55LCByZWN0LnggKyByZWN0LndpZHRoLCByZWN0LnkgKyByZWN0LmhlaWdodCwgbGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2lyY2xlID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQoY2lyY2xlLngsIGNpcmNsZS55LCBjaXJjbGUueCwgY2lyY2xlLnksIGNpcmNsZS5yYWRpdXMgKyBsaW5lV2lkdGgsIGNpcmNsZS5yYWRpdXMgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxsaXBzZSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKGVsbGlwc2UueCwgZWxsaXBzZS55LCBlbGxpcHNlLngsIGVsbGlwc2UueSwgZWxsaXBzZS53aWR0aCArIGxpbmVXaWR0aCwgZWxsaXBzZS5oZWlnaHQgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvbHkgPSBzaGFwZTtcbiAgICAgICAgICAgICAgICAvLyBhZGRpbmcgZGlyZWN0bHkgdG8gdGhlIGJvdW5kc1xuICAgICAgICAgICAgICAgIGJvdW5kcy5hZGRWZXJ0aWNlc01hdHJpeChjdXJNYXRyaXgsIHBvbHkucG9pbnRzLCAwLCBwb2x5LnBvaW50cy5sZW5ndGgsIGxpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlcXVlbmNlQm91bmRzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgYm91bmRzLmFkZEJvdW5kc01hdHJpeChzZXF1ZW5jZUJvdW5kcywgY3VyTWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICBib3VuZHMucGFkKHRoaXMuYm91bmRzUGFkZGluZywgdGhpcy5ib3VuZHNQYWRkaW5nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBwb2ludHMgdXNpbmcgbWF0cml4LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cywgbWF0cml4KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAvIDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbKGkgKiAyKV07XG4gICAgICAgICAgICB2YXIgeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKV0gPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgcG9pbnRzWyhpICogMikgKyAxXSA9IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBjb2xvcnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3JzIC0gTGlzdCBvZiBjb2xvcnMgdG8gYWRkIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gQ29sb3IgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gQWxwaGEgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgY29sb3JzIHRvIGFkZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZENvbG9ycyA9IGZ1bmN0aW9uIChjb2xvcnMsIGNvbG9yLCBhbHBoYSwgc2l6ZSkge1xuICAgICAgICAvLyBUT0RPIHVzZSB0aGUgcHJlbXVsdGlwbHkgYml0cyBJdmFuIGFkZGVkXG4gICAgICAgIHZhciByZ2IgPSAoY29sb3IgPj4gMTYpICsgKGNvbG9yICYgMHhmZjAwKSArICgoY29sb3IgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIHZhciByZ2JhID0gcHJlbXVsdGlwbHlUaW50KHJnYiwgYWxwaGEpO1xuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMCkge1xuICAgICAgICAgICAgY29sb3JzLnB1c2gocmdiYSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIGlkIHRoYXQgdGhlIHNoYWRlci9mcmFnbWVudCB3YW50cyB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdGV4dHVyZUlkc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkVGV4dHVyZUlkcyA9IGZ1bmN0aW9uICh0ZXh0dXJlSWRzLCBpZCwgc2l6ZSkge1xuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMCkge1xuICAgICAgICAgICAgdGV4dHVyZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBVVnMgZm9yIGEgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdmVydHMgLSBWZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIFVWc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBJbmRleCBidWZmZXIgc3RhcnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZS9sZW5ndGggZm9yIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIE9wdGlvbmFsIHRyYW5zZm9ybSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRVdnMgPSBmdW5jdGlvbiAodmVydHMsIHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUsIG1hdHJpeCkge1xuICAgICAgICBpZiAobWF0cml4ID09PSB2b2lkIDApIHsgbWF0cml4ID0gbnVsbDsgfVxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgdXZzU3RhcnQgPSB1dnMubGVuZ3RoO1xuICAgICAgICB2YXIgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBzaXplKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHZlcnRzWyhzdGFydCArIGluZGV4KSAqIDJdO1xuICAgICAgICAgICAgdmFyIHkgPSB2ZXJ0c1soKHN0YXJ0ICsgaW5kZXgpICogMikgKyAxXTtcbiAgICAgICAgICAgIGlmIChtYXRyaXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnggPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgICAgIHkgPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIHggPSBueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gZnJhbWUud2lkdGgsIHkgLyBmcmFtZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIGlmIChmcmFtZS53aWR0aCA8IGJhc2VUZXh0dXJlLndpZHRoXG4gICAgICAgICAgICB8fCBmcmFtZS5oZWlnaHQgPCBiYXNlVGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VXZzKHV2cywgdGV4dHVyZSwgdXZzU3RhcnQsIHNpemUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNb2RpZnkgdXZzIGFycmF5IGFjY29yZGluZyB0byBwb3NpdGlvbiBvZiB0ZXh0dXJlIHJlZ2lvblxuICAgICAqIERvZXMgbm90IHdvcmsgd2l0aCByb3RhdGVkIG9yIHRyaW1tZWQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIGFycmF5XG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSByZWdpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBzdGFydGluZyBpbmRleCBmb3IgdXZzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBob3cgbWFueSBwb2ludHMgdG8gYWRqdXN0XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRqdXN0VXZzID0gZnVuY3Rpb24gKHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUpIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGVwcyA9IDFlLTY7XG4gICAgICAgIHZhciBmaW5pc2ggPSBzdGFydCArIChzaXplICogMik7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgIHZhciBzY2FsZVggPSBmcmFtZS53aWR0aCAvIGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB2YXIgc2NhbGVZID0gZnJhbWUuaGVpZ2h0IC8gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICB2YXIgb2Zmc2V0WCA9IGZyYW1lLnggLyBmcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIG9mZnNldFkgPSBmcmFtZS55IC8gZnJhbWUuaGVpZ2h0O1xuICAgICAgICB2YXIgbWluWCA9IE1hdGguZmxvb3IodXZzW3N0YXJ0XSArIGVwcyk7XG4gICAgICAgIHZhciBtaW5ZID0gTWF0aC5mbG9vcih1dnNbc3RhcnQgKyAxXSArIGVwcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydCArIDI7IGkgPCBmaW5pc2g7IGkgKz0gMikge1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIE1hdGguZmxvb3IodXZzW2ldICsgZXBzKSk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgTWF0aC5mbG9vcih1dnNbaSArIDFdICsgZXBzKSk7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0WCAtPSBtaW5YO1xuICAgICAgICBvZmZzZXRZIC09IG1pblk7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgaSArPSAyKSB7XG4gICAgICAgICAgICB1dnNbaV0gPSAodXZzW2ldICsgb2Zmc2V0WCkgKiBzY2FsZVg7XG4gICAgICAgICAgICB1dnNbaSArIDFdID0gKHV2c1tpICsgMV0gKyBvZmZzZXRZKSAqIHNjYWxlWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHBvaW50cyB0byBjb25zaWRlciBhbiBvYmplY3QgXCJiYXRjaGFibGVcIixcbiAgICAgKiBhYmxlIHRvIGJlIGJhdGNoZWQgYnkgdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3NHZW9tZXRyeVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gICAgICogQGRlZmF1bHQgMTAwXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiAgICByZXR1cm4gR3JhcGhpY3NHZW9tZXRyeTtcbn0oQmF0Y2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGxpbmUgc3R5bGUgZm9yIEdyYXBoaWNzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWxsU3R5bGVcbiAqL1xudmFyIExpbmVTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGluZVN0eWxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpbmVTdHlsZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLndpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgYW55IGxpbmVzIGRyYXduICgwLjUgPSBtaWRkbGUsIDEgPSBvdXRlciwgMCA9IGlubmVyKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFsaWdubWVudCA9IDAuNTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpbmUgY2FwIHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxJTkVfQ0FQfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfQ0FQLkJVVFRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNhcCA9IExJTkVfQ0FQLkJVVFQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaW5lIGpvaW4gc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTElORV9KT0lOfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkxJTkVfSk9JTi5NSVRFUlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuam9pbiA9IExJTkVfSk9JTi5NSVRFUjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pdGVyIGxpbWl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5taXRlckxpbWl0ID0gMTA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTGluZVN0eWxlfVxuICAgICAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYmogPSBuZXcgTGluZVN0eWxlKCk7XG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgICAgICBvYmoud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBvYmouYWxpZ25tZW50ID0gdGhpcy5hbGlnbm1lbnQ7XG4gICAgICAgIG9iai5uYXRpdmUgPSB0aGlzLm5hdGl2ZTtcbiAgICAgICAgb2JqLmNhcCA9IHRoaXMuY2FwO1xuICAgICAgICBvYmouam9pbiA9IHRoaXMuam9pbjtcbiAgICAgICAgb2JqLm1pdGVyTGltaXQgPSB0aGlzLm1pdGVyTGltaXQ7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgbGluZSBzdHlsZSB0byBkZWZhdWx0LlxuICAgICAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKTtcbiAgICAgICAgLy8gT3ZlcnJpZGUgZGVmYXVsdCBsaW5lIHN0eWxlIGNvbG9yXG4gICAgICAgIHRoaXMuY29sb3IgPSAweDA7XG4gICAgICAgIHRoaXMuYWxpZ25tZW50ID0gMC41O1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBMaW5lU3R5bGU7XG59KEZpbGxTdHlsZSkpO1xuXG52YXIgdGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG4vLyBhIGRlZmF1bHQgc2hhZGVycyBtYXAgdXNlZCBieSBncmFwaGljcy4uXG52YXIgREVGQVVMVF9TSEFERVJTID0ge307XG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBOb3RlIHRoYXQgYmVjYXVzZSBHcmFwaGljcyBjYW4gc2hhcmUgYSBHcmFwaGljc0dlb21ldHJ5IHdpdGggb3RoZXIgaW5zdGFuY2VzLFxuICogaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGwgYGRlc3Ryb3koKWAgdG8gcHJvcGVybHkgZGVyZWZlcmVuY2UgdGhlIHVuZGVybHlpbmdcbiAqIEdyYXBoaWNzR2VvbWV0cnkgYW5kIGF2b2lkIGEgbWVtb3J5IGxlYWsuIEFsdGVybmF0aXZlbHksIGtlZXAgdXNpbmcgdGhlIHNhbWVcbiAqIEdyYXBoaWNzIGluc3RhbmNlIGFuZCBjYWxsIGBjbGVhcigpYCBiZXR3ZWVuIHJlZHJhd3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHcmFwaGljcywgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gW2dlb21ldHJ5PW51bGxdIC0gR2VvbWV0cnkgdG8gdXNlLCBpZiBvbWl0dGVkXG4gICAgICogICAgICAgIHdpbGwgY3JlYXRlIGEgbmV3IEdyYXBoaWNzR2VvbWV0cnkgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3MoZ2VvbWV0cnkpIHtcbiAgICAgICAgaWYgKGdlb21ldHJ5ID09PSB2b2lkIDApIHsgZ2VvbWV0cnkgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9nZW9tZXRyeSA9IGdlb21ldHJ5IHx8IG5ldyBHcmFwaGljc0dlb21ldHJ5KCk7XG4gICAgICAgIF90aGlzLl9nZW9tZXRyeS5yZWZDb3VudCsrO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgV2ViR0wgc3RhdGUgdGhlIEdyYXBoaWNzIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGZpbGwgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9maWxsU3R5bGUgPSBuZXcgRmlsbFN0eWxlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxpbmUgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9saW5lU3R5bGUgPSBuZXcgTGluZVN0eWxlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHNoYXBlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaG9sZSBtb2RlIGlzIGVuYWJsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9seWdvbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBjYWNoZUFzQml0bWFwIGlzIHNldCB0byB0cnVlIHRoZSBncmFwaGljcyBvYmplY3Qgd2lsbCBiZSByZW5kZXJlZCBhcyBpZiBpdCB3YXMgYSBzcHJpdGUuXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdXIgZ3JhcGhpY3MgZWxlbWVudCBkb2VzIG5vdCBjaGFuZ2Ugb2Z0ZW4sIGFzIGl0IHdpbGwgc3BlZWQgdXAgdGhlIHJlbmRlcmluZ1xuICAgICAgICAgKiBvZiB0aGUgb2JqZWN0IGluIGV4Y2hhbmdlIGZvciB0YWtpbmcgdXAgdGV4dHVyZSBtZW1vcnkuIEl0IGlzIGFsc28gdXNlZnVsIGlmIHlvdSBuZWVkIHRoZSBncmFwaGljc1xuICAgICAgICAgKiBvYmplY3QgdG8gYmUgYW50aS1hbGlhc2VkLCBiZWNhdXNlIGl0IHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgY2FudmFzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBpZlxuICAgICAgICAgKiB5b3UgYXJlIGNvbnN0YW50bHkgcmVkcmF3aW5nIHRoZSBncmFwaGljcyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbmFtZSBjYWNoZUFzQml0bWFwXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzI1xuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29sbGVjdGlvbnMgb2YgYmF0Y2hlcyEgVGhlc2UgY2FuIGJlIGRyYXduIGJ5IHRoZSByZW5kZXJlciBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXRjaGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgZGlydHkgZm9yIGxpbWl0aW5nIGNhbGN1bGF0aW5nIHRpbnRzIGZvciBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoVGludCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGRpcnR5IGZvciBsaW1pdGluZyBjYWxjdWxhdGluZyBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoRGlydHkgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvcHkgb2YgdGhlIG9iamVjdCB2ZXJ0ZXggZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIF90aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwiZ2VvbWV0cnlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb3IgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0dlb21ldHJ5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlb21ldHJ5O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljcyBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IG9ubHkgdGhlIGdlb21ldHJ5IG9mIHRoZSBvYmplY3QgaXMgY2xvbmVkLCBub3QgaXRzIHRyYW5zZm9ybSAocG9zaXRpb24sc2NhbGUsZXRjKVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gQSBjbG9uZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljcyh0aGlzLl9nZW9tZXRyeSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR3JhcGhpY3MucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgICAgICogMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzLnByb3RvdHlwZSwgXCJmaWxsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGZpbGwgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxTdHlsZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHcmFwaGljcy5wcm90b3R5cGUsIFwibGluZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBsaW5lIHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lU3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBQSVhJLkdyYXBoaWNzI2xpbmVTdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTB4MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgbGluZSBzdHlsZSB1c2VkIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIEdyYXBoaWNzIG1ldGhvZHMgc3VjaCBhcyB0aGUgbGluZVRvKClcbiAgICAgKiBtZXRob2Qgb3IgdGhlIGRyYXdDaXJjbGUoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gTGluZSBzdHlsZSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHBhcmFtIHtQSVhJLkxJTkVfQ0FQfVtvcHRpb25zLmNhcD1QSVhJLkxJTkVfQ0FQLkJVVFRdIC0gbGluZSBjYXAgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9KT0lOfVtvcHRpb25zLmpvaW49UElYSS5MSU5FX0pPSU4uTUlURVJdIC0gbGluZSBqb2luIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9W29wdGlvbnMubWl0ZXJMaW1pdD0xMF0gLSBtaXRlciBsaW1pdCByYXRpb1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVN0eWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gbnVsbDsgfVxuICAgICAgICAvLyBTdXBwb3J0IG5vbi1vYmplY3QgcGFyYW1zOiAod2lkdGgsIGNvbG9yLCBhbHBoYSwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBhcmdzWzBdIHx8IDAsXG4gICAgICAgICAgICAgICAgY29sb3I6IGFyZ3NbMV0gfHwgMHgwLFxuICAgICAgICAgICAgICAgIGFscGhhOiBhcmdzWzJdICE9PSB1bmRlZmluZWQgPyBhcmdzWzJdIDogMSxcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IGFyZ3NbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3NbM10gOiAwLjUsXG4gICAgICAgICAgICAgICAgbmF0aXZlOiAhIWFyZ3NbNF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVUZXh0dXJlU3R5bGUob3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMaWtlIGxpbmUgc3R5bGUgYnV0IHN1cHBvcnQgdGV4dHVyZSBmb3IgbGluZSBmaWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9ucyBmb3Igc2V0dGluZyBsaW5lIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbb3B0aW9ucy50ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0weDBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlLlxuICAgICAqICBEZWZhdWx0IDB4RkZGRkZGIGlmIHRleHR1cmUgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbb3B0aW9ucy5tYXRyaXg9bnVsbF0gLSBUZXh0dXJlIG1hdHJpeCB0byB0cmFuc2Zvcm0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5uYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcGFyYW0ge1BJWEkuTElORV9DQVB9W29wdGlvbnMuY2FwPVBJWEkuTElORV9DQVAuQlVUVF0gLSBsaW5lIGNhcCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5MSU5FX0pPSU59W29wdGlvbnMuam9pbj1QSVhJLkxJTkVfSk9JTi5NSVRFUl0gLSBsaW5lIGpvaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn1bb3B0aW9ucy5taXRlckxpbWl0PTEwXSAtIG1pdGVyIGxpbWl0IHJhdGlvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lVGV4dHVyZVN0eWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIHBhcmFtczogKHdpZHRoLCB0ZXh0dXJlLFxuICAgICAgICAvLyBjb2xvciwgYWxwaGEsIG1hdHJpeCwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCd2NS4yLjAnLCAnUGxlYXNlIHVzZSBvYmplY3QtYmFzZWQgb3B0aW9ucyBmb3IgR3JhcGhpY3MjbGluZVRleHR1cmVTdHlsZScpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB2YXIgX2EgPSBhcmd1bWVudHMsIHdpZHRoID0gX2FbMF0sIHRleHR1cmUgPSBfYVsxXSwgY29sb3IgPSBfYVsyXSwgYWxwaGEgPSBfYVszXSwgbWF0cml4ID0gX2FbNF0sIGFsaWdubWVudCA9IF9hWzVdLCBuYXRpdmUgPSBfYVs2XTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoOiB3aWR0aCwgdGV4dHVyZTogdGV4dHVyZSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEsIG1hdHJpeDogbWF0cml4LCBhbGlnbm1lbnQ6IGFsaWdubWVudCwgbmF0aXZlOiBuYXRpdmUgfTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB1bmRlZmluZWQga2V5c1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvcHRpb25zW2tleV0gPT09IHVuZGVmaW5lZCAmJiBkZWxldGUgb3B0aW9uc1trZXldOyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuV0hJVEUsXG4gICAgICAgICAgICBjb2xvcjogKG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlKSA/IDB4RkZGRkZGIDogMHgwLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IDAuNSxcbiAgICAgICAgICAgIG5hdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBjYXA6IExJTkVfQ0FQLkJVVFQsXG4gICAgICAgICAgICBqb2luOiBMSU5FX0pPSU4uTUlURVIsXG4gICAgICAgICAgICBtaXRlckxpbWl0OiAxMCxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aXNpYmxlID0gb3B0aW9ucy53aWR0aCA+IDAgJiYgb3B0aW9ucy5hbHBoYSA+IDA7XG4gICAgICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXRyaXgpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeCA9IG9wdGlvbnMubWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2xpbmVTdHlsZSwgeyB2aXNpYmxlOiB2aXNpYmxlIH0sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBwb2x5Z29uIG9iamVjdCBpbnRlcm5hbGx5XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zdGFydFBvbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbiA+IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMucHVzaChwb2ludHNbbGVuIC0gMl0sIHBvaW50c1tsZW4gLSAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBwb2x5Z29uIG9iamVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmZpbmlzaFBvbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byB4LCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMF0gPSB4O1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1sxXSA9IHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBsaW5lIHVzaW5nIHRoZSBjdXJyZW50IGxpbmUgc3R5bGUgZnJvbSB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvICh4LCB5KTtcbiAgICAgKiBUaGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIGlzIHRoZW4gc2V0IHRvICh4LCB5KS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUbyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGR1cGxpY2F0ZXMuLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSkge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjdXJ2ZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5faW5pdEN1cnZlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgPSBbeCwgeV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlemllckN1cnZlVG8gPSBmdW5jdGlvbiAoY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKSB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuICAgICAgICBCZXppZXJVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyY1RvID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKHgxLCB5MSk7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgdmFyIHJlc3VsdCA9IEFyY1V0aWxzLmN1cnZlVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdmFyIGN4ID0gcmVzdWx0LmN4LCBjeSA9IHJlc3VsdC5jeSwgcmFkaXVzXzEgPSByZXN1bHQucmFkaXVzLCBzdGFydEFuZ2xlID0gcmVzdWx0LnN0YXJ0QW5nbGUsIGVuZEFuZ2xlID0gcmVzdWx0LmVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlID0gcmVzdWx0LmFudGljbG9ja3dpc2U7XG4gICAgICAgICAgICB0aGlzLmFyYyhjeCwgY3ksIHJhZGl1c18xLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW50aWNsb2Nrd2lzZT1mYWxzZV0gLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmMgPSBmdW5jdGlvbiAoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKSB7XG4gICAgICAgIGlmIChhbnRpY2xvY2t3aXNlID09PSB2b2lkIDApIHsgYW50aWNsb2Nrd2lzZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgICAgICBpZiAoc3dlZXAgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFydFggPSBjeCArIChNYXRoLmNvcyhzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBzdGFydFkgPSBjeSArIChNYXRoLnNpbihzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBlcHMgPSB0aGlzLl9nZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA6IG51bGw7XG4gICAgICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IG1ha2UgYSBiZXR0ZXIgZml4LlxuICAgICAgICAgICAgLy8gV2UgY2hlY2sgaG93IGZhciBvdXIgc3RhcnQgaXMgZnJvbSB0aGUgbGFzdCBleGlzdGluZyBwb2ludFxuICAgICAgICAgICAgdmFyIHhEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAtIHN0YXJ0WCk7XG4gICAgICAgICAgICB2YXIgeURpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdIC0gc3RhcnRZKTtcbiAgICAgICAgICAgIGlmICh4RGlmZiA8IGVwcyAmJiB5RGlmZiA8IGVwcykgO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIH1cbiAgICAgICAgQXJjVXRpbHMuYXJjKHN0YXJ0WCwgc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UsIHBvaW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgc2ltcGxlIG9uZS1jb2xvciBmaWxsIHRoYXQgc3Vic2VxdWVudCBjYWxscyB0byBvdGhlciBHcmFwaGljcyBtZXRob2RzXG4gICAgICogKHN1Y2ggYXMgbGluZVRvKCkgb3IgZHJhd0NpcmNsZSgpKSB1c2Ugd2hlbiBkcmF3aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbCA9IGZ1bmN0aW9uIChjb2xvciwgYWxwaGEpIHtcbiAgICAgICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSAwOyB9XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblRleHR1cmVGaWxsKHsgdGV4dHVyZTogVGV4dHVyZS5XSElURSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgdGV4dHVyZSBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT2JqZWN0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW29wdGlvbnMudGV4dHVyZT1QSVhJLlRleHR1cmUuV0hJVEVdIC0gVGV4dHVyZSB0byBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4ZmZmZmZmXSAtIEJhY2tncm91bmQgdG8gZmlsbCBiZWhpbmQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIEFscGhhIG9mIGZpbGxcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbb3B0aW9ucy5tYXRyaXg9bnVsbF0gLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpblRleHR1cmVGaWxsID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIHBhcmFtczogKHRleHR1cmUsIGNvbG9yLCBhbHBoYSwgbWF0cml4KVxuICAgICAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCd2NS4yLjAnLCAnUGxlYXNlIHVzZSBvYmplY3QtYmFzZWQgb3B0aW9ucyBmb3IgR3JhcGhpY3MjYmVnaW5UZXh0dXJlRmlsbCcpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB2YXIgX2EgPSBhcmd1bWVudHMsIHRleHR1cmUgPSBfYVswXSwgY29sb3IgPSBfYVsxXSwgYWxwaGEgPSBfYVsyXSwgbWF0cml4ID0gX2FbM107XG4gICAgICAgICAgICBvcHRpb25zID0geyB0ZXh0dXJlOiB0ZXh0dXJlLCBjb2xvcjogY29sb3IsIGFscGhhOiBhbHBoYSwgbWF0cml4OiBtYXRyaXggfTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB1bmRlZmluZWQga2V5c1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvcHRpb25zW2tleV0gPT09IHVuZGVmaW5lZCAmJiBkZWxldGUgb3B0aW9uc1trZXldOyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLFxuICAgICAgICAgICAgY29sb3I6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlzaWJsZSA9IG9wdGlvbnMuYWxwaGEgPiAwO1xuICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF0cml4KSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXggPSBvcHRpb25zLm1hdHJpeC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4LmludmVydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9maWxsU3R5bGUsIHsgdmlzaWJsZTogdmlzaWJsZSB9LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBmaWxsIHRvIHRoZSBsaW5lcyBhbmQgc2hhcGVzIHRoYXQgd2VyZSBhZGRlZCBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBiZWdpbkZpbGwoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHJlY3RhbmdsZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXcgYSByZWN0YW5nbGUgc2hhcGUgd2l0aCByb3VuZGVkL2JldmVsZWQgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFJhZGl1cyBvZiB0aGUgcmVjdGFuZ2xlIGNvcm5lcnNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBjaXJjbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiAoeCwgeSwgcmFkaXVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgQ2lyY2xlKHgsIHksIHJhZGl1cykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gZWxsaXBzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdFbGxpcHNlID0gZnVuY3Rpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcG9seWdvbiB1c2luZyB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW118UElYSS5Qb2ludFtdfFBJWEkuUG9seWdvbn0gcGF0aCAtIFRoZSBwYXRoIGRhdGEgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBwYXRoID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBwYXRoW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnRzO1xuICAgICAgICB2YXIgY2xvc2VTdHJva2UgPSB0cnVlOyAvLyAhIXRoaXMuX2ZpbGxTdHlsZTtcbiAgICAgICAgdmFyIHBvbHkgPSBwYXRoWzBdO1xuICAgICAgICAvLyBjaGVjayBpZiBkYXRhIGhhcyBwb2ludHMuLlxuICAgICAgICBpZiAocG9seS5wb2ludHMpIHtcbiAgICAgICAgICAgIGNsb3NlU3Ryb2tlID0gcG9seS5jbG9zZVN0cm9rZTtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvbHkucG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGF0aFswXSkpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBhdGhbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb2ludHMgPSBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG4gICAgICAgIHNoYXBlLmNsb3NlU3Ryb2tlID0gY2xvc2VTdHJva2U7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGFueSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gU2hhcGUgdG8gZHJhd1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gKHNoYXBlKSB7XG4gICAgICAgIGlmICghdGhpcy5faG9sZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb21ldHJ5LmRyYXdTaGFwZShzaGFwZSwgdGhpcy5fZmlsbFN0eWxlLmNsb25lKCksIHRoaXMuX2xpbmVTdHlsZS5jbG9uZSgpLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZHJhd0hvbGUoc2hhcGUsIHRoaXMuX21hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEcmF3IGEgc3RhciBzaGFwZSB3aXRoIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1N0YXIgPSBmdW5jdGlvbiAoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gPT09IHZvaWQgMCkgeyByb3RhdGlvbiA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1BvbHlnb24obmV3IFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5pc0Zhc3RSZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2dlb21ldHJ5LmdyYXBoaWNzRGF0YTtcbiAgICAgICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAmJiBkYXRhWzBdLnNoYXBlLnR5cGUgPT09IFNIQVBFUy5SRUNUXG4gICAgICAgICAgICAmJiAhKGRhdGFbMF0ubGluZVN0eWxlLnZpc2libGUgJiYgZGF0YVswXS5saW5lU3R5bGUud2lkdGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIHZhciBoYXN1aW50MzIgPSByZW5kZXJlci5jb250ZXh0LnN1cHBvcnRzLnVpbnQzMkluZGljZXM7XG4gICAgICAgIC8vIGJhdGNoIHBhcnQuLlxuICAgICAgICAvLyBiYXRjaCBpdCFcbiAgICAgICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcyhoYXN1aW50MzIpO1xuICAgICAgICBpZiAoZ2VvbWV0cnkuYmF0Y2hhYmxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5iYXRjaERpcnR5ICE9PSBnZW9tZXRyeS5iYXRjaERpcnR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9wdWxhdGVCYXRjaGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJCYXRjaGVkKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIGJhdGNoaW5nLi4uXG4gICAgICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRGlyZWN0KHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9wdWxhdGluZyBiYXRjaGVzIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3BvcHVsYXRlQmF0Y2hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIHZhciBibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcbiAgICAgICAgdmFyIGxlbiA9IGdlb21ldHJ5LmJhdGNoZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSBnZW9tZXRyeS5iYXRjaERpcnR5O1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gbGVuO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnBvaW50cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBnSS5zdHlsZS5jb2xvcjtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRleERhdGEuYnVmZmVyLCBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLCBnSS5hdHRyaWJTaXplICogMik7XG4gICAgICAgICAgICB2YXIgdXZzID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS51dnNGbG9hdDMyLmJ1ZmZlciwgZ0kuYXR0cmliU3RhcnQgKiA0ICogMiwgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuICAgICAgICAgICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoZ2VvbWV0cnkuaW5kaWNlc1VpbnQxNi5idWZmZXIsIGdJLnN0YXJ0ICogMiwgZ0kuc2l6ZSk7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YTogdmVydGV4RGF0YSxcbiAgICAgICAgICAgICAgICBibGVuZE1vZGU6IGJsZW5kTW9kZSxcbiAgICAgICAgICAgICAgICBpbmRpY2VzOiBpbmRpY2VzLFxuICAgICAgICAgICAgICAgIHV2czogdXZzLFxuICAgICAgICAgICAgICAgIF9iYXRjaFJHQjogaGV4MnJnYihjb2xvciksXG4gICAgICAgICAgICAgICAgX3RpbnRSR0I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIF90ZXh0dXJlOiBnSS5zdHlsZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIGFscGhhOiBnSS5zdHlsZS5hbHBoYSxcbiAgICAgICAgICAgICAgICB3b3JsZEFscGhhOiAxXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5iYXRjaGVzW2ldID0gYmF0Y2g7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGJhdGNoZXMgdXNpbmcgdGhlIEJhdGhlZFJlbmRlcmVyIHBsdWdpblxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckJhdGNoZWQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJhdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVRpbnRzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuICAgICAgICAgICAgYmF0Y2gud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYSAqIGJhdGNoLmFscGhhO1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcihiYXRjaCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGdyYXBoaWNzIGRpcmVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckRpcmVjdCA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5fcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcik7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2dlb21ldHJ5O1xuICAgICAgICB2YXIgdGludCA9IHRoaXMudGludDtcbiAgICAgICAgdmFyIHdvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHNoYWRlci51bmlmb3JtcztcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IGdlb21ldHJ5LmRyYXdDYWxscztcbiAgICAgICAgLy8gbGV0cyBzZXQgdGhlIHRyYW5zZm9tclxuICAgICAgICB1bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAvLyBhbmQgdGhlbiBsZXRzIHNldCB0aGUgdGludC4uXG4gICAgICAgIHVuaWZvcm1zLnRpbnRbMF0gPSAoKCh0aW50ID4+IDE2KSAmIDB4RkYpIC8gMjU1KSAqIHdvcmxkQWxwaGE7XG4gICAgICAgIHVuaWZvcm1zLnRpbnRbMV0gPSAoKCh0aW50ID4+IDgpICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFsyXSA9ICgodGludCAmIDB4RkYpIC8gMjU1KSAqIHdvcmxkQWxwaGE7XG4gICAgICAgIHVuaWZvcm1zLnRpbnRbM10gPSB3b3JsZEFscGhhO1xuICAgICAgICAvLyB0aGUgZmlyc3QgZHJhdyBjYWxsLCB3ZSBjYW4gc2V0IHRoZSB1bmlmb3JtcyBvZiB0aGUgc2hhZGVyIGRpcmVjdGx5IGhlcmUuXG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB3ZSBjYW4gdGFjayBhZHZhbnRhZ2Ugb2YgdGhlIHN5bmMgZnVuY3Rpb24gb2YgcGl4aSFcbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIC8vIHRoZXJlIGlzIGEgd2F5IHRvIG9wdGltaXNlIHRoaXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBzaGFkZXIpO1xuICAgICAgICAvLyBzZXQgc3RhdGUuLlxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIC8vIHRoZW4gcmVuZGVyIHRoZSByZXN0IG9mIHRoZW0uLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBkcmF3Q2FsbHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmF3Q2FsbERpcmVjdChyZW5kZXJlciwgZ2VvbWV0cnkuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyBzcGVjaWZpYyBEcmF3Q2FsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaERyYXdDYWxsfSBkcmF3Q2FsbFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyRHJhd0NhbGxEaXJlY3QgPSBmdW5jdGlvbiAocmVuZGVyZXIsIGRyYXdDYWxsKSB7XG4gICAgICAgIHZhciB0ZXhBcnJheSA9IGRyYXdDYWxsLnRleEFycmF5LCB0eXBlID0gZHJhd0NhbGwudHlwZSwgc2l6ZSA9IGRyYXdDYWxsLnNpemUsIHN0YXJ0ID0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgIHZhciBncm91cFRleHR1cmVDb3VudCA9IHRleEFycmF5LmNvdW50O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBqKyspIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZCh0ZXhBcnJheS5lbGVtZW50c1tqXSwgaik7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0eXBlLCBzaXplLCBzdGFydCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBzaGFkZXIgZm9yIGRpcmVjdCByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZXNvbHZlRGlyZWN0U2hhZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcbiAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSB0aGlzLnBsdWdpbk5hbWU7XG4gICAgICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBzaGFkZXIgaGVyZSwgd2UgY2FuIHVzZSB0aGUgZGVmYXVsdCBzaGFkZXIuXG4gICAgICAgICAgICAvLyBhbmQgdGhhdCBvbmx5IGdldHMgY3JlYXRlZCBpZiB3ZSBhY3R1YWxseSBuZWVkIGl0Li5cbiAgICAgICAgICAgIC8vIGJ1dCBtYXkgYmUgbW9yZSB0aGFuIG9uZSBwbHVnaW5zIGZvciBncmFwaGljc1xuICAgICAgICAgICAgaWYgKCFERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV0pIHtcbiAgICAgICAgICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gcmVuZGVyZXIucGx1Z2lucy5iYXRjaC5NQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KE1BWF9URVhUVVJFUyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNQVhfVEVYVFVSRVM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBwcm9ncmFtID0gcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5fc2hhZGVyLnByb2dyYW07XG4gICAgICAgICAgICAgICAgREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdID0gbmV3IFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaGFkZXIgPSBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBncmFwaGljIHNoYXBlIGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fZ2VvbWV0cnk7XG4gICAgICAgIC8vIHNraXBwaW5nIHdoZW4gZ3JhcGhpY3MgaXMgZW1wdHksIGxpa2UgYSBjb250YWluZXJcbiAgICAgICAgaWYgKCFnZW9tZXRyeS5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gZ2VvbWV0cnkuYm91bmRzLCBtaW5YID0gX2EubWluWCwgbWluWSA9IF9hLm1pblksIG1heFggPSBfYS5tYXhYLCBtYXhZID0gX2EubWF4WTtcbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgR3JhcGhpY3MuX1RFTVBfUE9JTlQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnkuY29udGFpbnNQb2ludChHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNhbGN1YXRlIHRoZSB0aW50IGJ5IGFwcGx5aW5nIHRpbiB0byBiYXRjaGVzIHVzaW5nIEdyYXBoaWNzIHRpbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jYWxjdWxhdGVUaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hUaW50ICE9PSB0aGlzLnRpbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gdGhpcy50aW50O1xuICAgICAgICAgICAgdmFyIHRpbnRSR0IgPSBoZXgycmdiKHRoaXMudGludCwgdGVtcCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgYmF0Y2hUaW50ID0gYmF0Y2guX2JhdGNoUkdCO1xuICAgICAgICAgICAgICAgIHZhciByID0gKHRpbnRSR0JbMF0gKiBiYXRjaFRpbnRbMF0pICogMjU1O1xuICAgICAgICAgICAgICAgIHZhciBnID0gKHRpbnRSR0JbMV0gKiBiYXRjaFRpbnRbMV0pICogMjU1O1xuICAgICAgICAgICAgICAgIHZhciBiID0gKHRpbnRSR0JbMl0gKiBiYXRjaFRpbnRbMl0pICogMjU1O1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gSXZhbiwgY2FuIHRoaXMgYmUgZG9uZSBpbiBvbmUgZ28/XG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gKHIgPDwgMTYpICsgKGcgPDwgOCkgKyAoYiB8IDApO1xuICAgICAgICAgICAgICAgIGJhdGNoLl90aW50UkdCID0gKGNvbG9yID4+IDE2KVxuICAgICAgICAgICAgICAgICAgICArIChjb2xvciAmIDB4ZmYwMClcbiAgICAgICAgICAgICAgICAgICAgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSdzIGEgdHJhbnNmb3JtIHVwZGF0ZSBvciBhIGNoYW5nZSB0byB0aGUgc2hhcGUgb2YgdGhlXG4gICAgICogZ2VvbWV0cnksIHJlY2FjdWxhdGUgdGhlIHZlcnRpY2VzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3dElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gd3RJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gd3RJRDtcbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2dlb21ldHJ5LnBvaW50czsgLy8gYmF0Y2gudmVydGV4RGF0YU9yaWdpbmFsO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgdmVydGV4RGF0YVtjb3VudCsrXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGQgKiB5KSArIChiICogeCkgKyB0eTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvc2VQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuICAgICAgICBpZiAoY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRkIGV4dHJhIHBvaW50IGluIHRoZSBlbmQgYmVjYXVzZSBidWlsZExpbmUgd2lsbCB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICAgICAgY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgYSBtYXRyaXggdG8gdGhlIHBvc2l0aW9uYWwgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIE1hdHJpeCB0byB1c2UgZm9yIHRyYW5zZm9ybSBjdXJyZW50IHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zZXRNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIElNUE9SVEFOVDogaG9sZXMgbXVzdCBiZSBmdWxseSBpbnNpZGUgYSBzaGFwZSB0byB3b3JrXG4gICAgICogQWxzbyB3ZWlyZG5lc3MgZW5zdWVzIGlmIGhvbGVzIG92ZXJsYXAhXG4gICAgICogRWxsaXBzZXMsIENpcmNsZXMsIFJlY3RhbmdsZXMgYW5kIFJvdW5kZWQgUmVjdGFuZ2xlcyBjYW5ub3QgYmUgaG9sZXMgb3IgaG9zdCBmb3IgaG9sZXMgaW4gQ2FudmFzUmVuZGVyZXIsXG4gICAgICogcGxlYXNlIHVzZSBgbW92ZVRvYCBgbGluZVRvYCwgYHF1YWRyYXRpY0N1cnZlVG9gIGlmIHlvdSByZWx5IG9uIHBpeGktbGVnYWN5IGJ1bmRsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5Ib2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuZCBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRIb2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2dlb21ldHJ5LnJlZkNvdW50LS07XG4gICAgICAgIGlmICh0aGlzLl9nZW9tZXRyeS5yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVtcG9yYXJ5IHBvaW50IHRvIHVzZSBmb3IgY29udGFpbnNQb2ludFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICBHcmFwaGljcy5fVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuICAgIHJldHVybiBHcmFwaGljcztcbn0oQ29udGFpbmVyKSk7XG5cbmV4cG9ydCB7IEZpbGxTdHlsZSwgR1JBUEhJQ1NfQ1VSVkVTLCBHcmFwaGljcywgR3JhcGhpY3NEYXRhLCBHcmFwaGljc0dlb21ldHJ5LCBMSU5FX0NBUCwgTElORV9KT0lOLCBMaW5lU3R5bGUsIGluZGV4IGFzIGdyYXBoaWNzVXRpbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYXBoaWNzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90ZXh0IC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL3RleHQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IGhleDJzdHJpbmcsIGhleDJyZ2IsIHN0cmluZzJoZXgsIHRyaW1DYW52YXMsIHNpZ24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGRlZmluZSB0aGUgdHlwZSBvZiBncmFkaWVudCBvbiB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVEVYVF9HUkFESUVOVFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX1ZFUlRJQ0FMIFZlcnRpY2FsIGdyYWRpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX0hPUklaT05UQUwgTGluZWFyIGdyYWRpZW50XG4gKi9cbnZhciBURVhUX0dSQURJRU5UO1xuKGZ1bmN0aW9uIChURVhUX0dSQURJRU5UKSB7XG4gICAgVEVYVF9HUkFESUVOVFtURVhUX0dSQURJRU5UW1wiTElORUFSX1ZFUlRJQ0FMXCJdID0gMF0gPSBcIkxJTkVBUl9WRVJUSUNBTFwiO1xuICAgIFRFWFRfR1JBRElFTlRbVEVYVF9HUkFESUVOVFtcIkxJTkVBUl9IT1JJWk9OVEFMXCJdID0gMV0gPSBcIkxJTkVBUl9IT1JJWk9OVEFMXCI7XG59KShURVhUX0dSQURJRU5UIHx8IChURVhUX0dSQURJRU5UID0ge30pKTtcblxuLy8gZGlzYWJsaW5nIGVzbGludCBmb3Igbm93LCBnb2luZyB0byByZXdyaXRlIHRoaXMgaW4gdjVcbnZhciBkZWZhdWx0U3R5bGUgPSB7XG4gICAgYWxpZ246ICdsZWZ0JyxcbiAgICBicmVha1dvcmRzOiBmYWxzZSxcbiAgICBkcm9wU2hhZG93OiBmYWxzZSxcbiAgICBkcm9wU2hhZG93QWxwaGE6IDEsXG4gICAgZHJvcFNoYWRvd0FuZ2xlOiBNYXRoLlBJIC8gNixcbiAgICBkcm9wU2hhZG93Qmx1cjogMCxcbiAgICBkcm9wU2hhZG93Q29sb3I6ICdibGFjaycsXG4gICAgZHJvcFNoYWRvd0Rpc3RhbmNlOiA1LFxuICAgIGZpbGw6ICdibGFjaycsXG4gICAgZmlsbEdyYWRpZW50VHlwZTogVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwsXG4gICAgZmlsbEdyYWRpZW50U3RvcHM6IFtdLFxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgZm9udFNpemU6IDI2LFxuICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsXG4gICAgZm9udFZhcmlhbnQ6ICdub3JtYWwnLFxuICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgbGluZUhlaWdodDogMCxcbiAgICBsaW5lSm9pbjogJ21pdGVyJyxcbiAgICBtaXRlckxpbWl0OiAxMCxcbiAgICBwYWRkaW5nOiAwLFxuICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICBzdHJva2VUaGlja25lc3M6IDAsXG4gICAgdGV4dEJhc2VsaW5lOiAnYWxwaGFiZXRpYycsXG4gICAgdHJpbTogZmFsc2UsXG4gICAgd2hpdGVTcGFjZTogJ3ByZScsXG4gICAgd29yZFdyYXA6IGZhbHNlLFxuICAgIHdvcmRXcmFwV2lkdGg6IDEwMCxcbiAgICBsZWFkaW5nOiAwLFxufTtcbnZhciBnZW5lcmljRm9udEZhbWlsaWVzID0gW1xuICAgICdzZXJpZicsXG4gICAgJ3NhbnMtc2VyaWYnLFxuICAgICdtb25vc3BhY2UnLFxuICAgICdjdXJzaXZlJyxcbiAgICAnZmFudGFzeScsXG4gICAgJ3N5c3RlbS11aScgXTtcbi8qKlxuICogQSBUZXh0U3R5bGUgT2JqZWN0IGNvbnRhaW5zIGluZm9ybWF0aW9uIHRvIGRlY29yYXRlIGEgVGV4dCBvYmplY3RzLlxuICpcbiAqIEFuIGluc3RhbmNlIGNhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBUZXh0IG9iamVjdHM7IHRoZW4gY2hhbmdpbmcgdGhlIHN0eWxlIHdpbGwgdXBkYXRlIGFsbCB0ZXh0IG9iamVjdHMgdXNpbmcgaXQuXG4gKlxuICogQSB0b29sIGNhbiBiZSB1c2VkIHRvIGdlbmVyYXRlIGEgdGV4dCBzdHlsZSBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0U3R5bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksXG4gICAgICogIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUuYnJlYWtXb3Jkcz1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdFxuICAgICAqICBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmRyb3BTaGFkb3c9ZmFsc2VdIC0gU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93QWxwaGE9MV0gLSBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FuZ2xlPU1hdGguUEkvNl0gLSBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dCbHVyPTBdIC0gU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0NvbG9yPSdibGFjayddIC0gQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZT01XSAtIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufSBbc3R5bGUuZmlsbD0nYmxhY2snXSAtIEEgY2FudmFzXG4gICAgICogIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy4gQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50XG4gICAgICogIGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxTdHlsZXxNRE59XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5maWxsR3JhZGllbnRUeXBlPVBJWEkuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUxdIC0gSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzXG4gICAgICogIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC4gU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW3N0eWxlLmZpbGxHcmFkaWVudFN0b3BzXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0XG4gICAgICogdGhlIHN0b3AgcG9pbnRzIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gW3N0eWxlLmZvbnRGYW1pbHk9J0FyaWFsJ10gLSBUaGUgZm9udCBmYW1pbHlcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IFtzdHlsZS5mb250U2l6ZT0yNl0gLSBUaGUgZm9udCBzaXplIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLFxuICAgICAqICBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRTdHlsZT0nbm9ybWFsJ10gLSBUaGUgZm9udCBzdHlsZSAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRWYXJpYW50PSdub3JtYWwnXSAtIFRoZSBmb250IHZhcmlhbnQgKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnRXZWlnaHQ9J25vcm1hbCddIC0gVGhlIGZvbnQgd2VpZ2h0ICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJyxcbiAgICAgKiAgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgJzgwMCcgb3IgJzkwMCcpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZWFkaW5nPTBdIC0gVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxpbmVIZWlnaHRdIC0gVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUubGluZUpvaW49J21pdGVyJ10gLSBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmVcbiAgICAgKiAgICAgIHNwaWtlZCB0ZXh0IGlzc3Vlcy4gUG9zc2libGUgdmFsdWVzIFwibWl0ZXJcIiAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lciksIFwicm91bmRcIiAoY3JlYXRlcyBhIHJvdW5kIGNvcm5lcikgb3IgXCJiZXZlbFwiXG4gICAgICogICAgICAoY3JlYXRlcyBhIHNxdWFyZWQgY29ybmVyKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1pdGVyTGltaXQ9MTBdIC0gVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGUuIFRoaXMgY2FuIHJlZHVjZVxuICAgICAqICAgICAgb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUucGFkZGluZz0wXSAtIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb21cbiAgICAgKiAgICAgaGFwcGVuaW5nIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5zdHJva2U9J2JsYWNrJ10gLSBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICogIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuc3Ryb2tlVGhpY2tuZXNzPTBdIC0gQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgKiAgRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUudHJpbT1mYWxzZV0gLSBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLnRleHRCYXNlbGluZT0nYWxwaGFiZXRpYyddIC0gVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS53aGl0ZVNwYWNlPSdwcmUnXSAtIERldGVybWluZXMgd2hldGhlciBuZXdsaW5lcyAmIHNwYWNlcyBhcmUgY29sbGFwc2VkIG9yIHByZXNlcnZlZCBcIm5vcm1hbFwiXG4gICAgICogICAgICAoY29sbGFwc2UsIGNvbGxhcHNlKSwgXCJwcmVcIiAocHJlc2VydmUsIHByZXNlcnZlKSB8IFwicHJlLWxpbmVcIiAocHJlc2VydmUsIGNvbGxhcHNlKS4gSXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS53b3JkV3JhcD1mYWxzZV0gLSBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS53b3JkV3JhcFdpZHRoPTEwMF0gLSBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dFN0eWxlKHN0eWxlKSB7XG4gICAgICAgIHRoaXMuc3R5bGVJRCA9IDA7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIHN0eWxlLCBzdHlsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVGV4dFN0eWxlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0U3R5bGV9IE5ldyBjbG9uZWQgVGV4dFN0eWxlIG9iamVjdFxuICAgICAqL1xuICAgIFRleHRTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbG9uZWRQcm9wZXJ0aWVzID0ge307XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBkZWZhdWx0U3R5bGUpO1xuICAgICAgICByZXR1cm4gbmV3IFRleHRTdHlsZShjbG9uZWRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgcHJvcGVydGllcyB0byB0aGUgZGVmYXVsdHMgc3BlY2lmaWVkIGluIFRleHRTdHlsZS5wcm90b3R5cGUuX2RlZmF1bHRcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgZGVmYXVsdFN0eWxlLCBkZWZhdWx0U3R5bGUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiYWxpZ25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGFsaWduKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWxpZ24gIT09IGFsaWduKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImJyZWFrV29yZHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JyZWFrV29yZHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGJyZWFrV29yZHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9icmVha1dvcmRzICE9PSBicmVha1dvcmRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnJlYWtXb3JkcyA9IGJyZWFrV29yZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3cgIT09IGRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93ID0gZHJvcFNoYWRvdztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dBbHBoYVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSAhPT0gZHJvcFNoYWRvd0FscGhhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FscGhhID0gZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0FuZ2xlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QW5nbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dBbmdsZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSAhPT0gZHJvcFNoYWRvd0FuZ2xlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FuZ2xlID0gZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0JsdXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dCbHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93Qmx1cikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dCbHVyICE9PSBkcm9wU2hhZG93Qmx1cikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93Q29sb3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0NvbG9yKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihkcm9wU2hhZG93Q29sb3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dDb2xvciAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93Q29sb3IgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dEaXN0YW5jZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93RGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgIT09IGRyb3BTaGFkb3dEaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSA9IGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZpbGxcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLlxuICAgICAgICAgKiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnQgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxTdHlsZXxNRE59XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGwpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgLy8gVE9ETzogTm90IHN1cmUgaWYgZ2V0Q29sb3Igd29ya3MgcHJvcGVybHkgd2l0aCBDYW52YXNHcmFkaWVudCBhbmQvb3IgQ2FudmFzUGF0dGVybiwgY2FuJ3QgcGFzcyBpblxuICAgICAgICAgICAgLy8gICAgICAgd2l0aG91dCBjYXN0aW5nIGhlcmUuXG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihmaWxsKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGwgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZpbGxHcmFkaWVudFR5cGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC5cbiAgICAgICAgICogU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGxHcmFkaWVudFR5cGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsR3JhZGllbnRUeXBlICE9PSBmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJmaWxsR3JhZGllbnRTdG9wc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldCB0aGUgc3RvcCBwb2ludHNcbiAgICAgICAgICogKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRTdG9wcykge1xuICAgICAgICAgICAgaWYgKCFhcmVBcnJheXNFcXVhbCh0aGlzLl9maWxsR3JhZGllbnRTdG9wcywgZmlsbEdyYWRpZW50U3RvcHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50U3RvcHMgPSBmaWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRGYW1pbHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgZmFtaWx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRGYW1pbHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRGYW1pbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvbnRGYW1pbHkgIT09IGZvbnRGYW1pbHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gZm9udEZhbWlseTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRTaXplXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHNpemVcbiAgICAgICAgICogKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRTaXplKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRTdHlsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzdHlsZVxuICAgICAgICAgKiAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250U3R5bGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U3R5bGUgIT09IGZvbnRTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9IGZvbnRTdHlsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRWYXJpYW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHZhcmlhbnRcbiAgICAgICAgICogKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRWYXJpYW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZvbnRXZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgd2VpZ2h0XG4gICAgICAgICAqICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJywgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgODAwJyBvciAnOTAwJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFdlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFdlaWdodCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gZm9udFdlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImxldHRlclNwYWNpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxldHRlclNwYWNpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZXR0ZXJTcGFjaW5nICE9PSBsZXR0ZXJTcGFjaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJsaW5lSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGluZUhlaWdodCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbmVIZWlnaHQgIT09IGxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImxlYWRpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVhZGluZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGVhZGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImxpbmVKb2luXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lSm9pbiBwcm9wZXJ0eSBzZXRzIHRoZSB0eXBlIG9mIGNvcm5lciBjcmVhdGVkLCBpdCBjYW4gcmVzb2x2ZSBzcGlrZWQgdGV4dCBpc3N1ZXMuXG4gICAgICAgICAqIERlZmF1bHQgaXMgJ21pdGVyJyAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lcikuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVKb2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsaW5lSm9pbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbmVKb2luICE9PSBsaW5lSm9pbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJtaXRlckxpbWl0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlXG4gICAgICAgICAqIFRoaXMgY2FuIHJlZHVjZSBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21pdGVyTGltaXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9taXRlckxpbWl0ICE9PSBtaXRlckxpbWl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWl0ZXJMaW1pdCA9IG1pdGVyTGltaXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJwYWRkaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nXG4gICAgICAgICAqIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFkZGluZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAocGFkZGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhZGRpbmcgIT09IHBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInN0cm9rZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICAgICAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdHJva2UpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3Ioc3Ryb2tlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHJva2UgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Ryb2tlID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJzdHJva2VUaGlja25lc3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgICAgICogRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3Ryb2tlVGhpY2tuZXNzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlVGhpY2tuZXNzICE9PSBzdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VUaGlja25lc3MgPSBzdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ0ZXh0QmFzZWxpbmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dEJhc2VsaW5lICE9PSB0ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0QmFzZWxpbmUgPSB0ZXh0QmFzZWxpbmU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ0cmltXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJpbTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodHJpbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmltID0gdHJpbTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcIndoaXRlU3BhY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG5ld2xpbmVzIGFuZCBzcGFjZXMgc2hvdWxkIGJlIGhhbmRsZWQuXG4gICAgICAgICAqIERlZmF1bHQgaXMgJ3ByZScgKHByZXNlcnZlLCBwcmVzZXJ2ZSkuXG4gICAgICAgICAqXG4gICAgICAgICAqICB2YWx1ZSAgICAgICB8IE5ldyBsaW5lcyAgICAgfCAgIFNwYWNlc1xuICAgICAgICAgKiAgLS0tICAgICAgICAgfCAtLS0gICAgICAgICAgIHwgICAtLS1cbiAgICAgICAgICogJ25vcm1hbCcgICAgIHwgQ29sbGFwc2UgICAgICB8ICAgQ29sbGFwc2VcbiAgICAgICAgICogJ3ByZScgICAgICAgIHwgUHJlc2VydmUgICAgICB8ICAgUHJlc2VydmVcbiAgICAgICAgICogJ3ByZS1saW5lJyAgIHwgUHJlc2VydmUgICAgICB8ICAgQ29sbGFwc2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2hpdGVTcGFjZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAod2hpdGVTcGFjZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3doaXRlU3BhY2UgIT09IHdoaXRlU3BhY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93aGl0ZVNwYWNlID0gd2hpdGVTcGFjZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcIndvcmRXcmFwXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh3b3JkV3JhcCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwICE9PSB3b3JkV3JhcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwID0gd29yZFdyYXA7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJ3b3JkV3JhcFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAod29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwV2lkdGggIT09IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JkV3JhcFdpZHRoID0gd29yZFdyYXBXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBGb250IHN0eWxlIHN0cmluZywgZm9yIHBhc3NpbmcgdG8gYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgXG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS50b0ZvbnRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgICAgIHZhciBmb250U2l6ZVN0cmluZyA9ICh0eXBlb2YgdGhpcy5mb250U2l6ZSA9PT0gJ251bWJlcicpID8gdGhpcy5mb250U2l6ZSArIFwicHhcIiA6IHRoaXMuZm9udFNpemU7XG4gICAgICAgIC8vIENsZWFuLXVwIGZvbnRGYW1pbHkgcHJvcGVydHkgYnkgcXVvdGluZyBlYWNoIGZvbnQgbmFtZVxuICAgICAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgICAgIHZhciBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZvbnRGYW1pbHkpKSB7XG4gICAgICAgICAgICBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHkuc3BsaXQoJywnKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gZm9udEZhbWlsaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAvLyBUcmltIGFueSBleHRyYSB3aGl0ZS1zcGFjZVxuICAgICAgICAgICAgdmFyIGZvbnRGYW1pbHkgPSBmb250RmFtaWxpZXNbaV0udHJpbSgpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9udCBhbHJlYWR5IGNvbnRhaW5zIHN0cmluZ3NcbiAgICAgICAgICAgIGlmICghKC8oW1xcXCJcXCddKVteXFwnXFxcIl0rXFwxLykudGVzdChmb250RmFtaWx5KSAmJiBnZW5lcmljRm9udEZhbWlsaWVzLmluZGV4T2YoZm9udEZhbWlseSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9IFwiXFxcIlwiICsgZm9udEZhbWlseSArIFwiXFxcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udEZhbWlsaWVzW2ldID0gZm9udEZhbWlseTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5mb250U3R5bGUgKyBcIiBcIiArIHRoaXMuZm9udFZhcmlhbnQgKyBcIiBcIiArIHRoaXMuZm9udFdlaWdodCArIFwiIFwiICsgZm9udFNpemVTdHJpbmcgKyBcIiBcIiArIGZvbnRGYW1pbGllcy5qb2luKCcsJyk7XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dFN0eWxlO1xufSgpKTtcbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZ2V0U2luZ2xlQ29sb3IoY29sb3IpIHtcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gaGV4MnN0cmluZyhjb2xvcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGNvbG9yLmluZGV4T2YoJzB4JykgPT09IDApIHtcbiAgICAgICAgICAgIGNvbG9yID0gY29sb3IucmVwbGFjZSgnMHgnLCAnIycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2xvcjtcbn1cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgICAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29sb3JbaV0gPSBnZXRTaW5nbGVDb2xvcihjb2xvcltpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbn1cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MSAtIEZpcnN0IGFycmF5IHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MiAtIFNlY29uZCBhcnJheSB0byBjb21wYXJlXG4gKiBAcmV0dXJuIHtib29sZWFufSBEbyB0aGUgYXJyYXlzIGNvbnRhaW4gdGhlIHNhbWUgdmFsdWVzIGluIHRoZSBzYW1lIG9yZGVyXG4gKi9cbmZ1bmN0aW9uIGFyZUFycmF5c0VxdWFsKGFycmF5MSwgYXJyYXkyKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5MSkgfHwgIUFycmF5LmlzQXJyYXkoYXJyYXkyKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhcnJheTEubGVuZ3RoICE9PSBhcnJheTIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSB2YWx1ZSwgYW5kIG5vdCBieSByZWZlcmVuY2VcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IC0gVGFyZ2V0IG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgaW50b1xuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSAtIFNvdXJjZSBvYmplY3QgZm9yIHRoZSBwcm9wZXJ0aWVzIHRvIGNvcHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU9iaiAtIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgbmFtZXMgd2Ugd2FudCB0byBsb29wIG92ZXJcbiAqL1xuZnVuY3Rpb24gZGVlcENvcHlQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlLCBwcm9wZXJ0eU9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcGVydHlPYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlW3Byb3BdKSkge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogVGhlIFRleHRNZXRyaWNzIG9iamVjdCByZXByZXNlbnRzIHRoZSBtZWFzdXJlbWVudCBvZiBhIGJsb2NrIG9mIHRleHQgd2l0aCBhIHNwZWNpZmllZCBzdHlsZS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHN0eWxlID0gbmV3IFBJWEkuVGV4dFN0eWxlKHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KVxuICogbGV0IHRleHRNZXRyaWNzID0gUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlVGV4dCgnWW91ciB0ZXh0Jywgc3R5bGUpXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0TWV0cmljcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGhlaWdodCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmVzIG9mIHRleHQgYnJva2VuIGJ5IG5ldyBsaW5lcyBhbmQgd3JhcHBpbmcgaWYgc3BlY2lmaWVkIGluIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbGluZVdpZHRocyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lSGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heExpbmVXaWR0aCAtIHRoZSBtYXhpbXVtIGxpbmUgd2lkdGggZm9yIGFsbCBtZWFzdXJlZCBsaW5lc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmb250UHJvcGVydGllcyAtIHRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3R5bGUgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0U3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1lYXN1cmVkIGhlaWdodCBvZiB0aGUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIGxpbmVzIG9mIHRoZSB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlzIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZVdpZHRocyA9IGxpbmVXaWR0aHM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIGxpbmUgd2lkdGggZm9yIGFsbCBtZWFzdXJlZCBsaW5lc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heExpbmVXaWR0aCA9IG1heExpbmVXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JRm9udE1ldHJpY3N9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzID0gZm9udFByb3BlcnRpZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVzIHRoZSBzdXBwbGllZCBzdHJpbmcgb2YgdGV4dCBhbmQgcmV0dXJucyBhIFJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdG8gbWVhc3VyZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSB0ZXh0IHN0eWxlIHRvIHVzZSBmb3IgbWVhc3VyaW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbd29yZFdyYXBdIC0gb3B0aW9uYWwgb3ZlcnJpZGUgZm9yIGlmIHdvcmQtd3JhcCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfSBtZWFzdXJlZCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB0ZXh0LlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gKHRleHQsIHN0eWxlLCB3b3JkV3JhcCwgY2FudmFzKSB7XG4gICAgICAgIGlmIChjYW52YXMgPT09IHZvaWQgMCkgeyBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzOyB9XG4gICAgICAgIHdvcmRXcmFwID0gKHdvcmRXcmFwID09PSB1bmRlZmluZWQgfHwgd29yZFdyYXAgPT09IG51bGwpID8gc3R5bGUud29yZFdyYXAgOiB3b3JkV3JhcDtcbiAgICAgICAgdmFyIGZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgICAgIC8vIGZhbGxiYWNrIGluIGNhc2UgVUEgZGlzYWxsb3cgY2FudmFzIGRhdGEgZXh0cmFjdGlvblxuICAgICAgICAvLyAodG9EYXRhVVJJLCBnZXRJbWFnZURhdGEgZnVuY3Rpb25zKVxuICAgICAgICBpZiAoZm9udFByb3BlcnRpZXMuZm9udFNpemUgPT09IDApIHtcbiAgICAgICAgICAgIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgICAgICBmb250UHJvcGVydGllcy5hc2NlbnQgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgICAgICB2YXIgb3V0cHV0VGV4dCA9IHdvcmRXcmFwID8gVGV4dE1ldHJpY3Mud29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcykgOiB0ZXh0O1xuICAgICAgICB2YXIgbGluZXMgPSBvdXRwdXRUZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBuZXcgQXJyYXkobGluZXMubGVuZ3RoKTtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmVzW2ldKS53aWR0aCArICgobGluZXNbaV0ubGVuZ3RoIC0gMSkgKiBzdHlsZS5sZXR0ZXJTcGFjaW5nKTtcbiAgICAgICAgICAgIGxpbmVXaWR0aHNbaV0gPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgd2lkdGggKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICAgICAgKyAoKGxpbmVzLmxlbmd0aCAtIDEpICogKGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nKSk7XG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBoZWlnaHQgKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZywgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIG5ld2xpbmVzIHRvIGEgc3RyaW5nIHRvIGhhdmUgaXQgb3B0aW1hbGx5IGZpdCBpbnRvIHRoZSBob3Jpem9udGFsXG4gICAgICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdG8gdXNlIHdoZW4gd3JhcHBpbmdcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE5ldyBzdHJpbmcgd2l0aCBuZXcgbGluZXMgYXBwbGllZCB3aGVyZSByZXF1aXJlZFxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLndvcmRXcmFwID0gZnVuY3Rpb24gKHRleHQsIHN0eWxlLCBjYW52YXMpIHtcbiAgICAgICAgaWYgKGNhbnZhcyA9PT0gdm9pZCAwKSB7IGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7IH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIHdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAnJztcbiAgICAgICAgdmFyIGxpbmVzID0gJyc7XG4gICAgICAgIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZywgd2hpdGVTcGFjZSA9IHN0eWxlLndoaXRlU3BhY2U7XG4gICAgICAgIC8vIEhvdyB0byBoYW5kbGUgd2hpdGVzcGFjZXNcbiAgICAgICAgdmFyIGNvbGxhcHNlU3BhY2VzID0gVGV4dE1ldHJpY3MuY29sbGFwc2VTcGFjZXMod2hpdGVTcGFjZSk7XG4gICAgICAgIHZhciBjb2xsYXBzZU5ld2xpbmVzID0gVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyh3aGl0ZVNwYWNlKTtcbiAgICAgICAgLy8gd2hldGhlciBvciBub3Qgc3BhY2VzIG1heSBiZSBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgIHZhciBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAvLyBUaGVyZSBpcyBsZXR0ZXJTcGFjaW5nIGFmdGVyIGV2ZXJ5IGNoYXIgZXhjZXB0IHRoZSBsYXN0IG9uZVxuICAgICAgICAvLyB0X2hfaV9zXycgJ19pX3NfJyAnX2Ffbl8nICdfZV94X2FfbV9wX2xfZV8nICdfIVxuICAgICAgICAvLyBzbyBmb3IgY29udmVuaWVuY2UgdGhlIGFib3ZlIG5lZWRzIHRvIGJlIGNvbXBhcmVkIHRvIHdpZHRoICsgMSBleHRyYSBsZXR0ZXJTcGFjZVxuICAgICAgICAvLyB0X2hfaV9zXycgJ19pX3NfJyAnX2Ffbl8nICdfZV94X2FfbV9wX2xfZV8nICdfIV9cbiAgICAgICAgLy8gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4gICAgICAgIC8vIEFuZCB0aGVuIHRoZSBmaW5hbCBzcGFjZSBpcyBzaW1wbHkgbm8gYXBwZW5kZWQgdG8gZWFjaCBsaW5lXG4gICAgICAgIHZhciB3b3JkV3JhcFdpZHRoID0gc3R5bGUud29yZFdyYXBXaWR0aCArIGxldHRlclNwYWNpbmc7XG4gICAgICAgIC8vIGJyZWFrIHRleHQgaW50byB3b3Jkcywgc3BhY2VzIGFuZCBuZXdsaW5lIGNoYXJzXG4gICAgICAgIHZhciB0b2tlbnMgPSBUZXh0TWV0cmljcy50b2tlbml6ZSh0ZXh0KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgd29yZCwgc3BhY2Ugb3IgbmV3bGluZUNoYXJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIC8vIGlmIHdvcmQgaXMgYSBuZXcgbGluZVxuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzTmV3bGluZSh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGlmICghY29sbGFwc2VOZXdsaW5lcykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSBuZXcgbGluZXNcbiAgICAgICAgICAgICAgICAvLyB3ZSBzaW1wbHkgY29udmVydCBpdCBpbnRvIGEgc3BhY2VcbiAgICAgICAgICAgICAgICB0b2tlbiA9ICcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSByZXBlYXRlZCB3aGl0ZXNwYWNlc1xuICAgICAgICAgICAgaWYgKGNvbGxhcHNlU3BhY2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgYm90aCB0aGlzIGFuZCB0aGUgbGFzdCB0b2tlbnMgZm9yIHNwYWNlc1xuICAgICAgICAgICAgICAgIHZhciBjdXJySXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKTtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdElzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICAgIGlmIChjdXJySXNCcmVha2luZ1NwYWNlICYmIGxhc3RJc0JyZWFraW5nU3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZ2V0IHdvcmQgd2lkdGggZnJvbSBjYWNoZSBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgdmFyIHRva2VuV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUodG9rZW4sIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIC8vIHdvcmQgaXMgbG9uZ2VyIHRoYW4gZGVzaXJlZCBib3VuZHNcbiAgICAgICAgICAgIGlmICh0b2tlbldpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgYWxyZWFkeSBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbGluZVxuICAgICAgICAgICAgICAgIGlmIChsaW5lICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBuZXdsaW5lcyBmb3Igb3ZlcmZsb3cgd29yZHNcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGJyZWFrIGxhcmdlIHdvcmQgb3ZlciBtdWx0aXBsZSBsaW5lc1xuICAgICAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5jYW5CcmVha1dvcmRzKHRva2VuLCBzdHlsZS5icmVha1dvcmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBicmVhayB3b3JkIGludG8gY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVycyA9IFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQodG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIHRoZSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhcmFjdGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXIgPSBjaGFyYWN0ZXJzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIG5vdCBhdCB0aGUgZW5kIG9mIHRoZSB0b2tlblxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoYXJhY3RlcnNbaiArIGtdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gY2hhcmFjdGVyc1tqICsga107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RDaGFyID0gY2hhcltjaGFyLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBub3Qgc3BsaXQgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMobGFzdENoYXIsIG5leHRDaGFyLCB0b2tlbiwgaiwgc3R5bGUuYnJlYWtXb3JkcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tYmluZSBjaGFycyAmIG1vdmUgZm9yd2FyZCBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhciArPSBuZXh0Q2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBqICs9IGNoYXIubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJXaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcnVuIHdvcmQgb3V0IG9mIHRoZSBib3VuZHNcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHdvcmRzIGluIHRoaXMgbGluZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaCB0aGF0IGxpbmUgYW5kIHN0YXJ0IGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0xhc3RUb2tlbiA9IGkgPT09IHRva2Vucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBnaXZlIGl0IGl0cyBvd24gbGluZSBpZiBpdCdzIG5vdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUodG9rZW4sICFpc0xhc3RUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd29yZCBjb3VsZCBmaXRcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHdvcmQgd29uJ3QgZml0IGJlY2F1c2Ugb2YgZXhpc3Rpbmcgd29yZHNcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXRzIGEgc3BhY2Ugd2UgZG9uJ3Qgd2FudCBpdFxuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRvbid0IGFkZCBzcGFjZXMgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDAgfHwgIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbikgfHwgY2FuUHJlcGVuZFNwYWNlcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHdvcmQgdG8gdGhlIGN1cnJlbnQgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lICs9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgd2lkdGggY291bnRlclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSB0b2tlbldpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmllbmllbmNlIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGVhY2ggbGluZSBhZGRlZCBkdXJpbmcgdGhlIHdvcmRXcmFwXG4gICAgICogbWV0aG9kXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICBsaW5lICAgICAgICAtIFRoZSBsaW5lIG9mIHRleHQgdG8gYWRkXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIG5ld0xpbmUgICAgIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICBBIGZvcm1hdHRlZCBsaW5lXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuYWRkTGluZSA9IGZ1bmN0aW9uIChsaW5lLCBuZXdMaW5lKSB7XG4gICAgICAgIGlmIChuZXdMaW5lID09PSB2b2lkIDApIHsgbmV3TGluZSA9IHRydWU7IH1cbiAgICAgICAgbGluZSA9IFRleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcbiAgICAgICAgbGluZSA9IChuZXdMaW5lKSA/IGxpbmUgKyBcIlxcblwiIDogbGluZTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzICYgc2V0cyB0aGUgd2lkdGhzIG9mIGNhbGN1bGF0ZWQgY2hhcmFjdGVycyBpbiBhIGNhY2hlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgICBrZXkgICAgICAgICAgICAtIFRoZSBrZXlcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICAtIFRoZSBsZXR0ZXIgc3BhY2luZ1xuICAgICAqIEBwYXJhbSAge29iamVjdH0gICAgICAgICAgICAgICAgICAgIGNhY2hlICAgICAgICAgIC0gVGhlIGNhY2hlXG4gICAgICogQHBhcmFtICB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAgY29udGV4dCAgICAgICAgLSBUaGUgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBUaGUgZnJvbSBjYWNoZS5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUgPSBmdW5jdGlvbiAoa2V5LCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCkge1xuICAgICAgICB2YXIgd2lkdGggPSBjYWNoZVtrZXldO1xuICAgICAgICBpZiAodHlwZW9mIHdpZHRoICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFyIHNwYWNpbmcgPSAoKGtleS5sZW5ndGgpICogbGV0dGVyU3BhY2luZyk7XG4gICAgICAgICAgICB3aWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQoa2V5KS53aWR0aCArIHNwYWNpbmc7XG4gICAgICAgICAgICBjYWNoZVtrZXldID0gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBicmVha2luZyBzcGFjZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHdoaXRlU3BhY2UgLSBUaGUgVGV4dFN0eWxlIHByb3BlcnR5IHdoaXRlU3BhY2VcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY29sbGFwc2VTcGFjZXMgPSBmdW5jdGlvbiAod2hpdGVTcGFjZSkge1xuICAgICAgICByZXR1cm4gKHdoaXRlU3BhY2UgPT09ICdub3JtYWwnIHx8IHdoaXRlU3BhY2UgPT09ICdwcmUtbGluZScpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBuZXdMaW5lIGNoYXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlIC0gVGhlIHdoaXRlIHNwYWNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMgPSBmdW5jdGlvbiAod2hpdGVTcGFjZSkge1xuICAgICAgICByZXR1cm4gKHdoaXRlU3BhY2UgPT09ICdub3JtYWwnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHRyaW1zIGJyZWFraW5nIHdoaXRlc3BhY2VzIGZyb20gc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgLSBUaGUgdGV4dFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gIHRyaW1tZWQgc3RyaW5nXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MudHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSB0ZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHRbaV07XG4gICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgbmV3bGluZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAtIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiBuZXdsaW5lLCBGYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuaXNOZXdsaW5lID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX25ld2xpbmVzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIGJyZWFraW5nIHdoaXRlc3BhY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgd2hpdGVzcGFjZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSA9IGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYSBzdHJpbmcgaW50byB3b3JkcywgYnJlYWtpbmctc3BhY2VzIGFuZCBuZXdMaW5lIGNoYXJhY3RlcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAtIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7c3RyaW5nW119ICBBIHRva2VuaXplZCBhcnJheVxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLnRva2VuaXplID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdmFyIHRva2VucyA9IFtdO1xuICAgICAgICB2YXIgdG9rZW4gPSAnJztcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikgfHwgVGV4dE1ldHJpY3MuaXNOZXdsaW5lKGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGNoYXIpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW4gKz0gY2hhcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gICAgICogRXhhbXBsZXMgYXJlIGlmIHRoZSB0b2tlbiBpcyBDSksgb3IgbnVtYmVycy5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgICAgICAtIFRoZSB0b2tlblxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3JkcyA9IGZ1bmN0aW9uIChfdG9rZW4sIGJyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIGJyZWFrV29yZHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gICAgICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgICAgICAgIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIG5leHRDaGFyICAgIC0gVGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgICAgLSBUaGUgdG9rZW4vd29yZCB0aGUgY2hhcmFjdGVycyBhcmUgZnJvbVxuICAgICAqIEBwYXJhbSAge251bWJlcn0gIGluZGV4ICAgICAgIC0gVGhlIGluZGV4IGluIHRoZSB0b2tlbiBvZiB0aGUgY2hhclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzIC0gVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyA9IGZ1bmN0aW9uIChfY2hhciwgX25leHRDaGFyLCBfdG9rZW4sIF9pbmRleCwgX2JyZWFrV29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBoZWxwZXIgbWV0aG9kIHVzZWQgaW50ZXJuYWxseSBieSBUZXh0TWV0cmljcywgZXhwb3NlZCB0byBhbGxvdyBjdXN0b21pemluZyB0aGUgY2xhc3MncyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqIEl0IGlzIGNhbGxlZCB3aGVuIGEgdG9rZW4gKHVzdWFsbHkgYSB3b3JkKSBoYXMgdG8gYmUgc3BsaXQgaW50byBzZXBhcmF0ZSBwaWVjZXNcbiAgICAgKiBpbiBvcmRlciB0byBkZXRlcm1pbmUgdGhlIHBvaW50IHRvIGJyZWFrIGEgd29yZC5cbiAgICAgKiBJdCBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDb3JyZWN0bHkgc3BsaXRzIGVtb2ppcywgZWcgXCLwn6Sq8J+kqlwiIHdpbGwgcmVzdWx0IGluIHR3byBlbGVtZW50IGFycmF5LCBlYWNoIHdpdGggb25lIGVtb2ppLlxuICAgICAqIFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQgPSAodG9rZW4pID0+IFsuLi50b2tlbl07XG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAtIFRoZSB0b2tlbiB0byBzcGxpdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSBUaGUgY2hhcmFjdGVycyBvZiB0aGUgdG9rZW5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy53b3JkV3JhcFNwbGl0ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi5zcGxpdCgnJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklGb250TWV0cmljc30gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gKGZvbnQpIHtcbiAgICAgICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSkge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIGFzY2VudDogMCxcbiAgICAgICAgICAgIGRlc2NlbnQ6IDAsXG4gICAgICAgICAgICBmb250U2l6ZTogMCxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHZhciBtZXRyaWNzU3RyaW5nID0gVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0w7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KG1ldHJpY3NTdHJpbmcpLndpZHRoKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKS53aWR0aCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyICogYmFzZWxpbmU7XG4gICAgICAgIGJhc2VsaW5lID0gYmFzZWxpbmUgKiBUZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSIHwgMDtcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljJztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQobWV0cmljc1N0cmluZywgMCwgYmFzZWxpbmUpO1xuICAgICAgICB2YXIgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgICAgdmFyIHBpeGVscyA9IGltYWdlZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBsaW5lID0gd2lkdGggKiA0O1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICB2YXIgc3RvcCA9IGZhbHNlO1xuICAgICAgICAvLyBhc2NlbnQuIHNjYW4gZnJvbSB0b3AgdG8gYm90dG9tIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlbGluZTsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmU7IGogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzLmFzY2VudCA9IGJhc2VsaW5lIC0gaTtcbiAgICAgICAgaWR4ID0gcGl4ZWxzIC0gbGluZTtcbiAgICAgICAgc3RvcCA9IGZhbHNlO1xuICAgICAgICAvLyBkZXNjZW50LiBzY2FuIGZyb20gYm90dG9tIHRvIHRvcCB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgICAgICBmb3IgKGkgPSBoZWlnaHQ7IGkgPiBiYXNlbGluZTsgLS1pKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmU7IGogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4IC09IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzLmRlc2NlbnQgPSBpIC0gYmFzZWxpbmU7XG4gICAgICAgIHByb3BlcnRpZXMuZm9udFNpemUgPSBwcm9wZXJ0aWVzLmFzY2VudCArIHByb3BlcnRpZXMuZGVzY2VudDtcbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhciBmb250IG1ldHJpY3MgaW4gbWV0cmljcyBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZvbnRdIC0gZm9udCBuYW1lLiBJZiBmb250IG5hbWUgbm90IHNldCB0aGVuIGNsZWFyIGNhY2hlIGZvciBhbGwgZm9udHMuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY2xlYXJNZXRyaWNzID0gZnVuY3Rpb24gKGZvbnQpIHtcbiAgICAgICAgaWYgKGZvbnQgPT09IHZvaWQgMCkgeyBmb250ID0gJyc7IH1cbiAgICAgICAgaWYgKGZvbnQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRleHRNZXRyaWNzO1xufSgpKTtcbi8qKlxuICogSW50ZXJuYWwgcmV0dXJuIG9iamVjdCBmb3Ige0BsaW5rIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250YH0uXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBUaGUgYXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVzY2VudCAtIFRoZSBkZXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemUgZnJvbSBhc2NlbnQgdG8gZGVzY2VudFxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBjYW52YXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIE9mZnNjcmVlbkNhbnZhczJEIG1lYXN1cmVUZXh0IGNhbiBiZSB1cCB0byA0MCUgZmFzdGVyLlxuICAgICAgICB2YXIgYyA9IG5ldyBPZmZzY3JlZW5DYW52YXMoMCwgMCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gYy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Lm1lYXN1cmVUZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxuICAgIGNhdGNoIChleCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxufSkoKTtcbmNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcbi8qKlxuICogQ2FjaGVkIGNhbnZhcyBlbGVtZW50IGZvciBtZWFzdXJpbmcgdGV4dFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY2FudmFzID0gY2FudmFzO1xuLyoqXG4gKiBDYWNoZSBmb3IgY29udGV4dCB0byB1c2UuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuLyoqXG4gKiBDYWNoZSBvZiB7QHNlZSBQSVhJLlRleHRNZXRyaWNzLkZvbnRNZXRyaWNzfSBvYmplY3RzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4vKipcbiAqIFN0cmluZyB1c2VkIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogVGhlc2UgY2hhcmFjdGVycyBhcmUgYWxsIHRhbGwgdG8gaGVscCBjYWxjdWxhdGUgdGhlIGhlaWdodCByZXF1aXJlZCBmb3IgdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgTUVUUklDU19TVFJJTkdcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCB8w4lxw4VcbiAqL1xuVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgPSAnfMOJccOFJztcbi8qKlxuICogQmFzZWxpbmUgc3ltYm9sIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9TWU1CT0xcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCBNXG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCA9ICdNJztcbi8qKlxuICogQmFzZWxpbmUgbXVsdGlwbGllciBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfTVVMVElQTElFUlxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDEuNFxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSID0gMS40O1xuLyoqXG4gKiBDYWNoZSBvZiBuZXcgbGluZSBjaGFycy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX25ld2xpbmVzID0gW1xuICAgIDB4MDAwQSxcbiAgICAweDAwMEQgXTtcbi8qKlxuICogQ2FjaGUgb2YgYnJlYWtpbmcgc3BhY2VzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMgPSBbXG4gICAgMHgwMDA5LFxuICAgIDB4MDAyMCxcbiAgICAweDIwMDAsXG4gICAgMHgyMDAxLFxuICAgIDB4MjAwMixcbiAgICAweDIwMDMsXG4gICAgMHgyMDA0LFxuICAgIDB4MjAwNSxcbiAgICAweDIwMDYsXG4gICAgMHgyMDA4LFxuICAgIDB4MjAwOSxcbiAgICAweDIwMEEsXG4gICAgMHgyMDVGLFxuICAgIDB4MzAwMCBdO1xuLyoqXG4gKiBBIG51bWJlciwgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlci5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYgSUZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gRm9udCBhc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gRm9udCBkZXNjZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemVcbiAqL1xuXG52YXIgZGVmYXVsdERlc3Ryb3lPcHRpb25zID0ge1xuICAgIHRleHR1cmU6IHRydWUsXG4gICAgY2hpbGRyZW46IGZhbHNlLFxuICAgIGJhc2VUZXh0dXJlOiB0cnVlLFxufTtcbi8qKlxuICogQSBUZXh0IE9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dC5cbiAqXG4gKiBUaGUgdGV4dCBpcyBjcmVhdGVkIHVzaW5nIHRoZSBbQ2FudmFzIEFQSV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc19BUEkpLlxuICpcbiAqIFRoZSBwcmltYXJ5IGFkdmFudGFnZSBvZiB0aGlzIGNsYXNzIG92ZXIgQml0bWFwVGV4dCBpcyB0aGF0IHlvdSBoYXZlIGdyZWF0IGNvbnRyb2wgb3ZlciB0aGUgc3R5bGUgb2YgdGhlIG5leHQsXG4gKiB3aGljaCB5b3UgY2FuIGNoYW5nZSBhdCBydW50aW1lLlxuICpcbiAqIFRoZSBwcmltYXJ5IGRpc2FkdmFudGFnZXMgaXMgdGhhdCBlYWNoIHBpZWNlIG9mIHRleHQgaGFzIGl0J3Mgb3duIHRleHR1cmUsIHdoaWNoIGNhbiB1c2UgbW9yZSBtZW1vcnkuXG4gKiBXaGVuIHRleHQgY2hhbmdlcywgdGhpcyB0ZXh0dXJlIGhhcyB0byBiZSByZS1nZW5lcmF0ZWQgYW5kIHJlLXVwbG9hZGVkIHRvIHRoZSBHUFUsIHRha2luZyB1cCB0aW1lLlxuICpcbiAqIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJyBpbiB5b3VyIHRleHQgc3RyaW5nLCBvciwgb24gdGhlIGBzdHlsZWAgb2JqZWN0LFxuICogY2hhbmdlIGl0cyBgd29yZFdyYXBgIHByb3BlcnR5IHRvIHRydWUgYW5kIGFuZCBnaXZlIHRoZSBgd29yZFdyYXBXaWR0aGAgcHJvcGVydHkgYSB2YWx1ZS5cbiAqXG4gKiBBIFRleHQgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhIHN0cmluZyBhbmQgYSBzdHlsZSBvYmplY3QsXG4gKiB3aGljaCBjYW4gYmUgZ2VuZXJhdGVkIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dCA9IG5ldyBQSVhJLlRleHQoJ1RoaXMgaXMgYSBQaXhpSlMgdGV4dCcse2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIFRoZSBjYW52YXMgZWxlbWVudCBmb3IgZHJhd2luZyB0ZXh0XG4gICAgICovXG4gICAgZnVuY3Rpb24gVGV4dCh0ZXh0LCBzdHlsZSwgY2FudmFzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvd25DYW52YXMgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgb3duQ2FudmFzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMud2lkdGggPSAzO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMztcbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlLmZyb20oY2FudmFzKTtcbiAgICAgICAgdGV4dHVyZS5vcmlnID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICB0ZXh0dXJlLnRyaW0gPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGV4dHVyZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXAgdHJhY2sgaWYgdGhpcyBUZXh0IG9iamVjdCBjcmVhdGVkIGl0J3Mgb3duIGNhbnZhc1xuICAgICAgICAgKiBlbGVtZW50IChgdHJ1ZWApIG9yIHVzZXMgdGhlIGNvbnN0cnVjdG9yIGFyZ3VtZW50IChgZmFsc2VgKS5cbiAgICAgICAgICogVXNlZCB0byB3b3JrYXJvdW5kIGEgR0MgaXNzdWVzIHdpdGggU2FmYXJpIDwgMTMgd2hlblxuICAgICAgICAgKiBkZXN0cm95aW5nIFRleHQuIFNlZSBgZGVzdHJveWAgZm9yIG1vcmUgaW5mby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9vd25DYW52YXMgPSBvd25DYW52YXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyAyZCBjb250ZXh0IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB3aXRoXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHQgPSBfdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICAgICAqIFRoaXMgaXMgc2V0IHRvIGF1dG9tYXRpY2FsbHkgbWF0Y2ggdGhlIHJlbmRlcmVyIHJlc29sdXRpb24gYnkgZGVmYXVsdCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgbWFudWFsbHkuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3Jlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICBfdGhpcy5fYXV0b1Jlc29sdXRpb24gPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSBsaXN0ZW5lciB0byB0cmFjayBzdHlsZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnQgPSAnJztcbiAgICAgICAgX3RoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIF90aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIF90aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCB0byBpdHMgY2FudmFzLCBhbmQgdXBkYXRlcyBpdHMgdGV4dHVyZS5cbiAgICAgKiBCeSBkZWZhdWx0IHRoaXMgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIGVuc3VyZSB0aGUgdGV4dHVyZSBpcyBjb3JyZWN0IGJlZm9yZSByZW5kZXJpbmcsXG4gICAgICogYnV0IGl0IGNhbiBiZSB1c2VkIGNhbGxlZCBleHRlcm5hbGx5LCBmb3IgZXhhbXBsZSBmcm9tIHRoaXMgY2xhc3MgdG8gJ3ByZS1nZW5lcmF0ZScgdGhlIHRleHR1cmUgZnJvbSBhIHBpZWNlIG9mIHRleHQsXG4gICAgICogYW5kIHRoZW4gc2hhcmVkIGFjcm9zcyBtdWx0aXBsZSBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXNwZWN0RGlydHkgLSBXaGV0aGVyIHRvIGFib3J0IHVwZGF0aW5nIHRoZSB0ZXh0IGlmIHRoZSBUZXh0IGlzbid0IGRpcnR5IGFuZCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiAocmVzcGVjdERpcnR5KSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICAvLyBjaGVjayBpZiBzdHlsZSBoYXMgY2hhbmdlZC4uXG4gICAgICAgIGlmICh0aGlzLmxvY2FsU3R5bGVJRCAhPT0gc3R5bGUuc3R5bGVJRCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IHN0eWxlLnN0eWxlSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmRpcnR5ICYmIHJlc3BlY3REaXJ0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBtZWFzdXJlZCA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRoaXMuX3RleHQgfHwgJyAnLCB0aGlzLl9zdHlsZSwgdGhpcy5fc3R5bGUud29yZFdyYXAsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZWQud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBtZWFzdXJlZC5oZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgICAgICB2YXIgbGluZUhlaWdodCA9IG1lYXN1cmVkLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWVhc3VyZWQuZm9udFByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCB3aWR0aCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIGhlaWdodCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuX3Jlc29sdXRpb24sIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25YO1xuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWTtcbiAgICAgICAgLy8gcmVxdWlyZSAyIHBhc3NlcyBpZiBhIHNoYWRvdzsgdGhlIGZpcnN0IHRvIGRyYXcgdGhlIGRyb3Agc2hhZG93LCB0aGUgc2Vjb25kIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgICAgdmFyIHBhc3Nlc0NvdW50ID0gc3R5bGUuZHJvcFNoYWRvdyA/IDIgOiAxO1xuICAgICAgICAvLyBGb3IgdjQsIHdlIGRyZXcgdGV4dCBhdCB0aGUgY29sb3VycyBvZiB0aGUgZHJvcCBzaGFkb3cgdW5kZXJuZWF0aCB0aGUgbm9ybWFsIHRleHQuIFRoaXMgZ2F2ZSB0aGUgY29ycmVjdCB6SW5kZXgsXG4gICAgICAgIC8vIGJ1dCBmZWF0dXJlcyBzdWNoIGFzIGFscGhhIGFuZCBzaGFkb3dibHVyIGRpZCBub3QgbG9vayByaWdodCBhdCBhbGwsIHNpbmNlIHdlIHdlcmUgdXNpbmcgYWN0dWFsIHRleHQgYXMgYSBzaGFkb3cuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciB2NS4wLjAsIHdlIG1vdmVkIG92ZXIgdG8ganVzdCB1c2UgdGhlIGNhbnZhcyBBUEkgZm9yIGRyb3Agc2hhZG93cywgd2hpY2ggbWFkZSB0aGVtIGxvb2sgbXVjaCBuaWNlciBhbmQgbW9yZVxuICAgICAgICAvLyB2aXN1YWxseSBwbGVhc2UsIGJ1dCBub3cgYmVjYXVzZSB0aGUgc3Ryb2tlIGlzIGRyYXduIGFuZCB0aGVuIHRoZSBmaWxsLCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG9uIGJvdGggdGhlIGZpbGxcbiAgICAgICAgLy8gYW5kIHRoZSBzdHJva2U7IGFuZCBmaWxsIGRyb3Agc2hhZG93cyB3b3VsZCBhcHBlYXIgb3ZlciB0aGUgdG9wIG9mIHRoZSBzdHJva2UuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciB2NS4xLjEsIHRoZSBuZXcgcm91dGUgaXMgdG8gcmV2ZXJ0IHRvIHY0IHN0eWxlIG9mIGRyYXdpbmcgdGV4dCBmaXJzdCB0byBnZXQgdGhlIGRyb3Agc2hhZG93cyB1bmRlcm5lYXRoIG5vcm1hbFxuICAgICAgICAvLyB0ZXh0LCBidXQgaW5zdGVhZCBkcmF3aW5nIHRleHQgaW4gdGhlIGNvcnJlY3QgbG9jYXRpb24sIHdlJ2xsIGRyYXcgaXQgb2ZmIHNjcmVlbiAoLXBhZGRpbmdZKSwgYW5kIHRoZW4gYWRqdXN0IHRoZVxuICAgICAgICAvLyBkcm9wIHNoYWRvdyBzbyBvbmx5IHRoYXQgYXBwZWFycyBvbiBzY3JlZW4gKCtwYWRkaW5nWSkuIE5vdyB3ZSdsbCBoYXZlIHRoZSBjb3JyZWN0IGRyYXcgb3JkZXIgb2YgdGhlIHNoYWRvd1xuICAgICAgICAvLyBiZW5lYXRoIHRoZSB0ZXh0LCB3aGlsc3QgYWxzbyBoYXZpbmcgdGhlIHByb3BlciB0ZXh0IHNoYWRvdyBzdHlsaW5nLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhc3Nlc0NvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpc1NoYWRvd1Bhc3MgPSBzdHlsZS5kcm9wU2hhZG93ICYmIGkgPT09IDA7XG4gICAgICAgICAgICAvLyB3ZSBvbmx5IHdhbnQgdGhlIGRyb3Agc2hhZG93LCBzbyBwdXQgdGV4dCB3YXkgb2ZmLXNjcmVlblxuICAgICAgICAgICAgdmFyIGRzT2Zmc2V0VGV4dCA9IGlzU2hhZG93UGFzcyA/IE1hdGguY2VpbChNYXRoLm1heCgxLCBoZWlnaHQpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgOiAwO1xuICAgICAgICAgICAgdmFyIGRzT2Zmc2V0U2hhZG93ID0gZHNPZmZzZXRUZXh0ICogdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGlmIChpc1NoYWRvd1Bhc3MpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBTYWZhcmksIHRleHQgd2l0aCBncmFkaWVudCBhbmQgZHJvcCBzaGFkb3dzIHRvZ2V0aGVyIGRvIG5vdCBwb3NpdGlvbiBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc2NhbGUgb2YgdGhlIGNhbnZhcyBpcyBub3QgMTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE5NzY4OVxuICAgICAgICAgICAgICAgIC8vIFRoZXJlZm9yZSB3ZSdsbCBzZXQgdGhlIHN0eWxlcyB0byBiZSBhIHBsYWluIGJsYWNrIHdoaWxzdCBnZW5lcmF0aW5nIHRoaXMgZHJvcCBzaGFkb3dcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgdmFyIGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgICAgICB2YXIgcmdiID0gaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSAnbnVtYmVyJyA/IGRyb3BTaGFkb3dDb2xvciA6IHN0cmluZzJoZXgoZHJvcFNoYWRvd0NvbG9yKSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwicmdiYShcIiArIHJnYlswXSAqIDI1NSArIFwiLFwiICsgcmdiWzFdICogMjU1ICsgXCIsXCIgKyByZ2JbMl0gKiAyNTUgKyBcIixcIiArIHN0eWxlLmRyb3BTaGFkb3dBbHBoYSArIFwiKVwiO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gKE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UpICsgZHNPZmZzZXRTaGFkb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMsIG1lYXN1cmVkKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgICAgICAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgbGluZXMubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSAoKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpICsgKGlfMSAqIGxpbmVIZWlnaHQpKSArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudDtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2lfMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2lfMV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhsaW5lc1tpXzFdLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2lfMV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSB0ZXh0IHdpdGggbGV0dGVyLXNwYWNpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cm9rZT1mYWxzZV0gLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICAgKiAgdGV4dD8gSWYgbm90LCBpdCdzIGZvciB0aGUgaW5zaWRlIGZpbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmRyYXdMZXR0ZXJTcGFjaW5nID0gZnVuY3Rpb24gKHRleHQsIHgsIHksIGlzU3Ryb2tlKSB7XG4gICAgICAgIGlmIChpc1N0cm9rZSA9PT0gdm9pZCAwKSB7IGlzU3Ryb2tlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIC8vIGxldHRlclNwYWNpbmcgb2YgMCBtZWFucyBub3JtYWxcbiAgICAgICAgdmFyIGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHg7XG4gICAgICAgIC8vIFVzaW5nIEFycmF5LmZyb20gY29ycmVjdGx5IHNwbGl0cyBjaGFyYWN0ZXJzIHdoaWxzdCBrZWVwaW5nIGVtb2ppIHRvZ2V0aGVyLlxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgYXMgaXQgcmVxdWlyZXMgRVM2LCBzbyByZWd1bGFyIHRleHQgc3BsaXR0aW5nIG9jY3Vycy5cbiAgICAgICAgLy8gVGhpcyBhbHNvIGRvZXNuJ3QgYWNjb3VudCBmb3IgZW1vamkgdGhhdCBhcmUgbXVsdGlwbGUgZW1vamkgcHV0IHRvZ2V0aGVyIHRvIG1ha2Ugc29tZXRoaW5nIGVsc2UuXG4gICAgICAgIC8vIEhhbmRsaW5nIGFsbCBvZiB0aGlzIHdvdWxkIHJlcXVpcmUgYSBiaWcgbGlicmFyeSBpdHNlbGYuXG4gICAgICAgIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS9AZ2lsdGF5YXIvaXRlcmF0aW5nLW92ZXItZW1vamktY2hhcmFjdGVycy10aGUtZXM2LXdheS1mMDZlNDU4OTUxNlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vb3JsaW5nL2dyYXBoZW1lLXNwbGl0dGVyXG4gICAgICAgIHZhciBzdHJpbmdBcnJheSA9IEFycmF5LmZyb20gPyBBcnJheS5mcm9tKHRleHQpIDogdGV4dC5zcGxpdCgnJyk7XG4gICAgICAgIHZhciBwcmV2aW91c1dpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICB2YXIgY3VycmVudFdpZHRoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDaGFyID0gc3RyaW5nQXJyYXlbaV07XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0LnN1YnN0cmluZyhpICsgMSkpLndpZHRoO1xuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uICs9IHByZXZpb3VzV2lkdGggLSBjdXJyZW50V2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgcHJldmlvdXNXaWR0aCA9IGN1cnJlbnRXaWR0aDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0dXJlIHNpemUgYmFzZWQgb24gY2FudmFzIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgICBpZiAodGhpcy5fc3R5bGUudHJpbSkge1xuICAgICAgICAgICAgdmFyIHRyaW1tZWQgPSB0cmltQ2FudmFzKGNhbnZhcyk7XG4gICAgICAgICAgICBpZiAodHJpbW1lZC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdHJpbW1lZC53aWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdHJpbW1lZC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0cmltbWVkLmRhdGEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUudHJpbSA/IDAgOiBzdHlsZS5wYWRkaW5nO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCA9IE1hdGguY2VpbChjYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRleHR1cmUudHJpbS54ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUudHJpbS55ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUub3JpZy53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgdGV4dHVyZS5vcmlnLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIC8vIGNhbGwgc3ByaXRlIG9uVGV4dHVyZVVwZGF0ZSB0byB1cGRhdGUgc2NhbGUgaWYgX3dpZHRoIG9yIF9oZWlnaHQgd2VyZSBzZXRcbiAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlYWxTaXplKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHVwZGF0ZXMgdHJhbnNmb3JtIG9mIGFsbCBvYmplY3RzIGZyb20gdGhlIHJvb3QgdG8gdGhpcyBvbmVcbiAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9SZXNvbHV0aW9uICYmIHRoaXMuX3Jlc29sdXRpb24gIT09IHJlbmRlcmVyLnJlc29sdXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBUZXh0IGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgZG9uZSB0aGlzIG9uIFRISVMgZnJhbWUuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fZ2VuZXJhdGVGaWxsU3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUsIGxpbmVzLCBtZXRyaWNzKSB7XG4gICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmZpbGw7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxsU3R5bGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsbFN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxsU3R5bGVbMF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSB3b3VsZCBjcmVhdGVkIHN0b3BzIGF0IDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICB2YXIgZ3JhZGllbnQ7XG4gICAgICAgIC8vIGEgZHJvcHNoYWRvdyB3aWxsIGVubGFyZ2UgdGhlIGNhbnZhcyBhbmQgcmVzdWx0IGluIHRoZSBncmFkaWVudCBiZWluZ1xuICAgICAgICAvLyBnZW5lcmF0ZWQgd2l0aCB0aGUgaW5jb3JyZWN0IGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIGRyb3BTaGFkb3dDb3JyZWN0aW9uID0gKHN0eWxlLmRyb3BTaGFkb3cpID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMDtcbiAgICAgICAgLy8gc2hvdWxkIGFsc28gdGFrZSBwYWRkaW5nIGludG8gYWNjb3VudCwgcGFkZGluZyBjYW4gb2Zmc2V0IHRoZSBncmFkaWVudFxuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnBhZGRpbmcgfHwgMDtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5fcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgICAgICB2YXIgZmlsbCA9IGZpbGxTdHlsZS5zbGljZSgpO1xuICAgICAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuICAgICAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaChpIC8gbGVuZ3RoUGx1czEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgICAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICAgICAgZmlsbC51bnNoaWZ0KGZpbGxTdHlsZVswXSk7XG4gICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG4gICAgICAgIGZpbGwucHVzaChmaWxsU3R5bGVbZmlsbFN0eWxlLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcbiAgICAgICAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIHBhZGRpbmcsIHdpZHRoIC8gMiwgaGVpZ2h0ICsgcGFkZGluZyk7XG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgICAgICAvLyBUaGVyZSdzIHBvdGVudGlhbCBmb3IgZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGlzc3VlcyBhdCB0aGUgc2VhbXMgYmV0d2VlbiBncmFkaWVudCByZXBlYXRzLlxuICAgICAgICAgICAgLy8gVGhlIGxvb3AgYmVsb3cgZ2VuZXJhdGVzIHRoZSBzdG9wcyBpbiBvcmRlciwgc28gdHJhY2sgdGhlIGxhc3QgZ2VuZXJhdGVkIG9uZSB0byBwcmV2ZW50XG4gICAgICAgICAgICAvLyBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gZnJvbSBtYWtpbmcgdXMgZ28gdGhlIHRlZW5pZXN0IGJpdCBiYWNrd2FyZHMsIHJlc3VsdGluZyBpblxuICAgICAgICAgICAgLy8gdGhlIGZpcnN0IGFuZCBsYXN0IGNvbG9ycyBnZXR0aW5nIHN3YXBwZWQuXG4gICAgICAgICAgICB2YXIgbGFzdEl0ZXJhdGlvblN0b3AgPSAwO1xuICAgICAgICAgICAgLy8gQWN0dWFsIGhlaWdodCBvZiB0aGUgdGV4dCBpdHNlbGYsIG5vdCBjb3VudGluZyBzcGFjaW5nIGZvciBsaW5lSGVpZ2h0L2xlYWRpbmcvZHJvcFNoYWRvdyBldGNcbiAgICAgICAgICAgIHZhciB0ZXh0SGVpZ2h0ID0gbWV0cmljcy5mb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgICAgIC8vIHRleHRIZWlnaHQsIGJ1dCBhcyBhIDAtMSBzaXplIGluIGdsb2JhbCBncmFkaWVudCBzdG9wIHNwYWNlXG4gICAgICAgICAgICB2YXIgZ3JhZFN0b3BMaW5lSGVpZ2h0ID0gdGV4dEhlaWdodCAvIGhlaWdodDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhpc0xpbmVUb3AgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiBpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsbC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAvLyAwLTEgc3RvcCBwb2ludCBmb3IgdGhlIGN1cnJlbnQgbGluZSwgbXVsdGlwbGllZCB0byBnbG9iYWwgc3BhY2UgYWZ0ZXJ3YXJkc1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGluZVN0b3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBmaWxsR3JhZGllbnRTdG9wc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gaiAvIGZpbGwubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBnbG9iYWxTdG9wID0gKHRoaXNMaW5lVG9wIC8gaGVpZ2h0KSArIChsaW5lU3RvcCAqIGdyYWRTdG9wTGluZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgY29sb3Igc3RvcCBnZW5lcmF0aW9uIGdvaW5nIGJhY2t3YXJkcyBmcm9tIGZsb2F0aW5nIHBvaW50IGltcHJlY2lzaW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBjbGFtcGVkU3RvcCA9IE1hdGgubWF4KGxhc3RJdGVyYXRpb25TdG9wLCBnbG9iYWxTdG9wKTtcbiAgICAgICAgICAgICAgICAgICAgY2xhbXBlZFN0b3AgPSBNYXRoLm1pbihjbGFtcGVkU3RvcCwgMSk7IC8vIENhcCBhdCAxIGFzIHdlbGwgZm9yIHNhZmV0eSdzIHNha2UgdG8gYXZvaWQgYSBwb3NzaWJsZSB0aHJvdy5cbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKGNsYW1wZWRTdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEl0ZXJhdGlvblN0b3AgPSBjbGFtcGVkU3RvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudChwYWRkaW5nLCBoZWlnaHQgLyAyLCB3aWR0aCArIHBhZGRpbmcsIGhlaWdodCAvIDIpO1xuICAgICAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgICAgICB2YXIgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRJdGVyYXRpb24gPSAxO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0b3AgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tpXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2ldKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdyYWRpZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0IG9iamVjdC5cbiAgICAgKiBOb3RlKiBVbmxpa2UgYSBTcHJpdGUsIGEgVGV4dCBvYmplY3Qgd2lsbCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgaXRzIGJhc2VUZXh0dXJlIGFuZCB0ZXh0dXJlIGFzXG4gICAgICogdGhlIG1ham9yaXR5IG9mIHRoZSB0aW1lIHRoZSB0ZXh0dXJlIHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIGFueSBvdGhlciBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBvcHRpb25zID0geyBjaGlsZHJlbjogb3B0aW9ucyB9O1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGVzdHJveU9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgLy8gc2V0IGNhbnZhcyB3aWR0aCBhbmQgaGVpZ2h0IHRvIDAgdG8gd29ya2Fyb3VuZCBtZW1vcnkgbGVhayBpbiBTYWZhcmkgPCAxM1xuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MjUzMjYxNC90b3RhbC1jYW52YXMtbWVtb3J5LXVzZS1leGNlZWRzLXRoZS1tYXhpbXVtLWxpbWl0LXNhZmFyaS0xMlxuICAgICAgICBpZiAodGhpcy5fb3duQ2FudmFzKSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy53aWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIHJlc2V0IHRoZSB0aGUgY29udGV4dCBhbmQgY2FudmFzLi4gZG9udCB3YW50IHRoaXMgaGFuZ2luZyBhcm91bmQgaW4gbWVtb3J5IVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS55KSB8fCAxO1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcInN0eWxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgc3R5bGUgb2YgdGhlIHRleHQuIFNldCB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhlIHN0eWxlXG4gICAgICAgICAqIG9iamVjdCBhbmQgbWFyayB0aGUgdGV4dCBhcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIElUZXh0U3R5bGVcbiAgICAgICAgICAgIC8vICAgICAgIHNpbmNlIHRoZSBzZXR0ZXIgY3JlYXRlcyB0aGUgVGV4dFN0eWxlLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAgICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcbiAgICAgICAgICAgIGlmIChzdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZSA9IG5ldyBUZXh0U3R5bGUoc3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcInRleHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBjb3B5IGZvciB0aGUgdGV4dCBvYmplY3QuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCA/ICcnIDogdGV4dCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwicmVzb2x1dGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc29sdXRpb24gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGV4dDtcbn0oU3ByaXRlKSk7XG5cbmV4cG9ydCB7IFRFWFRfR1JBRElFTlQsIFRleHQsIFRleHRNZXRyaWNzLCBUZXh0U3R5bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZSAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFBvaW50LCBPYnNlcnZhYmxlUG9pbnQsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xudmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbi8qKlxuICogVGhlIFNwcml0ZSBvYmplY3QgaXMgdGhlIGJhc2UgZm9yIGFsbCB0ZXh0dXJlZCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIHRvIHRoZSBzY3JlZW5cbipcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IHdheSB0byBjcmVhdGUgc3ByaXRlcyBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fSxcbiAqIGFzIHN3YXBwaW5nIGJhc2UgdGV4dHVyZXMgd2hlbiByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiBpcyBpbmVmZmljaWVudC5cbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNwcml0ZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmVdIC0gVGhlIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZSh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHBvaW50IGRlZmluZXMgdGhlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNcbiAgICAgICAgICogaW4gdGhlIHRleHR1cmUgdGhhdCBtYXAgdG8gdGhlIHBvc2l0aW9uIG9mIHRoaXNcbiAgICAgICAgICogc3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCB0aGlzIGlzIGAoMCwwKWAgKG9yIGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIGlmIHlvdSBoYXZlIG1vZGlmaWVkIHRoYXQpLCB3aGljaCBtZWFucyB0aGUgcG9zaXRpb25cbiAgICAgICAgICogYCh4LHkpYCBvZiB0aGlzIGBTcHJpdGVgIHdpbGwgYmUgdGhlIHRvcC1sZWZ0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogVXBkYXRpbmcgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmAgYWZ0ZXJcbiAgICAgICAgICogY29uc3RydWN0aW5nIGEgYFNwcml0ZWAgZG9lcyBfbm90XyB1cGRhdGUgaXRzIGFuY2hvci5cbiAgICAgICAgICpcbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZG9jcy5jb2NvczJkLXgub3JnL2NvY29zMmQteC9lbi9zcHJpdGVzL21hbmlwdWxhdGlvbi5odG1sfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KF90aGlzLl9vbkFuY2hvclVwZGF0ZSwgX3RoaXMsICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnggOiAwKSwgKHRleHR1cmUgPyB0ZXh0dXJlLmRlZmF1bHRBbmNob3IueSA6IDApKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIFJHQiB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTY3NzcyMTVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50UkdCID0gbnVsbDtcbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZWQgdGludCB2YWx1ZSBzbyB3ZSBjYW4gdGVsbCB3aGVuIHRoZSB0aW50IGlzIGNoYW5nZWQuXG4gICAgICAgICAqIFZhbHVlIGlzIHVzZWQgZm9yIDJkIENhbnZhc1JlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHV2cyBkYXRhIG9mIHRoZSBzcHJpdGUsIGFzc2lnbmVkIGF0IHRoZSBzYW1lIHRpbWVcbiAgICAgICAgICogYXMgdGhlIHZlcnRleERhdGEgaW4gY2FsY3VsYXRlVmVydGljZXMoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dnMgPSBudWxsO1xuICAgICAgICAvLyBjYWxsIHRleHR1cmUgc2V0dGVyXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHZlcnRleCBkYXRhIG9mIHRoZSBzcHJpdGUgKGJhc2ljYWxseSBhIHF1YWQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG51bGw7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICBfdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgX3RoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgLy8gQmF0Y2hhYmxlIHN0dWZmLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCBtYWtlIHRoaXMgYSBtaXhpbj9cbiAgICAgICAgX3RoaXMuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBsdWdpbk5hbWUgPSAnYmF0Y2gnO1xuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Nwcml0ZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgLy8gc28gaWYgX3dpZHRoIGlzIDAgdGhlbiB3aWR0aCB3YXMgbm90IHNldC4uXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gc2lnbih0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gc2lnbih0aGlzLnNjYWxlLnkpICogdGhpcy5faGVpZ2h0IC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGFuY2hvciBwb3NpdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vbkFuY2hvclVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMsIHN0b3JlIGl0IGluIHZlcnRleERhdGFcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSB0ZXh0dXJlIFVWIGhlcmUsIGJlY2F1c2UgYmFzZSB0ZXh0dXJlIGNhbiBiZSBjaGFuZ2VkIHdpdGhvdXQgY2FsbGluZyBgX29uVGV4dHVyZVVwZGF0ZWBcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIC8vIHNldCB0aGUgdmVydGV4IGRhdGFcbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChhbmNob3IuX3ggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoYW5jaG9yLl95ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuICAgICAgICAgICAgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCgodmVydGV4RGF0YVtpXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMgZm9yIGEgbm9uIHRleHR1cmUgd2l0aCBhIHRyaW0uIHN0b3JlIGl0IGluIHZlcnRleFRyaW1tZWREYXRhXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IHRoZSB0cnVlIHdpZHRoIGFuZCBoZWlnaHQgb2YgYSB0cmltbWVkIHRleHR1cmUgaXMgcmVzcGVjdGVkXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID09PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSB0aGUgbmV3IHVudHJpbW1lZCBib3VuZHMuLlxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICB2YXIgdzAgPSB3MSArIG9yaWcud2lkdGg7XG4gICAgICAgIHZhciBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICpcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAqXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyIHRvIHVzZS5cbiAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0cmltID0gdGhpcy5fdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRoaXMuX3RleHR1cmUub3JpZztcbiAgICAgICAgLy8gRmlyc3QgbGV0cyBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgdGV4dHVyZSBoYXMgYSB0cmltLi5cbiAgICAgICAgaWYgKCF0cmltIHx8ICh0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkpIHtcbiAgICAgICAgICAgIC8vIG5vIHRyaW0hIGxldHMgdXNlIHRoZSB1c3VhbCBjYWxjdWxhdGlvbnMuLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIGEgc3BlY2lhbCB0cmltbWVkIGJvdW5kcy4uLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4VHJpbW1lZERhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgc3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpIHtcbiAgICAgICAgICAgIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuICAgICAgICB2YXIgZGVzdHJveVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlO1xuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBkZXN0cm95QmFzZVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuZGVzdHJveSghIWRlc3Ryb3lCYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgfTtcbiAgICAvLyBzb21lIGhlbHBlciBmdW5jdGlvbnMuLlxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSAoc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgID8gc291cmNlXG4gICAgICAgICAgICA6IFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInJvdW5kUGl4ZWxzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcImFuY2hvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgc3ByaXRlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0YWtlbiBmcm9tIHRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfFRleHR1cmV9XG4gICAgICAgICAqIGFuZCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyBgKDAsMClgLCB0aGlzIG1lYW5zIHRoZSBzcHJpdGUncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHNwcml0ZSdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgc3ByaXRlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHlvdSBwYXNzIG9ubHkgc2luZ2xlIHBhcmFtZXRlciwgaXQgd2lsbCBzZXQgYm90aCB4IGFuZCB5IHRvIHRoZSBzYW1lIHZhbHVlIGFzIHNob3duIGluIHRoZSBleGFtcGxlIGJlbG93LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICAgICAqIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7IC8vIFRoaXMgd2lsbCBzZXQgdGhlIG9yaWdpbiB0byBjZW50ZXIuICgwLjUpIGlzIHNhbWUgYXMgKDAuNSwgMC41KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwcml0ZS5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuXG4gICAgICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcHJpdGUucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTcHJpdGU7XG59KENvbnRhaW5lcikpO1xuXG5leHBvcnQgeyBTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvcHJlcGFyZSAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9wcmVwYXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFRleHQsIFRleHRTdHlsZSwgVGV4dE1ldHJpY3MgfSBmcm9tICdAcGl4aS90ZXh0JztcblxuLyoqXG4gKiBEZWZhdWx0IG51bWJlciBvZiB1cGxvYWRzIHBlciBmcmFtZSB1c2luZyBwcmVwYXJlIHBsdWdpbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQG5hbWUgVVBMT0FEU19QRVJfRlJBTUVcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCA0XG4gKi9cbnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FID0gNDtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQ291bnRMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBpdGVtcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ291bnRMaW1pdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ291bnRMaW1pdGVyKG1heEl0ZW1zUGVyRnJhbWUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBlYWNoIGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhJdGVtc1BlckZyYW1lID0gbWF4SXRlbXNQZXJGcmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1zTGVmdCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICAgKi9cbiAgICBDb3VudExpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXRlbXNMZWZ0ID0gdGhpcy5tYXhJdGVtc1BlckZyYW1lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAgICovXG4gICAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgICB9O1xuICAgIHJldHVybiBDb3VudExpbWl0ZXI7XG59KCkpO1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBtdWx0aXBsZSB0ZXh0dXJlcyBmcm9tIG9iamVjdHMgbGlrZSBBbmltYXRlZFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyhpdGVtLCBxdWV1ZSkge1xuICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICAvLyBPYmplY3RzIHdpdGggbXVsdGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLl90ZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3RleHR1cmVzW2ldIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGl0ZW0uX3RleHR1cmVzW2ldLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGJhc2VUZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBCYXNlVGV4dHVyZXMgZnJvbSBUZXh0dXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kQmFzZVRleHR1cmUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbS5iYXNlVGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCB0ZXh0dXJlcyBmcm9tIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBkcmF3IFBJWEkuVGV4dCB0byBpdHMgdGV4dHVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ8UElYSS5CYXNlUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoX2hlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAvLyB1cGRhdGluZyB0ZXh0IHdpbGwgcmV0dXJuIGVhcmx5IGlmIGl0IGlzIG5vdCBkaXJ0eVxuICAgICAgICBpdGVtLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gY2FsY3VsYXRlIGEgdGV4dCBzdHlsZSBmb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuQWJzdHJhY3RSZW5kZXJlcnxQSVhJLkJhc2VQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoX2hlbHBlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgICAgIHZhciBmb250ID0gaXRlbS50b0ZvbnRTdHJpbmcoKTtcbiAgICAgICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0IG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0IG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0KGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgIC8vIHB1c2ggdGhlIHRleHQgc3R5bGUgdG8gcHJlcGFyZSBpdCAtIHRoaXMgY2FuIGJlIHJlYWxseSBleHBlbnNpdmVcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbS5zdHlsZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0uc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgdGV4dCBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gcmVuZGVyIGl0ICh0byBjYW52YXMvdGV4dHVyZSkgaWYgbmVlZGVkXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIFRleHQncyB0ZXh0dXJlIGZvciB1cGxvYWQgdG8gR1BVXG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSkge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQmFzZVByZXBhcmUgaGFuZGxlcyBiYXNpYyBxdWV1aW5nIGZ1bmN0aW9uYWxpdHkgYW5kIGlzIGV4dGVuZGVkIGJ5XG4gKiB7QGxpbmsgUElYSS5QcmVwYXJlfSBhbmQge0BsaW5rIFBJWEkuQ2FudmFzUHJlcGFyZX1cbiAqIHRvIHByb3ZpZGUgcHJlcGFyYXRpb24gY2FwYWJpbGl0aWVzIHNwZWNpZmljIHRvIHRoZWlyIHJlc3BlY3RpdmUgcmVuZGVyZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBzcHJpdGVcbiAqIGNvbnN0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVByZXBhcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlUHJlcGFyZShyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbWl0ZXIgdG8gYmUgdXNlZCB0byBjb250cm9sIGhvdyBxdWlja2x5IGl0ZW1zIGFyZSBwcmVwYXJlZC5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQ291bnRMaW1pdGVyfFBJWEkuVGltZUxpbWl0ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBuZXcgQ291bnRMaW1pdGVyKHNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvbmx5IHJlYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIENhbnZhc1ByZXBhcmUgYW5kIFByZXBhcmUgaXMgd2hhdCB0aGV5IHBhc3NcbiAgICAgICAgICogdG8gdXBsb2FkIGhvb2tzLiBUaGF0IGRpZmZlcmVudCBwYXJhbWV0ZXIgaXMgc3RvcmVkIGhlcmUuXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZHMgYXQgb25jZS5cbiAgICAgICAgICogQHR5cGUge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgcHJvY2Vzc2luZyBhc3NldHMuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB0byBjYWxsIGFmdGVyIGNvbXBsZXRlZC5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcmVwYXJlIGlzIHRpY2tpbmcgKHJ1bm5pbmcpLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogJ2JvdW5kJyBjYWxsIGZvciBwcmVwYXJlSXRlbXMoKS5cbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWxheWVkVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHVubGlrZWx5LCBidXQgaW4gY2FzZSB3ZSB3ZXJlIGRlc3Ryb3llZCBiZXR3ZWVuIHRpY2soKSBhbmQgZGVsYXllZFRpY2soKVxuICAgICAgICAgICAgaWYgKCFfdGhpcy5xdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnByZXBhcmVJdGVtcygpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBob29rcyB0byBmaW5kIHRoZSBjb3JyZWN0IHRleHR1cmVcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0U3R5bGUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRCYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dHVyZSk7XG4gICAgICAgIC8vIHVwbG9hZCBob29rc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhkcmF3VGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhbGwgdGhlIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB0aGUgR1BVLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR9IGl0ZW0gLVxuICAgICAqICAgICAgICBFaXRoZXIgdGhlIGNvbnRhaW5lciBvciBkaXNwbGF5IG9iamVjdCB0byBzZWFyY2ggZm9yIGl0ZW1zIHRvIHVwbG9hZCwgdGhlIGl0ZW1zIHRvIHVwbG9hZCB0aGVtc2VsdmVzLFxuICAgICAqICAgICAgICBvciB0aGUgY2FsbGJhY2sgZnVuY3Rpb24sIGlmIGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCB1c2luZyBgcHJlcGFyZS5hZGRgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtkb25lXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHdoZW4gYWxsIHF1ZXVlZCB1cGxvYWRzIGhhdmUgY29tcGxldGVkXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIChpdGVtLCBkb25lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZG9uZSA9IGl0ZW07XG4gICAgICAgICAgICBpdGVtID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBhIGRpc3BsYXkgb2JqZWN0LCBzZWFyY2ggZm9yIGl0ZW1zXG4gICAgICAgIC8vIHRoYXQgd2UgY291bGQgdXBsb2FkXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIGl0ZW1zIGZvciB1cGxvYWQgZnJvbSB0aGUgZGlzcGxheVxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXMucHVzaChkb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZG9uZSkge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGljayB1cGRhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBY3R1YWxseSBwcmVwYXJlIGl0ZW1zLiBUaGlzIGlzIGhhbmRsZWQgb3V0c2lkZSBvZiB0aGUgdGljayBiZWNhdXNlIGl0IHdpbGwgdGFrZSBhIHdoaWxlXG4gICAgICogYW5kIHdlIGRvIE5PVCB3YW50IHRvIGJsb2NrIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSBmcm9tIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnByZXBhcmVJdGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5saW1pdGVyLmJlZ2luRnJhbWUoKTtcbiAgICAgICAgLy8gVXBsb2FkIHRoZSBncmFwaGljc1xuICAgICAgICB3aGlsZSAodGhpcy5xdWV1ZS5sZW5ndGggJiYgdGhpcy5saW1pdGVyLmFsbG93ZWRUb1VwbG9hZCgpKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMucXVldWVbMF07XG4gICAgICAgICAgICB2YXIgdXBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpdGVtICYmICFpdGVtLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy51cGxvYWRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51cGxvYWRIb29rc1tpXSh0aGlzLnVwbG9hZEhvb2tIZWxwZXIsIGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdXBsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UncmUgZmluaXNoZWRcbiAgICAgICAgaWYgKCF0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgY29tcGxldGVzID0gdGhpcy5jb21wbGV0ZXMuc2xpY2UoMCk7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvbXBsZXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlc1tpXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBmaW5pc2hlZCwgb24gdGhlIG5leHQgckFGIGRvIHRoaXMgYWdhaW5cbiAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBob29rcyBmb3IgZmluZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFkZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICogQHJldHVybiB7dGhpc30gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vayA9IGZ1bmN0aW9uIChhZGRIb29rKSB7XG4gICAgICAgIGlmIChhZGRIb29rKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEhvb2tzLnB1c2goYWRkSG9vayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciB1cGxvYWRpbmcgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICogQHJldHVybiB7dGhpc30gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJVcGxvYWRIb29rID0gZnVuY3Rpb24gKHVwbG9hZEhvb2spIHtcbiAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hbnVhbGx5IGFkZCBhbiBpdGVtIHRvIHRoZSB1cGxvYWRpbmcgcXVldWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dHwqfSBpdGVtIC0gT2JqZWN0IHRvXG4gICAgICogICAgICAgIGFkZCB0byB0aGUgcXVldWVcbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAvLyBBZGQgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBlbGVtZW50cyBvbiBzcGVjaWFsXG4gICAgICAgIC8vIHR5cGVzIG9mIG9iamVjdHMgdGhhdFxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5hZGRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWRkSG9va3NbaV0oaXRlbSwgdGhpcy5xdWV1ZSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgY2hpbGRyZW4gcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBDb250YWluZXIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoaXRlbS5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqL1xuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnRpY2ssIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rcyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VQcmVwYXJlO1xufSgpKTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSkge1xuICAgICAgICAvLyBpZiB0aGUgdGV4dHVyZSBhbHJlYWR5IGhhcyBhIEdMIHRleHR1cmUsIHRoZW4gdGhlIHRleHR1cmUgaGFzIGJlZW4gcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdy4gSWYgdGhlIHRleHR1cmUgY2hhbmdlZCwgdGhlbiB0aGUgY2hhbmdlciBzaG91bGQgYmUgY2FsbGluZyB0ZXh0dXJlLnVwZGF0ZSgpIHdoaWNoXG4gICAgICAgIC8vIHJldXBsb2FkcyB0aGUgdGV4dHVyZSB3aXRob3V0IG5lZWQgZm9yIHByZXBhcmluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoIWl0ZW0uX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5HcmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRHcmFwaGljcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmICghKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgZ2VvbWV0cnkgPSBpdGVtLmdlb21ldHJ5O1xuICAgIC8vIHVwZGF0ZSBkaXJ0eSBncmFwaGljcyB0byBnZXQgYmF0Y2hlc1xuICAgIGl0ZW0uZmluaXNoUG9seSgpO1xuICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoKTtcbiAgICB2YXIgYmF0Y2hlcyA9IGdlb21ldHJ5LmJhdGNoZXM7XG4gICAgLy8gdXBsb2FkIGFsbCB0ZXh0dXJlcyBmb3VuZCBpbiBzdHlsZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBiYXRjaGVzW2ldLnN0eWxlLnRleHR1cmU7XG4gICAgICAgIGlmICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIHRleHR1cmUuYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGlmIGl0cyBub3QgYmF0Y2hhYmxlIC0gdXBkYXRlIHZhbyBmb3IgcGFydGljdWxhciBzaGFkZXJcbiAgICBpZiAoIWdlb21ldHJ5LmJhdGNoYWJsZSkge1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBpdGVtLl9yZXNvbHZlRGlyZWN0U2hhZGVyKHJlbmRlcmVyKSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgZ3JhcGhpY3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5HcmFwaGljcyBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKSB7XG4gICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFRoZSBwcmVwYXJlIHBsdWdpbiBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBwcmUtcmVuZGVyaW5nIERpc3BsYXlPYmplY3RzLiBUaGVzZSBwbHVnaW5zIGFyZSB1c2VmdWwgZm9yXG4gKiBhc3luY2hyb25vdXNseSBwcmVwYXJpbmcgYW5kIHVwbG9hZGluZyB0byB0aGUgR1BVIGFzc2V0cywgdGV4dHVyZXMsIGdyYXBoaWNzIHdhaXRpbmcgdG8gYmUgZGlzcGxheWVkLlxuICpcbiAqIERvIG5vdCBpbnN0YW50aWF0ZSB0aGlzIHBsdWdpbiBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBEb24ndCBzdGFydCByZW5kZXJpbmcgcmlnaHQgYXdheVxuICogYXBwLnN0b3AoKTtcbiAqXG4gKiAvLyBjcmVhdGUgYSBkaXNwbGF5IG9iamVjdFxuICogY29uc3QgcmVjdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4MDBmZjAwKVxuICogICAgIC5kcmF3UmVjdCg0MCwgNDAsIDIwMCwgMjAwKTtcbiAqXG4gKiAvLyBBZGQgdG8gdGhlIHN0YWdlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKlxuICogLy8gRG9uJ3Qgc3RhcnQgcmVuZGVyaW5nIHVudGlsIHRoZSBncmFwaGljIGlzIHVwbG9hZGVkIHRvIHRoZSBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKGFwcC5zdGFnZSwgKCkgPT4ge1xuICogICAgIGFwcC5zdGFydCgpO1xuICogfSk7XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUHJlcGFyZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJlcGFyZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51cGxvYWRIb29rSGVscGVyID0gX3RoaXMucmVuZGVyZXI7XG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdXBsb2FkXG4gICAgICAgIF90aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEdyYXBoaWNzKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEJhc2VUZXh0dXJlcyk7XG4gICAgICAgIF90aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRHcmFwaGljcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFByZXBhcmU7XG59KEJhc2VQcmVwYXJlKSk7XG5cbi8qKlxuICogVGltZUxpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGltZUxpbWl0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heE1pbGxpc2Vjb25kcyAtIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaW1lTGltaXRlcihtYXhNaWxsaXNlY29uZHMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4TWlsbGlzZWNvbmRzID0gbWF4TWlsbGlzZWNvbmRzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAgICovXG4gICAgVGltZUxpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVTdGFydCA9IERhdGUubm93KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGl0ZW0gaXMgYWxsb3dlZCB0byBiZSB1cGxvYWRlZC5cbiAgICAgKi9cbiAgICBUaW1lTGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZnJhbWVTdGFydCA8IHRoaXMubWF4TWlsbGlzZWNvbmRzO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbWVMaW1pdGVyO1xufSgpKTtcblxuZXhwb3J0IHsgQmFzZVByZXBhcmUsIENvdW50TGltaXRlciwgUHJlcGFyZSwgVGltZUxpbWl0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZXBhcmUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgZ2V0UmVzb2x1dGlvbk9mVXJsLCB1cmwgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIFRvIGFjY2VzcyBhIHNwcml0ZSBzaGVldCBmcm9tIHlvdXIgY29kZSBwYXNzIGl0cyBKU09OIGRhdGEgZmlsZSB0byBQaXhpJ3MgbG9hZGVyOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqIFdpdGggdGhlIGBzaGVldC50ZXh0dXJlc2AgeW91IGNhbiBjcmVhdGUgU3ByaXRlIG9iamVjdHMsYHNoZWV0LmFuaW1hdGlvbnNgIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiBBbmltYXRlZFNwcml0ZS5cbiAqXG4gKiBTcHJpdGUgc2hlZXRzIGNhbiBiZSBwYWNrZWQgdXNpbmcgdG9vbHMgbGlrZSB7QGxpbmsgaHR0cHM6Ly9jb2RlYW5kd2ViLmNvbS90ZXh0dXJlcGFja2VyfFRleHR1cmVQYWNrZXJ9LFxuICoge0BsaW5rIGh0dHBzOi8vcmVuZGVyaGpzLm5ldC9zaG9lYm94L3xTaG9lYm94fSBvciB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2tyenlzenRvZi1vL3Nwcml0ZXNoZWV0LmpzfFNwcml0ZXNoZWV0LmpzfS5cbiAqIERlZmF1bHQgYW5jaG9yIHBvaW50cyAoc2VlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0pIGFuZCBncm91cGluZyBvZiBhbmltYXRpb24gc3ByaXRlcyBhcmUgY3VycmVudGx5IG9ubHlcbiAqIHN1cHBvcnRlZCBieSBUZXh0dXJlUGFja2VyLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZXNoZWV0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHRoZSBzb3VyY2UgQmFzZVRleHR1cmUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gU3ByaXRlc2hlZXQgaW1hZ2UgZGF0YS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc29sdXRpb25GaWxlbmFtZV0gLSBUaGUgZmlsZW5hbWUgdG8gY29uc2lkZXIgd2hlbiBkZXRlcm1pbmluZ1xuICAgICAqICAgICAgICB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuIElmIG5vdCBwcm92aWRlZCwgdGhlIGltYWdlVXJsIHdpbGxcbiAgICAgKiAgICAgICAgYmUgdXNlZCBvbiB0aGUgQmFzZVRleHR1cmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlc2hlZXQodGV4dHVyZSwgZGF0YSwgcmVzb2x1dGlvbkZpbGVuYW1lKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uRmlsZW5hbWUgPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uRmlsZW5hbWUgPSBudWxsOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gb3JpZ2luYWwgc291cmNlIGltYWdlIGZyb20gdGhlIExvYWRlci4gVGhpcyByZWZlcmVuY2UgaXMgcmV0YWluZWQgc28gd2VcbiAgICAgICAgICogY2FuIGRlc3Ryb3kgdGhlIFRleHR1cmUgbGF0ZXIgb24uIEl0IGlzIG5ldmVyIHVzZWQgaW50ZXJuYWxseS5cbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmUgOiBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRocyBzb3VyY2UgdGV4dHVyZS5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlID8gdGV4dHVyZSA6IHRoaXMuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBjb250YWluaW5nIGFsbCB0ZXh0dXJlcyBvZiB0aGUgc3ByaXRlIHNoZWV0LlxuICAgICAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgUElYSS5TcHJpdGV8U3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuU3ByaXRlKHNoZWV0LnRleHR1cmVzW1wiaW1hZ2UucG5nXCJdKTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgdGhlIHRleHR1cmVzIGZvciBlYWNoIGFuaW1hdGlvbi5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfEFuaW1hdGVkU3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImFuaW1fbmFtZVwiXSlcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBKU09OIGRhdGEuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5fdXBkYXRlUmVzb2x1dGlvbihyZXNvbHV0aW9uRmlsZW5hbWUgfHwgKHJlc291cmNlID8gcmVzb3VyY2UudXJsIDogbnVsbCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIG9mIHNwcml0ZXNoZWV0IGZyYW1lcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGZyYW1lIG5hbWVzLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBiYXRjaCBpbmRleCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gcGFyc2UgaXMgY29tcGxldGVkLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRoZSByZXNvbHV0aW9uIGZyb20gdGhlIGZpbGVuYW1lIG9yIGZhbGxiYWNrXG4gICAgICogdG8gdGhlIG1ldGEuc2NhbGUgZmllbGQgb2YgdGhlIEpTT04gZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc29sdXRpb25GaWxlbmFtZSAtIFRoZSBmaWxlbmFtZSB0byB1c2UgZm9yIHJlc29sdmluZ1xuICAgICAqICAgICAgICB0aGUgZGVmYXVsdCByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiB0byB1c2UgZm9yIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fdXBkYXRlUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChyZXNvbHV0aW9uRmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKHJlc29sdXRpb25GaWxlbmFtZSA9PT0gdm9pZCAwKSB7IHJlc29sdXRpb25GaWxlbmFtZSA9IG51bGw7IH1cbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5kYXRhLm1ldGEuc2NhbGU7XG4gICAgICAgIC8vIFVzZSBhIGRlZmF1bHRWYWx1ZSBvZiBgbnVsbGAgdG8gY2hlY2sgaWYgYSB1cmwtYmFzZWQgcmVzb2x1dGlvbiBpcyBzZXRcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwocmVzb2x1dGlvbkZpbGVuYW1lLCBudWxsKTtcbiAgICAgICAgLy8gTm8gcmVzb2x1dGlvbiBmb3VuZCB2aWEgVVJMXG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHNjYWxlIHZhbHVlIG9yIGRlZmF1bHQgdG8gMVxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHNjYWxlICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KHNjYWxlKSA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIG5vbi0xIHJlc29sdXRpb25zLCB1cGRhdGUgYmFzZVRleHR1cmVcbiAgICAgICAgaWYgKHJlc29sdXRpb24gIT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlciBzcHJpdGVzaGVldCBmcm9tIGxvYWRlZCBkYXRhLiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHlcbiAgICAgKiB0byBwcmV2ZW50IGNyZWF0aW5nIHRvbyBtYW55IFRleHR1cmUgd2l0aGluIGEgc2luZ2xlIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHdoZW4gY29tcGxldGUgcmV0dXJuc1xuICAgICAqICAgICAgICBhIG1hcCBvZiB0aGUgVGV4dHVyZXMgZm9yIHRoaXMgc3ByaXRlc2hlZXQuXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAodGhpcy5fZnJhbWVLZXlzLmxlbmd0aCA8PSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKDApO1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgYmF0Y2ggb2YgZnJhbWVzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbml0aWFsRnJhbWVJbmRleCAtIFRoZSBpbmRleCBvZiBmcmFtZSB0byBzdGFydC5cbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NGcmFtZXMgPSBmdW5jdGlvbiAoaW5pdGlhbEZyYW1lSW5kZXgpIHtcbiAgICAgICAgdmFyIGZyYW1lSW5kZXggPSBpbml0aWFsRnJhbWVJbmRleDtcbiAgICAgICAgdmFyIG1heEZyYW1lcyA9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkU7XG4gICAgICAgIHdoaWxlIChmcmFtZUluZGV4IC0gaW5pdGlhbEZyYW1lSW5kZXggPCBtYXhGcmFtZXMgJiYgZnJhbWVJbmRleCA8IHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9mcmFtZXNbaV07XG4gICAgICAgICAgICB2YXIgcmVjdCA9IGRhdGEuZnJhbWU7XG4gICAgICAgICAgICBpZiAocmVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemVcbiAgICAgICAgICAgICAgICAgICAgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuICAgICAgICAgICAgICAgIHZhciBvcmlnID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBNYXRoLmZsb29yKHNvdXJjZVNpemUudykgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3Ioc291cmNlU2l6ZS5oKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC55KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgQ2hlY2sgdG8gc2VlIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZFxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0cmltID0gbmV3IFJlY3RhbmdsZShNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS54KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXSA9IG5ldyBUZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCBkYXRhLnJvdGF0ZWQgPyAyIDogMCwgZGF0YS5hbmNob3IpO1xuICAgICAgICAgICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tJyBhbmQgJ2Zyb21Mb2FkZXInIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0aGlzLnRleHR1cmVzW2ldLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFyc2UgYW5pbWF0aW9ucyBjb25maWdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzQW5pbWF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLmRhdGEuYW5pbWF0aW9ucyB8fCB7fTtcbiAgICAgICAgZm9yICh2YXIgYW5pbU5hbWUgaW4gYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zW2FuaW1OYW1lXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZU5hbWUgPSBhbmltYXRpb25zW2FuaW1OYW1lXVtpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdLnB1c2godGhpcy50ZXh0dXJlc1tmcmFtZU5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIHBhcnNlIGhhcyBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcGFyc2VDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGhpcy50ZXh0dXJlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgbmV4dCBiYXRjaCBvZiB0ZXh0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9uZXh0QmF0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXModGhpcy5fYmF0Y2hJbmRleCAqIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4Kys7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IF90aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IFNwcml0ZXNoZWV0IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSAtIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChkZXN0cm95QmFzZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChkZXN0cm95QmFzZSA9PT0gdm9pZCAwKSB7IGRlc3Ryb3lCYXNlID0gZmFsc2U7IH1cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHR1cmVzID0gbnVsbDtcbiAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLl90ZXh0dXJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIFRleHR1cmVzIHRvIGJ1aWxkIHBlciBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMDAwXG4gICAgICovXG4gICAgU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA9IDEwMDA7XG4gICAgcmV0dXJuIFNwcml0ZXNoZWV0O1xufSgpKTtcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nIHRleHR1cmUgYXRsYXNlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAqIFRleHR1cmVQYWNrZXIgb3Igc2ltaWxhciBKU09OLWJhc2VkIHNwcml0ZXNoZWV0LlxuICpcbiAqIFRoaXMgbWlkZGxld2FyZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBUZXh0dXJlIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIFNwcml0ZXNoZWV0TG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNwcml0ZXNoZWV0TG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBTcHJpdGVzaGVldExvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gYmVjYXVzZSB0aGlzIGlzIG1pZGRsZXdhcmUsIGl0IGV4ZWN1dGUgaW4gbG9hZGVyIGNvbnRleHQuIGB0aGlzYCA9IGxvYWRlclxuICAgICAgICB2YXIgbG9hZGVyID0gdGhpcztcbiAgICAgICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gcmVzb3VyY2UubmFtZSArIFwiX2ltYWdlXCI7XG4gICAgICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhXG4gICAgICAgICAgICB8fCByZXNvdXJjZS50eXBlICE9PSBMb2FkZXJSZXNvdXJjZS5UWVBFLkpTT05cbiAgICAgICAgICAgIHx8ICFyZXNvdXJjZS5kYXRhLmZyYW1lc1xuICAgICAgICAgICAgfHwgbG9hZGVyLnJlc291cmNlc1tpbWFnZVJlc291cmNlTmFtZV0pIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlc291cmNlUGF0aCA9IFNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aChyZXNvdXJjZSwgbG9hZGVyLmJhc2VVcmwpO1xuICAgICAgICAvLyBsb2FkIHRoZSBpbWFnZSBmb3IgdGhpcyBzaGVldFxuICAgICAgICBsb2FkZXIuYWRkKGltYWdlUmVzb3VyY2VOYW1lLCByZXNvdXJjZVBhdGgsIGxvYWRPcHRpb25zLCBmdW5jdGlvbiBvbkltYWdlTG9hZChyZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBuZXh0KHJlcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNwcml0ZXNoZWV0ID0gbmV3IFNwcml0ZXNoZWV0KHJlcy50ZXh0dXJlLCByZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwpO1xuICAgICAgICAgICAgc3ByaXRlc2hlZXQucGFyc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnNwcml0ZXNoZWV0ID0gc3ByaXRlc2hlZXQ7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZXMgPSBzcHJpdGVzaGVldC50ZXh0dXJlcztcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNwcml0ZXNoZWV0cyByb290IHBhdGhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlIC0gUmVzb3VyY2UgdG8gY2hlY2sgcGF0aFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVXJsIC0gQmFzZSByb290IHVybFxuICAgICAqL1xuICAgIFNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aCA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgYmFzZVVybCkge1xuICAgICAgICAvLyBQcmVwZW5kIHVybCBwYXRoIHVubGVzcyB0aGUgcmVzb3VyY2UgaW1hZ2UgaXMgYSBkYXRhIHVybFxuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmwucmVzb2x2ZShyZXNvdXJjZS51cmwucmVwbGFjZShiYXNlVXJsLCAnJyksIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3ByaXRlc2hlZXRMb2FkZXI7XG59KCkpO1xuXG5leHBvcnQgeyBTcHJpdGVzaGVldCwgU3ByaXRlc2hlZXRMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZXNoZWV0LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUtdGlsaW5nIC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZS10aWxpbmcgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlTWF0cml4LCBUZXh0dXJlLCBTaGFkZXIsIFF1YWRVdiwgU3RhdGUsIE9iamVjdFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBQb2ludCwgVHJhbnNmb3JtLCBSZWN0YW5nbGUsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIGNvcnJlY3RCbGVuZE1vZGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsaW5nU3ByaXRlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTEwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0xMDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMTAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAxMDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGV4dHVyZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbGUgdHJhbnNmb3JtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGlsZVRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogbWF0cml4IHRoYXQgaXMgYXBwbGllZCB0byBVViB0byBnZXQgdGhlIGNvb3JkcyBpbiBUZXh0dXJlIG5vcm1hbGl6ZWQgc3BhY2UgdG8gY29vcmRzIGluIEJhc2VUZXh0dXJlIHNwYWNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2TWF0cml4ID0gX3RoaXMudGV4dHVyZS51dk1hdHJpeCB8fCBuZXcgVGV4dHVyZU1hdHJpeCh0ZXh0dXJlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICd0aWxpbmdTcHJpdGUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgYW5jaG9yIGFmZmVjdHMgdXZzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy51dlJlc3BlY3RBbmNob3IgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJjbGFtcE1hcmdpblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nIGluIGNvcnJlc3BvbmRpbmcgdGV4dHVyZVRyYW5zZm9ybSwgc2hvcnRjdXRcbiAgICAgICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC51cGRhdGUodHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgXCJ0aWxlU2NhbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxpbmcgb2YgdGhlIGltYWdlIHRoYXQgaXMgYmVpbmcgdGlsZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwidGlsZVBvc2l0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvZmZzZXQgb2YgdGhlIGltYWdlIHRoYXQgaXMgYmVpbmcgdGlsZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudXZNYXRyaXgpIHtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gdHdlYWsgb3VyIHRleHR1cmUgdGVtcG9yYXJpbHkuLlxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSB0aWxpbmcgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuICAgICAgICAgICAgaWYgKCFyZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50RGF0YX0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3ByaXRlIGNvbnRhaW5zIHRoZSBwb2ludC5cbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICB2YXIgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci5feDtcbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgdmFyIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMud2lkdGggLSByZXF1aXJlZCB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmhlaWdodCAtIHJlcXVpcmVkIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGlsaW5nU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLmZyb20gPSBmdW5jdGlvbiAoc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIERlcHJlY2F0ZWRcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1RpbGluZ1Nwcml0ZS5mcm9tIHVzZSBvcHRpb25zIGluc3RlYWQgb2Ygd2lkdGggYW5kIGhlaWdodCBhcmdzJyk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICBvcHRpb25zID0geyB3aWR0aDogb3B0aW9ucywgaGVpZ2h0OiBhcmd1bWVudHNbMl0gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZShUZXh0dXJlLmZyb20oc291cmNlLCBvcHRpb25zKSwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaWxpbmdTcHJpdGUucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUaWxpbmdTcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZTtcbn0oU3ByaXRlKSk7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSB2VGV4dHVyZUNvb3JkICsgY2VpbCh1Q2xhbXBPZmZzZXQgLSB2VGV4dHVyZUNvb3JkKTtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgIHZlYzQgdGV4U2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleFNhbXBsZSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudFNpbXBsZSA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gc2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBUaWxpbmdTcHJpdGVSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGlsaW5nU3ByaXRlUmVuZGVyZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogY29uc3RydWN0b3IgZm9yIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgdGlsaW5nIGF3ZXNvbWVuZXNzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZW5kZXJlcikgfHwgdGhpcztcbiAgICAgICAgdmFyIHVuaWZvcm1zID0geyBnbG9iYWxzOiBfdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcyB9O1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3Jtcyk7XG4gICAgICAgIF90aGlzLnNpbXBsZVNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnRTaW1wbGUsIHVuaWZvcm1zKTtcbiAgICAgICAgX3RoaXMucXVhZCA9IG5ldyBRdWFkVXYoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSBpbiB3aGljaCB0aGlzIHJlbmRlcmVyIHdpbGwgd29yay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGlsaW5nU3ByaXRlfSB0cyAtIHRpbGluZ1Nwcml0ZSB0byBiZSByZW5kZXJlZFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAodHMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHF1YWQgPSB0aGlzLnF1YWQ7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHF1YWQudmVydGljZXM7XG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAodHMuX3dpZHRoKSAqIC10cy5hbmNob3IueDtcbiAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IHRzLl9oZWlnaHQgKiAtdHMuYW5jaG9yLnk7XG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAodHMuX3dpZHRoKSAqICgxLjAgLSB0cy5hbmNob3IueCk7XG4gICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSB0cy5faGVpZ2h0ICogKDEuMCAtIHRzLmFuY2hvci55KTtcbiAgICAgICAgaWYgKHRzLnV2UmVzcGVjdEFuY2hvcikge1xuICAgICAgICAgICAgdmVydGljZXMgPSBxdWFkLnV2cztcbiAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gLXRzLmFuY2hvci55O1xuICAgICAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9IDEuMCAtIHRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IDEuMCAtIHRzLmFuY2hvci55O1xuICAgICAgICB9XG4gICAgICAgIHF1YWQuaW52YWxpZGF0ZSgpO1xuICAgICAgICB2YXIgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4ID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgbHQgPSB0cy50aWxlVHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB2YXIgdXYgPSB0cy51dk1hdHJpeDtcbiAgICAgICAgdmFyIGlzU2ltcGxlID0gYmFzZVRleC5pc1Bvd2VyT2ZUd29cbiAgICAgICAgICAgICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcbiAgICAgICAgLy8gYXV0bywgZm9yY2UgcmVwZWF0IHdyYXBNb2RlIGZvciBiaWcgdGlsaW5nIHRleHR1cmVzXG4gICAgICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgICAgICAgaWYgKCFiYXNlVGV4Ll9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBXUkFQX01PREVTLkNMQU1QKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXgud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcbiAgICAgICAgdmFyIHcgPSB0ZXgud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgdmFyIFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIHZhciBIID0gdHMuX2hlaWdodDtcbiAgICAgICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLCBsdC5iICogdyAvIEgsIGx0LmMgKiBoIC8gVywgbHQuZCAqIGggLyBILCBsdC50eCAvIFcsIGx0LnR5IC8gSCk7XG4gICAgICAgIC8vIHRoYXQgcGFydCBpcyB0aGUgc2FtZSBhcyBhYm92ZTpcbiAgICAgICAgLy8gdGVtcE1hdC5pZGVudGl0eSgpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKHRleC53aWR0aCwgdGV4LmhlaWdodCk7XG4gICAgICAgIC8vIHRlbXBNYXQucHJlcGVuZChsdCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUoMS4wIC8gdHMuX3dpZHRoLCAxLjAgLyB0cy5faGVpZ2h0KTtcbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKSB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSB0ZW1wTWF0LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVRpbnRUb1JnYmEodHMudGludCwgdHMud29ybGRBbHBoYSwgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleC5hbHBoYU1vZGUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0cy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gdGV4O1xuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpO1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGNvcnJlY3RCbGVuZE1vZGUodHMuYmxlbmRNb2RlLCBiYXNlVGV4LmFscGhhTW9kZSk7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUywgNiwgMCk7XG4gICAgfTtcbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZSwgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS10aWxpbmcuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2ggLSB2NS4zLjhcbiAqIENvbXBpbGVkIFNhdCwgMjAgRmViIDIwMjEgMjI6Mjg6MzMgVVRDXG4gKlxuICogQHBpeGkvbWVzaCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFN0YXRlLCBQcm9ncmFtLCBUZXh0dXJlTWF0cml4LCBTaGFkZXIsIEJ1ZmZlciwgR2VvbWV0cnkgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBQb2x5Z29uLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IERSQVdfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIGNhY2hlIGZvciBVViBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hCYXRjaFV2cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSB1dkJ1ZmZlciAtIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgdXYnc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlTWF0cml4fSB1dk1hdHJpeCAtIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hCYXRjaFV2cyh1dkJ1ZmZlciwgdXZNYXRyaXgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgVVYnc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZCdWZmZXIgPSB1dkJ1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gdXZNYXRyaXg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVViBCdWZmZXIgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gLTE7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXBkYXRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGVdIC0gZm9yY2UgdGhlIHVwZGF0ZVxuICAgICAqL1xuICAgIE1lc2hCYXRjaFV2cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgICAgICYmIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID09PSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRFxuICAgICAgICAgICAgJiYgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID09PSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMudXZCdWZmZXIuZGF0YTtcbiAgICAgICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5kYXRhLmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXZNYXRyaXgubXVsdGlwbHlVdnMoZGF0YSwgdGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuICAgIHJldHVybiBNZXNoQmF0Y2hVdnM7XG59KCkpO1xuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdGVtcFBvbHlnb24gPSBuZXcgUG9seWdvbigpO1xuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3MuXG4gKlxuICogVGhpcyBjbGFzcyBlbXBvd2VycyB5b3UgdG8gaGF2ZSBtYXhpbXVtIGZsZXhpYmlsaXR5IHRvIHJlbmRlciBhbnkga2luZCBvZiBXZWJHTCB2aXN1YWxzIHlvdSBjYW4gdGhpbmsgb2YuXG4gKiBUaGlzIGNsYXNzIGFzc3VtZXMgYSBjZXJ0YWluIGxldmVsIG9mIFdlYkdMIGtub3dsZWRnZS5cbiAqIElmIHlvdSBrbm93IGEgYml0IHRoaXMgc2hvdWxkIGFic3RyYWN0IGVub3VnaCBhd2F5IHRvIG1ha2UgeW91IGxpZmUgZWFzaWVyIVxuICpcbiAqIFByZXR0eSBtdWNoIEFMTCBXZWJHTCBjYW4gYmUgYnJva2VuIGRvd24gaW50byB0aGUgZm9sbG93aW5nOlxuICogLSBHZW9tZXRyeSAtIFRoZSBzdHJ1Y3R1cmUgYW5kIGRhdGEgZm9yIHRoZSBtZXNoLiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuLlxuICogLSBTaGFkZXIgLSBUaGlzIGlzIHRoZSBzaGFkZXIgdGhhdCBQaXhpSlMgd2lsbCByZW5kZXIgdGhlIGdlb21ldHJ5IHdpdGggKGF0dHJpYnV0ZXMgaW4gdGhlIHNoYWRlciBtdXN0IG1hdGNoIHRoZSBnZW9tZXRyeSlcbiAqIC0gU3RhdGUgLSBUaGlzIGlzIHRoZSBzdGF0ZSBvZiBXZWJHTCByZXF1aXJlZCB0byByZW5kZXIgdGhlIG1lc2guXG4gKlxuICogVGhyb3VnaCBhIGNvbWJpbmF0aW9uIG9mIHRoZSBhYm92ZSBlbGVtZW50cyB5b3UgY2FuIHJlbmRlciBhbnl0aGluZyB5b3Ugd2FudCwgMkQgb3IgM0QhXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2gsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIHRoZSBnZW9tZXRyeSB0aGUgbWVzaCB3aWxsIHVzZVxuICAgICAqIEBwYXJhbSB7UElYSS5NZXNoTWF0ZXJpYWx9IHNoYWRlciAtIHRoZSBzaGFkZXIgdGhlIG1lc2ggd2lsbCB1c2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IFtzdGF0ZV0gLSB0aGUgc3RhdGUgdGhhdCB0aGUgV2ViR0wgY29udGV4dCBpcyByZXF1aXJlZCB0byBiZSBpbiB0byByZW5kZXIgdGhlIG1lc2hcbiAgICAgKiAgICAgICAgaWYgbm8gc3RhdGUgaXMgcHJvdmlkZWQsIHVzZXMge0BsaW5rIFBJWEkuU3RhdGUuZm9yMmR9IHRvIGNyZWF0ZSBhIDJEIHN0YXRlIGZvciBQaXhpSlMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkcmF3TW9kZT1QSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgUElYSS5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2goZ2VvbWV0cnksIHNoYWRlciwgc3RhdGUsIGRyYXdNb2RlKSB7XG4gICAgICAgIGlmIChkcmF3TW9kZSA9PT0gdm9pZCAwKSB7IGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluY2x1ZGVzIHZlcnRleCBwb3NpdGlvbnMsIGZhY2UgaW5kaWNlcywgbm9ybWFscywgY29sb3JzLCBVVnMsIGFuZFxuICAgICAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgICAgICogdGhpcyBkYXRhIHRvIHRoZSBHUFUuIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgZ2VvbWV0cnkucmVmQ291bnQrKztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ8UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgTWVzaCByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhdGUgPSBzdGF0ZSB8fCBTdGF0ZS5mb3IyZCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLkRSQVdfTU9ERVN9IGNvbnN0YW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuRFJBV19NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZHJhd01vZGUgPSBkcmF3TW9kZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGljYWxseSB0aGUgaW5kZXggb2YgdGhlIEluZGV4QnVmZmVyIHdoZXJlIHRvIHN0YXJ0IGRyYXdpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc3RhcnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG11Y2ggb2YgdGhlIGdlb21ldHJ5IHRvIGRyYXcsIGJ5IGRlZmF1bHQgYDBgIHJlbmRlcnMgZXZlcnl0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaXplID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZWFzZSBhcmUgdXNlZCBhcyBlYXN5IGFjY2VzcyBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZWFzZSBhcmUgdXNlZCBhcyBlYXN5IGFjY2VzcyBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdGhlIGNhY2hpbmcgbGF5ZXIgdXNlZCBieSB0aGUgYmF0Y2hlclxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSgxKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGdlb21ldHJ5IGlzIGNoYW5nZWQgdXNlZCB0byBkZWNpZGUgdG8gcmUtdHJhbnNmb3JtXG4gICAgICAgICAqIHRoZSB2ZXJ0ZXhEYXRhLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEaXJ0eSA9IDA7XG4gICAgICAgIF90aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoZWQgVVYncyBhcmUgY2FjaGVkIGZvciBhdGxhcyB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1lc2hCYXRjaFV2c31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhdGNoVXZzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwidXZCdWZmZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVG8gY2hhbmdlIG1lc2ggdXYncywgY2hhbmdlIGl0cyB1dkJ1ZmZlciBkYXRhIGFuZCBpbmNyZW1lbnQgaXRzIF91cGRhdGVJRC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInZlcnRpY2VzQnVmZmVyXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvIGNoYW5nZSBtZXNoIHZlcnRpY2VzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAgICAgKiBJbmNyZW1lbnRpbmcgX3VwZGF0ZUlEIGlzIG9wdGlvbmFsIGJlY2F1c2UgbW9zdCBvZiBNZXNoIG9iamVjdHMgZG8gaXQgYW55d2F5LlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwibWF0ZXJpYWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsaWFzIGZvciB7QGxpbmsgUElYSS5NZXNoI3NoYWRlcn0uXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWVzaE1hdGVyaWFsfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwiYmxlbmRNb2RlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBNZXNoLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwicm91bmRQaXhlbHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaC5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbXVsdGlwbHkgdGludCBhcHBsaWVkIHRvIHRoZSBNZXNoLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICAgICAqIGAweEZGRkZGRmAgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudGludCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2gucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgTWVzaCB1c2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgcmVuZGVyZXIgZHJhdy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCB1c2UgYSBkaWZmZXJlbnQgd2F5IHRvIGdyYWIgdmVydHM/XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICAvLyBUT0RPIGJlbmNobWFyayBjaGVjayBmb3IgYXR0cmlidXRlIHNpemUuLlxuICAgICAgICBpZiAodGhpcy5zaGFkZXIuYmF0Y2hhYmxlXG4gICAgICAgICAgICAmJiB0aGlzLmRyYXdNb2RlID09PSBEUkFXX01PREVTLlRSSUFOR0xFU1xuICAgICAgICAgICAgJiYgdmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRvQmF0Y2gocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRGVmYXVsdChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIG5vbi1iYXRjaGluZyB3YXkgb2YgcmVuZGVyaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlckRlZmF1bHQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuICAgICAgICBzaGFkZXIuYWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIGlmIChzaGFkZXIudXBkYXRlKSB7XG4gICAgICAgICAgICBzaGFkZXIudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgaWYgKHNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhLnRyYW5zbGF0aW9uTWF0cml4KSB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICAvLyBzZXQgc3RhdGUuLlxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG4gICAgICAgIC8vIGJpbmQgdGhlIGdlb21ldHJ5Li4uXG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5nZW9tZXRyeSwgc2hhZGVyKTtcbiAgICAgICAgLy8gdGhlbiByZW5kZXIgaXRcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLmRyYXdNb2RlLCB0aGlzLnNpemUsIHRoaXMuc3RhcnQsIHRoaXMuZ2VvbWV0cnkuaW5zdGFuY2VDb3VudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJpbmcgYnkgdXNpbmcgdGhlIEJhdGNoIHN5c3RlbS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXJUb0JhdGNoID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIGlmICh0aGlzLnNoYWRlci51dk1hdHJpeCkge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBwcm9wZXJ0aWVzIGZvciBiYXRjaGluZy4uXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9IHRoaXMuc2hhZGVyLl90aW50UkdCO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSB0aGlzLm1hdGVyaWFsLnBsdWdpbk5hbWU7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdmVydGV4RGF0YSBmaWVsZCBiYXNlZCBvbiB0cmFuc2Zvcm0gYW5kIHZlcnRpY2VzXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IGdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgaWYgKGdlb21ldHJ5LnZlcnRleERpcnR5SWQgPT09IHRoaXMudmVydGV4RGlydHkgJiYgdGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgaWYgKHRoaXMudmVydGV4RGF0YS5sZW5ndGggIT09IHZlcnRpY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGggLyAyOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydGljZXNbKGkgKiAyKV07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRpY2VzWyhpICogMikgKyAxXTtcbiAgICAgICAgICAgIHZlcnRleERhdGFbKGkgKiAyKV0gPSAoYSAqIHgpICsgKGMgKiB5KSArIHR4O1xuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpICsgMV0gPSAoYiAqIHgpICsgKGQgKiB5KSArIHR5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpXSA9IE1hdGgucm91bmQoKHZlcnRleERhdGFbaV0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZlcnRleERpcnR5ID0gZ2VvbWV0cnkudmVydGV4RGlydHlJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdXYgZmllbGQgYmFzZWQgb24gZnJvbSBnZW9tZXRyeSB1didzIG9yIGJhdGNoVXZzXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY2FsY3VsYXRlVXZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2VvbVV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXTtcbiAgICAgICAgaWYgKCF0aGlzLnNoYWRlci51dk1hdHJpeC5pc1NpbXBsZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhdGNoVXZzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaFV2cyA9IG5ldyBNZXNoQmF0Y2hVdnMoZ2VvbVV2cywgdGhpcy5zaGFkZXIudXZNYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYXRjaFV2cy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdGhpcy5iYXRjaFV2cy5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51dnMgPSBnZW9tVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgbWVzaCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqIHRoZXJlIG11c3QgYmUgYSBhVmVydGV4UG9zaXRpb24gYXR0cmlidXRlIHByZXNlbnQgaW4gdGhlIGdlb21ldHJ5IGZvciBib3VuZHMgdG8gYmUgY2FsY3VsYXRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkVmVydGV4RGF0YSh0aGlzLnZlcnRleERhdGEsIDAsIHRoaXMudmVydGV4RGF0YS5sZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBtZXNoLiBXb3JrcyBvbmx5IGZvciBQSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludERhdGF9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnQueCwgcG9pbnQueSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgICAgIHZhciBwb2ludHMgPSB0ZW1wUG9seWdvbi5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gdGhpcy5nZW9tZXRyeS5nZXRJbmRleCgpLmRhdGE7XG4gICAgICAgIHZhciBsZW4gPSBpbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSA0ID8gMyA6IDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpICsgMiA8IGxlbjsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICB2YXIgaW5kMCA9IGluZGljZXNbaV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMiA9IGluZGljZXNbaSArIDJdICogMjtcbiAgICAgICAgICAgIHBvaW50c1swXSA9IHZlcnRpY2VzW2luZDBdO1xuICAgICAgICAgICAgcG9pbnRzWzFdID0gdmVydGljZXNbaW5kMCArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzJdID0gdmVydGljZXNbaW5kMV07XG4gICAgICAgICAgICBwb2ludHNbM10gPSB2ZXJ0aWNlc1tpbmQxICsgMV07XG4gICAgICAgICAgICBwb2ludHNbNF0gPSB2ZXJ0aWNlc1tpbmQyXTtcbiAgICAgICAgICAgIHBvaW50c1s1XSA9IHZlcnRpY2VzW2luZDIgKyAxXTtcbiAgICAgICAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIE1lc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeS5yZWZDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB2ZXJ0aWNlcyB0byBjb25zaWRlciBiYXRjaGFibGUuIEdlbmVyYWxseSwgdGhlIGNvbXBsZXhpdHlcbiAgICAgKiBvZiB0aGUgZ2VvbWV0cnkuXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTWVzaFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gICAgICovXG4gICAgTWVzaC5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiAgICByZXR1cm4gTWVzaDtcbn0oQ29udGFpbmVyKSk7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUZXh0dXJlTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VGV4dHVyZU1hdHJpeCAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG4vKipcbiAqIFNsaWdodGx5IG9waW5pb25hdGVkIGRlZmF1bHQgc2hhZGVyIGZvciBQaXhpSlMgMkQgb2JqZWN0cy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBNZXNoTWF0ZXJpYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lc2hNYXRlcmlhbCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdVNhbXBsZXIgLSBUZXh0dXJlIHRoYXQgbWF0ZXJpYWwgdXNlcyB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIERlZmF1bHQgYWxwaGEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbnQ9MHhGRkZGRkZdIC0gRGVmYXVsdCB0aW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wbHVnaW5OYW1lPSdiYXRjaCddIC0gUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gW29wdGlvbnMucHJvZ3JhbT0weEZGRkZGRl0gLSBDdXN0b20gcHJvZ3JhbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMudW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hNYXRlcmlhbCh1U2FtcGxlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB1U2FtcGxlcjogdVNhbXBsZXIsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHVUZXh0dXJlTWF0cml4OiBNYXRyaXguSURFTlRJVFksXG4gICAgICAgICAgICB1Q29sb3I6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBwbHVnaW5OYW1lOiAnYmF0Y2gnLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMudW5pZm9ybXMpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odW5pZm9ybXMsIG9wdGlvbnMudW5pZm9ybXMpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucy5wcm9ncmFtIHx8IFByb2dyYW0uZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50KSwgdW5pZm9ybXMpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbmx5IGRvIHVwZGF0ZSBpZiB0aW50IG9yIGFscGhhIGNoYW5nZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyBNZXNoLCB1c2VkIHRvIHRyYWNrIFRleHR1cmUgY2hhbmdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh1U2FtcGxlcik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc2hhZGVyIGNhbiBiZSBiYXRjaCB3aXRoIHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmF0Y2hhYmxlID0gb3B0aW9ucy5wcm9ncmFtID09PSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9IG9wdGlvbnMucGx1Z2luTmFtZTtcbiAgICAgICAgX3RoaXMudGludCA9IG9wdGlvbnMudGludDtcbiAgICAgICAgX3RoaXMuYWxwaGEgPSBvcHRpb25zLmFscGhhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybXMudVNhbXBsZXIgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgZ2V0cyBhdXRvbWF0aWNhbGx5IHNldCBieSB0aGUgb2JqZWN0IHVzaW5nIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fYWxwaGEpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX2FscGhhID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTXVsdGlwbHkgdGludCBmb3IgdGhlIG1hdGVyaWFsLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl90aW50KVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNZXNoLiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGZvciBjdXN0b21cbiAgICAgKiBNZXNoTWF0ZXJpYWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbG9yRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIHByZW11bHRpcGx5VGludFRvUmdiYSh0aGlzLl90aW50LCB0aGlzLl9hbHBoYSwgdGhpcy51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudXZNYXRyaXgudXBkYXRlKCkpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVRleHR1cmVNYXRyaXggPSB0aGlzLnV2TWF0cml4Lm1hcENvb3JkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWVzaE1hdGVyaWFsO1xufShTaGFkZXIpKTtcblxuLyoqXG4gKiBTdGFuZGFyZCAyRCBnZW9tZXRyeSB1c2VkIGluIFBpeGlKUy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pO1xuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG52YXIgTWVzaEdlb21ldHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZXNoR2VvbWV0cnksIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IFt2ZXJ0aWNlc10gLSBQb3NpdGlvbmFsIGRhdGEgb24gZ2VvbWV0cnkuXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl8bnVtYmVyW119IFt1dnNdIC0gVGV4dHVyZSBVVnMuXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheXxudW1iZXJbXX0gW2luZGV4XSAtIEluZGV4QnVmZmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaEdlb21ldHJ5KHZlcnRpY2VzLCB1dnMsIGluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciB2ZXJ0aWNlc0J1ZmZlciA9IG5ldyBCdWZmZXIodmVydGljZXMpO1xuICAgICAgICB2YXIgdXZzQnVmZmVyID0gbmV3IEJ1ZmZlcih1dnMsIHRydWUpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGluZGV4LCB0cnVlLCB0cnVlKTtcbiAgICAgICAgX3RoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCB2ZXJ0aWNlc0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHV2c0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEluZGV4KGluZGV4QnVmZmVyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpcnR5IGZsYWcgdG8gbGltaXQgdXBkYXRlIGNhbGxzIG9uIE1lc2guIEZvciBleGFtcGxlLFxuICAgICAgICAgKiBsaW1pdGluZyB1cGRhdGVzIG9uIGEgc2luZ2xlIE1lc2ggaW5zdGFuY2Ugd2l0aCBhIHNoYXJlZCBHZW9tZXRyeVxuICAgICAgICAgKiB3aXRoaW4gdGhlIHJlbmRlciBsb29wLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdXBkYXRlSWQgPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEdlb21ldHJ5LnByb3RvdHlwZSwgXCJ2ZXJ0ZXhEaXJ0eUlkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSB2ZXJ0ZXggcG9zaXRpb24gaXMgdXBkYXRlZC5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1swXS5fdXBkYXRlSUQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gTWVzaEdlb21ldHJ5O1xufShHZW9tZXRyeSkpO1xuXG5leHBvcnQgeyBNZXNoLCBNZXNoQmF0Y2hVdnMsIE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90ZXh0LWJpdG1hcCAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS90ZXh0LWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlY3RhbmdsZSwgT2JzZXJ2YWJsZVBvaW50LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBNZXNoR2VvbWV0cnksIE1lc2hNYXRlcmlhbCwgTWVzaCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgaGV4MnJnYiwgc3RyaW5nMmhleCwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBkZXByZWNhdGlvbiwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgVEVYVF9HUkFESUVOVCwgVGV4dFN0eWxlLCBUZXh0TWV0cmljcyB9IGZyb20gJ0BwaXhpL3RleHQnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBOb3JtYWxpemVkIHBhcnNlZCBkYXRhIGZyb20gLmZudCBmaWxlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBGb250RGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCaXRtYXBGb250RGF0YSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhSW5mb1tdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5mbyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFDb21tb25bXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbW1vbiA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFQYWdlW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWdlID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUNoYXJbXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoYXIgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhS2VybmluZ1tdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMua2VybmluZyA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gQml0bWFwRm9udERhdGE7XG59KCkpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhSW5mb1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGZhY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaXplXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUNvbW1vblxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVIZWlnaHRcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhUGFnZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGlkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmlsZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFDaGFyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwYWdlXG4gKiBAcHJvcGVydHkge251bWJlcn0geFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHhvZmZzZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5b2Zmc2V0XG4gKiBAcHJvcGVydHkge251bWJlcn0geGFkdmFuY2VcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhS2VybmluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGZpcnN0XG4gKiBAcHJvcGVydHkge251bWJlcn0gc2Vjb25kXG4gKiBAcHJvcGVydHkge251bWJlcn0gYW1vdW50XG4gKi9cblxuLyoqXG4gKiBCaXRtYXBGb250IGZvcm1hdCB0aGF0J3MgVGV4dC1iYXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBUZXh0Rm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRleHRGb3JtYXQoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHJlc291cmNlIHJlZmVycyB0byB0eHQgZm9udCBkYXRhLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgVGV4dEZvcm1hdC50ZXN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLmluZGV4T2YoJ2luZm8gZmFjZT0nKSA9PT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGV4dCBmb250IGRhdGEgdG8gYSBqYXZhc2NyaXB0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eHQgLSBSYXcgc3RyaW5nIGRhdGEgdG8gYmUgY29udmVydGVkXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250RGF0YX0gUGFyc2VkIGZvbnQgZGF0YVxuICAgICAqL1xuICAgIFRleHRGb3JtYXQucGFyc2UgPSBmdW5jdGlvbiAodHh0KSB7XG4gICAgICAgIC8vIFJldHJpZXZlIGRhdGEgaXRlbVxuICAgICAgICB2YXIgaXRlbXMgPSB0eHQubWF0Y2goL15bYS16XStcXHMrLiskL2dtKTtcbiAgICAgICAgdmFyIHJhd0RhdGEgPSB7XG4gICAgICAgICAgICBpbmZvOiBbXSxcbiAgICAgICAgICAgIGNvbW1vbjogW10sXG4gICAgICAgICAgICBwYWdlOiBbXSxcbiAgICAgICAgICAgIGNoYXI6IFtdLFxuICAgICAgICAgICAgY2hhcnM6IFtdLFxuICAgICAgICAgICAga2VybmluZzogW10sXG4gICAgICAgICAgICBrZXJuaW5nczogW10sXG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgaW4gaXRlbXMpIHtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgaXRlbSBuYW1lXG4gICAgICAgICAgICB2YXIgbmFtZSA9IGl0ZW1zW2ldLm1hdGNoKC9eW2Etel0rL2dtKVswXTtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgaXRlbSBhdHRyaWJ1dGUgbGlzdCBhcyBzdHJpbmcgZXguOiBcIndpZHRoPTEwXCJcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVMaXN0ID0gaXRlbXNbaV0ubWF0Y2goL1thLXpBLVpdKz0oW15cXHNcIiddK3xcIihbXlwiXSopXCIpL2dtKTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgYXR0cmlidXRlIGxpc3QgaW50byBhbiBvYmplY3RcbiAgICAgICAgICAgIHZhciBpdGVtRGF0YSA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaV8xIGluIGF0dHJpYnV0ZUxpc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBTcGxpdCBrZXktdmFsdWUgcGFpcnNcbiAgICAgICAgICAgICAgICB2YXIgc3BsaXQgPSBhdHRyaWJ1dGVMaXN0W2lfMV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gc3BsaXRbMF07XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGV2ZW50dWFsIHF1b3RlcyBmcm9tIHZhbHVlXG4gICAgICAgICAgICAgICAgdmFyIHN0clZhbHVlID0gc3BsaXRbMV0ucmVwbGFjZSgvXCIvZ20sICcnKTtcbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gY29udmVydCB2YWx1ZSBpbnRvIGZsb2F0XG4gICAgICAgICAgICAgICAgdmFyIGZsb2F0VmFsdWUgPSBwYXJzZUZsb2F0KHN0clZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugc3RyaW5nIHZhbHVlIGNhc2UgZmxvYXQgdmFsdWUgaXMgTmFOXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaXNOYU4oZmxvYXRWYWx1ZSkgPyBzdHJWYWx1ZSA6IGZsb2F0VmFsdWU7XG4gICAgICAgICAgICAgICAgaXRlbURhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUHVzaCBjdXJyZW50IGl0ZW0gdG8gdGhlIHJlc3VsdGluZyBkYXRhXG4gICAgICAgICAgICByYXdEYXRhW25hbWVdLnB1c2goaXRlbURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb250ID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIHJhd0RhdGEuaW5mby5mb3JFYWNoKGZ1bmN0aW9uIChpbmZvKSB7IHJldHVybiBmb250LmluZm8ucHVzaCh7XG4gICAgICAgICAgICBmYWNlOiBpbmZvLmZhY2UsXG4gICAgICAgICAgICBzaXplOiBwYXJzZUludChpbmZvLnNpemUsIDEwKSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByYXdEYXRhLmNvbW1vbi5mb3JFYWNoKGZ1bmN0aW9uIChjb21tb24pIHsgcmV0dXJuIGZvbnQuY29tbW9uLnB1c2goe1xuICAgICAgICAgICAgbGluZUhlaWdodDogcGFyc2VJbnQoY29tbW9uLmxpbmVIZWlnaHQsIDEwKSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByYXdEYXRhLnBhZ2UuZm9yRWFjaChmdW5jdGlvbiAocGFnZSkgeyByZXR1cm4gZm9udC5wYWdlLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2UuaWQsIDEwKSxcbiAgICAgICAgICAgIGZpbGU6IHBhZ2UuZmlsZSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByYXdEYXRhLmNoYXIuZm9yRWFjaChmdW5jdGlvbiAoY2hhcikgeyByZXR1cm4gZm9udC5jaGFyLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHBhcnNlSW50KGNoYXIuaWQsIDEwKSxcbiAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KGNoYXIucGFnZSwgMTApLFxuICAgICAgICAgICAgeDogcGFyc2VJbnQoY2hhci54LCAxMCksXG4gICAgICAgICAgICB5OiBwYXJzZUludChjaGFyLnksIDEwKSxcbiAgICAgICAgICAgIHdpZHRoOiBwYXJzZUludChjaGFyLndpZHRoLCAxMCksXG4gICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGNoYXIuaGVpZ2h0LCAxMCksXG4gICAgICAgICAgICB4b2Zmc2V0OiBwYXJzZUludChjaGFyLnhvZmZzZXQsIDEwKSxcbiAgICAgICAgICAgIHlvZmZzZXQ6IHBhcnNlSW50KGNoYXIueW9mZnNldCwgMTApLFxuICAgICAgICAgICAgeGFkdmFuY2U6IHBhcnNlSW50KGNoYXIueGFkdmFuY2UsIDEwKSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByYXdEYXRhLmtlcm5pbmcuZm9yRWFjaChmdW5jdGlvbiAoa2VybmluZykgeyByZXR1cm4gZm9udC5rZXJuaW5nLnB1c2goe1xuICAgICAgICAgICAgZmlyc3Q6IHBhcnNlSW50KGtlcm5pbmcuZmlyc3QsIDEwKSxcbiAgICAgICAgICAgIHNlY29uZDogcGFyc2VJbnQoa2VybmluZy5zZWNvbmQsIDEwKSxcbiAgICAgICAgICAgIGFtb3VudDogcGFyc2VJbnQoa2VybmluZy5hbW91bnQsIDEwKSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0Rm9ybWF0O1xufSgpKTtcblxuLyoqXG4gKiBCaXRtYXBGb250IGZvcm1hdCB0aGF0J3MgWE1MLWJhc2VkLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFhNTEZvcm1hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBYTUxGb3JtYXQoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHJlc291cmNlIHJlZmVycyB0byB4bWwgZm9udCBkYXRhLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgWE1MRm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIFhNTERvY3VtZW50XG4gICAgICAgICAgICAmJiBkYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJykubGVuZ3RoXG4gICAgICAgICAgICAmJiBkYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgIT09IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSBYTUwgaW50byBCaXRtYXBGb250RGF0YSB0aGF0IHdlIGNhbiB1c2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSB4bWxcbiAgICAgKiBAcmV0dXJuIHtCaXRtYXBGb250RGF0YX0gRGF0YSB0byB1c2UgZm9yIEJpdG1hcEZvbnRcbiAgICAgKi9cbiAgICBYTUxGb3JtYXQucGFyc2UgPSBmdW5jdGlvbiAoeG1sKSB7XG4gICAgICAgIHZhciBkYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIHZhciBpbmZvID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJyk7XG4gICAgICAgIHZhciBjb21tb24gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NvbW1vbicpO1xuICAgICAgICB2YXIgcGFnZSA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgICAgICB2YXIgY2hhciA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2hhcicpO1xuICAgICAgICB2YXIga2VybmluZyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgna2VybmluZycpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZm8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuaW5mby5wdXNoKHtcbiAgICAgICAgICAgICAgICBmYWNlOiBpbmZvW2ldLmdldEF0dHJpYnV0ZSgnZmFjZScpLFxuICAgICAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm9baV0uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLmNvbW1vbi5wdXNoKHtcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb25baV0uZ2V0QXR0cmlidXRlKCdsaW5lSGVpZ2h0JyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5wYWdlLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChwYWdlW2ldLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgZmlsZTogcGFnZVtpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxldHRlciA9IGNoYXJbaV07XG4gICAgICAgICAgICBkYXRhLmNoYXIucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdwYWdlJyksIDEwKSB8fCAwLFxuICAgICAgICAgICAgICAgIHg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3gnKSwgMTApLFxuICAgICAgICAgICAgICAgIHk6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLCAxMCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hvZmZzZXQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHlvZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3lvZmZzZXQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHhhZHZhbmNlOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4YWR2YW5jZScpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEua2VybmluZy5wdXNoKHtcbiAgICAgICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpcnN0JyksIDEwKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKCdzZWNvbmQnKSwgMTApLFxuICAgICAgICAgICAgICAgIGFtb3VudDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ2Ftb3VudCcpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBYTUxGb3JtYXQ7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBYTUwtYmFzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgWE1MU3RyaW5nRm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhNTFN0cmluZ0Zvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHRleHQgeG1sIGZvbnQgZGF0YS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7YW55fSBkYXRhXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZXNvdXJjZSBjb3VsZCBiZSB0cmVhdGVkIGFzIGZvbnQgZGF0YSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFhNTFN0cmluZ0Zvcm1hdC50ZXN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLmluZGV4T2YoJzxmb250PicpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciB4bWwgPSBuZXcgc2VsZi5ET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoZGF0YSwgJ3RleHQveG1sJyk7XG4gICAgICAgICAgICByZXR1cm4gWE1MRm9ybWF0LnRlc3QoeG1sKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSB0ZXh0IFhNTCBpbnRvIEJpdG1hcEZvbnREYXRhIHRoYXQgd2UgY2FuIHVzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB4bWxUeHRcbiAgICAgKiBAcmV0dXJuIHtCaXRtYXBGb250RGF0YX0gRGF0YSB0byB1c2UgZm9yIEJpdG1hcEZvbnRcbiAgICAgKi9cbiAgICBYTUxTdHJpbmdGb3JtYXQucGFyc2UgPSBmdW5jdGlvbiAoeG1sVHh0KSB7XG4gICAgICAgIHZhciB4bWwgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh4bWxUeHQsICd0ZXh0L3htbCcpO1xuICAgICAgICByZXR1cm4gWE1MRm9ybWF0LnBhcnNlKHhtbCk7XG4gICAgfTtcbiAgICByZXR1cm4gWE1MU3RyaW5nRm9ybWF0O1xufSgpKTtcblxuLy8gUmVnaXN0ZXJlZCBmb3JtYXRzLCBtYXliZSBtYWtlIHRoaXMgZXh0ZW5zaWJsZSBpbiB0aGUgZnV0dXJlP1xudmFyIGZvcm1hdHMgPSBbXG4gICAgVGV4dEZvcm1hdCxcbiAgICBYTUxGb3JtYXQsXG4gICAgWE1MU3RyaW5nRm9ybWF0IF07XG4vKipcbiAqIEF1dG8tZGV0ZWN0IEJpdG1hcEZvbnQgcGFyc2luZyBmb3JtYXQgYmFzZWQgb24gZGF0YS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2FueX0gZGF0YSAtIERhdGEgdG8gZGV0ZWN0IGZvcm1hdFxuICogQHJldHVybiB7YW55fSBGb3JtYXQgb3IgbnVsbFxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0Rm9ybWF0KGRhdGEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1hdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdHNbaV0udGVzdChkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFRPRE86IFByZXZlbnQgY29kZSBkdXBsaWNhdGlvbiBiL3cgZ2VuZXJhdGVGaWxsU3R5bGUgJiBUZXh0I2dlbmVyYXRlRmlsbFN0eWxlXG4vKipcbiAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgbGluZXMsIG1ldHJpY3MpIHtcbiAgICAvLyBUT0RPOiBDYW4ndCBoYXZlIGRpZmZlcmVudCB0eXBlcyBmb3IgZ2V0dGVyIGFuZCBzZXR0ZXIuIFRoZSBnZXR0ZXIgc2hvdWxkbid0IGhhdmUgdGhlIG51bWJlciB0eXBlIGFzXG4gICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgIHZhciBmaWxsU3R5bGUgPSBzdHlsZS5maWxsO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShmaWxsU3R5bGUpKSB7XG4gICAgICAgIHJldHVybiBmaWxsU3R5bGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpbGxTdHlsZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZpbGxTdHlsZVswXTtcbiAgICB9XG4gICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgdmFyIGdyYWRpZW50O1xuICAgIC8vIGEgZHJvcHNoYWRvdyB3aWxsIGVubGFyZ2UgdGhlIGNhbnZhcyBhbmQgcmVzdWx0IGluIHRoZSBncmFkaWVudCBiZWluZ1xuICAgIC8vIGdlbmVyYXRlZCB3aXRoIHRoZSBpbmNvcnJlY3QgZGltZW5zaW9uc1xuICAgIHZhciBkcm9wU2hhZG93Q29ycmVjdGlvbiA9IChzdHlsZS5kcm9wU2hhZG93KSA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDA7XG4gICAgLy8gc2hvdWxkIGFsc28gdGFrZSBwYWRkaW5nIGludG8gYWNjb3VudCwgcGFkZGluZyBjYW4gb2Zmc2V0IHRoZSBncmFkaWVudFxuICAgIHZhciBwYWRkaW5nID0gc3R5bGUucGFkZGluZyB8fCAwO1xuICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyByZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyByZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICB2YXIgZmlsbCA9IGZpbGxTdHlsZS5zbGljZSgpO1xuICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG4gICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSkge1xuICAgICAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaChpIC8gbGVuZ3RoUGx1czEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgIGZpbGwudW5zaGlmdChmaWxsU3R5bGVbMF0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG4gICAgZmlsbC5wdXNoKGZpbGxTdHlsZVtmaWxsU3R5bGUubGVuZ3RoIC0gMV0pO1xuICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goMSk7XG4gICAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgIC8vIFRoZXJlJ3MgcG90ZW50aWFsIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzIGF0IHRoZSBzZWFtcyBiZXR3ZWVuIGdyYWRpZW50IHJlcGVhdHMuXG4gICAgICAgIC8vIFRoZSBsb29wIGJlbG93IGdlbmVyYXRlcyB0aGUgc3RvcHMgaW4gb3JkZXIsIHNvIHRyYWNrIHRoZSBsYXN0IGdlbmVyYXRlZCBvbmUgdG8gcHJldmVudFxuICAgICAgICAvLyBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gZnJvbSBtYWtpbmcgdXMgZ28gdGhlIHRlZW5pZXN0IGJpdCBiYWNrd2FyZHMsIHJlc3VsdGluZyBpblxuICAgICAgICAvLyB0aGUgZmlyc3QgYW5kIGxhc3QgY29sb3JzIGdldHRpbmcgc3dhcHBlZC5cbiAgICAgICAgdmFyIGxhc3RJdGVyYXRpb25TdG9wID0gMDtcbiAgICAgICAgLy8gQWN0dWFsIGhlaWdodCBvZiB0aGUgdGV4dCBpdHNlbGYsIG5vdCBjb3VudGluZyBzcGFjaW5nIGZvciBsaW5lSGVpZ2h0L2xlYWRpbmcvZHJvcFNoYWRvdyBldGNcbiAgICAgICAgdmFyIHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAvLyB0ZXh0SGVpZ2h0LCBidXQgYXMgYSAwLTEgc2l6ZSBpbiBnbG9iYWwgZ3JhZGllbnQgc3RvcCBzcGFjZVxuICAgICAgICB2YXIgZ3JhZFN0b3BMaW5lSGVpZ2h0ID0gdGV4dEhlaWdodCAvIGhlaWdodDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRoaXNMaW5lVG9wID0gbWV0cmljcy5saW5lSGVpZ2h0ICogaTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsbC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIC8vIDAtMSBzdG9wIHBvaW50IGZvciB0aGUgY3VycmVudCBsaW5lLCBtdWx0aXBsaWVkIHRvIGdsb2JhbCBzcGFjZSBhZnRlcndhcmRzXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVTdG9wID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBqIC8gZmlsbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBnbG9iYWxTdG9wID0gKHRoaXNMaW5lVG9wIC8gaGVpZ2h0KSArIChsaW5lU3RvcCAqIGdyYWRTdG9wTGluZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBjb2xvciBzdG9wIGdlbmVyYXRpb24gZ29pbmcgYmFja3dhcmRzIGZyb20gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb25cbiAgICAgICAgICAgICAgICB2YXIgY2xhbXBlZFN0b3AgPSBNYXRoLm1heChsYXN0SXRlcmF0aW9uU3RvcCwgZ2xvYmFsU3RvcCk7XG4gICAgICAgICAgICAgICAgY2xhbXBlZFN0b3AgPSBNYXRoLm1pbihjbGFtcGVkU3RvcCwgMSk7IC8vIENhcCBhdCAxIGFzIHdlbGwgZm9yIHNhZmV0eSdzIHNha2UgdG8gYXZvaWQgYSBwb3NzaWJsZSB0aHJvdy5cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgIGxhc3RJdGVyYXRpb25TdG9wID0gY2xhbXBlZFN0b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHBhZGRpbmcsIGhlaWdodCAvIDIsIHdpZHRoICsgcGFkZGluZywgaGVpZ2h0IC8gMik7XG4gICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgIHZhciBjdXJyZW50SXRlcmF0aW9uID0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RvcCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpXSk7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdyYWRpZW50O1xufVxuXG4vLyBUT0RPOiBQcmV2ZW50IGNvZGUgZHVwbGljYXRpb24gYi93IGRyYXdHbHlwaCAmIFRleHQjdXBkYXRlVGV4dFxuLyoqXG4gKiBEcmF3cyB0aGUgZ2x5cGggYG1ldHJpY3MudGV4dGAgb24gdGhlIGdpdmVuIGNhbnZhcy5cbiAqXG4gKiBJZ25vcmVkIGJlY2F1c2Ugbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dFxuICogQHBhcmFtIHtUZXh0TWV0cmljc30gbWV0cmljc1xuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvblxuICogQHBhcmFtIHtUZXh0U3R5bGV9IHN0eWxlXG4gKi9cbmZ1bmN0aW9uIGRyYXdHbHlwaChjYW52YXMsIGNvbnRleHQsIG1ldHJpY3MsIHgsIHksIHJlc29sdXRpb24sIHN0eWxlKSB7XG4gICAgdmFyIGNoYXIgPSBtZXRyaWNzLnRleHQ7XG4gICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWV0cmljcy5mb250UHJvcGVydGllcztcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICBjb250ZXh0LnNjYWxlKHJlc29sdXRpb24sIHJlc29sdXRpb24pO1xuICAgIHZhciB0eCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgdmFyIHR5ID0gLShzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyKTtcbiAgICBjb250ZXh0LmZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgY29udGV4dC5mb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG4gICAgLy8gc2V0IGNhbnZhcyB0ZXh0IHN0eWxlc1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2VuZXJhdGVGaWxsU3R5bGUoY2FudmFzLCBjb250ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgW2NoYXJdLCBtZXRyaWNzKTtcbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgIHZhciBkcm9wU2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgdmFyIHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcInJnYmEoXCIgKyByZ2JbMF0gKiAyNTUgKyBcIixcIiArIHJnYlsxXSAqIDI1NSArIFwiLFwiICsgcmdiWzJdICogMjU1ICsgXCIsXCIgKyBzdHlsZS5kcm9wU2hhZG93QWxwaGEgKyBcIilcIjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICB9XG4gICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTsgLy8gZGVmYXVsdHMgbmVlZGVkIGZvciBvbGRlciBicm93c2VycyAoZS5nLiBPcGVyYSAyOSlcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDApJztcbn1cblxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIHBhc3NlZCBjaGFyYWN0ZXIgc2V0IGRhdGEgYW5kIHJldHVybnMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgYWxsIHRoZSBjaGFyYWN0ZXJzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXSB9IGNoYXJzXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKSB7XG4gICAgLy8gU3BsaXQgdGhlIGNoYXJzIHN0cmluZyBpbnRvIGluZGl2aWR1YWwgY2hhcmFjdGVyc1xuICAgIGlmICh0eXBlb2YgY2hhcnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNoYXJzID0gW2NoYXJzXTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMrcmFuZ2VzXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gY2hhcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gY2hhcnNbaV07XG4gICAgICAgIC8vIEhhbmRsZSByYW5nZSBkZWxpbWl0ZWQgYnkgc3RhcnQvZW5kIGNoYXJzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlIGxlbmd0aCwgZXhwZWN0aW5nIDIgZ290IFwiICsgaXRlbS5sZW5ndGggKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2RlID0gaXRlbVswXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgdmFyIGVuZENvZGUgPSBpdGVtWzFdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZW5kQ29kZSA8IHN0YXJ0Q29kZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IHN0YXJ0Q29kZSwgal8xID0gZW5kQ29kZTsgaV8xIDw9IGpfMTsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGlfMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhIGNoYXJhY3RlciBzZXQgc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2guYXBwbHkocmVzdWx0LCBpdGVtLnNwbGl0KCcnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF06IEVtcHR5IHNldCB3aGVuIHJlc29sdmluZyBjaGFyYWN0ZXJzLicpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJpdG1hcEZvbnQgcmVwcmVzZW50cyBhIHR5cGVmYWNlIGF2YWlsYWJsZSBmb3IgdXNlIHdpdGggdGhlIEJpdG1hcFRleHQgY2xhc3MuIFVzZSB0aGUgYGluc3RhbGxgXG4gKiBtZXRob2QgZm9yIGFkZGluZyBhIGZvbnQgdG8gYmUgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBGb250ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CaXRtYXBGb250RGF0YX0gZGF0YVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT59IHRleHR1cmVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQml0bWFwRm9udChkYXRhLCB0ZXh0dXJlcykge1xuICAgICAgICB2YXIgaW5mbyA9IGRhdGEuaW5mb1swXTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IGRhdGEuY29tbW9uWzBdO1xuICAgICAgICB2YXIgcGFnZSA9IGRhdGEucGFnZVswXTtcbiAgICAgICAgdmFyIHJlcyA9IGdldFJlc29sdXRpb25PZlVybChwYWdlLmZpbGUpO1xuICAgICAgICB2YXIgcGFnZVRleHR1cmVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZm9udCBmYWNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250ID0gaW5mby5mYWNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNpemUgb2YgdGhlIGZvbnQgZmFjZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSBpbmZvLnNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZS1oZWlnaHQgb2YgdGhlIGZvbnQgZmFjZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBjb21tb24ubGluZUhlaWdodCAvIHJlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgY2hhcmFjdGVycyBieSBjaGFyYWN0ZXIgY29kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhcnMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgYmFzZSBwYWdlIHRleHR1cmVzIChpLmUuLCBzaGVldHMgb2YgZ2x5cGhzKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFnZVRleHR1cmVzID0gcGFnZVRleHR1cmVzO1xuICAgICAgICAvLyBDb252ZXJ0IHRoZSBpbnB1dCBUZXh0dXJlLCBUZXh0dXJlcyBvciBvYmplY3RcbiAgICAgICAgLy8gaW50byBhIHBhZ2UgVGV4dHVyZSBsb29rdXAgYnkgXCJpZFwiXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5wYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBkYXRhLnBhZ2VbaV0sIGlkID0gX2EuaWQsIGZpbGUgPSBfYS5maWxlO1xuICAgICAgICAgICAgcGFnZVRleHR1cmVzW2lkXSA9IHRleHR1cmVzIGluc3RhbmNlb2YgQXJyYXlcbiAgICAgICAgICAgICAgICA/IHRleHR1cmVzW2ldIDogdGV4dHVyZXNbZmlsZV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2UgbGV0dGVyc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9iID0gZGF0YS5jaGFyW2ldLCBpZCA9IF9iLmlkLCBwYWdlXzEgPSBfYi5wYWdlO1xuICAgICAgICAgICAgdmFyIF9jID0gZGF0YS5jaGFyW2ldLCB4ID0gX2MueCwgeSA9IF9jLnksIHdpZHRoID0gX2Mud2lkdGgsIGhlaWdodCA9IF9jLmhlaWdodCwgeG9mZnNldCA9IF9jLnhvZmZzZXQsIHlvZmZzZXQgPSBfYy55b2Zmc2V0LCB4YWR2YW5jZSA9IF9jLnhhZHZhbmNlO1xuICAgICAgICAgICAgeCAvPSByZXM7XG4gICAgICAgICAgICB5IC89IHJlcztcbiAgICAgICAgICAgIHdpZHRoIC89IHJlcztcbiAgICAgICAgICAgIGhlaWdodCAvPSByZXM7XG4gICAgICAgICAgICB4b2Zmc2V0IC89IHJlcztcbiAgICAgICAgICAgIHlvZmZzZXQgLz0gcmVzO1xuICAgICAgICAgICAgeGFkdmFuY2UgLz0gcmVzO1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBuZXcgUmVjdGFuZ2xlKHggKyAocGFnZVRleHR1cmVzW3BhZ2VfMV0uZnJhbWUueCAvIHJlcyksIHkgKyAocGFnZVRleHR1cmVzW3BhZ2VfMV0uZnJhbWUueSAvIHJlcyksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0gPSB7XG4gICAgICAgICAgICAgICAgeE9mZnNldDogeG9mZnNldCxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiB5b2Zmc2V0LFxuICAgICAgICAgICAgICAgIHhBZHZhbmNlOiB4YWR2YW5jZSxcbiAgICAgICAgICAgICAgICBrZXJuaW5nOiB7fSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBuZXcgVGV4dHVyZShwYWdlVGV4dHVyZXNbcGFnZV8xXS5iYXNlVGV4dHVyZSwgcmVjdCksXG4gICAgICAgICAgICAgICAgcGFnZTogcGFnZV8xLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJzZSBrZXJuaW5nc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEua2VybmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9kID0gZGF0YS5rZXJuaW5nW2ldLCBmaXJzdCA9IF9kLmZpcnN0LCBzZWNvbmQgPSBfZC5zZWNvbmQsIGFtb3VudCA9IF9kLmFtb3VudDtcbiAgICAgICAgICAgIGZpcnN0IC89IHJlcztcbiAgICAgICAgICAgIHNlY29uZCAvPSByZXM7XG4gICAgICAgICAgICBhbW91bnQgLz0gcmVzO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcnNbc2Vjb25kXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcnNbc2Vjb25kXS5rZXJuaW5nW2ZpcnN0XSA9IGFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgcmVmZXJlbmNlcyB0byBjcmVhdGVkIGdseXBoIHRleHR1cmVzLlxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuY2hhcnMpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaWRdLnRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0udGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5wYWdlVGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZVRleHR1cmVzW2lkXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgcmVhZG9ubHkgbnVsbC5cbiAgICAgICAgdGhpcy5jaGFycyA9IG51bGw7XG4gICAgICAgIHRoaXMucGFnZVRleHR1cmVzID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGJpdG1hcCBmb250LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR8c3RyaW5nfFBJWEkuQml0bWFwRm9udERhdGF9IGRhdGEgLSBUaGVcbiAgICAgKiAgICAgICAgY2hhcmFjdGVycyBtYXAgdGhhdCBjb3VsZCBiZSBwcm92aWRlZCBhcyB4bWwgb3IgcmF3IHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBQSVhJLlRleHR1cmU+fFBJWEkuVGV4dHVyZXxQSVhJLlRleHR1cmVbXX1cbiAgICAgKiAgICAgICAgdGV4dHVyZXMgLSBMaXN0IG9mIHRleHR1cmVzIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0XG4gICAgICogICAgICAgICBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwRm9udC5pbnN0YWxsID0gZnVuY3Rpb24gKGRhdGEsIHRleHR1cmVzKSB7XG4gICAgICAgIHZhciBmb250RGF0YTtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCaXRtYXBGb250RGF0YSkge1xuICAgICAgICAgICAgZm9udERhdGEgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZvcm1hdCA9IGF1dG9EZXRlY3RGb3JtYXQoZGF0YSk7XG4gICAgICAgICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkIGRhdGEgZm9ybWF0IGZvciBmb250LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udERhdGEgPSBmb3JtYXQucGFyc2UoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2luZ2xlIHRleHR1cmUsIGNvbnZlcnQgdG8gbGlzdFxuICAgICAgICBpZiAodGV4dHVyZXMgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcyA9IFt0ZXh0dXJlc107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udChmb250RGF0YSwgdGV4dHVyZXMpO1xuICAgICAgICBCaXRtYXBGb250LmF2YWlsYWJsZVtmb250LmZvbnRdID0gZm9udDtcbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYml0bWFwIGZvbnQgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQudW5pbnN0YWxsID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIGZvbnQgPSBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcbiAgICAgICAgaWYgKCFmb250KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmb250IGZvdW5kIG5hbWVkICdcIiArIG5hbWUgKyBcIidcIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9udC5kZXN0cm95KCk7XG4gICAgICAgIGRlbGV0ZSBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGJpdG1hcC1mb250IGZvciB0aGUgZ2l2ZW4gc3R5bGUgYW5kIGNoYXJhY3RlciBzZXQuIFRoaXMgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAqIGtlcm5pbmdzIHlldC4gV2l0aCBgc3R5bGVgIHByb3BlcnRpZXMsIG9ubHkgdGhlIGZvbGxvd2luZyBub24tbGF5b3V0IHByb3BlcnRpZXMgYXJlIHVzZWQ6XG4gICAgICpcbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93fGRyb3BTaGFkb3d9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0Rpc3RhbmNlfGRyb3BTaGFkb3dEaXN0YW5jZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93Q29sb3J8ZHJvcFNoYWRvd0NvbG9yfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dCbHVyfGRyb3BTaGFkb3dCbHVyfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dBbmdsZXxkcm9wU2hhZG93QW5nbGV9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbHxmaWxsfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZpbGxHcmFkaWVudFN0b3BzfGZpbGxHcmFkaWVudFN0b3BzfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZpbGxHcmFkaWVudFR5cGV8ZmlsbEdyYWRpZW50VHlwZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250RmFtaWx5fGZvbnRGYW1pbHl9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFNpemV8Zm9udFNpemV9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFZhcmlhbnR8Zm9udFZhcmlhbnR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udFdlaWdodHxmb250V2VpZ2h0fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2xpbmVKb2lufGxpbmVKb2lufVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI21pdGVyTGltaXR8bWl0ZXJMaW1pdH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNzdHJva2V8c3Ryb2tlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3N0cm9rZVRoaWNrbmVzc3xzdHJva2VUaGlja25lc3N9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjdGV4dEJhc2VsaW5lfHRleHRCYXNlbGluZX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBmb250IHRvIHVzZSB3aXRoIEJpdG1hcFRleHQuXG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBTdHlsZSBvcHRpb25zIHRvIHJlbmRlciB3aXRoIEJpdG1hcEZvbnQuXG4gICAgICogQHBhcmFtIHtQSVhJLklCaXRtYXBGb250T3B0aW9uc30gW29wdGlvbnNdIC0gU2V0dXAgb3B0aW9ucyBmb3IgZm9udCBvciBuYW1lIG9mIHRoZSBmb250LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfHN0cmluZ1tdW119IFtvcHRpb25zLmNoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNdIC0gY2hhcmFjdGVycyBpbmNsdWRlZFxuICAgICAqICAgICAgaW4gdGhlIGZvbnQgc2V0LiBZb3UgY2FuIGFsc28gdXNlIHJhbmdlcy4gRm9yIGV4YW1wbGUsIGBbWydhJywgJ3onXSwgWydBJywgJ1onXSwgXCIhQCMkJV4mKigpfnt9W10gXCJdYC5cbiAgICAgKiAgICAgIERvbid0IGZvcmdldCB0byBpbmNsdWRlIHNwYWNlcyAnICcgaW4geW91ciBjaGFyYWN0ZXIgc2V0IVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gUmVuZGVyIHJlc29sdXRpb24gZm9yIGdseXBocy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGV4dHVyZVdpZHRoPTUxMl0gLSBPcHRpb25hbCB3aWR0aCBvZiBhdGxhcywgc21hbGxlciB2YWx1ZXMgdG8gcmVkdWNlIG1lbW9yeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGV4dHVyZUhlaWdodD01MTJdIC0gT3B0aW9uYWwgaGVpZ2h0IG9mIGF0bGFzLCBzbWFsbGVyIHZhbHVlcyB0byByZWR1Y2UgbWVtb3J5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5wYWRkaW5nPTRdIC0gUGFkZGluZyBiZXR3ZWVuIGdseXBocyBvbiB0ZXh0dXJlIGF0bGFzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQml0bWFwRm9udH0gRm9udCBnZW5lcmF0ZWQgYnkgc3R5bGUgb3B0aW9ucy5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBQSVhJLkJpdG1hcEZvbnQuZnJvbShcIlRpdGxlRm9udFwiLCB7XG4gICAgICogICAgIGZvbnRGYW1pbHk6IFwiQXJpYWxcIixcbiAgICAgKiAgICAgZm9udFNpemU6IDEyLFxuICAgICAqICAgICBzdHJva2VUaGlja25lc3M6IDIsXG4gICAgICogICAgIGZpbGw6IFwicHVycGxlXCJcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnN0IHRpdGxlID0gbmV3IFBJWEkuQml0bWFwVGV4dChcIlRoaXMgaXMgdGhlIHRpdGxlXCIsIHsgZm9udE5hbWU6IFwiVGl0bGVGb250XCIgfSk7XG4gICAgICovXG4gICAgQml0bWFwRm9udC5mcm9tID0gZnVuY3Rpb24gKG5hbWUsIHRleHRTdHlsZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdIFByb3BlcnR5IGBuYW1lYCBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHt9LCBCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSwgY2hhcnMgPSBfYS5jaGFycywgcGFkZGluZyA9IF9hLnBhZGRpbmcsIHJlc29sdXRpb24gPSBfYS5yZXNvbHV0aW9uLCB0ZXh0dXJlV2lkdGggPSBfYS50ZXh0dXJlV2lkdGgsIHRleHR1cmVIZWlnaHQgPSBfYS50ZXh0dXJlSGVpZ2h0O1xuICAgICAgICB2YXIgY2hhcnNMaXN0ID0gcmVzb2x2ZUNoYXJhY3RlcnMoY2hhcnMpO1xuICAgICAgICB2YXIgc3R5bGUgPSB0ZXh0U3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUgPyB0ZXh0U3R5bGUgOiBuZXcgVGV4dFN0eWxlKHRleHRTdHlsZSk7XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSB0ZXh0dXJlV2lkdGg7XG4gICAgICAgIHZhciBmb250RGF0YSA9IG5ldyBCaXRtYXBGb250RGF0YSgpO1xuICAgICAgICBmb250RGF0YS5pbmZvWzBdID0ge1xuICAgICAgICAgICAgZmFjZTogc3R5bGUuZm9udEZhbWlseSxcbiAgICAgICAgICAgIHNpemU6IHN0eWxlLmZvbnRTaXplLFxuICAgICAgICB9O1xuICAgICAgICBmb250RGF0YS5jb21tb25bMF0gPSB7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBzdHlsZS5mb250U2l6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgIHZhciBwb3NpdGlvblkgPSAwO1xuICAgICAgICB2YXIgY2FudmFzO1xuICAgICAgICB2YXIgY29udGV4dDtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0ZXh0dXJlV2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHRleHR1cmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKGNhbnZhcywgeyByZXNvbHV0aW9uOiByZXNvbHV0aW9uIH0pO1xuICAgICAgICAgICAgICAgIHRleHR1cmVzLnB1c2gobmV3IFRleHR1cmUoYmFzZVRleHR1cmUpKTtcbiAgICAgICAgICAgICAgICBmb250RGF0YS5wYWdlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogdGV4dHVyZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogJycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNZWFzdXJlIGdseXBoIGRpbWVuc2lvbnNcbiAgICAgICAgICAgIHZhciBtZXRyaWNzID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoY2hhcnNMaXN0W2ldLCBzdHlsZSwgZmFsc2UsIGNhbnZhcyk7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSBtZXRyaWNzLndpZHRoO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbChtZXRyaWNzLmhlaWdodCk7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHVnbHkgLSBidXQgaXRhbGljcyBhcmUgZ2l2ZW4gbW9yZSBzcGFjZSBzbyB0aGV5IGRvbid0IG92ZXJsYXBcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlR2x5cGhXaWR0aCA9IE1hdGguY2VpbCgoc3R5bGUuZm9udFN0eWxlID09PSAnaXRhbGljJyA/IDIgOiAxKSAqIHdpZHRoKTtcbiAgICAgICAgICAgIC8vIENhbid0IGZpdCBjaGFyIGFueW1vcmU6IG5leHQgY2FudmFzIHBsZWFzZSFcbiAgICAgICAgICAgIGlmIChwb3NpdGlvblkgPj0gdGV4dHVyZUhlaWdodCAtIChoZWlnaHQgKiByZXNvbHV0aW9uKSkge1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvblkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB1c2VyIGRlYnVnZ2luZyBhbiBpbmZpbml0ZSBsb29wIChvciBkbyB3ZT8gOilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0JpdG1hcEZvbnRdIHRleHR1cmVIZWlnaHQgXCIgKyB0ZXh0dXJlSGVpZ2h0ICsgXCJweCBpcyBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXCJ0b28gc21hbGwgZm9yIFwiICsgc3R5bGUuZm9udFNpemUgKyBcInB4IGZvbnRzXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYXRsYXMgb25jZSBjdXJyZW50IGhhcyBmaWxsZWQgdXBcbiAgICAgICAgICAgICAgICBjYW52YXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSAwO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0ICsgbWV0cmljcy5mb250UHJvcGVydGllcy5kZXNjZW50LCBtYXhDaGFySGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFdyYXAgbGluZSBvbmNlIGZ1bGwgcm93IGhhcyBiZWVuIHJlbmRlcmVkXG4gICAgICAgICAgICBpZiAoKHRleHR1cmVHbHlwaFdpZHRoICogcmVzb2x1dGlvbikgKyBwb3NpdGlvblggPj0gbGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSArPSBtYXhDaGFySGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgPSBNYXRoLmNlaWwocG9zaXRpb25ZKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSAwO1xuICAgICAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgcG9zaXRpb25YLCBwb3NpdGlvblksIHJlc29sdXRpb24sIHN0eWxlKTtcbiAgICAgICAgICAgIC8vIFVuaXF1ZSAobnVtZXJpYykgSUQgbWFwcGluZyB0byB0aGlzIGdseXBoXG4gICAgICAgICAgICB2YXIgaWQgPSBtZXRyaWNzLnRleHQuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHRleHR1cmUgaG9sZGluZyBqdXN0IHRoZSBnbHlwaFxuICAgICAgICAgICAgZm9udERhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgcGFnZTogdGV4dHVyZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICB4OiBwb3NpdGlvblggLyByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgIHk6IHBvc2l0aW9uWSAvIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRleHR1cmVHbHlwaFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHhvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgeW9mZnNldDogMCxcbiAgICAgICAgICAgICAgICB4YWR2YW5jZTogTWF0aC5jZWlsKHdpZHRoXG4gICAgICAgICAgICAgICAgICAgIC0gKHN0eWxlLmRyb3BTaGFkb3cgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwKVxuICAgICAgICAgICAgICAgICAgICAtIChzdHlsZS5zdHJva2UgPyBzdHlsZS5zdHJva2VUaGlja25lc3MgOiAwKSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvc2l0aW9uWCArPSAodGV4dHVyZUdseXBoV2lkdGggKyAoMiAqIHBhZGRpbmcpKSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICBwb3NpdGlvblggPSBNYXRoLmNlaWwocG9zaXRpb25YKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcyk7XG4gICAgICAgIC8vIE1ha2UgaXQgZWFzaWVyIHRvIHJlcGxhY2UgYSBmb250XG4gICAgICAgIGlmIChCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCaXRtYXBGb250LnVuaW5zdGFsbChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBCaXRtYXBGb250LmF2YWlsYWJsZVtuYW1lXSA9IGZvbnQ7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGluY2x1ZGVzIGFsbCB0aGUgbGV0dGVycyBpbiB0aGUgYWxwaGFiZXQgKGJvdGggbG93ZXItIGFuZCB1cHBlci0gY2FzZSkuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5BTFBIQSB9KVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQUxQSEEgPSBbWydhJywgJ3onXSwgWydBJywgJ1onXSwgJyAnXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIGRlY2ltYWwgZGlnaXRzIChmcm9tIDAgdG8gOSkuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBCaXRtYXBGb250LmZyb20oXCJFeGFtcGxlRm9udFwiLCBzdHlsZSwgeyBjaGFyczogQml0bWFwRm9udC5OVU1FUklDIH0pXG4gICAgICovXG4gICAgQml0bWFwRm9udC5OVU1FUklDID0gW1snMCcsICc5J11dO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpcyB0aGUgdW5pb24gb2YgYEJpdG1hcEZvbnQuQUxQSEFgIGFuZCBgQml0bWFwRm9udC5OVU1FUklDYC5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyA9IFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCBbJzAnLCAnOSddLCAnICddO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBjb25zaXN0cyBvZiBhbGwgdGhlIEFTQ0lJIHRhYmxlLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5hc2NpaXRhYmxlLmNvbS9cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFTQ0lJID0gW1snICcsICd+J11dO1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgZGVmYXVsdCBvcHRpb25zIHdoZW4gdXNpbmcgYEJpdG1hcEZvbnQuZnJvbWAuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udE9wdGlvbnN9XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc29sdXRpb249MVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0ZXh0dXJlV2lkdGg9NTEyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRleHR1cmVIZWlnaHQ9NTEyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZGRpbmc9NFxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfHN0cmluZ1tdW119IGNoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICB0ZXh0dXJlV2lkdGg6IDUxMixcbiAgICAgICAgdGV4dHVyZUhlaWdodDogNTEyLFxuICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICBjaGFyczogQml0bWFwRm9udC5BTFBIQU5VTUVSSUMsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGF2YWlsYWJsZS9pbnN0YWxsZWQgZm9udHMuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuQml0bWFwRm9udD59XG4gICAgICovXG4gICAgQml0bWFwRm9udC5hdmFpbGFibGUgPSB7fTtcbiAgICByZXR1cm4gQml0bWFwRm9udDtcbn0oKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW50ZXJmYWNlIElCaXRtYXBGb250T3B0aW9uc1xuICogQHByb3BlcnR5IHtzdHJpbmcgfCBzdHJpbmdbXSB8IHN0cmluZ1tdW119IFtjaGFycz1QSVhJLkJpdG1hcEZvbnQuQUxQSEFOVU1FUklDXSAtIHRoZSBjaGFyYWN0ZXIgc2V0IHRvIGdlbmVyYXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSB0aGUgcmVzb2x1dGlvbiBmb3IgcmVuZGVyaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BhZGRpbmc9NF0gLSB0aGUgcGFkZGluZyBiZXR3ZWVuIGdseXBocyBpbiB0aGUgYXRsYXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dHVyZVdpZHRoPTUxMl0gLSB0aGUgd2lkdGggb2YgdGhlIHRleHR1cmUgYXRsYXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGV4dHVyZUhlaWdodD01MTJdIC0gdGhlIGhlaWdodCBvZiB0aGUgdGV4dHVyZSBhdGxhc1xuICovXG5cbnZhciBwYWdlTWVzaERhdGFQb29sID0gW107XG52YXIgY2hhclJlbmRlckRhdGFQb29sID0gW107XG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBUZXh0IGlzIHRoYXQgYWxsIG9mIHlvdXIgdGV4dHVyZXMgYXJlIHByZS1nZW5lcmF0ZWQgYW5kIGxvYWRpbmcsXG4gKiBtZWFuaW5nIHRoYXQgcmVuZGVyaW5nIGlzIGZhc3QsIGFuZCBjaGFuZ2luZyB0ZXh0IGhhcyBubyBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gKlxuICogU3VwcG9ydGluZyBjaGFyYWN0ZXIgc2V0cyBvdGhlciB0aGFuIGxhdGluLCBzdWNoIGFzIENKSyBsYW5ndWFnZXMsIG1heSBiZSBpbXByYWN0aWNhbCBkdWUgdG8gdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzLlxuICpcbiAqIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJywgJ1xccicgb3IgJ1xcclxcbicgaW4geW91ciBzdHJpbmcuXG4gKlxuICogUGl4aUpTIGNhbiBhdXRvLWdlbmVyYXRlIGZvbnRzIG9uLXRoZS1mbHkgdXNpbmcgQml0bWFwRm9udCBvciB1c2UgZm50IGZpbGVzIHByb3ZpZGVkIGJ5OlxuICogaHR0cDovL3d3dy5hbmdlbGNvZGUuY29tL3Byb2R1Y3RzL2JtZm9udC8gZm9yIFdpbmRvd3Mgb3JcbiAqIGh0dHA6Ly93d3cuYm1nbHlwaC5jb20vIGZvciBNYWMuXG4gKlxuICogQSBCaXRtYXBUZXh0IGNhbiBvbmx5IGJlIGNyZWF0ZWQgd2hlbiB0aGUgZm9udCBpcyBsb2FkZWQuXG4gKlxuICogYGBganNcbiAqIC8vIGluIHRoaXMgY2FzZSB0aGUgZm9udCBpcyBpbiBhIGZpbGUgY2FsbGVkICdkZXN5cmVsLmZudCdcbiAqIGxldCBiaXRtYXBUZXh0ID0gbmV3IFBJWEkuQml0bWFwVGV4dChcInRleHQgdXNpbmcgYSBmYW5jeSBmb250IVwiLCB7Zm9udDogXCIzNXB4IERlc3lyZWxcIiwgYWxpZ246IFwicmlnaHRcIn0pO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcFRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJpdG1hcFRleHQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBBIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXkuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlLmZvbnROYW1lIC0gVGhlIGluc3RhbGxlZCBCaXRtYXBGb250IG5hbWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5mb250U2l6ZV0gLSBUaGUgc2l6ZSBvZiB0aGUgZm9udCBpbiBwaXhlbHMsIGUuZy4gMjQuIElmIHVuZGVmaW5lZCxcbiAgICAgKi4gICAgIHRoaXMgd2lsbCBkZWZhdWx0IHRvIHRoZSBCaXRtYXBGb250IHNpemUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSxcbiAgICAgKiAgICAgIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUudGludD0weEZGRkZGRl0gLSBUaGUgdGludCBjb2xvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubWF4V2lkdGg9MF0gLSBUaGUgbWF4IHdpZHRoIG9mIHRoZSB0ZXh0IGJlZm9yZSBsaW5lIHdyYXBwaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdG1hcFRleHQodGV4dCwgc3R5bGUpIHtcbiAgICAgICAgaWYgKHN0eWxlID09PSB2b2lkIDApIHsgc3R5bGUgPSB7fTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdGludCA9IDB4RkZGRkZGO1xuICAgICAgICBpZiAoc3R5bGUuZm9udCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dCBjb25zdHJ1Y3RvciBzdHlsZS5mb250IHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQuJyk7XG4gICAgICAgICAgICBfdGhpcy5fdXBncmFkZVN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSB0aGUgZGVmYXVsdHNcbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7fSwgQml0bWFwVGV4dC5zdHlsZURlZmF1bHRzLCBzdHlsZSksIGFsaWduID0gX2EuYWxpZ24sIHRpbnQgPSBfYS50aW50LCBtYXhXaWR0aCA9IF9hLm1heFdpZHRoLCBsZXR0ZXJTcGFjaW5nID0gX2EubGV0dGVyU3BhY2luZywgZm9udE5hbWUgPSBfYS5mb250TmFtZSwgZm9udFNpemUgPSBfYS5mb250U2l6ZTtcbiAgICAgICAgaWYgKCFCaXRtYXBGb250LmF2YWlsYWJsZVtmb250TmFtZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgQml0bWFwRm9udCBcXFwiXCIgKyBmb250TmFtZSArIFwiXFxcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwYWdlIG1lc2ggZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHRXaWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dEhlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IHRpbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnROYW1lID0gZm9udE5hbWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQgc2l6ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnRTaXplID0gZm9udFNpemUgfHwgQml0bWFwRm9udC5hdmFpbGFibGVbZm9udE5hbWVdLnNpemU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGllOiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLiAoSW50ZXJuYWxseSB1c2VkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4TGluZUhlaWdodCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgc3BhY2luZy4gVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdGhlIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBhbmNob3IuIHJlYWQtb25seVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KGZ1bmN0aW9uICgpIHsgX3RoaXMuZGlydHkgPSB0cnVlOyB9LCBfdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdG8gYHRydWVgIGlmIHRoZSBCaXRtYXBUZXh0IG5lZWRzIHRvIGJlIHJlZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZWQgY2hhciB0ZXh0dXJlIGlzIGRlc3Ryb3llZCB3aGVuIEJpdG1hcFRleHQgaXMgZGVzdHJveWVkXG4gICAgICAgICAqIEBtZW1iZXIge1JlY29yZDxudW1iZXIsIFRleHR1cmU+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHR1cmVDYWNoZSA9IHt9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWRcbiAgICAgKiBpZiB0aGUgQml0bWFwRm9udCBpcyByZWdlbmVyYXRlZC5cbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwRm9udC5hdmFpbGFibGVbdGhpcy5fZm9udE5hbWVdO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9mb250U2l6ZSAvIGRhdGEuc2l6ZTtcbiAgICAgICAgdmFyIHBvcyA9IG5ldyBQb2ludCgpO1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLl90ZXh0LnJlcGxhY2UoLyg/OlxcclxcbnxcXHIpL2csICdcXG4nKSB8fCAnICc7XG4gICAgICAgIHZhciB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuX21heFdpZHRoICogZGF0YS5zaXplIC8gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIHZhciBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9IDA7XG4gICAgICAgIHZhciBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgdmFyIGxhc3RCcmVha1dpZHRoID0gMDtcbiAgICAgICAgdmFyIHNwYWNlc1JlbW92ZWQgPSAwO1xuICAgICAgICB2YXIgbWF4TGluZUhlaWdodCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHQuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKCgvKD86XFxzKS8pLnRlc3QoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFyID09PSAnXFxyJyB8fCBjaGFyID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgICsrbGluZTtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYXJEYXRhID0gZGF0YS5jaGFyc1tjaGFyQ29kZV07XG4gICAgICAgICAgICBpZiAoIWNoYXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSkge1xuICAgICAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGFyUmVuZGVyRGF0YSA9IGNoYXJSZW5kZXJEYXRhUG9vbC5wb3AoKSB8fCB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogVGV4dHVyZS5FTVBUWSxcbiAgICAgICAgICAgICAgICBsaW5lOiAwLFxuICAgICAgICAgICAgICAgIGNoYXJDb2RlOiAwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgUG9pbnQoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS50ZXh0dXJlID0gY2hhckRhdGEudGV4dHVyZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLmxpbmUgPSBsaW5lO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEuY2hhckNvZGUgPSBjaGFyQ29kZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnggPSBwb3MueCArIGNoYXJEYXRhLnhPZmZzZXQgKyAodGhpcy5fbGV0dGVyU3BhY2luZyAvIDIpO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEucG9zaXRpb24ueSA9IHBvcy55ICsgY2hhckRhdGEueU9mZnNldDtcbiAgICAgICAgICAgIGNoYXJzLnB1c2goY2hhclJlbmRlckRhdGEpO1xuICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEueEFkdmFuY2UgKyB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IHBvcy54O1xuICAgICAgICAgICAgbWF4TGluZUhlaWdodCA9IE1hdGgubWF4KG1heExpbmVIZWlnaHQsIChjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpKTtcbiAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgICAgICAgaWYgKGxhc3RCcmVha1BvcyAhPT0gLTEgJiYgbWF4V2lkdGggPiAwICYmIHBvcy54ID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXMoY2hhcnMsIDEgKyBsYXN0QnJlYWtQb3MgLSBzcGFjZXNSZW1vdmVkLCAxICsgaSAtIGxhc3RCcmVha1Bvcyk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RCcmVha1BvcztcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmUrKztcbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RDaGFyID0gdGV4dC5jaGFyQXQodGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgaWYgKGxhc3RDaGFyICE9PSAnXFxyJyAmJiBsYXN0Q2hhciAhPT0gJ1xcbicpIHtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGxhc3RDaGFyKSkge1xuICAgICAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBsYXN0QnJlYWtXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmVBbGlnbk9mZnNldHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbGluZTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWxpZ25PZmZzZXQgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZUFsaWduT2Zmc2V0cy5wdXNoKGFsaWduT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuQ2hhcnMgPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHZhciBwYWdlc01lc2hEYXRhID0ge307XG4gICAgICAgIHZhciBuZXdQYWdlc01lc2hEYXRhID0gW107XG4gICAgICAgIHZhciBhY3RpdmVQYWdlc01lc2hEYXRhID0gdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWdlTWVzaERhdGFQb29sLnB1c2goYWN0aXZlUGFnZXNNZXNoRGF0YVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5DaGFyczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGNoYXJzW2ldLnRleHR1cmU7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmVVaWQgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnVpZDtcbiAgICAgICAgICAgIGlmICghcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZU1lc2hEYXRhUG9vbC5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhZ2VNZXNoRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5FTVBUWSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNoID0gbmV3IE1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGV4Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB1dnNDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaDogbWVzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXZzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgZGF0YS4uXG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEuaW5kZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudXZzQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS50b3RhbCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBuZWVkIHRvIGdldCBwYWdlIHRleHR1cmUgaGVyZSBzb21laG93Li5cbiAgICAgICAgICAgICAgICB2YXIgX3RleHR1cmVDYWNoZSA9IHRoaXMuX3RleHR1cmVDYWNoZTtcbiAgICAgICAgICAgICAgICBfdGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlVWlkXSA9IF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdIHx8IG5ldyBUZXh0dXJlKHRleHR1cmUuYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnRleHR1cmUgPSBfdGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlVWlkXTtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEubWVzaC50aW50ID0gdGhpcy5fdGludDtcbiAgICAgICAgICAgICAgICBuZXdQYWdlc01lc2hEYXRhLnB1c2gocGFnZU1lc2hEYXRhKTtcbiAgICAgICAgICAgICAgICBwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXSA9IHBhZ2VNZXNoRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdLnRvdGFsKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0cyBmaW5kIGFueSBwcmV2aW91c2x5IGFjdGl2ZSBwYWdlTWVzaERhdGFzIHRoYXQgYXJlIG5vIGxvbmdlciByZXF1aXJlZCBmb3JcbiAgICAgICAgLy8gdGhlIHVwZGF0ZWQgdGV4dCAoaWYgYW55KSwgcmVtb3ZlZCBhbmQgcmV0dXJuIHRoZW0gdG8gdGhlIHBvb2wuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5ld1BhZ2VzTWVzaERhdGEuaW5kZXhPZihhY3RpdmVQYWdlc01lc2hEYXRhW2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0ubWVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV4dCBsZXRzIGFkZCBhbnkgbmV3IG1lc2hlcywgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiBhZGRlZCB0byB0aGlzIEJpdG1hcFRleHRcbiAgICAgICAgLy8gd2Ugb25seSBhZGQgaWYgaXRzIG5vdCBhbHJlYWR5IGEgY2hpbGQgb2YgdGhpcyBCaXRtYXBPYmplY3RcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YVtpXS5tZXNoLnBhcmVudCAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3UGFnZXNNZXNoRGF0YVtpXS5tZXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhY3RpdmUgcGFnZSBtZXNoIGRhdGFzIGFyZSBzZXQgdG8gYmUgdGhlIG5ldyBwYWdlcyBhZGRlZC5cbiAgICAgICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YSA9IG5ld1BhZ2VzTWVzaERhdGE7XG4gICAgICAgIGZvciAodmFyIGkgaW4gcGFnZXNNZXNoRGF0YSkge1xuICAgICAgICAgICAgdmFyIHBhZ2VNZXNoRGF0YSA9IHBhZ2VzTWVzaERhdGFbaV07XG4gICAgICAgICAgICB2YXIgdG90YWwgPSBwYWdlTWVzaERhdGEudG90YWw7XG4gICAgICAgICAgICAvLyBsZXRzIG9ubHkgYWxsb2NhdGUgbmV3IGJ1ZmZlcnMgaWYgd2UgY2FuIGZpdCB0aGUgbmV3IHRleHQgaW4gdGhlIGN1cnJlbnQgb25lcy4uXG4gICAgICAgICAgICAvLyB1bmxlc3MgdGhhdCBpcywgd2Ugd2lsbCBiZSBiYXRjaGluZy4gQ3VycmVudGx5IGJhdGNoaW5nIGRvc2Ugbm90IHJlc3BlY3QgdGhlIHNpemUgcHJvcGVydHkgb2YgbWVzaFxuICAgICAgICAgICAgaWYgKCEoKChfYSA9IHBhZ2VNZXNoRGF0YS5pbmRpY2VzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSA+IDYgKiB0b3RhbCkgfHwgcGFnZU1lc2hEYXRhLnZlcnRpY2VzLmxlbmd0aCA8IE1lc2guQkFUQ0hBQkxFX1NJWkUgKiAyKSB7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSg0ICogMiAqIHRvdGFsKTtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudXZzID0gbmV3IEZsb2F0MzJBcnJheSg0ICogMiAqIHRvdGFsKTtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheSg2ICogdG90YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsXzEgPSBwYWdlTWVzaERhdGEudG90YWw7XG4gICAgICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBnYXJiYWdlIGF0IHRoZSBlbmQgb2YgdGhlIHZlcnRpY2VzIGJ1ZmZlci4gVGhpcyB3aWxsIHByZXZlbnQgdGhlIGJvdW5kcyBtaXNjYWxjdWxhdGlvbi5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzEgPSB0b3RhbF8xICogNCAqIDI7IGlfMSA8IHZlcnRpY2VzLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXNbaV8xXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXMgYSBidWZmZXIgbWF5YmUgYmlnZ2VyIHRoYW4gdGhlIGN1cnJlbnQgd29yZCwgd2Ugc2V0IHRoZSBzaXplIG9mIHRoZSBtZXNoTWF0ZXJpYWxcbiAgICAgICAgICAgIC8vIHRvIG1hdGNoIHRoZSBudW1iZXIgb2YgbGV0dGVycyBuZWVkZWRcbiAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnNpemUgPSA2ICogdG90YWw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5DaGFyczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hhciA9IGNoYXJzW2ldO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IGNoYXIucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhci5saW5lXTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IE1hdGgucm91bmQob2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB4UG9zID0gb2Zmc2V0ICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgeVBvcyA9IGNoYXIucG9zaXRpb24ueSAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBjaGFyLnRleHR1cmU7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2ggPSBwYWdlc01lc2hEYXRhW3RleHR1cmUuYmFzZVRleHR1cmUudWlkXTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVVdnMgPSB0ZXh0dXJlLl91dnM7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwYWdlTWVzaC5pbmRleCsrO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDBdID0gMCArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDFdID0gMSArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDJdID0gMiArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDNdID0gMCArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDRdID0gMiArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2guaW5kaWNlc1soaW5kZXggKiA2KSArIDVdID0gMyArIChpbmRleCAqIDQpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAwXSA9IHhQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDFdID0geVBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMl0gPSB4UG9zICsgKHRleHR1cmVGcmFtZS53aWR0aCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgM10gPSB5UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA0XSA9IHhQb3MgKyAodGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA1XSA9IHlQb3MgKyAodGV4dHVyZUZyYW1lLmhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgNl0gPSB4UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA3XSA9IHlQb3MgKyAodGV4dHVyZUZyYW1lLmhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDBdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDFdID0gdGV4dHVyZVV2cy55MDtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDJdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDNdID0gdGV4dHVyZVV2cy55MTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDRdID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDVdID0gdGV4dHVyZVV2cy55MjtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDZdID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnV2c1soaW5kZXggKiA4KSArIDddID0gdGV4dHVyZVV2cy55MztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZXNNZXNoRGF0YVtpXTtcbiAgICAgICAgICAgIC8vIGFwcGx5IGFuY2hvclxuICAgICAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldFggPSB0aGlzLl90ZXh0V2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIHZhciBhbmNob3JPZmZzZXRZID0gdGhpcy5fdGV4dEhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaV8yID0gMDsgaV8yIDwgcGFnZU1lc2hEYXRhLnRvdGFsOyBpXzIrKykge1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IG1heExpbmVIZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEluZGV4KCk7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcztcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS51dnM7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLmluZGljZXM7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGFQb29sLnB1c2goY2hhcnNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGV4dCBiZWZvcmUgY2FsbGluZyBwYXJlbnQncyBnZXRMb2NhbEJvdW5kc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGludFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhmZmZmZmZcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGludCA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGFbaV0ubWVzaC50aW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiYWxpZ25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGlnbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImZvbnROYW1lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBCaXRtYXBGb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250TmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghQml0bWFwRm9udC5hdmFpbGFibGVbdmFsdWVdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBCaXRtYXBGb250IFxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnROYW1lICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnROYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiZm9udFNpemVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNpemUgb2YgdGhlIGZvbnQgdG8gZGlzcGxheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbmNob3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludCB8IG51bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJtYXhXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdGhlIHZhbHVlIHRvIDAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJtYXhMaW5lSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpLmUuIHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJsZXR0ZXJTcGFjaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZGl0aW9uYWwgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInJvdW5kUGl4ZWxzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dEhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0SGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGNvbnZlcnQgb2xkIHN0eWxlLmZvbnQgY29uc3RydWN0b3IgcGFyYW0gdG8gZm9udE5hbWUgJiBmb250U2l6ZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLl91cGdyYWRlU3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdHlsZS5mb250ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHZhbHVlU3BsaXQgPSBzdHlsZS5mb250LnNwbGl0KCcgJyk7XG4gICAgICAgICAgICBzdHlsZS5mb250TmFtZSA9IHZhbHVlU3BsaXQubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgPyB2YWx1ZVNwbGl0WzBdXG4gICAgICAgICAgICAgICAgOiB2YWx1ZVNwbGl0LnNsaWNlKDEpLmpvaW4oJyAnKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZVNwbGl0Lmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuZm9udFNpemUgPSBwYXJzZUludCh2YWx1ZVNwbGl0WzBdLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHlsZS5mb250TmFtZSA9IHN0eWxlLmZvbnQubmFtZTtcbiAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplID0gdHlwZW9mIHN0eWxlLmZvbnQuc2l6ZSA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICA/IHN0eWxlLmZvbnQuc2l6ZVxuICAgICAgICAgICAgICAgIDogcGFyc2VJbnQoc3R5bGUuZm9udC5zaXplLCAxMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RleHR1cmVDYWNoZSA9IHRoaXMuX3RleHR1cmVDYWNoZTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gX3RleHR1cmVDYWNoZSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBfdGV4dHVyZUNhY2hlW2lkXTtcbiAgICAgICAgICAgIHRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIF90ZXh0dXJlQ2FjaGVbaWRdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmVDYWNoZSA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBiaXRtYXAgZm9udCB3aXRoIGRhdGEgYW5kIGEgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnQuaW5zdGFsbFxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnJlZ2lzdGVyRm9udCA9IGZ1bmN0aW9uIChkYXRhLCB0ZXh0dXJlcykge1xuICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0LnJlZ2lzdGVyRm9udCBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5CaXRtYXBGb250Lmluc3RhbGwnKTtcbiAgICAgICAgcmV0dXJuIEJpdG1hcEZvbnQuaW5zdGFsbChkYXRhLCB0ZXh0dXJlcyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dCwgXCJmb250c1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGxpc3Qgb2YgaW5zdGFsbGVkIGZvbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udC5hdmFpbGFibGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuQml0bWFwRm9udD59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQuZm9udHMgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuQml0bWFwRm9udC5hdmFpbGFibGUnKTtcbiAgICAgICAgICAgIHJldHVybiBCaXRtYXBGb250LmF2YWlsYWJsZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJpdG1hcFRleHQuc3R5bGVEZWZhdWx0cyA9IHtcbiAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgIG1heFdpZHRoOiAwLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIH07XG4gICAgcmV0dXJuIEJpdG1hcFRleHQ7XG59KENvbnRhaW5lcikpO1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmdcbiAqIGJpdG1hcC1iYXNlZCBmb250cyBzdWl0YWJsZSBmb3IgdXNpbmcgd2l0aCB7QGxpbmsgUElYSS5CaXRtYXBUZXh0fS5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgQml0bWFwRm9udExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCaXRtYXBGb250TG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgcGx1Z2luIGlzIGluc3RhbGxlZC5cbiAgICAgKlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIucmVnaXN0ZXJQbHVnaW5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLmFkZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnZm50JywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgbmV4dCkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgLy8gUmVzb3VyY2Ugd2FzIG5vdCByZWNvZ25pc2VkIGFzIGFueSBvZiB0aGUgZXhwZWN0ZWQgZm9udCBkYXRhIGZvcm1hdFxuICAgICAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlVXJsID0gQml0bWFwRm9udExvYWRlci5nZXRCYXNlVXJsKHRoaXMsIHJlc291cmNlKTtcbiAgICAgICAgdmFyIGRhdGEgPSBmb3JtYXQucGFyc2UocmVzb3VyY2UuZGF0YSk7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IHt9O1xuICAgICAgICAvLyBIYW5kbGUgY29tcGxldGVkLCB3aGVuIHRoZSBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgICAgLy8gbG9hZCBpcyB0aGUgc2FtZSBudW1iZXIgYXMgcmVmZXJlbmNlcyBpbiB0aGUgZm50IGZpbGVcbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlc1twYWdlLm1ldGFkYXRhLnBhZ2VGaWxlXSA9IHBhZ2UudGV4dHVyZTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0dXJlcykubGVuZ3RoID09PSBkYXRhLnBhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IEJpdG1hcEZvbnQuaW5zdGFsbChkYXRhLCB0ZXh0dXJlcyk7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEucGFnZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHBhZ2VGaWxlID0gZGF0YS5wYWdlW2ldLmZpbGU7XG4gICAgICAgICAgICB2YXIgdXJsID0gYmFzZVVybCArIHBhZ2VGaWxlO1xuICAgICAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gaW5jYXNlIHRoZSBpbWFnZSBpcyBsb2FkZWQgb3V0c2lkZVxuICAgICAgICAgICAgLy8gdXNpbmcgdGhlIHNhbWUgbG9hZGVyLCByZXNvdXJjZSB3aWxsIGJlIGF2YWlsYWJsZVxuICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgICAgICAgICAgIHZhciBiaXRtYXBSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5tZXRhZGF0YS5wYWdlRmlsZSA9IHBhZ2VGaWxlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkKGJpdG1hcFJlc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmFkZChjb21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRleHR1cmUgaXMgbm90IGxvYWRlZCwgd2UnbGwgYXR0ZW1wdCB0byBhZGRcbiAgICAgICAgICAgIC8vIGl0IHRvIHRoZSBsb2FkIGFuZCBhZGQgdGhlIHRleHR1cmUgdG8gdGhlIGxpc3RcbiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RhbmRhcmQgbG9hZGluZyBvcHRpb25zIGZvciBpbWFnZXNcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVHlwZTogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogT2JqZWN0LmFzc2lnbih7IHBhZ2VGaWxlOiBwYWdlRmlsZSB9LCByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodXJsLCBvcHRpb25zLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgZm9sZGVyIHBhdGggZnJvbSBhIHJlc291cmNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyfSBsb2FkZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuZ2V0QmFzZVVybCA9IGZ1bmN0aW9uIChsb2FkZXIsIHJlc291cmNlKSB7XG4gICAgICAgIHZhciByZXNVcmwgPSAhcmVzb3VyY2UuaXNEYXRhVXJsID8gQml0bWFwRm9udExvYWRlci5kaXJuYW1lKHJlc291cmNlLnVybCkgOiAnJztcbiAgICAgICAgaWYgKHJlc291cmNlLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgaWYgKHJlc1VybCA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgcmVzVXJsID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9hZGVyLmJhc2VVcmwgJiYgcmVzVXJsKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYmFzZXVybCBoYXMgYSB0cmFpbGluZyBzbGFzaCB0aGVuIGFkZCBvbmUgdG8gcmVzVXJsIHNvIHRoZSByZXBsYWNlIHdvcmtzIGJlbG93XG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlci5iYXNlVXJsLmNoYXJBdChsb2FkZXIuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1VybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBiYXNlVXJsIGZyb20gcmVzVXJsXG4gICAgICAgIHJlc1VybCA9IHJlc1VybC5yZXBsYWNlKGxvYWRlci5iYXNlVXJsLCAnJyk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIHJlc1VybCBub3csIGl0IG5lZWRzIGEgdHJhaWxpbmcgc2xhc2guIEVuc3VyZSB0aGF0IGl0IGRvZXMgaWYgdGhlIHN0cmluZyBpc24ndCBlbXB0eS5cbiAgICAgICAgaWYgKHJlc1VybCAmJiByZXNVcmwuY2hhckF0KHJlc1VybC5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICByZXNVcmwgKz0gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNVcmw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXBsYWNlbWVudCBmb3IgTm9kZUpTJ3MgcGF0aC5kaXJuYW1lXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gUGF0aCB0byBnZXQgZGlyZWN0b3J5IGZvclxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIGRpciA9IHVybFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJy8nKSAvLyBjb252ZXJ0IHdpbmRvd3Mgbm90YXRpb24gdG8gVU5JWCBub3RhdGlvbiwgVVJMLXNhZmUgYmVjYXVzZSBpdCdzIGEgZm9yYmlkZGVuIGNoYXJhY3RlclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcLyQvLCAnJykgLy8gcmVwbGFjZSB0cmFpbGluZyBzbGFzaFxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpOyAvLyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciB0aGUgbGFzdFxuICAgICAgICAvLyBGaWxlIHJlcXVlc3QgaXMgcmVsYXRpdmUsIHVzZSBjdXJyZW50IGRpcmVjdG9yeVxuICAgICAgICBpZiAoZGlyID09PSB1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnRlZCB3aXRoIGEgc2xhc2hcbiAgICAgICAgZWxzZSBpZiAoZGlyID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuICcvJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlyO1xuICAgIH07XG4gICAgcmV0dXJuIEJpdG1hcEZvbnRMb2FkZXI7XG59KCkpO1xuXG5leHBvcnQgeyBCaXRtYXBGb250LCBCaXRtYXBGb250RGF0YSwgQml0bWFwRm9udExvYWRlciwgQml0bWFwVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC1iaXRtYXAuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1hbHBoYSAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItYWxwaGEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBkZWZhdWx0VmVydGV4LCBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcblwiO1xuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGEuXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBBbHBoYUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWxwaGFGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIEFtb3VudCBvZiBhbHBoYSBmcm9tIDAgdG8gMSwgd2hlcmUgMCBpcyB0cmFuc3BhcmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFscGhhRmlsdGVyKGFscGhhKSB7XG4gICAgICAgIGlmIChhbHBoYSA9PT0gdm9pZCAwKSB7IGFscGhhID0gMS4wOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRWZXJ0ZXgsIGZyYWdtZW50LCB7IHVBbHBoYTogMSB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbHBoYUZpbHRlci5wcm90b3R5cGUsIFwiYWxwaGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29lZmZpY2llbnQgZm9yIGFscGhhIG11bHRpcGxpY2F0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFscGhhRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQWxwaGFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1hbHBoYS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWJsdXIgLSB2NS4zLjhcbiAqIENvbXBpbGVkIFNhdCwgMjAgRmViIDIwMjEgMjI6Mjg6MzMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWJsdXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHZlcnRUZW1wbGF0ZSA9IFwiXFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG4gICAgdW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XFxuXFxuICAgIHZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xcblxcbiAgICB1bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbiAgICB1bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxuICAgIHZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbiAgICB7XFxuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgfVxcblxcbiAgICB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbiAgICB9XFxuXFxuICAgIHZvaWQgbWFpbih2b2lkKVxcbiAgICB7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgICAgICB2ZWMyIHRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbiAgICAgICAgJWJsdXIlXFxuICAgIH1cIjtcbmZ1bmN0aW9uIGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgeCkge1xuICAgIHZhciBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcbiAgICB2YXIgdmVydFNvdXJjZSA9IHZlcnRUZW1wbGF0ZTtcbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgaWYgKHgpIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMiglc2FtcGxlSW5kZXglICogc3RyZW5ndGgsIDAuMCk7JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkudG9TdHJpbmcoKSk7XG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyVzYW1wbGVJbmRleCUnLCBpIC0gKGhhbGZMZW5ndGggLSAxKSArIFwiLjBcIik7XG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZS50b1N0cmluZygpKTtcbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cblxudmFyIEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgICA1OiBbMC4xNTMzODgsIDAuMjIxNDYxLCAwLjI1MDMwMV0sXG4gICAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAgIDExOiBbMC4wMDkzLCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAgIDEzOiBbMC4wMDI0MDYsIDAuMDA5MjU1LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAgIDE1OiBbMC4wMDA0ODksIDAuMDAyNDAzLCAwLjAwOTI0NiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdLFxufTtcbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKScsXG4gICAgJ3snLFxuICAgICcgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJyAgICAlYmx1ciUnLFxuICAgICd9JyBdLmpvaW4oJ1xcbicpO1xuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKSB7XG4gICAgdmFyIGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG4gICAgdmFyIGZyYWdTb3VyY2UgPSBmcmFnVGVtcGxhdGU7XG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICB2YXIgdmFsdWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaS50b1N0cmluZygpKTtcbiAgICAgICAgdmFsdWUgPSBpO1xuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCcldmFsdWUlJywga2VybmVsW3ZhbHVlXS50b1N0cmluZygpKTtcbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRTtcbihmdW5jdGlvbiAoUkVOREVSRVJfVFlQRSkge1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiQ0FOVkFTXCJdID0gMl0gPSBcIkNBTlZBU1wiO1xufSkoUkVOREVSRVJfVFlQRSB8fCAoUkVOREVSRVJfVFlQRSA9IHt9KSk7XG4vKipcbiAqIEJpdHdpc2UgT1Igb2YgbWFza3MgdGhhdCBpbmRpY2F0ZSB0aGUgYnVmZmVycyB0byBiZSBjbGVhcmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCVUZGRVJfQklUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIEluZGljYXRlcyB0aGUgYnVmZmVycyBjdXJyZW50bHkgZW5hYmxlZCBmb3IgY29sb3Igd3JpdGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSCAtIEluZGljYXRlcyB0aGUgZGVwdGggYnVmZmVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBJbmRpY2F0ZXMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICovXG52YXIgQlVGRkVSX0JJVFM7XG4oZnVuY3Rpb24gKEJVRkZFUl9CSVRTKSB7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xufSkoQlVGRkVSX0JJVFMgfHwgKEJVRkZFUl9CSVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUkNfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1ZFUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9JTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfQVRPUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNVQlRSQUNUXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFUkFTRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFhPUlxuICovXG52YXIgQkxFTkRfTU9ERVM7XG4oZnVuY3Rpb24gKEJMRU5EX01PREVTKSB7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xufSkoQkxFTkRfTU9ERVMgfHwgKEJMRU5EX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVM7XG4oZnVuY3Rpb24gKERSQVdfTU9ERVMpIHtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJQT0lOVFNcIl0gPSAwXSA9IFwiUE9JTlRTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORVNcIl0gPSAxXSA9IFwiTElORVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJMSU5FX0xPT1BcIl0gPSAyXSA9IFwiTElORV9MT09QXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9TVFJJUFwiXSA9IDNdID0gXCJMSU5FX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVTXCJdID0gNF0gPSBcIlRSSUFOR0xFU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX1NUUklQXCJdID0gNV0gPSBcIlRSSUFOR0xFX1NUUklQXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiVFJJQU5HTEVfRkFOXCJdID0gNl0gPSBcIlRSSUFOR0xFX0ZBTlwiO1xufSkoRFJBV19NT0RFUyB8fCAoRFJBV19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTO1xuKGZ1bmN0aW9uIChGT1JNQVRTKSB7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCQVwiXSA9IDY0MDhdID0gXCJSR0JBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCXCJdID0gNjQwN10gPSBcIlJHQlwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkFMUEhBXCJdID0gNjQwNl0gPSBcIkFMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFXCJdID0gNjQwOV0gPSBcIkxVTUlOQU5DRVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRV9BTFBIQVwiXSA9IDY0MTBdID0gXCJMVU1JTkFOQ0VfQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9DT01QT05FTlRcIl0gPSA2NDAyXSA9IFwiREVQVEhfQ09NUE9ORU5UXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfU1RFTkNJTFwiXSA9IDM0MDQxXSA9IFwiREVQVEhfU1RFTkNJTFwiO1xufSkoRk9STUFUUyB8fCAoRk9STUFUUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgR0wgdGFyZ2V0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkQ9MzU1M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVA9MzQwNjdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEX0FSUkFZPTM1ODY2XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZPTM0MDcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aPTM0MDc0XG4gKi9cbnZhciBUQVJHRVRTO1xuKGZ1bmN0aW9uIChUQVJHRVRTKSB7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV8yRFwiXSA9IDM1NTNdID0gXCJURVhUVVJFXzJEXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUFwiXSA9IDM0MDY3XSA9IFwiVEVYVFVSRV9DVUJFX01BUFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRfQVJSQVlcIl0gPSAzNTg2Nl0gPSBcIlRFWFRVUkVfMkRfQVJSQVlcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIl0gPSAzNDA2OV0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiXSA9IDM0MDcwXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCJdID0gMzQwNzFdID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIl0gPSAzNDA3Ml0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWVwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiXSA9IDM0MDczXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCJdID0gMzQwNzRdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcIjtcbn0pKFRBUkdFVFMgfHwgKFRBUkdFVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbnZhciBUWVBFUztcbihmdW5jdGlvbiAoVFlQRVMpIHtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0JZVEVcIl0gPSA1MTIxXSA9IFwiVU5TSUdORURfQllURVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRcIl0gPSA1MTIzXSA9IFwiVU5TSUdORURfU0hPUlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCJdID0gMzM2MzVdID0gXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiXSA9IDMyODE5XSA9IFwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXSA9IDMyODIwXSA9IFwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiRkxPQVRcIl0gPSA1MTI2XSA9IFwiRkxPQVRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkhBTEZfRkxPQVRcIl0gPSAzNjE5M10gPSBcIkhBTEZfRkxPQVRcIjtcbn0pKFRZUEVTIHx8IChUWVBFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVM7XG4oZnVuY3Rpb24gKFNDQUxFX01PREVTKSB7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJORUFSRVNUXCJdID0gMF0gPSBcIk5FQVJFU1RcIjtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIkxJTkVBUlwiXSA9IDFdID0gXCJMSU5FQVJcIjtcbn0pKFNDQUxFX01PREVTIHx8IChTQ0FMRV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTO1xuKGZ1bmN0aW9uIChXUkFQX01PREVTKSB7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiQ0xBTVBcIl0gPSAzMzA3MV0gPSBcIkNMQU1QXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiUkVQRUFUXCJdID0gMTA0OTddID0gXCJSRVBFQVRcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJNSVJST1JFRF9SRVBFQVRcIl0gPSAzMzY0OF0gPSBcIk1JUlJPUkVEX1JFUEVBVFwiO1xufSkoV1JBUF9NT0RFUyB8fCAoV1JBUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIE1pcG1hcCBmaWx0ZXJpbmcgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU30gYWZmZWN0cyBkZWZhdWx0IHRleHR1cmUgZmlsdGVyaW5nLlxuICogTWlwbWFwcyBhcmUgZ2VuZXJhdGVkIGZvciBhIGJhc2VUZXh0dXJlIGlmIGl0cyBgbWlwbWFwYCBmaWVsZCBpcyBgT05gLFxuICogb3IgaXRzIGBQT1cyYCBhbmQgdGV4dHVyZSBkaW1lbnNpb25zIGFyZSBwb3dlcnMgb2YgMi5cbiAqIER1ZSB0byBwbGF0Zm9ybSByZXN0cmljdGlvbiwgYE9OYCBvcHRpb24gd2lsbCB3b3JrIGxpa2UgYFBPVzJgIGZvciB3ZWJnbC0xLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIE1JUE1BUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gT0ZGIC0gTm8gbWlwbWFwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPVzIgLSBHZW5lcmF0ZSBtaXBtYXBzIGlmIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9OIC0gQWx3YXlzIGdlbmVyYXRlIG1pcG1hcHNcbiAqL1xudmFyIE1JUE1BUF9NT0RFUztcbihmdW5jdGlvbiAoTUlQTUFQX01PREVTKSB7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9GRlwiXSA9IDBdID0gXCJPRkZcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiUE9XMlwiXSA9IDFdID0gXCJQT1cyXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIk9OXCJdID0gMl0gPSBcIk9OXCI7XG59KShNSVBNQVBfTU9ERVMgfHwgKE1JUE1BUF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIEhvdyB0byB0cmVhdCB0ZXh0dXJlcyB3aXRoIHByZW11bHRpcGxpZWQgYWxwaGFcbiAqXG4gKiBAbmFtZSBBTFBIQV9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9fUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgbGVhdmUgaXQgbGlrZSB0aGF0LlxuICogIE9wdGlvbiBmb3IgY29tcHJlc3NlZCBhbmQgZGF0YSB0ZXh0dXJlcyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdHlwZWQgYXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExZX09OX1VQTE9BRCAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgcHJlbXVsdGlwbHkgb24gdXBsb2FkLlxuICogIERlZmF1bHQgb3B0aW9uLCB1c2VkIGZvciBhbGwgbG9hZGVkIGltYWdlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIGFscmVhZHkgcHJlbXVsdGlwbGllZFxuICogIEV4YW1wbGU6IHNwaW5lIGF0bGFzZXMgd2l0aCBgX3BtYWAgc3VmZml4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5QTSAtIEFsaWFzIGZvciBOT19QUkVNVUxUSVBMSUVEX0FMUEhBLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOUEFDSyAtIERlZmF1bHQgb3B0aW9uLCBhbGlhcyBmb3IgUFJFTVVMVElQTFlfT05fVVBMT0FELlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBNQSAtIEFsaWFzIGZvciBQUkVNVUxUSVBMSUVEX0FMUEhBLlxuICovXG52YXIgQUxQSEFfTU9ERVM7XG4oZnVuY3Rpb24gKEFMUEhBX01PREVTKSB7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOUE1cIl0gPSAwXSA9IFwiTlBNXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJVTlBBQ0tcIl0gPSAxXSA9IFwiVU5QQUNLXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQTUFcIl0gPSAyXSA9IFwiUE1BXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMF0gPSBcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiXSA9IDFdID0gXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExZX0FMUEhBXCI7XG59KShBTFBIQV9NT0RFUyB8fCAoQUxQSEFfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBIb3cgdG8gY2xlYXIgcmVuZGVyVGV4dHVyZXMgaW4gZmlsdGVyXG4gKlxuICogQG5hbWUgQ0xFQVJfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMRU5EIC0gUHJlc2VydmUgdGhlIGluZm9ybWF0aW9uIGluIHRoZSB0ZXh0dXJlLCBibGVuZCBhYm92ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMRUFSIC0gTXVzdCB1c2UgYGdsLmNsZWFyYCBvcGVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCTElUIC0gQ2xlYXIgb3IgYmxpdCBpdCwgZGVwZW5kcyBvbiBkZXZpY2UgYW5kIGxldmVsIG9mIHBhcmFub2lhXG4gKiBAcHJvcGVydHkge251bWJlcn0gTk8gLSBBbGlhcyBmb3IgQkxFTkQsIHNhbWUgYXMgYGZhbHNlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gWUVTIC0gQWxpYXMgZm9yIENMRUFSLCBzYW1lIGFzIGB0cnVlYCBpbiBlYXJsaWVyIHZlcnNpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEFsaWFzIGZvciBCTElUXG4gKi9cbnZhciBDTEVBUl9NT0RFUztcbihmdW5jdGlvbiAoQ0xFQVJfTU9ERVMpIHtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJZRVNcIl0gPSAxXSA9IFwiWUVTXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJBVVRPXCJdID0gMl0gPSBcIkFVVE9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkJMRU5EXCJdID0gMF0gPSBcIkJMRU5EXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJDTEVBUlwiXSA9IDFdID0gXCJDTEVBUlwiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxJVFwiXSA9IDJdID0gXCJCTElUXCI7XG59KShDTEVBUl9NT0RFUyB8fCAoQ0xFQVJfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBHQ19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcHJvcGVydHkge251bWJlcn0gQVVUTyAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIGhhcHBlbiBwZXJpb2RpY2FsbHkgYXV0b21hdGljYWxseVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1BTlVBTCAtIEdhcmJhZ2UgY29sbGVjdGlvbiB3aWxsIG5lZWQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5XG4gKi9cbnZhciBHQ19NT0RFUztcbihmdW5jdGlvbiAoR0NfTU9ERVMpIHtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIkFVVE9cIl0gPSAwXSA9IFwiQVVUT1wiO1xuICAgIEdDX01PREVTW0dDX01PREVTW1wiTUFOVUFMXCJdID0gMV0gPSBcIk1BTlVBTFwiO1xufSkoR0NfTU9ERVMgfHwgKEdDX01PREVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gc2hhZGVycy5cbiAqXG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY29uc3RhbnRcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gTE9XPSdsb3dwJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IE1FRElVTT0nbWVkaXVtcCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBISUdIPSdoaWdocCdcbiAqL1xudmFyIFBSRUNJU0lPTjtcbihmdW5jdGlvbiAoUFJFQ0lTSU9OKSB7XG4gICAgUFJFQ0lTSU9OW1wiTE9XXCJdID0gXCJsb3dwXCI7XG4gICAgUFJFQ0lTSU9OW1wiTUVESVVNXCJdID0gXCJtZWRpdW1wXCI7XG4gICAgUFJFQ0lTSU9OW1wiSElHSFwiXSA9IFwiaGlnaHBcIjtcbn0pKFBSRUNJU0lPTiB8fCAoUFJFQ0lTSU9OID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtYXNrIGltcGxlbWVudGF0aW9ucy5cbiAqIFdlIHVzZSBgdHlwZWAgc3VmZml4IGJlY2F1c2UgaXQgbGVhZHMgdG8gdmVyeSBkaWZmZXJlbnQgYmVoYXZpb3Vyc1xuICpcbiAqIEBuYW1lIE1BU0tfVFlQRVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLSBNYXNrIGlzIGlnbm9yZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ0lTU09SIC0gU2Npc3NvciBtYXNrLCByZWN0YW5nbGUgb24gc2NyZWVuLCBjaGVhcFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBTdGVuY2lsIG1hc2ssIDEtYml0LCBtZWRpdW0sIHdvcmtzIG9ubHkgaWYgcmVuZGVyZXIgc3VwcG9ydHMgc3RlbmNpbFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNQUklURSAtIE1hc2sgdGhhdCB1c2VzIFNwcml0ZU1hc2tGaWx0ZXIsIHVzZXMgdGVtcG9yYXJ5IFJlbmRlclRleHR1cmVcbiAqL1xudmFyIE1BU0tfVFlQRVM7XG4oZnVuY3Rpb24gKE1BU0tfVFlQRVMpIHtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTQ0lTU09SXCJdID0gMV0gPSBcIlNDSVNTT1JcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTVEVOQ0lMXCJdID0gMl0gPSBcIlNURU5DSUxcIjtcbiAgICBNQVNLX1RZUEVTW01BU0tfVFlQRVNbXCJTUFJJVEVcIl0gPSAzXSA9IFwiU1BSSVRFXCI7XG59KShNQVNLX1RZUEVTIHx8IChNQVNLX1RZUEVTID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtdWx0aS1zYW1wbGluZyBhbnRpYWxpYXNpbmcuXG4gKlxuICogQHNlZSBQSVhJLkZyYW1lYnVmZmVyI211bHRpc2FtcGxlXG4gKlxuICogQG5hbWUgTVNBQV9RVUFMSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTm8gbXVsdGlzYW1wbGluZyBmb3IgdGhpcyByZW5kZXJUZXh0dXJlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XIC0gVHJ5IDIgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE1FRElVTSAtIFRyeSA0IHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIIC0gVHJ5IDggc2FtcGxlc1xuICovXG52YXIgTVNBQV9RVUFMSVRZO1xuKGZ1bmN0aW9uIChNU0FBX1FVQUxJVFkpIHtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkxPV1wiXSA9IDJdID0gXCJMT1dcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTUVESVVNXCJdID0gNF0gPSBcIk1FRElVTVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJISUdIXCJdID0gOF0gPSBcIkhJR0hcIjtcbn0pKE1TQUFfUVVBTElUWSB8fCAoTVNBQV9RVUFMSVRZID0ge30pKTtcblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlclBhc3MgYXBwbGllcyBhIGhvcml6b250YWwgb3IgdmVydGljYWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlclBhc3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJsdXJGaWx0ZXJQYXNzLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaG9yaXpvbnRhbCAtIERvIHBhc3MgYWxvbmcgdGhlIHgtYXhpcyAoYHRydWVgKSBvciB5LWF4aXMgKGBmYWxzZWApLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RyZW5ndGg9OF0gLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eT00XSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249UElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTl0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlclBhc3MoaG9yaXpvbnRhbCwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgaWYgKHN0cmVuZ3RoID09PSB2b2lkIDApIHsgc3RyZW5ndGggPSA4OyB9XG4gICAgICAgIGlmIChxdWFsaXR5ID09PSB2b2lkIDApIHsgcXVhbGl0eSA9IDQ7IH1cbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT047IH1cbiAgICAgICAgaWYgKGtlcm5lbFNpemUgPT09IHZvaWQgMCkgeyBrZXJuZWxTaXplID0gNTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdmVydFNyYyA9IGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgaG9yaXpvbnRhbCk7XG4gICAgICAgIHZhciBmcmFnU3JjID0gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICB2ZXJ0U3JjLCBcbiAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgIGZyYWdTcmMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmhvcml6b250YWwgPSBob3Jpem9udGFsO1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgX3RoaXMuX3F1YWxpdHkgPSAwO1xuICAgICAgICBfdGhpcy5xdWFsaXR5ID0gcXVhbGl0eTtcbiAgICAgICAgX3RoaXMuYmx1ciA9IHN0cmVuZ3RoO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5DTEVBUl9NT0RFU30gY2xlYXJNb2RlIC0gSG93IHRvIGNsZWFyXG4gICAgICovXG4gICAgQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICBpZiAob3V0cHV0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LndpZHRoKSAqIChvdXRwdXQud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBvdXRwdXQuaGVpZ2h0KSAqIChvdXRwdXQuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCAvIGlucHV0LndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0KSAqIChmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmhlaWdodCAvIGlucHV0LmhlaWdodCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzY3JlZW4gc3BhY2UhXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlcztcbiAgICAgICAgaWYgKHRoaXMucGFzc2VzID09PSAxKSB7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyO1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCBDTEVBUl9NT0RFUy5DTEVBUik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5iaW5kQW5kQ2xlYXIoZmxpcCwgQ0xFQVJfTU9ERVMuQkxJVCk7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IGZsb3A7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBmbG9wO1xuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxvcCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUsIFwiYmx1clwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gMSArIChNYXRoLmFicyh2YWx1ZSkgKiAyKTtcbiAgICAgICAgICAgIHRoaXMuc3RyZW5ndGggPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUsIFwicXVhbGl0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGJ5IG1vZGlmeWluZyB0aGUgbnVtYmVyIG9mIHBhc3Nlcy4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyXG4gICAgICAgICAqIHF1YWlsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgNFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQmx1ckZpbHRlclBhc3M7XG59KEZpbHRlcikpO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyIGFwcGxpZXMgYSBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgY2FuIGJlIHNldCBmb3IgdGhlIHgtYXhpcyBhbmQgeS1heGlzIHNlcGFyYXRlbHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmx1ckZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0cmVuZ3RoPThdIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHk9NF0gLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPVBJWEkuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT05dIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBba2VybmVsU2l6ZT01XSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsdXJGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgaWYgKHN0cmVuZ3RoID09PSB2b2lkIDApIHsgc3RyZW5ndGggPSA4OyB9XG4gICAgICAgIGlmIChxdWFsaXR5ID09PSB2b2lkIDApIHsgcXVhbGl0eSA9IDQ7IH1cbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IHZvaWQgMCkgeyByZXNvbHV0aW9uID0gc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT047IH1cbiAgICAgICAgaWYgKGtlcm5lbFNpemUgPT09IHZvaWQgMCkgeyBrZXJuZWxTaXplID0gNTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyh0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzLmJsdXJZRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICBfdGhpcy5xdWFsaXR5ID0gcXVhbGl0eTtcbiAgICAgICAgX3RoaXMuYmx1ciA9IHN0cmVuZ3RoO1xuICAgICAgICBfdGhpcy5yZXBlYXRFZGdlUGl4ZWxzID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLkNMRUFSX01PREVTfSBjbGVhck1vZGUgLSBIb3cgdG8gY2xlYXJcbiAgICAgKi9cbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICAgICAgdmFyIHhTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICB2YXIgeVN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCk7XG4gICAgICAgIGlmICh4U3RyZW5ndGggJiYgeVN0cmVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIENMRUFSX01PREVTLkNMRUFSKTtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgcmVuZGVyVGFyZ2V0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh5U3RyZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUudXBkYXRlUGFkZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsdXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1clggYW5kIGJsdXJZIHByb3BlcnRpZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcInF1YWxpdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhc3NlcyBmb3IgYmx1ci4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyIHF1YWlsaXR5IGJsdXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5ID0gdGhpcy5ibHVyWUZpbHRlci5xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwiYmx1clhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJYIHByb3BlcnR5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCbHVyRmlsdGVyLnByb3RvdHlwZSwgXCJibHVyWVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clkgcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsdXJGaWx0ZXIucHJvdG90eXBlLCBcImJsZW5kTW9kZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmx1ckZpbHRlci5wcm90b3R5cGUsIFwicmVwZWF0RWRnZVBpeGVsc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gdHJ1ZSB0aGUgZWRnZSBvZiB0aGUgdGFyZ2V0IHdpbGwgYmUgY2xhbXBlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVwZWF0RWRnZVBpeGVscztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEJsdXJGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBCbHVyRmlsdGVyLCBCbHVyRmlsdGVyUGFzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWJsdXIuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXggLSB2NS4zLjhcbiAqIENvbXBpbGVkIFNhdCwgMjAgRmViIDIwMjEgMjI6Mjg6MzMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IG1bMjBdO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBjID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG5cXG4gICAgaWYgKHVBbHBoYSA9PSAwLjApIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IGM7XFxuICAgICAgICByZXR1cm47XFxuICAgIH1cXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGMuYSA+IDAuMCkge1xcbiAgICAgIGMucmdiIC89IGMuYTtcXG4gICAgfVxcblxcbiAgICB2ZWM0IHJlc3VsdDtcXG5cXG4gICAgcmVzdWx0LnIgPSAobVswXSAqIGMucik7XFxuICAgICAgICByZXN1bHQuciArPSAobVsxXSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuciArPSAobVsyXSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuciArPSAobVszXSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuciArPSBtWzRdO1xcblxcbiAgICByZXN1bHQuZyA9IChtWzVdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzZdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzddICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzhdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IG1bOV07XFxuXFxuICAgIHJlc3VsdC5iID0gKG1bMTBdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTFdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTJdICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTNdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gbVsxNF07XFxuXFxuICAgIHJlc3VsdC5hID0gKG1bMTVdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTZdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTddICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMThdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gbVsxOV07XFxuXFxuICAgIHZlYzMgcmdiID0gbWl4KGMucmdiLCByZXN1bHQucmdiLCB1QWxwaGEpO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgcmdiICo9IHJlc3VsdC5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHJnYiwgcmVzdWx0LmEpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIENvbG9yTWF0cml4RmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb2xvck1hdHJpeEZpbHRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb2xvck1hdHJpeEZpbHRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgbTogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMSwgMF0pLFxuICAgICAgICAgICAgdUFscGhhOiAxLFxuICAgICAgICB9O1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3JtcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY3VycmVudCBtYXRyaXggYW5kIHNldCB0aGUgbmV3IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbG9hZE1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIG11bHRpcGx5KSB7XG4gICAgICAgIGlmIChtdWx0aXBseSA9PT0gdm9pZCAwKSB7IG11bHRpcGx5ID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIG5ld01hdHJpeCA9IG1hdHJpeDtcbiAgICAgICAgaWYgKG11bHRpcGx5KSB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHRoZSBuZXcgbWF0cml4XG4gICAgICAgIHRoaXMudW5pZm9ybXMubSA9IG5ld01hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIG1hdDUnc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBvdXQgLSA1eDQgbWF0cml4IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYSAtIDV4NCBtYXRyaXggdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBiIC0gNXg0IG1hdHJpeCB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IDV4NCBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX211bHRpcGx5ID0gZnVuY3Rpb24gKG91dCwgYSwgYikge1xuICAgICAgICAvLyBSZWQgQ2hhbm5lbFxuICAgICAgICBvdXRbMF0gPSAoYVswXSAqIGJbMF0pICsgKGFbMV0gKiBiWzVdKSArIChhWzJdICogYlsxMF0pICsgKGFbM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxXSA9IChhWzBdICogYlsxXSkgKyAoYVsxXSAqIGJbNl0pICsgKGFbMl0gKiBiWzExXSkgKyAoYVszXSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzJdID0gKGFbMF0gKiBiWzJdKSArIChhWzFdICogYls3XSkgKyAoYVsyXSAqIGJbMTJdKSArIChhWzNdICogYlsxN10pO1xuICAgICAgICBvdXRbM10gPSAoYVswXSAqIGJbM10pICsgKGFbMV0gKiBiWzhdKSArIChhWzJdICogYlsxM10pICsgKGFbM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFs0XSA9IChhWzBdICogYls0XSkgKyAoYVsxXSAqIGJbOV0pICsgKGFbMl0gKiBiWzE0XSkgKyAoYVszXSAqIGJbMTldKSArIGFbNF07XG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gKGFbNV0gKiBiWzBdKSArIChhWzZdICogYls1XSkgKyAoYVs3XSAqIGJbMTBdKSArIChhWzhdICogYlsxNV0pO1xuICAgICAgICBvdXRbNl0gPSAoYVs1XSAqIGJbMV0pICsgKGFbNl0gKiBiWzZdKSArIChhWzddICogYlsxMV0pICsgKGFbOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFs3XSA9IChhWzVdICogYlsyXSkgKyAoYVs2XSAqIGJbN10pICsgKGFbN10gKiBiWzEyXSkgKyAoYVs4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzhdID0gKGFbNV0gKiBiWzNdKSArIChhWzZdICogYls4XSkgKyAoYVs3XSAqIGJbMTNdKSArIChhWzhdICogYlsxOF0pO1xuICAgICAgICBvdXRbOV0gPSAoYVs1XSAqIGJbNF0pICsgKGFbNl0gKiBiWzldKSArIChhWzddICogYlsxNF0pICsgKGFbOF0gKiBiWzE5XSkgKyBhWzldO1xuICAgICAgICAvLyBCbHVlIENoYW5uZWxcbiAgICAgICAgb3V0WzEwXSA9IChhWzEwXSAqIGJbMF0pICsgKGFbMTFdICogYls1XSkgKyAoYVsxMl0gKiBiWzEwXSkgKyAoYVsxM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxMV0gPSAoYVsxMF0gKiBiWzFdKSArIChhWzExXSAqIGJbNl0pICsgKGFbMTJdICogYlsxMV0pICsgKGFbMTNdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTJdID0gKGFbMTBdICogYlsyXSkgKyAoYVsxMV0gKiBiWzddKSArIChhWzEyXSAqIGJbMTJdKSArIChhWzEzXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzEzXSA9IChhWzEwXSAqIGJbM10pICsgKGFbMTFdICogYls4XSkgKyAoYVsxMl0gKiBiWzEzXSkgKyAoYVsxM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxNF0gPSAoYVsxMF0gKiBiWzRdKSArIChhWzExXSAqIGJbOV0pICsgKGFbMTJdICogYlsxNF0pICsgKGFbMTNdICogYlsxOV0pICsgYVsxNF07XG4gICAgICAgIC8vIEFscGhhIENoYW5uZWxcbiAgICAgICAgb3V0WzE1XSA9IChhWzE1XSAqIGJbMF0pICsgKGFbMTZdICogYls1XSkgKyAoYVsxN10gKiBiWzEwXSkgKyAoYVsxOF0gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxNl0gPSAoYVsxNV0gKiBiWzFdKSArIChhWzE2XSAqIGJbNl0pICsgKGFbMTddICogYlsxMV0pICsgKGFbMThdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTddID0gKGFbMTVdICogYlsyXSkgKyAoYVsxNl0gKiBiWzddKSArIChhWzE3XSAqIGJbMTJdKSArIChhWzE4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzE4XSA9IChhWzE1XSAqIGJbM10pICsgKGFbMTZdICogYls4XSkgKyAoYVsxN10gKiBiWzEzXSkgKyAoYVsxOF0gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxOV0gPSAoYVsxNV0gKiBiWzRdKSArIChhWzE2XSAqIGJbOV0pICsgKGFbMTddICogYlsxNF0pICsgKGFbMThdICogYlsxOV0pICsgYVsxOV07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gNXg0IG1hdHJpeCB3aXRoIGFsbCB2YWx1ZXMgYmV0d2VlbiAwLTFcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2NvbG9yTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICAgIHZhciBtID0gbmV3IEZsb2F0MzJBcnJheShtYXRyaXgpO1xuICAgICAgICBtWzRdIC89IDI1NTtcbiAgICAgICAgbVs5XSAvPSAyNTU7XG4gICAgICAgIG1bMTRdIC89IDI1NTtcbiAgICAgICAgbVsxOV0gLz0gMjU1O1xuICAgICAgICByZXR1cm4gbTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSB2YWx1ZSBvZiB0aGUgYnJpZ3RobmVzcyAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icmlnaHRuZXNzID0gZnVuY3Rpb24gKGIsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBiLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgYiwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIGIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hdHJpY2VzIGluIGdyZXkgc2NhbGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB2YWx1ZSBvZiB0aGUgZ3JleSAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGUgPSBmdW5jdGlvbiAoc2NhbGUsIG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJsYWNrIGFuZCB3aGl0ZSBtYXRyaWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJsYWNrQW5kV2hpdGUgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaHVlIHByb3BlcnR5IG9mIHRoZSBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5odWUgPSBmdW5jdGlvbiAocm90YXRpb24sIG11bHRpcGx5KSB7XG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgdmFyIGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBzaW5SID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcbiAgICAgICAgLyogYSBnb29kIGFwcHJveGltYXRpb24gZm9yIGh1ZSByb3RhdGlvblxuICAgICAgICAgVGhpcyBtYXRyaXggaXMgZmFyIGJldHRlciB0aGFuIHRoZSB2ZXJzaW9ucyB3aXRoIG1hZ2ljIGx1bWluYW5jZSBjb25zdGFudHNcbiAgICAgICAgIGZvcm1lcmx5IHVzZWQgaGVyZSwgYnV0IGFsc28gdXNlZCBpbiB0aGUgc3RhcmxpbmcgZnJhbWV3b3JrIChmbGFzaCkgYW5kIGtub3duIGZyb20gdGhpc1xuICAgICAgICAgb2xkIHBhcnQgb2YgdGhlIGludGVybmV0OiBxdWFzaW1vbmRvLmNvbS9hcmNoaXZlcy8wMDA1NjUucGhwXG5cbiAgICAgICAgIFRoaXMgbmV3IG1hdHJpeCBpcyBiYXNlZCBvbiByZ2IgY3ViZSByb3RhdGlvbiBpbiBzcGFjZS4gTG9vayBoZXJlIGZvciBhIG1vcmUgZGVzY3JpcHRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9uIGFzIGEgc2hhZGVyIG5vdCBhIGdlbmVyYWwgbWF0cml4OlxuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi81ODg0MWMyMzkxOWJkNTk3ODdlZmZjMDMzM2E0ODk3YjQzODM1NDEyL3NyYy9maWx0ZXJzL2FkanVzdC9odWVzYXR1cmF0aW9uLmpzXG5cbiAgICAgICAgIFRoaXMgaXMgdGhlIHNvdXJjZSBmb3IgdGhlIGNvZGU6XG4gICAgICAgICBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NTA3ODg1L3NoaWZ0LWh1ZS1vZi1hbi1yZ2ItY29sb3IvODUxMDc1MSM4NTEwNzUxXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdyA9IDEgLyAzO1xuICAgICAgICB2YXIgc3FyVyA9IHNxcnQodyk7IC8vIHdlaWdodCBpc1xuICAgICAgICB2YXIgYTAwID0gY29zUiArICgoMS4wIC0gY29zUikgKiB3KTtcbiAgICAgICAgdmFyIGEwMSA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMDIgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTEwID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGExMSA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG4gICAgICAgIHZhciBhMTIgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIwID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEyMSA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjIgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgYTAwLCBhMDEsIGEwMiwgMCwgMCxcbiAgICAgICAgICAgIGExMCwgYTExLCBhMTIsIDAsIDAsXG4gICAgICAgICAgICBhMjAsIGEyMSwgYTIyLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb250cmFzdCBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gZGFyayBhbmQgYnJpZ2h0XG4gICAgICogSW5jcmVhc2UgY29udHJhc3QgOiBzaGFkb3dzIGRhcmtlciBhbmQgaGlnaGxpZ2h0cyBicmlnaHRlclxuICAgICAqIERlY3JlYXNlIGNvbnRyYXN0IDogYnJpbmcgdGhlIHNoYWRvd3MgdXAgYW5kIHRoZSBoaWdobGlnaHRzIGRvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB2YWx1ZSBvZiB0aGUgY29udHJhc3QgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29udHJhc3QgPSBmdW5jdGlvbiAoYW1vdW50LCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgdiA9IChhbW91bnQgfHwgMCkgKyAxO1xuICAgICAgICB2YXIgbyA9IC0wLjUgKiAodiAtIDEpO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgdiwgMCwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIHYsIDAsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCB2LCAwLCBvLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzYXR1cmF0aW9uIG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBjb2xvcnNcbiAgICAgKiBJbmNyZWFzZSBzYXR1cmF0aW9uIDogaW5jcmVhc2UgY29udHJhc3QsIGJyaWdodG5lc3MsIGFuZCBzaGFycG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgc2F0dXJhdGlvbiBhbW91bnQgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFttdWx0aXBseV0gLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uIChhbW91bnQsIG11bHRpcGx5KSB7XG4gICAgICAgIGlmIChhbW91bnQgPT09IHZvaWQgMCkgeyBhbW91bnQgPSAwOyB9XG4gICAgICAgIHZhciB4ID0gKGFtb3VudCAqIDIgLyAzKSArIDE7XG4gICAgICAgIHZhciB5ID0gKCh4IC0gMSkgKiAtMC41KTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHgsIHksIHksIDAsIDAsXG4gICAgICAgICAgICB5LCB4LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeSwgeCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc2F0dXJhdGUgaW1hZ2UgKHJlbW92ZSBjb2xvcilcbiAgICAgKlxuICAgICAqIENhbGwgdGhlIHNhdHVyYXRlIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZGVzYXR1cmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zYXR1cmF0ZSgtMSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOZWdhdGl2ZSBpbWFnZSAoaW52ZXJzZSBvZiBjbGFzc2ljIHJnYiBtYXRyaXgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubmVnYXRpdmUgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIC0xLCAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgLTEsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAtMSwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlcGlhIGltYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2VwaWEgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMzkzLCAwLjc2ODk5OTksIDAuMTg4OTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLjM0OSwgMC42ODU5OTk5LCAwLjE2Nzk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4yNzIsIDAuNTMzOTk5OSwgMC4xMzA5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbG9yIG1vdGlvbiBwaWN0dXJlIHByb2Nlc3MgaW52ZW50ZWQgaW4gMTkxNiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50ZWNobmljb2xvciA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS45MTI1Mjc3ODkxNDU2MDgzLCAtMC44NTQ1MzQ0OTc2OTUxNjQ1LCAtMC4wOTE1NTUwODQ4Mjc1NTU4NSwgMCwgMTEuNzkzNjAzNDM0Mzc3MzM3LFxuICAgICAgICAgICAgLTAuMzA4NzgzMzM4NTkyODA5NywgMS43NjU4OTA4NTU1NDU4NDI4LCAtMC4xMDYwMTc0MzA3NDcyMjI0NSwgMCwgLTcwLjM1MjA1MTYxNDYxMzk4LFxuICAgICAgICAgICAgLTAuMjMxMTAzMzc3NTQ4NjE2LCAtMC43NTAxODk5MTk3NDQwMjEyLCAxLjg0NzU5NzgxNjEwODE4OSwgMCwgMzAuOTUwOTQwODY5NDkxMTM4LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUG9sYXJvaWQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucG9sYXJvaWQgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuNDM4LCAtMC4wNjIsIC0wLjA2MiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjAxNiwgLTAuMDE2LCAxLjQ4MywgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbHRlciB3aG8gdHJhbnNmb3JtcyA6IFJlZCAtPiBCbHVlIGFuZCBCbHVlIC0+IFJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRvQkdSID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb2xvciByZXZlcnNhbCBmaWxtIGludHJvZHVjZWQgYnkgRWFzdG1hbiBLb2RhayBpbiAxOTM1LiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5rb2RhY2hyb21lID0gZnVuY3Rpb24gKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAgICAgIC0wLjE2NDA0MzM5OTYyMjQ0NjE2LCAxLjA4MzUyNTE1NjYyOTEzMDQsIC0wLjA1NDk4ODA1MTE1NjMzMTMyLCAwLCAyNC43MzI0MDc4OTY3MDYyMDMsXG4gICAgICAgICAgICAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJyb3duIGRlbGljaW91cyBicm93bmkgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyb3duaSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC41OTk3MDIzNDk4MTU5NzE1LCAwLjM0NTUzMjQzMDQ4MzkxMjYzLCAtMC4yNzA4Mjk4Njc0NTM4MDQyLCAwLCA0Ny40MzE5Mjg1NTYwMDg3MyxcbiAgICAgICAgICAgIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsXG4gICAgICAgICAgICAwLjI0MTEzNjM1MTI4MTUzMzM1LCAtMC4wNzQ0MTAzNzkwODQyMjQ5MiwgMC40NDk3MjE4MjA2NDg3NzE1MywgMCwgLTcuNTYyMDc1Mjc3NTkxMjgzLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVmludGFnZSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudmludGFnZSA9IGZ1bmN0aW9uIChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC42Mjc5MzQ1NjM1NjA1OTk0LCAwLjMyMDIxODM0MjA4MTkzNjcsIC0wLjAzOTY1NDA4MjExMzEyNDUzLCAwLCA5LjY1MTI4NTgzNTI5NDEyMyxcbiAgICAgICAgICAgIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsXG4gICAgICAgICAgICAwLjA0NjYwNTU1NTY3ODI3MTksIC0wLjA4NTEyMzI5ODcyNDc4OTEsIDAuNTI0MTY0ODAxODcwMDQ2NSwgMCwgNS4xNTkxOTA1ODgyMzUyOTYsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXZSBkb24ndCBrbm93IGV4YWN0bHkgd2hhdCBpdCBkb2VzLCBraW5kIG9mIGdyYWRpZW50IG1hcCwgYnV0IGZ1bm55IHRvIHBsYXkgd2l0aCFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXNhdHVyYXRpb24gLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9uZWQgLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGlnaHRDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRhcmtDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbG9yVG9uZSA9IGZ1bmN0aW9uIChkZXNhdHVyYXRpb24sIHRvbmVkLCBsaWdodENvbG9yLCBkYXJrQ29sb3IsIG11bHRpcGx5KSB7XG4gICAgICAgIGRlc2F0dXJhdGlvbiA9IGRlc2F0dXJhdGlvbiB8fCAwLjI7XG4gICAgICAgIHRvbmVkID0gdG9uZWQgfHwgMC4xNTtcbiAgICAgICAgbGlnaHRDb2xvciA9IGxpZ2h0Q29sb3IgfHwgMHhGRkU1ODA7XG4gICAgICAgIGRhcmtDb2xvciA9IGRhcmtDb2xvciB8fCAweDMzODAwMDtcbiAgICAgICAgdmFyIGxSID0gKChsaWdodENvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEcgPSAoKGxpZ2h0Q29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRSID0gKChkYXJrQ29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkRyA9ICgoZGFya0NvbG9yID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkQiA9IChkYXJrQ29sb3IgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC41OSwgMC4xMSwgMCwgMCxcbiAgICAgICAgICAgIGxSLCBsRywgbEIsIGRlc2F0dXJhdGlvbiwgMCxcbiAgICAgICAgICAgIGRSLCBkRywgZEIsIHRvbmVkLCAwLFxuICAgICAgICAgICAgbFIgLSBkUiwgbEcgLSBkRywgbEIgLSBkQiwgMCwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTmlnaHQgZWZmZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZW5zaXR5IC0gVGhlIGludGVuc2l0eSBvZiB0aGUgbmlnaHQgZWZmZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uaWdodCA9IGZ1bmN0aW9uIChpbnRlbnNpdHksIG11bHRpcGx5KSB7XG4gICAgICAgIGludGVuc2l0eSA9IGludGVuc2l0eSB8fCAwLjE7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBpbnRlbnNpdHkgKiAoLTIuMCksIC1pbnRlbnNpdHksIDAsIDAsIDAsXG4gICAgICAgICAgICAtaW50ZW5zaXR5LCAwLCBpbnRlbnNpdHksIDAsIDAsXG4gICAgICAgICAgICAwLCBpbnRlbnNpdHksIGludGVuc2l0eSAqIDIuMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFByZWRhdG9yIGVmZmVjdFxuICAgICAqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgYSBuZXcgaW5kZXBlbnQgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gaG93IG11Y2ggdGhlIHByZWRhdG9yIGZlZWxzIGhpcyBmdXR1cmUgdmljdGltXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnByZWRhdG9yID0gZnVuY3Rpb24gKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIC8vIHJvdyAxXG4gICAgICAgICAgICAxMS4yMjQxMzA2MzA0OTMxNjQgKiBhbW91bnQsXG4gICAgICAgICAgICAtNC43OTQ0ODY5OTk1MTE3MTkgKiBhbW91bnQsXG4gICAgICAgICAgICAtMi44NzQ2MTE4NTQ1NTMyMjI3ICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIDAuNDAzNDI0MzgyMjA5Nzc3ODMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgMlxuICAgICAgICAgICAgLTMuNjMzMDY5NzUzNjQ2ODUwNiAqIGFtb3VudCxcbiAgICAgICAgICAgIDkuMTkzMTU3MTk2MDQ0OTIyICogYW1vdW50LFxuICAgICAgICAgICAgLTIuOTUxODEwODM2NzkxOTkyICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIC0xLjMxNjEzNTA0ODg2NjI3MiAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyAzXG4gICAgICAgICAgICAtMy4yMTg0MTk3OTAyNjc5NDQzICogYW1vdW50LFxuICAgICAgICAgICAgLTQuMjM3NTAzMDUxNzU3ODEyNSAqIGFtb3VudCxcbiAgICAgICAgICAgIDcuNDc2NDQ4MDU5MDgyMDMxICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIDAuODA0NDQ1OTIyMzc0NzI1MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyA0XG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMU0QgZWZmZWN0XG4gICAgICpcbiAgICAgKiBNdWx0aXBseSB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5sc2QgPSBmdW5jdGlvbiAobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDIsIC0wLjQsIDAuNSwgMCwgMCxcbiAgICAgICAgICAgIC0wLjUsIDIsIC0wLjQsIDAsIDAsXG4gICAgICAgICAgICAtMC40LCAtMC41LCAzLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBmYWxzZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLCBcIm1hdHJpeFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF0cml4IG9mIHRoZSBjb2xvciBtYXRyaXggZmlsdGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAZGVmYXVsdCBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZSwgXCJhbHBoYVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSB2YWx1ZSB0byB1c2Ugd2hlbiBtaXhpbmcgdGhlIG9yaWdpbmFsIGFuZCByZXN1bHRhbnQgY29sb3JzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAwLCB0aGUgb3JpZ2luYWwgY29sb3IgaXMgdXNlZCB3aXRob3V0IG1vZGlmaWNhdGlvbi5cbiAgICAgICAgICogV2hlbiB0aGUgdmFsdWUgaXMgMSwgdGhlIHJlc3VsdCBjb2xvciBpcyB1c2VkLlxuICAgICAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb2xvck1hdHJpeEZpbHRlcjtcbn0oRmlsdGVyKSk7XG4vLyBBbWVyaWNhbml6ZWQgYWxpYXNcbkNvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmF5c2NhbGUgPSBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlO1xuXG5leHBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWNvbG9yLW1hdHJpeC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXgsIFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWMyIHNjYWxlO1xcbnVuaWZvcm0gbWF0MiByb3RhdGlvbjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXBTYW1wbGVyO1xcblxcbnVuaWZvcm0gaGlnaHAgdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IGlucHV0Q2xhbXA7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgdmVjNCBtYXAgPSAgdGV4dHVyZTJEKG1hcFNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7XFxuXFxuICBtYXAgLT0gMC41O1xcbiAgbWFwLnh5ID0gc2NhbGUgKiBpbnB1dFNpemUuencgKiAocm90YXRpb24gKiBtYXAueHkpO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCArIG1hcC54LCB2VGV4dHVyZUNvb3JkLnkgKyBtYXAueSksIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKTtcXG59XFxuXCI7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcblxcdGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXHR2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxuXFx0dkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCB2VGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxuLyoqXG4gKiBUaGUgRGlzcGxhY2VtZW50RmlsdGVyIGNsYXNzIHVzZXMgdGhlIHBpeGVsIHZhbHVlcyBmcm9tIHRoZSBzcGVjaWZpZWQgdGV4dHVyZVxuICogKGNhbGxlZCB0aGUgZGlzcGxhY2VtZW50IG1hcCkgdG8gcGVyZm9ybSBhIGRpc3BsYWNlbWVudCBvZiBhbiBvYmplY3QuXG4gKlxuICogWW91IGNhbiB1c2UgdGhpcyBmaWx0ZXIgdG8gYXBwbHkgYWxsIG1hbm9yIG9mIGNyYXp5IHdhcnBpbmcgZWZmZWN0cy5cbiAqIEN1cnJlbnRseSB0aGUgYHJgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeGBcbiAqIGFuZCB0aGUgYGdgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeWAuXG4gKlxuICogVGhlIHdheSBpdCB3b3JrcyBpcyBpdCB1c2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGRpc3BsYWNlbWVudCBtYXAgdG8gbG9vayB1cCB0aGVcbiAqIGNvcnJlY3QgcGl4ZWxzIHRvIG91dHB1dC4gVGhpcyBtZWFucyBpdCdzIG5vdCB0ZWNobmljYWxseSBtb3ZpbmcgdGhlIG9yaWdpbmFsLlxuICogSW5zdGVhZCwgaXQncyBzdGFydGluZyBhdCB0aGUgb3V0cHV0IGFuZCBhc2tpbmcgXCJ3aGljaCBwaXhlbCBmcm9tIHRoZSBvcmlnaW5hbCBnb2VzIGhlcmVcIi5cbiAqIEZvciBleGFtcGxlLCBpZiBhIGRpc3BsYWNlbWVudCBtYXAgcGl4ZWwgaGFzIGByZWQgPSAxYCBhbmQgdGhlIGZpbHRlciBzY2FsZSBpcyBgMjBgLFxuICogdGhpcyBmaWx0ZXIgd2lsbCBvdXRwdXQgdGhlIHBpeGVsIGFwcHJveGltYXRlbHkgMjAgcGl4ZWxzIHRvIHRoZSByaWdodCBvZiB0aGUgb3JpZ2luYWwuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgRGlzcGxhY2VtZW50RmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEaXNwbGFjZW1lbnRGaWx0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gKG1ha2Ugc3VyZSBpdHMgYWRkZWQgdG8gdGhlIHNjZW5lISlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlXSAtIFRoZSBzY2FsZSBvZiB0aGUgZGlzcGxhY2VtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gRGlzcGxhY2VtZW50RmlsdGVyKHNwcml0ZSwgc2NhbGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgbWFwU2FtcGxlcjogc3ByaXRlLl90ZXh0dXJlLFxuICAgICAgICAgICAgZmlsdGVyTWF0cml4OiBtYXNrTWF0cml4LFxuICAgICAgICAgICAgc2NhbGU6IHsgeDogMSwgeTogMSB9LFxuICAgICAgICAgICAgcm90YXRpb246IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDFdKSxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgX3RoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgICAgIGlmIChzY2FsZSA9PT0gbnVsbCB8fCBzY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2FsZSA9IDIwO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2FsZVgsIHNjYWxlWSBmb3IgZGlzcGxhY2VtZW50c1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGUgPSBuZXcgUG9pbnQoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ0xFQVJfTU9ERVN9IGNsZWFyTW9kZSAtIGNsZWFyTW9kZS5cbiAgICAgKi9cbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSkge1xuICAgICAgICAvLyBmaWxsIG1hc2tNYXRyaXggd2l0aCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfXG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcbiAgICAgICAgLy8gRXh0cmFjdCByb3RhdGlvbiBmcm9tIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICB2YXIgd3QgPSB0aGlzLm1hc2tTcHJpdGUud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBsZW5YID0gTWF0aC5zcXJ0KCh3dC5hICogd3QuYSkgKyAod3QuYiAqIHd0LmIpKTtcbiAgICAgICAgdmFyIGxlblkgPSBNYXRoLnNxcnQoKHd0LmMgKiB3dC5jKSArICh3dC5kICogd3QuZCkpO1xuICAgICAgICBpZiAobGVuWCAhPT0gMCAmJiBsZW5ZICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzBdID0gd3QuYSAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzFdID0gd3QuYiAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzJdID0gd3QuYyAvIGxlblk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzNdID0gd3QuZCAvIGxlblk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZHJhdyB0aGUgZmlsdGVyLi4uXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLCBcIm1hcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gTXVzdCBiZSBwb3dlciBvZiAyIHNpemVkIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERpc3BsYWNlbWVudEZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWRpc3BsYWNlbWVudC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWZ4YWEgLSB2NS4zLjhcbiAqIENvbXBpbGVkIFNhdCwgMjAgRmViIDIwMjEgMjI6Mjg6MzMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWZ4YWEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbnZhciB2ZXJ0ZXggPSBcIlxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2RnJhZ0Nvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFBpeGVsO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZvaWQgdGV4Y29vcmRzKHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIGludmVyc2VWUCxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk5XLCBvdXQgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiU1csIG91dCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZfcmdiTlcgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTkUgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNFID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JNID0gdmVjMihmcmFnQ29vcmQgKiBpbnZlcnNlVlApO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcbiAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXG4gICB2RnJhZ0Nvb3JkID0gYVZlcnRleFBvc2l0aW9uICogb3V0cHV0RnJhbWUuenc7XFxuXFxuICAgdGV4Y29vcmRzKHZGcmFnQ29vcmQsIGlucHV0UGl4ZWwuencsIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZGcmFnQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBoaWdocCB2ZWM0IGlucHV0UGl4ZWw7XFxuXFxuXFxuLyoqXFxuIEJhc2ljIEZYQUEgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb20gd2l0aCB0aGVcXG4gbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCdzXFxuIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxcblxcbiAtLVxcblxcbiBGcm9tOlxcbiBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxcblxcbiBDb3B5cmlnaHQgKGMpIDIwMTEgYnkgQXJtaW4gUm9uYWNoZXIuXFxuXFxuIFNvbWUgcmlnaHRzIHJlc2VydmVkLlxcblxcbiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcXG4gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxcbiBtZXQ6XFxuXFxuICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcXG4gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxcblxcbiAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcXG4gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmdcXG4gZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXFxuIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cXG5cXG4gKiBUaGUgbmFtZXMgb2YgdGhlIGNvbnRyaWJ1dG9ycyBtYXkgbm90IGJlIHVzZWQgdG8gZW5kb3JzZSBvclxcbiBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWNcXG4gcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxcblxcbiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXFxuIFxcXCJBUyBJU1xcXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxcbiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxcbiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcXG4gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcXG4gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXFxuIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcXG4gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXFxuIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXFxuICovXFxuXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NSU5cXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01JTiAgICgxLjAvIDEyOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTVVMXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NVUwgICAoMS4wIC8gOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9TUEFOX01BWFxcbiNkZWZpbmUgRlhBQV9TUEFOX01BWCAgICAgOC4wXFxuI2VuZGlmXFxuXFxuLy9vcHRpbWl6ZWQgdmVyc2lvbiBmb3IgbW9iaWxlLCB3aGVyZSBkZXBlbmRlbnRcXG4vL3RleHR1cmUgcmVhZHMgY2FuIGJlIGEgYm90dGxlbmVja1xcbnZlYzQgZnhhYShzYW1wbGVyMkQgdGV4LCB2ZWMyIGZyYWdDb29yZCwgdmVjMiBpbnZlcnNlVlAsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JOVywgdmVjMiB2X3JnYk5FLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiU1csIHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgdmVjMyByZ2JOVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTlcpLnh5ejtcXG4gICAgdmVjMyByZ2JORSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTkUpLnh5ejtcXG4gICAgdmVjMyByZ2JTVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU1cpLnh5ejtcXG4gICAgdmVjMyByZ2JTRSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU0UpLnh5ejtcXG4gICAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTSk7XFxuICAgIHZlYzMgcmdiTSAgPSB0ZXhDb2xvci54eXo7XFxuICAgIHZlYzMgbHVtYSA9IHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCk7XFxuICAgIGZsb2F0IGx1bWFOVyA9IGRvdChyZ2JOVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFORSA9IGRvdChyZ2JORSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTVyA9IGRvdChyZ2JTVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTRSA9IGRvdChyZ2JTRSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNICA9IGRvdChyZ2JNLCAgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNaW4gPSBtaW4obHVtYU0sIG1pbihtaW4obHVtYU5XLCBsdW1hTkUpLCBtaW4obHVtYVNXLCBsdW1hU0UpKSk7XFxuICAgIGZsb2F0IGx1bWFNYXggPSBtYXgobHVtYU0sIG1heChtYXgobHVtYU5XLCBsdW1hTkUpLCBtYXgobHVtYVNXLCBsdW1hU0UpKSk7XFxuXFxuICAgIG1lZGl1bXAgdmVjMiBkaXI7XFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXG4gICAgZGlyLnkgPSAgKChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSkpO1xcblxcbiAgICBmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoKGx1bWFOVyArIGx1bWFORSArIGx1bWFTVyArIGx1bWFTRSkgKlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKDAuMjUgKiBGWEFBX1JFRFVDRV9NVUwpLCBGWEFBX1JFRFVDRV9NSU4pO1xcblxcbiAgICBmbG9hdCByY3BEaXJNaW4gPSAxLjAgLyAobWluKGFicyhkaXIueCksIGFicyhkaXIueSkpICsgZGlyUmVkdWNlKTtcXG4gICAgZGlyID0gbWluKHZlYzIoRlhBQV9TUEFOX01BWCwgRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICBtYXgodmVjMigtRlhBQV9TUEFOX01BWCwgLUZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgICAgIGRpciAqIHJjcERpck1pbikpICogaW52ZXJzZVZQO1xcblxcbiAgICB2ZWMzIHJnYkEgPSAwLjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgyLjAgLyAzLjAgLSAwLjUpKS54eXopO1xcbiAgICB2ZWMzIHJnYkIgPSByZ2JBICogMC41ICsgMC4yNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogLTAuNSkueHl6ICtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogMC41KS54eXopO1xcblxcbiAgICBmbG9hdCBsdW1hQiA9IGRvdChyZ2JCLCBsdW1hKTtcXG4gICAgaWYgKChsdW1hQiA8IGx1bWFNaW4pIHx8IChsdW1hQiA+IGx1bWFNYXgpKVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkEsIHRleENvbG9yLmEpO1xcbiAgICBlbHNlXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQiwgdGV4Q29sb3IuYSk7XFxuICAgIHJldHVybiBjb2xvcjtcXG59XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgICAgIHZlYzQgY29sb3I7XFxuXFxuICAgICAgY29sb3IgPSBmeGFhKHVTYW1wbGVyLCB2RnJhZ0Nvb3JkLCBpbnB1dFBpeGVsLnp3LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcblxcbiAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBCYXNpYyBGWEFBIChGYXN0IEFwcHJveGltYXRlIEFudGktQWxpYXNpbmcpIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tXG4gKiB3aXRoIHRoZSBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0IGlzIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKlxuICovXG52YXIgRlhBQUZpbHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRlhBQUZpbHRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGWEFBRmlsdGVyKCkge1xuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEZYQUFGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBGWEFBRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItZnhhYS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLW5vaXNlIC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1ub2lzZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIGZyYWdtZW50ID0gXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG51bmlmb3JtIGZsb2F0IHVTZWVkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbmZsb2F0IHJhbmQodmVjMiBjbylcXG57XFxuICAgIHJldHVybiBmcmFjdChzaW4oZG90KGNvLnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpO1xcbn1cXG5cXG52b2lkIG1haW4oKVxcbntcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGZsb2F0IHJhbmRvbVZhbHVlID0gcmFuZChnbF9GcmFnQ29vcmQueHkgKiB1U2VlZCk7XFxuICAgIGZsb2F0IGRpZmYgPSAocmFuZG9tVmFsdWUgLSAwLjUpICogdU5vaXNlO1xcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoY29sb3IuYSA+IDAuMCkge1xcbiAgICAgICAgY29sb3IucmdiIC89IGNvbG9yLmE7XFxuICAgIH1cXG5cXG4gICAgY29sb3IuciArPSBkaWZmO1xcbiAgICBjb2xvci5nICs9IGRpZmY7XFxuICAgIGNvbG9yLmIgKz0gZGlmZjtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIGNvbG9yLnJnYiAqPSBjb2xvci5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGF1dGhvciBWaWNvIEB2aWNvY290ZWFcbiAqIG9yaWdpbmFsIGZpbHRlcjogaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi9tYXN0ZXIvc3JjL2ZpbHRlcnMvYWRqdXN0L25vaXNlLmpzXG4gKi9cbi8qKlxuICogQSBOb2lzZSBlZmZlY3QgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIE5vaXNlRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOb2lzZUZpbHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25vaXNlPTAuNV0gLSBUaGUgbm9pc2UgaW50ZW5zaXR5LCBzaG91bGQgYmUgYSBub3JtYWxpemVkIHZhbHVlIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzZWVkXSAtIEEgcmFuZG9tIHNlZWQgZm9yIHRoZSBub2lzZSBnZW5lcmF0aW9uLiBEZWZhdWx0IGlzIGBNYXRoLnJhbmRvbSgpYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2lzZUZpbHRlcihub2lzZSwgc2VlZCkge1xuICAgICAgICBpZiAobm9pc2UgPT09IHZvaWQgMCkgeyBub2lzZSA9IDAuNTsgfVxuICAgICAgICBpZiAoc2VlZCA9PT0gdm9pZCAwKSB7IHNlZWQgPSBNYXRoLnJhbmRvbSgpOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICB1Tm9pc2U6IDAsXG4gICAgICAgICAgICB1U2VlZDogMCxcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgX3RoaXMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vaXNlRmlsdGVyLnByb3RvdHlwZSwgXCJub2lzZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51Tm9pc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVOb2lzZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vaXNlRmlsdGVyLnByb3RvdHlwZSwgXCJzZWVkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2VlZCB2YWx1ZSB0byBhcHBseSB0byB0aGUgcmFuZG9tIG5vaXNlIGdlbmVyYXRpb24uIGBNYXRoLnJhbmRvbSgpYCBpcyBhIGdvb2QgdmFsdWUgdG8gdXNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTZWVkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2VlZCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgTm9pc2VGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ub2lzZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlbmRlclRleHR1cmUsIEJhc2VUZXh0dXJlLCBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxudmFyIF90ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBudWxsO1xuLy8gZmlndXJlZCB0aGVyZSdzIG5vIHBvaW50IGFkZGluZyBBTEwgdGhlIGV4dHJhIHZhcmlhYmxlcyB0byBwcm90b3R5cGUuXG4vLyB0aGlzIG1vZGVsIGNhbiBob2xkIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQuIFRoaXMgY2FuIGFsc28gYmUgZ2VuZXJhdGVkIG9uIGRlbWFuZCBhc1xuLy8gbW9zdCBvYmplY3RzIGFyZSBub3QgY2FjaGVkIGFzIGJpdG1hcHMuXG4vKipcbiAqIEBjbGFzc1xuICogQGlnbm9yZVxuICovXG52YXIgQ2FjaGVEYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhY2hlRGF0YSgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxSZW5kZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRGVzdHJveSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZ2luYWxNYXNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEZpbHRlckFyZWEgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIENhY2hlRGF0YTtcbn0oKSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwge1xuICAgIC8qKlxuICAgICAqIFNldCB0aGlzIHRvIHRydWUgaWYgeW91IHdhbnQgdGhpcyBkaXNwbGF5IG9iamVjdCB0byBiZSBjYWNoZWQgYXMgYSBiaXRtYXAuXG4gICAgICogVGhpcyBiYXNpY2FsbHkgdGFrZXMgYSBzbmFwIHNob3Qgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IGFzIGl0IGlzIGF0IHRoYXQgbW9tZW50LiBJdCBjYW5cbiAgICAgKiBwcm92aWRlIGEgcGVyZm9ybWFuY2UgYmVuZWZpdCBmb3IgY29tcGxleCBzdGF0aWMgZGlzcGxheU9iamVjdHMuXG4gICAgICogVG8gcmVtb3ZlIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgZmFsc2VgXG4gICAgICpcbiAgICAgKiBJTVBPUlRBTlQgR09UQ0hBIC0gTWFrZSBzdXJlIHRoYXQgYWxsIHlvdXIgdGV4dHVyZXMgYXJlIHByZWxvYWRlZCBCRUZPUkUgc2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIHRydWVcbiAgICAgKiBhcyBpdCB3aWxsIHRha2UgYSBzbmFwc2hvdCBvZiB3aGF0IGlzIGN1cnJlbnRseSB0aGVyZS4gSWYgdGhlIHRleHR1cmVzIGhhdmUgbm90IGxvYWRlZCB0aGVuIHRoZXkgd2lsbCBub3QgYXBwZWFyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGNhY2hlQXNCaXRtYXA6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVBc0JpdG1hcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUFzQml0bWFwID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQXNCaXRtYXAgPSB2YWx1ZTtcbiAgICAgICAgICAgIHZhciBkYXRhO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWNoZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVEYXRhID0gbmV3IENhY2hlRGF0YSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXIgPSB0aGlzLnJlbmRlcjtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gdGhpcy5yZW5kZXJDYW52YXM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMudXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSB0aGlzLmNhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxEZXN0cm95ID0gdGhpcy5kZXN0cm95O1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50ID0gdGhpcy5jb250YWluc1BvaW50O1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxNYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYSA9IHRoaXMuZmlsdGVyQXJlYTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMuX3JlbmRlckNhY2hlZDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSB0aGlzLl9jYWNoZUFzQml0bWFwRGVzdHJveTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3ByaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gZGF0YS5vcmlnaW5hbFJlbmRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZGF0YS5vcmlnaW5hbERlc3Ryb3k7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50O1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sgPSBkYXRhLm9yaWdpbmFsTWFzaztcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggV2ViR0xcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWQgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkKHJlbmRlcmVyKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXIocmVuZGVyZXIpO1xufTtcbi8qKlxuICogUHJlcGFyZXMgdGhlIFdlYkdMIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIGFscGhhIGlzIHNldCB0byAxIG90aGVyd2lzZSBpdCB3aWxsIGdldCByZW5kZXJlZCBhcyBpbnZpc2libGUhXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgIC8vIGZpcnN0IHdlIGZsdXNoIGFueXRoaW5nIGxlZnQgaW4gdGhlIHJlbmRlcmVyIChvdGhlcndpc2UgaXQgd291bGQgZ2V0IHJlbmRlcmVkIHRvIHRoZSBjYWNoZWQgdGV4dHVyZSlcbiAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgIC8vIHRoaXMuZmlsdGVycz0gW107XG4gICAgLy8gbmV4dCB3ZSBmaW5kIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB1bnRyYW5zZm9ybWVkIG9iamVjdFxuICAgIC8vIHRoaXMgZnVuY3Rpb24gYWxzbyBjYWxscyB1cGRhdGV0cmFuc2Zvcm0gb24gYWxsIGl0cyBjaGlsZHJlbiBhcyBwYXJ0IG9mIHRoZSBtZWFzdXJpbmcuXG4gICAgLy8gVGhpcyBtZWFucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgdHJhbnNmb3JtIGFnYWluIGluIHRoaXMgZnVuY3Rpb25cbiAgICAvLyBUT0RPIHBhc3MgYW4gb2JqZWN0IHRvIGNsb25lIHRvbz8gc2F2ZXMgaGF2aW5nIHRvIGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpLmNsb25lKCk7XG4gICAgLy8gYWRkIHNvbWUgcGFkZGluZyFcbiAgICBpZiAodGhpcy5maWx0ZXJzKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5maWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgICAgIGJvdW5kcy5wYWQocGFkZGluZyk7XG4gICAgfVxuICAgIGJvdW5kcy5jZWlsKHNldHRpbmdzLlJFU09MVVRJT04pO1xuICAgIC8vIGZvciBub3cgd2UgY2FjaGUgdGhlIGN1cnJlbnQgcmVuZGVyVGFyZ2V0IHRoYXQgdGhlIFdlYkdMIHJlbmRlcmVyIGlzIGN1cnJlbnRseSB1c2luZy5cbiAgICAvLyB0aGlzIGNvdWxkIGJlIG1vcmUgZWxlZ2FudC4uXG4gICAgdmFyIGNhY2hlZFJlbmRlclRleHR1cmUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgdmFyIGNhY2hlZFNvdXJjZUZyYW1lID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZS5jbG9uZSgpO1xuICAgIHZhciBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtID0gcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm07XG4gICAgLy8gV2UgYWxzbyBzdG9yZSB0aGUgZmlsdGVyIHN0YWNrIC0gSSB3aWxsIGRlZmluaXRlbHkgbG9vayB0byBjaGFuZ2UgaG93IHRoaXMgd29ya3MgYSBsaXR0bGUgbGF0ZXIgZG93biB0aGUgbGluZS5cbiAgICAvLyBjb25zdCBzdGFjayA9IHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2s7XG4gICAgLy8gdGhpcyByZW5kZXJUZXh0dXJlIHdpbGwgYmUgdXNlZCB0byBzdG9yZSB0aGUgY2FjaGVkIERpc3BsYXlPYmplY3RcbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHsgd2lkdGg6IGJvdW5kcy53aWR0aCwgaGVpZ2h0OiBib3VuZHMuaGVpZ2h0IH0pO1xuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9IFwiY2FjaGVBc0JpdG1hcF9cIiArIHVpZCgpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHlUbyhfdGVtcE1hdHJpeCkuaW52ZXJ0KCkudHJhbnNsYXRlKC1ib3VuZHMueCwgLWJvdW5kcy55KTtcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcjtcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgZmFsc2UpO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoY2FjaGVkUmVuZGVyVGV4dHVyZSwgY2FjaGVkU291cmNlRnJhbWUpO1xuICAgIC8vIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2sgPSBzdGFjaztcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX3JlbmRlckNhY2hlZDtcbiAgICAvLyB0aGUgcmVzdCBpcyB0aGUgc2FtZSBhcyBmb3IgQ2FudmFzXG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG4gICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG4gICAgdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgLy8gcmVzdG9yZSB0aGUgdHJhbnNmb3JtIG9mIHRoZSBjYWNoZWQgc3ByaXRlIHRvIGF2b2lkIHRoZSBuYXN0eSBmbGlja2VyLi5cbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMuZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLmRpc2FibGVUZW1wUGFyZW50KG51bGwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBjYW52YXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXNcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIGNhbnZhcyByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZENhbnZhcyhyZW5kZXJlcikge1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcik7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlckNhbnZhcyhyZW5kZXJlcik7XG59O1xuLy8gVE9ETyB0aGlzIGNhbiBiZSB0aGUgc2FtZSBhcyB0aGUgV2ViR0wgdmVyc2lvbi4uIHdpbGwgbmVlZCB0byBkbyBhIGxpdHRsZSB0d2Vha2luZyBmaXJzdCB0aG91Z2guLlxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgQ2FudmFzIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhc1xuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGdldCBib3VuZHMgYWN0dWFsbHkgdHJhbnNmb3JtcyB0aGUgb2JqZWN0IGZvciB1cyBhbHJlYWR5IVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKG51bGwsIHRydWUpO1xuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcbiAgICB0aGlzLmFscGhhID0gMTtcbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuY29udGV4dDtcbiAgICB2YXIgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLl9wcm9qVHJhbnNmb3JtO1xuICAgIGJvdW5kcy5jZWlsKHNldHRpbmdzLlJFU09MVVRJT04pO1xuICAgIHZhciByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoeyB3aWR0aDogYm91bmRzLndpZHRoLCBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgfSk7XG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gXCJjYWNoZUFzQml0bWFwX1wiICsgdWlkKCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG4gICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weVRvKG0pO1xuICAgIG0uaW52ZXJ0KCk7XG4gICAgbS50eCAtPSBib3VuZHMueDtcbiAgICBtLnR5IC09IGJvdW5kcy55O1xuICAgIC8vIG0uYXBwZW5kKHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLilcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgZmFsc2UpO1xuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLmNvbnRleHQgPSBjYWNoZWRSZW5kZXJUYXJnZXQ7XG4gICAgcmVuZGVyZXIuX3Byb2pUcmFuc2Zvcm0gPSBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtO1xuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBXZWJHTFxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVDYWNoZWRCb3VuZHMoKSB7XG4gICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQgPSB0aGlzLl9ib3VuZHNJRDtcbn07XG4vKipcbiAqIEdldHMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgbG9jYWwgYm91bmRzLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuZ2V0TG9jYWxCb3VuZHMobnVsbCk7XG59O1xuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKSB7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBudWxsO1xuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbn07XG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICogIFVzZWQgd2hlbiBkZXN0cm95aW5nIGNvbnRhaW5lcnMsIHNlZSB0aGUgQ29udGFpbmVyLmRlc3Ryb3kgbWV0aG9kLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcERlc3Ryb3kgPSBmdW5jdGlvbiBfY2FjaGVBc0JpdG1hcERlc3Ryb3kob3B0aW9ucykge1xuICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgIHRoaXMuZGVzdHJveShvcHRpb25zKTtcbn07XG5cbmV4cG9ydCB7IENhY2hlRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tY2FjaGUtYXMtYml0bWFwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IERpc3BsYXlPYmplY3QsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFRoZSBpbnN0YW5jZSBuYW1lIG9mIHRoZSBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcbi8qKlxuICogUmV0dXJucyB0aGUgZGlzcGxheSBvYmplY3QgaW4gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBSZWN1cnNpdmUgc2VhcmNoZXMgYXJlIGRvbmUgaW4gYSBwcmVvcmRlciB0cmF2ZXJzYWwuXG4gKlxuICogQG1ldGhvZCBnZXRDaGlsZEJ5TmFtZVxuICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBJbnN0YW5jZSBuYW1lLlxuICogQHBhcmFtIHtib29sZWFufVtkZWVwPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2VhcmNoIHJlY3Vyc2l2ZWx5XG4gKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAqL1xuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZSA9IGZ1bmN0aW9uIGdldENoaWxkQnlOYW1lKG5hbWUsIGRlZXApIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkZWVwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLmdldENoaWxkQnlOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5jaGlsZHJlbltpXS5nZXRDaGlsZEJ5TmFtZShuYW1lLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWdldC1jaGlsZC1ieS1uYW1lLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uIC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24gaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdC4gRG9lcyBub3QgZGVwZW5kIG9uIG9iamVjdCBzY2FsZSwgcm90YXRpb24gYW5kIHBpdm90LlxuICpcbiAqIEBtZXRob2QgZ2V0R2xvYmFsUG9zaXRpb25cbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludD1uZXcgUElYSS5Qb2ludCgpXSAtIFRoZSBwb2ludCB0byB3cml0ZSB0aGUgZ2xvYmFsIHZhbHVlIHRvLlxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTZXR0aW5nIHRvIHRydWUgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIHVwZGF0ZWQgcG9pbnQuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEdsb2JhbFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0R2xvYmFsUG9zaXRpb24ocG9pbnQsIHNraXBVcGRhdGUpIHtcbiAgICBpZiAocG9pbnQgPT09IHZvaWQgMCkgeyBwb2ludCA9IG5ldyBQb2ludCgpOyB9XG4gICAgaWYgKHNraXBVcGRhdGUgPT09IHZvaWQgMCkgeyBza2lwVXBkYXRlID0gZmFsc2U7IH1cbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQudG9HbG9iYWwodGhpcy5wb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcG9pbnQueCA9IHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgcG9pbnQueSA9IHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWdldC1nbG9iYWwtcG9zaXRpb24uZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2gtZXh0cmFzIC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL21lc2gtZXh0cmFzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwsIE1lc2ggfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIFBsYW5lR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBsYW5lR2VvbWV0cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUGxhbmVHZW9tZXRyeSh3aWR0aCwgaGVpZ2h0LCBzZWdXaWR0aCwgc2VnSGVpZ2h0KSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMTAwOyB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IHZvaWQgMCkgeyBoZWlnaHQgPSAxMDA7IH1cbiAgICAgICAgaWYgKHNlZ1dpZHRoID09PSB2b2lkIDApIHsgc2VnV2lkdGggPSAxMDsgfVxuICAgICAgICBpZiAoc2VnSGVpZ2h0ID09PSB2b2lkIDApIHsgc2VnSGVpZ2h0ID0gMTA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2VnV2lkdGggPSBzZWdXaWR0aDtcbiAgICAgICAgX3RoaXMuc2VnSGVpZ2h0ID0gc2VnSGVpZ2h0O1xuICAgICAgICBfdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBfdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIF90aGlzLmJ1aWxkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbGFuZUdlb21ldHJ5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5zZWdXaWR0aCAqIHRoaXMuc2VnSGVpZ2h0O1xuICAgICAgICB2YXIgdmVydHMgPSBbXTtcbiAgICAgICAgdmFyIHV2cyA9IFtdO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuICAgICAgICB2YXIgc2VnbWVudHNYID0gdGhpcy5zZWdXaWR0aCAtIDE7XG4gICAgICAgIHZhciBzZWdtZW50c1kgPSB0aGlzLnNlZ0hlaWdodCAtIDE7XG4gICAgICAgIHZhciBzaXplWCA9ICh0aGlzLndpZHRoKSAvIHNlZ21lbnRzWDtcbiAgICAgICAgdmFyIHNpemVZID0gKHRoaXMuaGVpZ2h0KSAvIHNlZ21lbnRzWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IChpICUgdGhpcy5zZWdXaWR0aCk7XG4gICAgICAgICAgICB2YXIgeSA9ICgoaSAvIHRoaXMuc2VnV2lkdGgpIHwgMCk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHggKiBzaXplWCwgeSAqIHNpemVZKTtcbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBzZWdtZW50c1gsIHkgLyBzZWdtZW50c1kpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbFN1YiA9IHNlZ21lbnRzWCAqIHNlZ21lbnRzWTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFN1YjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeHBvcyA9IGkgJSBzZWdtZW50c1g7XG4gICAgICAgICAgICB2YXIgeXBvcyA9IChpIC8gc2VnbWVudHNYKSB8IDA7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUzID0gKCh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWU0ID0gKCh5cG9zICsgMSkgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3MgKyAxO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMywgdmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzKTtcbiAgICAgICAgdGhpcy5idWZmZXJzWzFdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHV2cyk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGF0YSA9IG5ldyBVaW50MTZBcnJheShpbmRpY2VzKTtcbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFBsYW5lR2VvbWV0cnk7XG59KE1lc2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFJvcGVHZW9tZXRyeSBhbGxvd3MgeW91IHRvIGRyYXcgYSBnZW9tZXRyeSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHMuXG4gKlxuICogYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGNvbnN0IHJvcGUgPSBuZXcgUElYSS5Sb3BlR2VvbWV0cnkoMTAwLCBwb2ludHMpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hHZW9tZXRyeVxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBSb3BlR2VvbWV0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJvcGVHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTIwMF0gLSBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IFtwb2ludHNdIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RleHR1cmVTY2FsZT0wXSAtIEJ5IGRlZmF1bHQgdGhlIHJvcGUgdGV4dHVyZSB3aWxsIGJlIHN0cmV0Y2hlZCB0byBtYXRjaFxuICAgICAqICAgICByb3BlIGxlbmd0aC4gSWYgdGV4dHVyZVNjYWxlIGlzIHBvc2l0aXZlIHRoaXMgdmFsdWUgd2lsbCBiZSB0cmVhdGVkIGFzIGEgc2NhbGluZ1xuICAgICAqICAgICBmYWN0b3IgYW5kIHRoZSB0ZXh0dXJlIHdpbGwgcHJlc2VydmUgaXRzIGFzcGVjdCByYXRpbyBpbnN0ZWFkLiBUbyBjcmVhdGUgYSB0aWxpbmcgcm9wZVxuICAgICAqICAgICBzZXQgYmFzZVRleHR1cmUud3JhcE1vZGUgdG8ge0BsaW5rIFBJWEkuV1JBUF9NT0RFUy5SRVBFQVR9IGFuZCB1c2UgYSBwb3dlciBvZiB0d28gdGV4dHVyZSxcbiAgICAgKiAgICAgdGhlbiBzZXQgdGV4dHVyZVNjYWxlPTEgdG8ga2VlcCB0aGUgb3JpZ2luYWwgdGV4dHVyZSBwaXhlbCBzaXplLlxuICAgICAqICAgICBJbiBvcmRlciB0byByZWR1Y2UgYWxwaGEgY2hhbm5lbCBhcnRpZmFjdHMgcHJvdmlkZSBhIGxhcmdlciB0ZXh0dXJlIGFuZCBkb3duc2FtcGxlIC1cbiAgICAgKiAgICAgaS5lLiBzZXQgdGV4dHVyZVNjYWxlPTAuNSB0byBzY2FsZSBpdCBkb3duIHR3aWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJvcGVHZW9tZXRyeSh3aWR0aCwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAyMDA7IH1cbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA9PT0gdm9pZCAwKSB7IHRleHR1cmVTY2FsZSA9IDA7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLCBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRoYXQgZGV0ZXJtaW5lIHRoZSByb3BlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAoaS5lLiwgdGhpY2tuZXNzKSBvZiB0aGUgcm9wZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogUm9wZSB0ZXh0dXJlIHNjYWxlLCBpZiB6ZXJvIHRoZW4gdGhlIHJvcGUgdGV4dHVyZSBpcyBzdHJldGNoZWQuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlU2NhbGUgPSB0ZXh0dXJlU2NhbGU7XG4gICAgICAgIF90aGlzLmJ1aWxkKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJvcGVHZW9tZXRyeS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgUm9wZSBpbmRpY2VzIGFuZCB1dnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgaWYgKCFwb2ludHMpXG4gICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICB2YXIgdmVydGV4QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuICAgICAgICB2YXIgdXZCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcignYVRleHR1cmVDb29yZCcpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4KCk7XG4gICAgICAgIC8vIGlmIHRvbyBsaXR0bGUgcG9pbnRzLCBvciB0ZXh0dXJlIGhhc24ndCBnb3QgVVZzIHNldCB5ZXQganVzdCBtb3ZlIG9uLlxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgbnVtYmVyIG9mIHBvaW50cyBoYXMgY2hhbmdlZCB3ZSB3aWxsIG5lZWQgdG8gcmVjcmVhdGUgdGhlIGFycmF5YnVmZmVyc1xuICAgICAgICBpZiAodmVydGV4QnVmZmVyLmRhdGEubGVuZ3RoIC8gNCAhPT0gcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHV2QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1dnMgPSB1dkJ1ZmZlci5kYXRhO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG4gICAgICAgIHZhciBhbW91bnQgPSAwO1xuICAgICAgICB2YXIgcHJldiA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIHRleHR1cmVXaWR0aCA9IHRoaXMuX3dpZHRoICogdGhpcy50ZXh0dXJlU2NhbGU7XG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7IC8vIC0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICAvLyB0aW1lIHRvIGRvIHNvbWUgc21hcnQgZHJhd2luZyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBwaXhlbCBkaXN0YW5jZSBmcm9tIHByZXZpb3VzIHBvaW50XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0gcHJldi54IC0gcG9pbnRzW2ldLng7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gcHJldi55IC0gcG9pbnRzW2ldLnk7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgICAgICAgICAgICAgcHJldiA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBhbW91bnQgKz0gZGlzdGFuY2UgLyB0ZXh0dXJlV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzdHJldGNoIHRleHR1cmVcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBpIC8gKHRvdGFsIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMl0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAzXSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4Q291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4O1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAzO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB1dkJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJlZnJlc2hlcyB2ZXJ0aWNlcyBvZiBSb3BlIG1lc2hcbiAgICAgKi9cbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0UG9pbnQgPSBwb2ludHNbMF07XG4gICAgICAgIHZhciBuZXh0UG9pbnQ7XG4gICAgICAgIHZhciBwZXJwWCA9IDA7XG4gICAgICAgIHZhciBwZXJwWSA9IDA7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgaWYgKGkgPCBwb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgICAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcbiAgICAgICAgICAgIHZhciBwZXJwTGVuZ3RoID0gTWF0aC5zcXJ0KChwZXJwWCAqIHBlcnBYKSArIChwZXJwWSAqIHBlcnBZKSk7XG4gICAgICAgICAgICB2YXIgbnVtID0gdGhpcy50ZXh0dXJlU2NhbGUgPiAwID8gdGhpcy50ZXh0dXJlU2NhbGUgKiB0aGlzLl93aWR0aCAvIDIgOiB0aGlzLl93aWR0aCAvIDI7XG4gICAgICAgICAgICBwZXJwWCAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFkgLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBYICo9IG51bTtcbiAgICAgICAgICAgIHBlcnBZICo9IG51bTtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4XSA9IHBvaW50LnggKyBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMV0gPSBwb2ludC55ICsgcGVycFk7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDJdID0gcG9pbnQueCAtIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAzXSA9IHBvaW50LnkgLSBwZXJwWTtcbiAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICB9O1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50ZXh0dXJlU2NhbGUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCk7IC8vIHdlIG5lZWQgdG8gdXBkYXRlIFVWc1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUm9wZUdlb21ldHJ5O1xufShNZXNoR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBUaGUgcm9wZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCByb3BlID0gbmV3IFBJWEkuU2ltcGxlUm9wZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBTaW1wbGVSb3BlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVSb3BlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSByb3BlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBwb2ludHMgLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5Qb2ludH0gb2JqZWN0cyB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGV4dHVyZVNjYWxlPTBdIC0gT3B0aW9uYWwuIFBvc2l0aXZlIHZhbHVlcyBzY2FsZSByb3BlIHRleHR1cmVcbiAgICAgKiBrZWVwaW5nIGl0cyBhc3BlY3QgcmF0aW8uIFlvdSBjYW4gcmVkdWNlIGFscGhhIGNoYW5uZWwgYXJ0aWZhY3RzIGJ5IHByb3ZpZGluZyBhIGxhcmdlciB0ZXh0dXJlXG4gICAgICogYW5kIGRvd25zYW1wbGluZyBoZXJlLiBJZiBzZXQgdG8gemVybywgdGV4dHVyZSB3aWxsIGJlIHN0cmVjaGVkIGluc3RlYWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2ltcGxlUm9wZSh0ZXh0dXJlLCBwb2ludHMsIHRleHR1cmVTY2FsZSkge1xuICAgICAgICBpZiAodGV4dHVyZVNjYWxlID09PSB2b2lkIDApIHsgdGV4dHVyZVNjYWxlID0gMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcm9wZUdlb21ldHJ5ID0gbmV3IFJvcGVHZW9tZXRyeSh0ZXh0dXJlLmhlaWdodCwgcG9pbnRzLCB0ZXh0dXJlU2NhbGUpO1xuICAgICAgICB2YXIgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA+IDApIHtcbiAgICAgICAgICAgIC8vIGF0dGVtcHQgdG8gc2V0IFVWIHdyYXBwaW5nLCB3aWxsIGZhaWwgb24gbm9uLXBvd2VyIG9mIHR3byB0ZXh0dXJlc1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcm9wZUdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZS1jYWxjdWxhdGUgdmVydGljZXMgYnkgcm9wZSBwb2ludHMgZWFjaCBmcmFtZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2ltcGxlUm9wZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlIHx8IGdlb21ldHJ5Ll93aWR0aCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5Ll93aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgZ2VvbWV0cnkudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZVJvcGU7XG59KE1lc2gpKTtcblxuLyoqXG4gKiBUaGUgU2ltcGxlUGxhbmUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgU2ltcGxlUGxhbmUgPSBuZXcgUElYSS5TaW1wbGVQbGFuZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBTaW1wbGVQbGFuZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlUGxhbmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIFNpbXBsZVBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1ggLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB4LWF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNZIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeS1heGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2ltcGxlUGxhbmUodGV4dHVyZSwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHBsYW5lR2VvbWV0cnkgPSBuZXcgUGxhbmVHZW9tZXRyeSh0ZXh0dXJlLndpZHRoLCB0ZXh0dXJlLmhlaWdodCwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpO1xuICAgICAgICB2YXIgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbChUZXh0dXJlLldISVRFKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwbGFuZUdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwpIHx8IHRoaXM7XG4gICAgICAgIC8vIGxldHMgY2FsbCB0aGUgc2V0dGVyIHRvIGVuc3VyZSBhbGwgbmVjZXNzYXJ5IHVwZGF0ZXMgYXJlIHBlcmZvcm1lZFxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCBmb3Igb3ZlcnJpZGVzLCB0byBkbyBzb21ldGhpbmcgaW4gY2FzZSB0ZXh0dXJlIGZyYW1lIHdhcyBjaGFuZ2VkLlxuICAgICAqIE1lc2hlcyBiYXNlZCBvbiBwbGFuZSBjYW4gb3ZlcnJpZGUgaXQgYW5kIGNoYW5nZSBtb3JlIGRldGFpbHMgYmFzZWQgb24gdGV4dHVyZS5cbiAgICAgKi9cbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUudGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICBnZW9tZXRyeS53aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUud2lkdGg7XG4gICAgICAgIGdlb21ldHJ5LmhlaWdodCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICBnZW9tZXRyeS5idWlsZCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNpbXBsZVBsYW5lLnByb3RvdHlwZSwgXCJ0ZXh0dXJlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFRyYWNrIHRleHR1cmUgc2FtZSB3YXkgc3ByaXRlIGRvZXMuXG4gICAgICAgICAgICAvLyBGb3IgZ2VuZXJhdGVkIG1lc2hlcyBsaWtlIE5pbmVTbGljZVBsYW5lIGl0IGNhbiBjaGFuZ2UgdGhlIGdlb21ldHJ5LlxuICAgICAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgdGhpcyBtZXRob2QgbWlnaHQgbm90IHdvcmsgaWYgeW91IGRpcmVjdGx5IGNoYW5nZSB0ZXh0dXJlIGluIG1hdGVyaWFsLlxuICAgICAgICAgICAgaWYgKHRoaXMuc2hhZGVyLnRleHR1cmUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVVcGRhdGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLnRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVVcGRhdGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy50ZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZVBsYW5lO1xufShNZXNoKSk7XG5cbi8qKlxuICogVGhlIFNpbXBsZSBNZXNoIGNsYXNzIG1pbWljcyBNZXNoIGluIFBpeGlKUyB2NCwgcHJvdmlkaW5nIGVhc3ktdG8tdXNlIGNvbnN0cnVjdG9yIGFyZ3VtZW50cy5cbiAqIEZvciBtb3JlIHJvYnVzdCBjdXN0b21pemF0aW9uLCB1c2Uge0BsaW5rIFBJWEkuTWVzaH0uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaW1wbGVNZXNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVNZXNoLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZT1UZXh0dXJlLkVNUFRZXSAtIFRoZSB0ZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdmVydGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW3V2c10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB1dnNcbiAgICAgKiBAcGFyYW0ge1VpbnQxNkFycmF5fSBbaW5kaWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBpbmRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkcmF3TW9kZV0gLSB0aGUgZHJhd01vZGUsIGNhbiBiZSBhbnkgb2YgdGhlIE1lc2guRFJBV19NT0RFUyBjb25zdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaW1wbGVNZXNoKHRleHR1cmUsIHZlcnRpY2VzLCB1dnMsIGluZGljZXMsIGRyYXdNb2RlKSB7XG4gICAgICAgIGlmICh0ZXh0dXJlID09PSB2b2lkIDApIHsgdGV4dHVyZSA9IFRleHR1cmUuRU1QVFk7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSh2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzKTtcbiAgICAgICAgZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5zdGF0aWMgPSBmYWxzZTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZ2VvbWV0cnksIG1lc2hNYXRlcmlhbCwgbnVsbCwgZHJhd01vZGUpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1cGxvYWQgdmVydGljZXMgYnVmZmVyIGVhY2ggZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW1wbGVNZXNoLnByb3RvdHlwZSwgXCJ2ZXJ0aWNlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHZlcnRpY2VzIGRhdGEuXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFNpbXBsZU1lc2gucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBTaW1wbGVNZXNoO1xufShNZXNoKSk7XG5cbnZhciBERUZBVUxUX0JPUkRFUl9TSVpFID0gMTA7XG4vKipcbiAqIFRoZSBOaW5lU2xpY2VQbGFuZSBhbGxvd3MgeW91IHRvIHN0cmV0Y2ggYSB0ZXh0dXJlIHVzaW5nIDktc2xpY2Ugc2NhbGluZy4gVGhlIGNvcm5lcnMgd2lsbCByZW1haW4gdW5zY2FsZWQgKHVzZWZ1bFxuICogZm9yIGJ1dHRvbnMgd2l0aCByb3VuZGVkIGNvcm5lcnMgZm9yIGV4YW1wbGUpIGFuZCB0aGUgb3RoZXIgYXJlYXMgd2lsbCBiZSBzY2FsZWQgaG9yaXpvbnRhbGx5IGFuZCBvciB2ZXJ0aWNhbGx5XG4gKlxuICpgYGBqc1xuICogbGV0IFBsYW5lOSA9IG5ldyBQSVhJLk5pbmVTbGljZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tKCdCb3hXaXRoUm91bmRlZENvcm5lcnMucG5nJyksIDE1LCAxNSwgMTUsIDE1KTtcbiAqICBgYGBcbiAqIDxwcmU+XG4gKiAgICAgIEEgICAgICAgICAgICAgICAgICAgICAgICAgIEJcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgQyB8IDEgfCAgICAgICAgICAyICAgICAgICAgICB8IDMgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICB8IDQgfCAgICAgICAgICA1ICAgICAgICAgICB8IDYgfFxuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgRCB8IDcgfCAgICAgICAgICA4ICAgICAgICAgICB8IDkgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcblxuICogIFdoZW4gY2hhbmdpbmcgdGhpcyBvYmplY3RzIHdpZHRoIGFuZC9vciBoZWlnaHQ6XG4gKiAgICAgYXJlYXMgMSAzIDcgYW5kIDkgd2lsbCByZW1haW4gdW5zY2FsZWQuXG4gKiAgICAgYXJlYXMgMiBhbmQgOCB3aWxsIGJlIHN0cmV0Y2hlZCBob3Jpem9udGFsbHlcbiAqICAgICBhcmVhcyA0IGFuZCA2IHdpbGwgYmUgc3RyZXRjaGVkIHZlcnRpY2FsbHlcbiAqICAgICBhcmVhIDUgd2lsbCBiZSBzdHJldGNoZWQgYm90aCBob3Jpem9udGFsbHkgYW5kIHZlcnRpY2FsbHlcbiAqIDwvcHJlPlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TaW1wbGVQbGFuZVxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBOaW5lU2xpY2VQbGFuZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmluZVNsaWNlUGxhbmUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIE5pbmVTbGljZVBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVmdFdpZHRoPTEwXSAtIHNpemUgb2YgdGhlIGxlZnQgdmVydGljYWwgYmFyIChBKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdG9wSGVpZ2h0PTEwXSAtIHNpemUgb2YgdGhlIHRvcCBob3Jpem9udGFsIGJhciAoQylcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JpZ2h0V2lkdGg9MTBdIC0gc2l6ZSBvZiB0aGUgcmlnaHQgdmVydGljYWwgYmFyIChCKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYm90dG9tSGVpZ2h0PTEwXSAtIHNpemUgb2YgdGhlIGJvdHRvbSBob3Jpem9udGFsIGJhciAoRClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOaW5lU2xpY2VQbGFuZSh0ZXh0dXJlLCBsZWZ0V2lkdGgsIHRvcEhlaWdodCwgcmlnaHRXaWR0aCwgYm90dG9tSGVpZ2h0KSB7XG4gICAgICAgIGlmIChsZWZ0V2lkdGggPT09IHZvaWQgMCkgeyBsZWZ0V2lkdGggPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIGlmICh0b3BIZWlnaHQgPT09IHZvaWQgMCkgeyB0b3BIZWlnaHQgPSBERUZBVUxUX0JPUkRFUl9TSVpFOyB9XG4gICAgICAgIGlmIChyaWdodFdpZHRoID09PSB2b2lkIDApIHsgcmlnaHRXaWR0aCA9IERFRkFVTFRfQk9SREVSX1NJWkU7IH1cbiAgICAgICAgaWYgKGJvdHRvbUhlaWdodCA9PT0gdm9pZCAwKSB7IGJvdHRvbUhlaWdodCA9IERFRkFVTFRfQk9SREVSX1NJWkU7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgVGV4dHVyZS5XSElURSwgNCwgNCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgX3RoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSBfdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IF90aGlzLl9vcmlnSGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtbiAoYSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2xlZnRXaWR0aCA9IGxlZnRXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uIChiKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcmlnaHRXaWR0aCA9IHJpZ2h0V2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93IChjKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdG9wSGVpZ2h0ID0gdG9wSGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvdyAoZClcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JvdHRvbUhlaWdodCA9IGJvdHRvbUhlaWdodDtcbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS50ZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwidmVydGljZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBob3Jpem9udGFsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZ2V0TWluU2NhbGUoKTtcbiAgICAgICAgdmVydGljZXNbOV0gPSB2ZXJ0aWNlc1sxMV0gPSB2ZXJ0aWNlc1sxM10gPSB2ZXJ0aWNlc1sxNV0gPSB0aGlzLl90b3BIZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbMTddID0gdmVydGljZXNbMTldID0gdmVydGljZXNbMjFdID0gdmVydGljZXNbMjNdID0gdGhpcy5faGVpZ2h0IC0gKHRoaXMuX2JvdHRvbUhlaWdodCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbMjVdID0gdmVydGljZXNbMjddID0gdmVydGljZXNbMjldID0gdmVydGljZXNbMzFdID0gdGhpcy5faGVpZ2h0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmVydGljYWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlVmVydGljYWxWZXJ0aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZ2V0TWluU2NhbGUoKTtcbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1sxMF0gPSB2ZXJ0aWNlc1sxOF0gPSB2ZXJ0aWNlc1syNl0gPSB0aGlzLl9sZWZ0V2lkdGggKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbNF0gPSB2ZXJ0aWNlc1sxMl0gPSB2ZXJ0aWNlc1syMF0gPSB2ZXJ0aWNlc1syOF0gPSB0aGlzLl93aWR0aCAtICh0aGlzLl9yaWdodFdpZHRoICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1s2XSA9IHZlcnRpY2VzWzE0XSA9IHZlcnRpY2VzWzIyXSA9IHZlcnRpY2VzWzMwXSA9IHRoaXMuX3dpZHRoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc21hbGxlciBvZiBhIHNldCBvZiB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FsZSBvZiBuaW5lIHNsaWNlIGNvcm5lcnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFNtYWxsZXIgbnVtYmVyIG9mIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsIHNjYWxlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLl9nZXRNaW5TY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHcgPSB0aGlzLl9sZWZ0V2lkdGggKyB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB2YXIgc2NhbGVXID0gdGhpcy5fd2lkdGggPiB3ID8gMS4wIDogdGhpcy5fd2lkdGggLyB3O1xuICAgICAgICB2YXIgaCA9IHRoaXMuX3RvcEhlaWdodCArIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgdmFyIHNjYWxlSCA9IHRoaXMuX2hlaWdodCA+IGggPyAxLjAgOiB0aGlzLl9oZWlnaHQgLyBoO1xuICAgICAgICB2YXIgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVcsIHNjYWxlSCk7XG4gICAgICAgIHJldHVybiBzY2FsZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwid2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcImxlZnRXaWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJyaWdodFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9yaWdodFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcInRvcEhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RvcEhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJib3R0b21IZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBOaW5lU2xpY2VQbGFuZSBjb29yZHMuIEFsbCBvZiB0aGVtLlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0uZGF0YTtcbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIF91dncgPSAxLjAgLyB0aGlzLl9vcmlnV2lkdGg7XG4gICAgICAgIHZhciBfdXZoID0gMS4wIC8gdGhpcy5fb3JpZ0hlaWdodDtcbiAgICAgICAgdXZzWzBdID0gdXZzWzhdID0gdXZzWzE2XSA9IHV2c1syNF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSB1dnNbM10gPSB1dnNbNV0gPSB1dnNbN10gPSAwO1xuICAgICAgICB1dnNbNl0gPSB1dnNbMTRdID0gdXZzWzIyXSA9IHV2c1szMF0gPSAxO1xuICAgICAgICB1dnNbMjVdID0gdXZzWzI3XSA9IHV2c1syOV0gPSB1dnNbMzFdID0gMTtcbiAgICAgICAgdXZzWzJdID0gdXZzWzEwXSA9IHV2c1sxOF0gPSB1dnNbMjZdID0gX3V2dyAqIHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgdXZzWzRdID0gdXZzWzEyXSA9IHV2c1syMF0gPSB1dnNbMjhdID0gMSAtIChfdXZ3ICogdGhpcy5fcmlnaHRXaWR0aCk7XG4gICAgICAgIHV2c1s5XSA9IHV2c1sxMV0gPSB1dnNbMTNdID0gdXZzWzE1XSA9IF91dmggKiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgICAgIHV2c1sxN10gPSB1dnNbMTldID0gdXZzWzIxXSA9IHV2c1syM10gPSAxIC0gKF91dmggKiB0aGlzLl9ib3R0b21IZWlnaHQpO1xuICAgICAgICB0aGlzLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gTmluZVNsaWNlUGxhbmU7XG59KFNpbXBsZVBsYW5lKSk7XG5cbmV4cG9ydCB7IE5pbmVTbGljZVBsYW5lLCBQbGFuZUdlb21ldHJ5LCBSb3BlR2VvbWV0cnksIFNpbXBsZU1lc2gsIFNpbXBsZVBsYW5lLCBTaW1wbGVSb3BlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLWV4dHJhcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlLWFuaW1hdGVkIC0gdjUuMy44XG4gKiBDb21waWxlZCBTYXQsIDIwIEZlYiAyMDIxIDIyOjI4OjMzIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZS1hbmltYXRlZCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEFuIEFuaW1hdGVkU3ByaXRlIGlzIGEgc2ltcGxlIHdheSB0byBkaXNwbGF5IGFuIGFuaW1hdGlvbiBkZXBpY3RlZCBieSBhIGxpc3Qgb2YgdGV4dHVyZXMuXG4gKlxuICogYGBganNcbiAqIGxldCBhbGllbkltYWdlcyA9IFtcImltYWdlX3NlcXVlbmNlXzAxLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDIucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMy5wbmdcIixcImltYWdlX3NlcXVlbmNlXzA0LnBuZ1wiXTtcbiAqIGxldCB0ZXh0dXJlQXJyYXkgPSBbXTtcbiAqXG4gKiBmb3IgKGxldCBpPTA7IGkgPCA0OyBpKyspXG4gKiB7XG4gKiAgICAgIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oYWxpZW5JbWFnZXNbaV0pO1xuICogICAgICB0ZXh0dXJlQXJyYXkucHVzaCh0ZXh0dXJlKTtcbiAqIH07XG4gKlxuICogbGV0IGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUodGV4dHVyZUFycmF5KTtcbiAqIGBgYFxuICpcbiAqIFRoZSBtb3JlIGVmZmljaWVudCBhbmQgc2ltcGxlciB3YXkgdG8gY3JlYXRlIGFuIGFuaW1hdGVkIHNwcml0ZSBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fVxuICogY29udGFpbmluZyB0aGUgYW5pbWF0aW9uIGRlZmluaXRpb25zOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgYW5pbWF0ZWRTcHJpdGUgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZShzaGVldC5hbmltYXRpb25zW1wiaW1hZ2Vfc2VxdWVuY2VcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBbmltYXRlZFNwcml0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQW5pbWF0ZWRTcHJpdGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVbXXxQSVhJLkFuaW1hdGVkU3ByaXRlLkZyYW1lT2JqZWN0W119IHRleHR1cmVzIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuVGV4dHVyZX0gb3IgZnJhbWVcbiAgICAgKiAgb2JqZWN0cyB0aGF0IG1ha2UgdXAgdGhlIGFuaW1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvVXBkYXRlPXRydWVdIC0gV2hldGhlciB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzLCBhdXRvVXBkYXRlKSB7XG4gICAgICAgIGlmIChhdXRvVXBkYXRlID09PSB2b2lkIDApIHsgYXV0b1VwZGF0ZSA9IHRydWU7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdGV4dHVyZXNbMF0gaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc1swXS50ZXh0dXJlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHR1cmVzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHVzZXMgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2F1dG9VcGRhdGUgPSBhdXRvVXBkYXRlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZSBpbnN0YW5jZSBpcyBjdXJyZW50bHkgY29ubmVjdGVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlciA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNwZWVkIHRoYXQgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgcGxheSBhdC4gSGlnaGVyIGlzIGZhc3RlciwgbG93ZXIgaXMgc2xvd2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGlvblNwZWVkID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRlIHNwcml0ZSByZXBlYXRzIGFmdGVyIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxvb3AgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGFuY2hvciB0byBbVGV4dHVyZSdzIGRlZmF1bHRBbmNob3Jde0BsaW5rIFBJWEkuVGV4dHVyZSNkZWZhdWx0QW5jaG9yfSB3aGVuIGZyYW1lIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFVzZWZ1bCB3aXRoIFtzcHJpdGUgc2hlZXQgYW5pbWF0aW9uc117QGxpbmsgUElYSS5TcHJpdGVzaGVldCNhbmltYXRpb25zfSBjcmVhdGVkIHdpdGggdG9vbHMuXG4gICAgICAgICAqIENoYW5naW5nIGFuY2hvciBmb3IgZWFjaCBmcmFtZSBhbGxvd3MgdG8gcGluIHNwcml0ZSBvcmlnaW4gdG8gY2VydGFpbiBtb3ZpbmcgZmVhdHVyZVxuICAgICAgICAgKiBvZiB0aGUgZnJhbWUgKGUuZy4gbGVmdCBmb290KS5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogRW5hYmxpbmcgdGhpcyB3aWxsIG92ZXJyaWRlIGFueSBwcmV2aW91c2x5IHNldCBgYW5jaG9yYCBvbiBlYWNoIGZyYW1lIGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnVwZGF0ZUFuY2hvciA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlci1hc3NpZ25lZCBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gQW5pbWF0ZWRTcHJpdGUgZmluaXNoZXMgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogYW5pbWF0aW9uLm9uQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgLy8gZmluaXNoZWQhXG4gICAgICAgICAqIH07XG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Db21wbGV0ZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyLWFzc2lnbmVkIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhbiBBbmltYXRlZFNwcml0ZSBjaGFuZ2VzIHdoaWNoIHRleHR1cmUgaXMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGFuaW1hdGlvbi5vbkZyYW1lQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgIC8vIHVwZGF0ZWQhXG4gICAgICAgICAqIH07XG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VyLWFzc2lnbmVkIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBgbG9vcGAgaXMgdHJ1ZSwgYW5kIGFuIEFuaW1hdGVkU3ByaXRlIGlzIHBsYXllZCBhbmRcbiAgICAgICAgICogbG9vcHMgYXJvdW5kIHRvIHN0YXJ0IGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBhbmltYXRpb24ub25Mb29wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgIC8vIGxvb3BlZCFcbiAgICAgICAgICogfTtcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkxvb3AgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogRWxhcHNlZCB0aW1lIHNpbmNlIGFuaW1hdGlvbiBoYXMgYmVlbiBzdGFydGVkLCB1c2VkIGludGVybmFsbHkgdG8gZGlzcGxheSBjdXJyZW50IHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9jdXJyZW50VGltZSA9IDA7XG4gICAgICAgIF90aGlzLl9wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSBpbmRleCB0aGF0IHdhcyBkaXNwbGF5ZWQgbGFzdCB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9wcmV2aW91c0ZyYW1lID0gbnVsbDtcbiAgICAgICAgX3RoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyKSB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBsYXlzIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNDb25uZWN0ZWRUb1RpY2tlcikge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIEZyYW1lIGluZGV4IHRvIHN0b3AgYXQuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRTdG9wID0gZnVuY3Rpb24gKGZyYW1lTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUgYW5kIGJlZ2lucyBwbGF5aW5nIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIEZyYW1lIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kUGxheSA9IGZ1bmN0aW9uIChmcmFtZU51bWJlcikge1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGFwc2VkID0gdGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICAgICAgaWYgKHRoaXMuX2R1cmF0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxhZyA9IHRoaXMuX2N1cnJlbnRUaW1lICUgMSAqIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICBsYWcgKz0gZWxhcHNlZCAvIDYwICogMTAwMDtcbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUtLTtcbiAgICAgICAgICAgICAgICBsYWcgKz0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzaWduID0gTWF0aC5zaWduKHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSkge1xuICAgICAgICAgICAgICAgIGxhZyAtPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdICogc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBzaWduO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gbGFnIC8gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGVsYXBzZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUaW1lIDwgMCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRUaW1lID49IHRoaXMuX3RleHR1cmVzLmxlbmd0aCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb29wICYmIHRoaXMub25Mb29wKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPiAwICYmIHRoaXMuY3VycmVudEZyYW1lIDwgcHJldmlvdXNGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkIDwgMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA+IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZGlzcGxheWVkIHRleHR1cmUgdG8gbWF0Y2ggdGhlIGN1cnJlbnQgZnJhbWUgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIGlmICh0aGlzLl9wcmV2aW91c0ZyYW1lID09PSBjdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcmV2aW91c0ZyYW1lID0gY3VycmVudEZyYW1lO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5fdGV4dHVyZXNbY3VycmVudEZyYW1lXTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuICAgICAgICBpZiAodGhpcy51cGRhdGVBbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh0aGlzLl90ZXh0dXJlLmRlZmF1bHRBbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSh0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZGVzdHJveXMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIElmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkxvb3AgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhbiBBbmltYXRlZFNwcml0ZSBmcm9tIGFuIGFycmF5IG9mIGZyYW1lIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmcmFtZXMgLSBUaGUgYXJyYXkgb2YgZnJhbWVzIGlkcyB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCB1c2UgYXMgaXRzIHRleHR1cmUgZnJhbWVzLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZWQgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBmcmFtZXMuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUZyYW1lcyA9IGZ1bmN0aW9uIChmcmFtZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShmcmFtZXNbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYW4gQW5pbWF0ZWRTcHJpdGUgZnJvbSBhbiBhcnJheSBvZiBpbWFnZSBpZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gaW1hZ2VzIC0gVGhlIGFycmF5IG9mIGltYWdlIHVybHMgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkFuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGUgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBpbWFnZXMgYXMgZnJhbWVzLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLmZyb21JbWFnZXMgPSBmdW5jdGlvbiAoaW1hZ2VzKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaChUZXh0dXJlLmZyb20oaW1hZ2VzW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcInRvdGFsRnJhbWVzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgZnJhbWVzIGluIHRoZSBBbmltYXRlZFNwcml0ZS4gVGhpcyBpcyB0aGUgc2FtZSBhcyBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgICAgICogYXNzaWduZWQgdG8gdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcInRleHR1cmVzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiB0ZXh0dXJlcyB1c2VkIGZvciB0aGlzIEFuaW1hdGVkU3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVbXXxQSVhJLkFuaW1hdGVkU3ByaXRlLkZyYW1lT2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCh2YWx1ZVtpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcHJldmlvdXNGcmFtZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBcImN1cnJlbnRGcmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAqIFRoZSBBbmltYXRlZFNwcml0ZXMgY3VycmVudCBmcmFtZSBpbmRleC5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSkgJSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY3VycmVudEZyYW1lIDwgMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRGcmFtZSArPSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEZyYW1lO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgXCJwbGF5aW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgQW5pbWF0ZWRTcHJpdGUgaXMgY3VycmVudGx5IHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGxheWluZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIFwiYXV0b1VwZGF0ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRvIHVzZSBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Nvbm5lY3RlZFRvVGlja2VyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgJiYgdGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQ29ubmVjdGVkVG9UaWNrZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBBbmltYXRlZFNwcml0ZTtcbn0oU3ByaXRlKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkFuaW1hdGVkU3ByaXRlXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGcmFtZU9iamVjdFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHtAbGluayBQSVhJLlRleHR1cmV9IG9mIHRoZSBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWUgLSB0aGUgZHVyYXRpb24gb2YgdGhlIGZyYW1lIGluIG1zXG4gKi9cblxuZXhwb3J0IHsgQW5pbWF0ZWRTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS1hbmltYXRlZC5lcy5qcy5tYXBcbiIsIi8qIVxuICogcGl4aS5qcyAtIHY1LjMuOFxuICogQ29tcGlsZWQgU2F0LCAyMCBGZWIgMjAyMSAyMjoyODozMyBVVENcbiAqXG4gKiBwaXhpLmpzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0ICdAcGl4aS9wb2x5ZmlsbCc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJ0BwaXhpL3V0aWxzJztcbmV4cG9ydCB7IHV0aWxzIH07XG5pbXBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciB9IGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5pbXBvcnQgeyBJbnRlcmFjdGlvbk1hbmFnZXIgfSBmcm9tICdAcGl4aS9pbnRlcmFjdGlvbic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9pbnRlcmFjdGlvbic7XG5pbXBvcnQgeyBBcHBsaWNhdGlvbiB9IGZyb20gJ0BwaXhpL2FwcCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9hcHAnO1xuaW1wb3J0IHsgUmVuZGVyZXIsIEJhdGNoUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgRXh0cmFjdCB9IGZyb20gJ0BwaXhpL2V4dHJhY3QnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5pbXBvcnQgeyBMb2FkZXIsIEFwcExvYWRlclBsdWdpbiB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5pbXBvcnQgeyBQYXJ0aWNsZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5pbXBvcnQgeyBQcmVwYXJlIH0gZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmltcG9ydCB7IFNwcml0ZXNoZWV0TG9hZGVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuaW1wb3J0IHsgQml0bWFwRm9udExvYWRlciB9IGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmltcG9ydCB7IFRpY2tlclBsdWdpbiB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQWxwaGFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItYWxwaGEnO1xuaW1wb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfSBmcm9tICdAcGl4aS9maWx0ZXItYmx1cic7XG5pbXBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgnO1xuaW1wb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCc7XG5pbXBvcnQgeyBGWEFBRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWZ4YWEnO1xuaW1wb3J0IHsgTm9pc2VGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItbm9pc2UnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24nO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWF0aCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gtZXh0cmFzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3J1bm5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLWFuaW1hdGVkJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxudmFyIHY1ID0gJzUuMC4wJztcbi8qKlxuICogRGVwcmVjYXRpb25zIChiYWNrd2FyZCBjb21wYXRpYmlsaXRpZXMpIGFyZSBhdXRvbWF0aWNhbGx5IGFwcGxpZWQgZm9yIGJyb3dzZXIgYnVuZGxlc1xuICogaW4gdGhlIFVNRCBtb2R1bGUgZm9ybWF0LiBJZiB1c2luZyBXZWJwYWNrIG9yIFJvbGx1cCwgeW91J2xsIG5lZWQgdG8gYXBwbHkgdGhlc2VcbiAqIGRlcHJlY2F0aW9ucyBtYW51YWxseSBieSBkb2luZyBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG4gKiBQSVhJLnVzZURlcHJlY2F0ZWQoKTsgLy8gTVVTVCBiZSBib3VuZCB0byBuYW1lc3BhY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gdXNlRGVwcmVjYXRlZFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZnVuY3Rpb24gdXNlRGVwcmVjYXRlZCgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICB2YXIgUElYSSA9IHRoaXM7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLlNWR19TSVpFXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBTVkdfU0laRToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLlNWR19TSVpFIHByb3BlcnR5IGhhcyBtb3ZlZCB0byBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5TVkdfU0laRScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNWR1Jlc291cmNlLlNWR19TSVpFO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLlRyYW5zZm9ybVN0YXRpY1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVHJhbnNmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2Zvcm1TdGF0aWM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UcmFuc2Zvcm1TdGF0aWMgY2xhc3MgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuVHJhbnNmb3JtJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtQmFzZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRyYW5zZm9ybUJhc2UgY2xhc3MgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuVHJhbnNmb3JtJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgdGhlIHRyYW5zZm9ybSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBUUkFOU0ZPUk1fTU9ERVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAZW51bSB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gU1RBVElDXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEWU5BTUlDXG4gICAgICAgICAqL1xuICAgICAgICBUUkFOU0ZPUk1fTU9ERToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBTVEFUSUM6IDAsIERZTkFNSUM6IDEgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5XZWJHTFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5SZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgV2ViR0xSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLldlYkdMUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5SZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5DYW52YXNSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQHNlZSBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzUmVuZGVyVGFyZ2V0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAbmFtZSBsb2FkZXJcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnNoYXJlZFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVyIGluc3RhbmNlIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlci5zaGFyZWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLkZpbHRlck1hbmFnZXJcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBGaWx0ZXJNYW5hZ2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRmlsdGVyTWFuYWdlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lc3BhY2UgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLmNhbnZhc1V0aWxzXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNUaW50ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkNhbnZhc1RpbnRlciBuYW1lc3BhY2UgaGFzIG1vdmVkIHRvIFBJWEkuY2FudmFzVXRpbHMnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5jYW52YXNVdGlscztcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlIFBJWEkuR3JvdXBEOFxuICAgICAgICAgKiBAc2VlIFBJWEkuZ3JvdXBEOFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgR3JvdXBEODoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkuR3JvdXBEOCBuYW1lc3BhY2UgaGFzIG1vdmVkIHRvIFBJWEkuZ3JvdXBEOCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLmdyb3VwRDg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5hY2Nlc3NpYmlsaXR5XG4gICAgICogQHNlZSBQSVhJXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKi9cbiAgICBQSVhJLmFjY2Vzc2liaWxpdHkgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmFjY2Vzc2liaWxpdHksIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgICAgICogQHNlZSBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlciBtb3ZlZCB0byBQSVhJLkFjY2Vzc2liaWxpdHlNYW5hZ2VyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5pbnRlcmFjdGlvblxuICAgICAqIEBzZWUgUElYSVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICovXG4gICAgUElYSS5pbnRlcmFjdGlvbiA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuaW50ZXJhY3Rpb24sIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyXG4gICAgICAgICAqL1xuICAgICAgICBJbnRlcmFjdGlvbk1hbmFnZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciBtb3ZlZCB0byBQSVhJLkludGVyYWN0aW9uTWFuYWdlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkludGVyYWN0aW9uTWFuYWdlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgICAgICogQHNlZSBQSVhJLkludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKi9cbiAgICAgICAgSW50ZXJhY3Rpb25EYXRhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGEgbW92ZWQgdG8gUElYSS5JbnRlcmFjdGlvbkRhdGEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5JbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuSW50ZXJhY3Rpb25FdmVudFxuICAgICAgICAgKi9cbiAgICAgICAgSW50ZXJhY3Rpb25FdmVudDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudCBtb3ZlZCB0byBQSVhJLkludGVyYWN0aW9uRXZlbnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5JbnRlcmFjdGlvbkV2ZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkucHJlcGFyZVxuICAgICAqIEBzZWUgUElYSVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICovXG4gICAgUElYSS5wcmVwYXJlID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5wcmVwYXJlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlUHJlcGFyZVxuICAgICAgICAgKi9cbiAgICAgICAgQmFzZVByZXBhcmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdQSVhJLnByZXBhcmUuQmFzZVByZXBhcmUgbW92ZWQgdG8gUElYSS5CYXNlUHJlcGFyZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJhc2VQcmVwYXJlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuUHJlcGFyZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAgICAgKiBAc2VlIFBJWEkuUHJlcGFyZVxuICAgICAgICAgKi9cbiAgICAgICAgUHJlcGFyZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4xJywgJ1BJWEkucHJlcGFyZS5QcmVwYXJlIG1vdmVkIHRvIFBJWEkuUHJlcGFyZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlByZXBhcmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICAgICAqIEBzZWUgUElYSS5DYW52YXNQcmVwYXJlXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNQcmVwYXJlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnUElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmUgbW92ZWQgdG8gUElYSS5DYW52YXNQcmVwYXJlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzUHJlcGFyZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmV4dHJhY3RcbiAgICAgKiBAc2VlIFBJWElcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMVxuICAgICAqL1xuICAgIFBJWEkuZXh0cmFjdCA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuZXh0cmFjdCwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFjdC5FeHRyYWN0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMi4xXG4gICAgICAgICAqIEBzZWUgUElYSS5FeHRyYWN0XG4gICAgICAgICAqL1xuICAgICAgICBFeHRyYWN0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjEnLCAnUElYSS5leHRyYWN0LkV4dHJhY3QgbW92ZWQgdG8gUElYSS5FeHRyYWN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuRXh0cmFjdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYWN0LkNhbnZhc0V4dHJhY3RcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjFcbiAgICAgICAgICogQHNlZSBQSVhJLkNhbnZhc0V4dHJhY3RcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc0V4dHJhY3Q6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMScsICdQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdCBtb3ZlZCB0byBQSVhJLkNhbnZhc0V4dHJhY3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5DYW52YXNFeHRyYWN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkLiBBbGwgY2xhc3NlcyBwcmV2aW91cyBuZXN0ZWRcbiAgICAgKiB1bmRlciB0aGlzIG5hbWVzcGFjZSBoYXZlIGJlZW4gbW92ZWQgdG8gdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5leHRyYXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkuZXh0cmFzID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5leHRyYXMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWxpbmdTcHJpdGUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBBbmltYXRlZFNwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5BbmltYXRlZFNwcml0ZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCaXRtYXBUZXh0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLkJpdG1hcFRleHQgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQml0bWFwVGV4dCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcFRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21GcmFtZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tXG4gICAgICovXG4gICAgUElYSS5UaWxpbmdTcHJpdGUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lKGZyYW1lSWQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1RpbGluZ1Nwcml0ZS5mcm9tRnJhbWUgaXMgZGVwcmVjYXRlZCwgdXNlIFRpbGluZ1Nwcml0ZS5mcm9tJyk7XG4gICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tKGZyYW1lSWQsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGlsaW5nU3ByaXRlLmZyb21JbWFnZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZS5mcm9tXG4gICAgICovXG4gICAgUElYSS5UaWxpbmdTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlSWQsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1RpbGluZ1Nwcml0ZS5mcm9tSW1hZ2UgaXMgZGVwcmVjYXRlZCwgdXNlIFRpbGluZ1Nwcml0ZS5mcm9tJyk7XG4gICAgICAgIC8vIEZhbGxiYWNrIHN1cHBvcnQgZm9yIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUgcGFyYW1ldGVyc1xuICAgICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogYXJndW1lbnRzWzRdLFxuICAgICAgICAgICAgICAgIHJlc291cmNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBhcmd1bWVudHNbM10sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBvcHRpb25zLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlLmZyb20oaW1hZ2VJZCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnV0aWxzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS51dGlscy5nZXRTdmdTaXplXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U3ZnU2l6ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLmdldFN2Z1NpemUgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemUnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQWxsIGNsYXNzZXMgb24gdGhpcyBuYW1lc3BhY2UgaGF2ZSBtb3ZlZCB0byB0aGUgaGlnaC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5tZXNoXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLm1lc2ggPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLm1lc2gsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTWVzaFxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlTWVzaFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzaDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTWVzaCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVNZXNoJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlTWVzaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk5pbmVTbGljZVBsYW5lXG4gICAgICAgICAqIEBzZWUgUElYSS5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTmluZVNsaWNlUGxhbmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk5pbmVTbGljZVBsYW5lIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk5pbmVTbGljZVBsYW5lJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTmluZVNsaWNlUGxhbmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5QbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFBsYW5lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5QbGFuZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVQbGFuZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZVBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUm9wZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlUm9wZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUm9wZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUm9wZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVSb3BlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlUm9wZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlJhd01lc2hcbiAgICAgICAgICogQHNlZSBQSVhJLk1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJhd01lc2g6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlJhd01lc2ggY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTWVzaCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk1lc2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5DYW52YXNNZXNoUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkNhbnZhc01lc2hSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzTWVzaFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5DYW52YXNNZXNoUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTWVzaFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk1lc2hSZW5kZXJlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk1lc2hSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZCBhbmQgaXRlbXMgaGF2ZSBiZWVuIG1vdmVkIHRvXG4gICAgICogdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5wYXJ0aWNsZXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkucGFydGljbGVzID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5wYXJ0aWNsZXMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICovXG4gICAgICAgIFBhcnRpY2xlQ29udGFpbmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlBhcnRpY2xlQ29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUGFydGljbGVDb250YWluZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucGFydGljbGVzLlBhcnRpY2xlUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlUmVuZGVyZXJcbiAgICAgICAgICovXG4gICAgICAgIFBhcnRpY2xlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QYXJ0aWNsZVJlbmRlcmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUGFydGljbGVSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZCBhbmQgaXRlbXMgaGF2ZSBiZWVuIG1vdmVkIHRvXG4gICAgICogdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS50aWNrZXJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkudGlja2VyID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS50aWNrZXIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnRpY2tlci5UaWNrZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlclxuICAgICAgICAgKi9cbiAgICAgICAgVGlja2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudGlja2VyLlRpY2tlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWNrZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWNrZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS50aWNrZXIuc2hhcmVkXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHNoYXJlZDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnRpY2tlci5zaGFyZWQgaW5zdGFuY2UgaGFzIG1vdmVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFsbCBjbGFzc2VzIG9uIHRoaXMgbmFtZXNwYWNlIGhhdmUgbW92ZWQgdG8gdGhlIGhpZ2gtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkubG9hZGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5sb2FkZXJzID0ge307XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5sb2FkZXJzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5sb2FkZXJzLkxvYWRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBMb2FkZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLkxvYWRlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubG9hZGVycy5SZXNvdXJjZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyUmVzb3VyY2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJlc291cmNlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5SZXNvdXJjZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXJSZXNvdXJjZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlclJlc291cmNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuYml0bWFwRm9udFBhcnNlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udExvYWRlci51c2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGJpdG1hcEZvbnRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLmJpdG1hcEZvbnRQYXJzZXIgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuQml0bWFwRm9udExvYWRlci51c2UnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLnBhcnNlQml0bWFwRm9udERhdGFcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlQml0bWFwRm9udERhdGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLnBhcnNlQml0bWFwRm9udERhdGEgZnVuY3Rpb24gaGFzIHJlbW92ZWQnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLnNwcml0ZXNoZWV0UGFyc2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5TcHJpdGVzaGVldExvYWRlci51c2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHNwcml0ZXNoZWV0UGFyc2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5zcHJpdGVzaGVldFBhcnNlciBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2UnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGhcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVzb3VyY2VQYXRoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGggcHJvcGVydHkgaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZVxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIucmVnaXN0ZXJQbHVnaW5cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1pZGRsZXdhcmVcbiAgICAgKi9cbiAgICBQSVhJLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSA9IGZ1bmN0aW9uIGFkZFBpeGlNaWRkbGV3YXJlKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmxvYWRlcnMuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luJyk7XG4gICAgICAgIHJldHVybiBQSVhJLmxvYWRlcnMuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlKCkgfSk7XG4gICAgfTtcbiAgICAvLyBjb252ZW5pZW5jZSBmb3IgY29udmVydGluZyBldmVudCBuYW1lIHRvIHNpZ25hbCBuYW1lXG4gICAgdmFyIGV2ZW50VG9TaWduYWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIFwib25cIiArIGV2ZW50LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZXZlbnQuc2xpY2UoMSk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKFBJWEkuTG9hZGVyLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlIHRoZSBjb3JyZXNwb25kaW5nIHNpZ25hbCwgZS5nLiwgZXZlbnQgYHN0YXJ0YGAgaXMgc2lnbmFsIGBvblN0YXJ0YC5cbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkxvYWRlciNvblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgb246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHNpZ25hbCA9IGV2ZW50VG9TaWduYWwoZXZlbnQpO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsIFwiUElYSS5Mb2FkZXIjb24gaXMgY29tcGxldGVseSBkZXByZWNhdGVkLCB1c2UgUElYSS5Mb2FkZXIjXCIgKyBzaWduYWwgKyBcIi5hZGRcIik7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2UgdGhlIGNvcnJlc3BvbmRpbmcgc2lnbmFsLCBlLmcuLCBldmVudCBgc3RhcnRgYCBpcyBzaWduYWwgYG9uU3RhcnRgLlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuTG9hZGVyI29uY2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG9uY2U6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHNpZ25hbCA9IGV2ZW50VG9TaWduYWwoZXZlbnQpO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsIFwiUElYSS5Mb2FkZXIjb25jZSBpcyBjb21wbGV0ZWx5IGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkxvYWRlciNcIiArIHNpZ25hbCArIFwiLm9uY2VcIik7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2UgdGhlIGNvcnJlc3BvbmRpbmcgc2lnbmFsLCBlLmcuLCBldmVudCBgc3RhcnRgYCBpcyBzaWduYWwgYG9uU3RhcnRgLlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuTG9hZGVyI29mZlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgb2ZmOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBzaWduYWwgPSBldmVudFRvU2lnbmFsKGV2ZW50KTtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCBcIlBJWEkuTG9hZGVyI29mZiBpcyBjb21wbGV0ZWx5IGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkxvYWRlciNcIiArIHNpZ25hbCArIFwiLmRldGFjaFwiKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkV4dHJhY3RcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5leHRyYWN0LCAnV2ViR0xFeHRyYWN0Jywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuRXh0cmFjdCcpO1xuICAgICAgICAgICAgcmV0dXJuIFBJWEkuRXh0cmFjdDtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlByZXBhcmVcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5wcmVwYXJlLCAnV2ViR0xQcmVwYXJlJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QcmVwYXJlJyk7XG4gICAgICAgICAgICByZXR1cm4gUElYSS5QcmVwYXJlO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjX3JlbmRlcldlYkdMXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wgPSBmdW5jdGlvbiBfcmVuZGVyV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5fcmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5fcmVuZGVyJyk7XG4gICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI3JlbmRlcldlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLnJlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIucmVuZGVyJyk7XG4gICAgICAgIHRoaXMucmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5EaXNwbGF5T2JqZWN0I3JlbmRlcldlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuRGlzcGxheU9iamVjdCNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5EaXNwbGF5T2JqZWN0LnJlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5EaXNwbGF5T2JqZWN0LnJlbmRlcicpO1xuICAgICAgICB0aGlzLnJlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZFdlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIucmVuZGVyQWR2YW5jZWRXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLnJlbmRlckFkdmFuY2VkJyk7XG4gICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5zZXR0aW5ncywge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCB0cmFuc2Zvcm0gdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5UUkFOU0ZPUk1fTU9ERX1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UUkFOU0ZPUk1fTU9ERS5TVEFUSUNcbiAgICAgICAgICovXG4gICAgICAgIFRSQU5TRk9STV9NT0RFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc2V0dGluZ3MuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zZXR0aW5ncy5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHZhciBCYXNlVGV4dHVyZUFueSA9IFBJWEkuQmFzZVRleHR1cmU7XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBsb2FkU291cmNlXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmUjXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZUFueS5wcm90b3R5cGUubG9hZFNvdXJjZSA9IGZ1bmN0aW9uIGxvYWRTb3VyY2UoaW1hZ2UpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmxvYWRTb3VyY2UgbWV0aG9kIGhhcyBiZWVuIGRlcHJlY2F0ZWQnKTtcbiAgICAgICAgdmFyIHJlc291cmNlID0gUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlKGltYWdlKTtcbiAgICAgICAgcmVzb3VyY2UuaW50ZXJuYWwgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIHZhciBiYXNlVGV4dHVyZUlkRGVwcmVjYXRpb24gPSBmYWxzZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCYXNlVGV4dHVyZUFueS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjaGFzTG9hZGVkXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlI3ZhbGlkXG4gICAgICAgICAqL1xuICAgICAgICBoYXNMb2FkZWQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5oYXNMb2FkZWQgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuQmFzZVRleHR1cmUudmFsaWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YWxpZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI2ltYWdlVXJsXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZSN1cmxcbiAgICAgICAgICovXG4gICAgICAgIGltYWdlVXJsOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnVybCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnJlc291cmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudXJsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnVybCcpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjc291cmNlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2Ujc291cmNlXG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2Uuc291cmNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaWYgeW91IHdhbnQgdG8gc2V0IEhUTUxDYW52YXNFbGVtZW50LiBPdGhlcndpc2UsIGNyZWF0ZSBuZXcgQmFzZVRleHR1cmUuJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjcHJlbXVsdGlwbHlBbHBoYVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSNhbHBoYU1vZGVcbiAgICAgICAgICovXG4gICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgaGFzIGJlZW4gY2hhbmdlZCB0byBgYWxwaGFNb2RlYCdcbiAgICAgICAgICAgICAgICAgICAgKyAnLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGFNb2RlICE9PSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkuQmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSBwcm9wZXJ0eSBoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgJ1xuICAgICAgICAgICAgICAgICAgICArICcsIHNlZSBgUElYSS5BTFBIQV9NT0RFU2AnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFscGhhTW9kZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2ggbG9jYWwgZmllbGQsIHN0b3JlcyBjdXJyZW50IHRleHR1cmUgbG9jYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNfaWRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlI19iYXRjaExvY2F0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICNwb3BlbHlzaGV2OiBUaGF0IHByb3BlcnR5IHdhcyBhIGhvdCBwbGFjZSwgSSBkb24ndCB3YW50IHRvIGNhbGwgZGVwcmVjYXRpb24gbWV0aG9kIG9uIGl0IGlmIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkJhc2VUZXh0dXJlLl9pZCBiYXRjaCBsb2NhbCBmaWVsZCBoYXMgYmVlbiBjaGFuZ2VkIHRvIGBfYmF0Y2hMb2NhdGlvbmAnKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhdGNoTG9jYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iYXRjaExvY2F0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbUltYWdlXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlQW55LmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShjYW52YXMsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNjYWxlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tSW1hZ2UgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG4gICAgICAgIHZhciByZXNvdXJjZU9wdGlvbnMgPSB7IHNjYWxlOiBzY2FsZSwgY3Jvc3NvcmlnaW46IGNyb3Nzb3JpZ2luIH07XG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZUFueS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21DYW52YXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmVBbnkuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21DYW52YXMgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZUFueS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbVNWR1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZUFueS5mcm9tU1ZHID0gZnVuY3Rpb24gZnJvbVNWRyhjYW52YXMsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNjYWxlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tU1ZHIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZTogc2NhbGUsIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbiB9O1xuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmVBbnkuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc291cmNlT3B0aW9uczogcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UjcHJlbXVsdGlwbHlBbHBoYVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZSNhbHBoYU1vZGVcbiAgICAgICAgICovXG4gICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgJ1xuICAgICAgICAgICAgICAgICAgICArICdoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGFNb2RlICE9PSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UucHJlbXVsdGlwbHlBbHBoYSBwcm9wZXJ0eSAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2hhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAsIHNlZSBgUElYSS5BTFBIQV9NT0RFU2AnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFscGhhTW9kZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Qb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Qb2ludC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuUG9pbnQuY29weUZyb20nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weUZyb20ocCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5PYnNlcnZhYmxlUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLk9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocCkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuT2JzZXJ2YWJsZVBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weUZyb20nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weUZyb20ocCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUmVjdGFuZ2xlI2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5SZWN0YW5nbGUjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocCkge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVjdGFuZ2xlLmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5SZWN0YW5nbGUuY29weUZyb20nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weUZyb20ocCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuTWF0cml4I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5NYXRyaXgjY29weVRvXG4gICAgICovXG4gICAgUElYSS5NYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLk1hdHJpeC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuTWF0cml4LmNvcHlUbycpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5VG8ocCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbSNzZXRTdGF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMS4wXG4gICAgICogQHNlZSBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0XG4gICAgICovXG4gICAgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKHMpIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJ3Y1LjEuMCcsICdTdGF0ZVN5c3RlbS5zZXRTdGF0ZSBoYXMgYmVlbiByZW5hbWVkIHRvIFN0YXRlU3lzdGVtLnNldCcpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXQocyk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuRmlsdGVyTWFuYWdlciNnZXRSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2dldEZpbHRlclRleHR1cmVcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlbmRlclRhcmdldDogZnVuY3Rpb24gKF9jbGVhciwgcmVzb2x1dGlvbikge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jZ2V0RmlsdGVyVGV4dHVyZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmlsdGVyVGV4dHVyZShudWxsLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5GaWx0ZXJNYW5hZ2VyI3JldHVyblJlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jcmV0dXJuRmlsdGVyVGV4dHVyZVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuUmVuZGVyVGFyZ2V0OiBmdW5jdGlvbiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdcbiAgICAgICAgICAgICAgICArICdQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnJldHVybkZpbHRlclRleHR1cmUnKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSB0aGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXg6IGZ1bmN0aW9uIChvdXRwdXRNYXRyaXgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHlgIGluc3RlYWQnKTtcbiAgICAgICAgICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuYWN0aXZlU3RhdGUsIHNvdXJjZUZyYW1lID0gX2Euc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgPSBfYS5kZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzb3VyY2VGcmFtZS54IC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCwgc291cmNlRnJhbWUueSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZShkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2NhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4OiBmdW5jdGlvbiAob3V0cHV0TWF0cml4KSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKCh2VGV4dHVyZUNvb3JkICogaW5wdXRTaXplLnh5KSArIG91dHB1dEZyYW1lLnh5KSAvIG91dHB1dEZyYW1lLnp3YCBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5hY3RpdmVTdGF0ZSwgc291cmNlRnJhbWUgPSBfYS5zb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSA9IF9hLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG4gICAgICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNvdXJjZUZyYW1lLnggLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS55IC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVNjYWxlWCA9IChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gc291cmNlRnJhbWUud2lkdGgpO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVNjYWxlWSA9IChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHNvdXJjZUZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUodHJhbnNsYXRlU2NhbGVYLCB0cmFuc2xhdGVTY2FsZVkpO1xuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLlJlbmRlclRleHR1cmUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlclRleHR1cmUjc291cmNlRnJhbWVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZUZyYW1lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyRnJhbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NpemVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJUZXh0dXJlLnNpemUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQGNsYXNzIEJsdXJYRmlsdGVyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3NcbiAgICAgKi9cbiAgICB2YXIgQmx1clhGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhCbHVyWEZpbHRlciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gQmx1clhGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZmlsdGVycy5CbHVyWEZpbHRlciBjbGFzcyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzJyk7XG4gICAgICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRydWUsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB8fCB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbHVyWEZpbHRlcjtcbiAgICB9KFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcykpO1xuICAgIC8qKlxuICAgICAqIEBjbGFzcyBCbHVyWUZpbHRlclxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAgICovXG4gICAgdmFyIEJsdXJZRmlsdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoQmx1cllGaWx0ZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJsdXJZRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmZpbHRlcnMuQmx1cllGaWx0ZXIgY2xhc3MgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuICAgICAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHx8IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEJsdXJZRmlsdGVyO1xuICAgIH0oUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzKSk7XG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLmZpbHRlcnMsIHtcbiAgICAgICAgQmx1clhGaWx0ZXI6IEJsdXJYRmlsdGVyLFxuICAgICAgICBCbHVyWUZpbHRlcjogQmx1cllGaWx0ZXIsXG4gICAgfSk7XG4gICAgdmFyIFNwcml0ZUFueSA9IFBJWEkuU3ByaXRlLCBUZXh0dXJlQW55ID0gUElYSS5UZXh0dXJlLCBHcmFwaGljc0FueSA9IFBJWEkuR3JhcGhpY3M7XG4gICAgLy8gU3VwcG9ydCBmb3IgcGl4aS5qcy1sZWdhY3kgYmlmdXJjYXRpb25cbiAgICAvLyBnaXZlIHVzZXJzIGEgZnJpZW5kbHkgYXNzaXN0IHRvIHVzZSBsZWdhY3lcbiAgICBpZiAoIUdyYXBoaWNzQW55LnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUpIHtcbiAgICAgICAgR3JhcGhpY3NBbnkucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlQ2FudmFzVGV4dHVyZSgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5HcmFwaGljcy5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgbWV0aG9kIGlzIG9ubHkgYXZhaWxhYmxlIGluIFwicGl4aS5qcy1sZWdhY3lcIicpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N9IFBJWEkuR3JhcGhpY3MjZ3JhcGhpY3NEYXRhXG4gICAgICogQHNlZSBQSVhJLkdyYXBoaWNzI2dlb21ldHJ5XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyYXBoaWNzQW55LnByb3RvdHlwZSwgJ2dyYXBoaWNzRGF0YScsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuR3JhcGhpY3MuZ3JhcGhpY3NEYXRhIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkdyYXBoaWNzLmdlb21ldHJ5LmdyYXBoaWNzRGF0YScpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8vIFVzZSB0aGVzZSB0byBkZXByZWNhdGUgYWxsIHRoZSBTcHJpdGUgZnJvbSogbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHNwcml0ZUZyb20obmFtZSwgc291cmNlLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCBcIlBJWEkuU3ByaXRlLlwiICsgbmFtZSArIFwiIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5TcHJpdGUuZnJvbVwiKTtcbiAgICAgICAgcmV0dXJuIFNwcml0ZUFueS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21JbWFnZVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tSW1hZ2UgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21JbWFnZScpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlQW55LmZyb21TVkcgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21TVkcnKTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUNhbnZhc1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tQ2FudmFzID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tQ2FudmFzJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuU3ByaXRlLmZyb21WaWRlb1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZUFueS5mcm9tVmlkZW8gPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21WaWRlbycpO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGVBbnkuZnJvbUZyYW1lID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tRnJhbWUnKTtcbiAgICAvLyBVc2UgdGhlc2UgdG8gZGVwcmVjYXRlIGFsbCB0aGUgVGV4dHVyZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gdGV4dHVyZUZyb20obmFtZSwgc291cmNlLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCBcIlBJWEkuVGV4dHVyZS5cIiArIG5hbWUgKyBcIiBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuVGV4dHVyZS5mcm9tXCIpO1xuICAgICAgICByZXR1cm4gVGV4dHVyZUFueS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2VcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbUltYWdlID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUltYWdlJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlQW55LmZyb21TVkcgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tQ2FudmFzXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlQW55LmZyb21DYW52YXMgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tQ2FudmFzJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tVmlkZW9cbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbVZpZGVvID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbVZpZGVvJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmVBbnkuZnJvbUZyYW1lID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufSBQSVhJLkFic3RyYWN0UmVuZGVyZXIjYXV0b1Jlc2l6ZVxuICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdFJlbmRlcmVyI2F1dG9EZW5zaXR5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsICdhdXRvUmVzaXplJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b0RlbnNpdHknKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dG9EZW5zaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b1Jlc2l6ZSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIFBJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvRGVuc2l0eScpO1xuICAgICAgICAgICAgdGhpcy5hdXRvRGVuc2l0eSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVTeXN0ZW19IFBJWEkuUmVuZGVyZXIjdGV4dHVyZU1hbmFnZXJcbiAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXIjdGV4dHVyZVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLlJlbmRlcmVyLnByb3RvdHlwZSwgJ3RleHR1cmVNYW5hZ2VyJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJlci50ZXh0dXJlTWFuYWdlciBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5SZW5kZXJlci50ZXh0dXJlJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0dXJlO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS51dGlscy5taXhpbnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkudXRpbHMubWl4aW5zID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBtaXhpblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbWl4aW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMubWl4aW4gZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBkZWxheU1peGluXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBkZWxheU1peGluOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLmRlbGF5TWl4aW4gZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBwZXJmb3JtTWl4aW5zXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBwZXJmb3JtTWl4aW5zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLnBlcmZvcm1NaXhpbnMgZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQml0bWFwVGV4dFxuICAgICAqIEBtZW1iZXIge29iamVjdH0gZm9udFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuQml0bWFwVGV4dC5wcm90b3R5cGUsICdmb250Jywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQuZm9udCBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGZvbnROYW1lLCBmb250U2l6ZSwgdGludCBvciBhbGlnbiBwcm9wZXJ0aWVzJyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX2ZvbnROYW1lLFxuICAgICAgICAgICAgICAgIHNpemU6IHRoaXMuX2ZvbnRTaXplLFxuICAgICAgICAgICAgICAgIHRpbnQ6IHRoaXMuX3RpbnQsXG4gICAgICAgICAgICAgICAgYWxpZ246IHRoaXMuX2FsaWduLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQuZm9udCBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGZvbnROYW1lLCBmb250U2l6ZSwgdGludCBvciBhbGlnbiBwcm9wZXJ0aWVzJyk7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0eWxlID0geyBmb250OiB2YWx1ZSB9O1xuICAgICAgICAgICAgdGhpcy5fdXBncmFkZVN0eWxlKHN0eWxlKTtcbiAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplID0gc3R5bGUuZm9udFNpemUgfHwgUElYSS5CaXRtYXBGb250LmF2YWlsYWJsZVtzdHlsZS5mb250TmFtZV0uc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnROYW1lID0gc3R5bGUuZm9udE5hbWU7XG4gICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5cbi8vIEluc3RhbGwgcmVuZGVyZXIgcGx1Z2luc1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIEV4dHJhY3QpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2ludGVyYWN0aW9uJywgSW50ZXJhY3Rpb25NYW5hZ2VyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwYXJ0aWNsZScsIFBhcnRpY2xlUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3ByZXBhcmUnLCBQcmVwYXJlKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdiYXRjaCcsIEJhdGNoUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3RpbGluZ1Nwcml0ZScsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihCaXRtYXBGb250TG9hZGVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihTcHJpdGVzaGVldExvYWRlcik7XG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcbi8qKlxuICogU3RyaW5nIG9mIHRoZSBjdXJyZW50IFBJWEkgdmVyc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBWRVJTSU9OXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG52YXIgVkVSU0lPTiA9ICc1LjMuOCc7XG4vKipcbiAqIEBuYW1lc3BhY2UgUElYSVxuICovXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIFdlYkdMLW9ubHkgZGlzcGxheSBmaWx0ZXJzIHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAqIHRvIERpc3BsYXlPYmplY3RzIHVzaW5nIHRoZSB7QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2ZpbHRlcnMgZmlsdGVyc30gcHJvcGVydHkuXG4gKlxuICogU2luY2UgUGl4aUpTIG9ubHkgaGFkIGEgaGFuZGZ1bCBvZiBidWlsdC1pbiBmaWx0ZXJzLCBhZGRpdGlvbmFsIGZpbHRlcnNcbiAqIGNhbiBiZSBkb3dubG9hZGVkIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZmlsdGVycyBoZXJlfSBmcm9tIHRoZVxuICogUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBBbGwgZmlsdGVycyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5GaWx0ZXJ9LlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gRHJhdyBhIGdyZWVuIHJlY3RhbmdsZVxuICogY29uc3QgcmVjdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4MDBmZjAwKVxuICogICAgIC5kcmF3UmVjdCg0MCwgNDAsIDIwMCwgMjAwKTtcbiAqXG4gKiAvLyBBZGQgYSBibHVyIGZpbHRlclxuICogcmVjdC5maWx0ZXJzID0gW25ldyBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlcigpXTtcbiAqXG4gKiAvLyBEaXNwbGF5IHJlY3RhbmdsZVxuICogYXBwLnN0YWdlLmFkZENoaWxkKHJlY3QpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKiBAbmFtZXNwYWNlIFBJWEkuZmlsdGVyc1xuICovXG52YXIgZmlsdGVycyA9IHtcbiAgICBBbHBoYUZpbHRlcjogQWxwaGFGaWx0ZXIsXG4gICAgQmx1ckZpbHRlcjogQmx1ckZpbHRlcixcbiAgICBCbHVyRmlsdGVyUGFzczogQmx1ckZpbHRlclBhc3MsXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXI6IENvbG9yTWF0cml4RmlsdGVyLFxuICAgIERpc3BsYWNlbWVudEZpbHRlcjogRGlzcGxhY2VtZW50RmlsdGVyLFxuICAgIEZYQUFGaWx0ZXI6IEZYQUFGaWx0ZXIsXG4gICAgTm9pc2VGaWx0ZXI6IE5vaXNlRmlsdGVyLFxufTtcblxuZXhwb3J0IHsgVkVSU0lPTiwgZmlsdGVycywgdXNlRGVwcmVjYXRlZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGl4aS5lcy5qcy5tYXBcbiIsImltcG9ydCB7TWF0cml4fSBmcm9tIFwiLi91dGlscy9NYXRyaXhcIjtcbmltcG9ydCB7R3JpZH0gZnJvbSBcIi4vY29tcG9uZW50cy9HcmlkXCI7XG5pbXBvcnQge0ZhbGxpbmdUZXRyb21pbm99IGZyb20gXCIuL2NvbXBvbmVudHMvRmFsbGluZ1RldHJvbWlub1wiO1xuaW1wb3J0IHtDT0xTLCBST1dTfSBmcm9tIFwiLi9jb25maWcvbGF5b3V0XCI7XG5cbmV4cG9ydCBlbnVtIFRyYW5zZm9ybU9wdGlvbnMge1xuICAgIFJPVEFURSA9IFwiU3BhY2VcIixcbiAgICBET1dOID0gXCJBcnJvd0Rvd25cIixcbiAgICBMRUZUID0gXCJBcnJvd0xlZnRcIixcbiAgICBSSUdIVCA9IFwiQXJyb3dSaWdodFwiXG59XG5cbi8qKlxuICogTWFuYWdlcyBnYW1lIGNvcmUgbG9naWNcbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsIHtcblxuICAgIGNvbnRhaW5lcjogUElYSS5Db250YWluZXI7XG4gICAgZmFsbGluZ1RldHJvbWlubzogRmFsbGluZ1RldHJvbWlubztcbiAgICBncmlkOiBHcmlkO1xuICAgIGlzSW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgIHJlc2V0OiAoKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBQSVhJLkNvbnRhaW5lciwgcmVzZXQ6ICgpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZmFsbGluZ1RldHJvbWlubyA9IG51bGw7XG4gICAgICAgIHRoaXMuZ3JpZCA9IG5ldyBHcmlkKFJPV1MsIENPTFMsIHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5yZXNldCA9IHJlc2V0O1xuICAgIH1cblxuICAgIHNldEludGVyYWN0aXZlKG5ld1ZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNJbnRlcmFjdGl2ZSA9IG5ld1ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBhbGwgcG9zc2libGUgY29sbGlzaW9ucyBmb3IgZ2l2ZW4gdGFyZ2V0XG4gICAgICogQHBhcmFtIHRhcmdldFxuICAgICAqL1xuICAgIGNvbGxpc2lvbih0YXJnZXQ6IE1hdHJpeCkge1xuICAgICAgICBjb25zdCBpc0luQm91bmRzID0gdGFyZ2V0LmlzSW5Cb3VuZHMoQ09MUywgUk9XUyk7XG4gICAgICAgIGNvbnN0IGlzR3JpZENvbGxpc2lvbiA9IHRoaXMuZ3JpZC5jb2xsaXNpb24odGFyZ2V0KTtcblxuICAgICAgICByZXR1cm4gIWlzSW5Cb3VuZHMgfHwgaXNHcmlkQ29sbGlzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZHJhd3MgcGxheSBhcmVhLCBiYXNlZCBvbiBjdXJyZW50IGdhbWUgc3RhdGU6XG4gICAgICovXG4gICAgZHJhd0dhbWVTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5ncmlkLnJlZHJhdygpO1xuICAgICAgICB0aGlzLmZhbGxpbmdUZXRyb21pbm8/LnJlZHJhdygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbCBzdXBwb3J0ZWQgdGV0cm9taW5vIHRyYW5zZm9ybWF0aW9ucyBhcmUgaGFuZGxlZCBoZXJlOlxuICAgICAqIEBwYXJhbSBvcHRpb25cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0ob3B0aW9uOiBUcmFuc2Zvcm1PcHRpb25zKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuZmFsbGluZ1RldHJvbWlubyA9PT0gbnVsbCB8fCAhdGhpcy5pc0ludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG9wdGlvbikge1xuICAgICAgICAgICAgY2FzZSBUcmFuc2Zvcm1PcHRpb25zLkRPV046XG4gICAgICAgICAgICAgICAgdGhpcy50cnlNb3ZlRG93bigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUcmFuc2Zvcm1PcHRpb25zLlJPVEFURTpcbiAgICAgICAgICAgICAgICB0aGlzLnRyeVJvdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUcmFuc2Zvcm1PcHRpb25zLkxFRlQ6XG4gICAgICAgICAgICAgICAgdGhpcy50cnlNb3ZlSG9yaXpvbnRhbGx5KC0xKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHJhbnNmb3JtT3B0aW9ucy5SSUdIVDpcbiAgICAgICAgICAgICAgICB0aGlzLnRyeU1vdmVIb3Jpem9udGFsbHkoMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuc3VwcG9ydGVkIHRyYW5zZm9ybSBvcHRpb24sIGV4cGVjdGVkICR7VHJhbnNmb3JtT3B0aW9uc30sIHdhcyAke29wdGlvbn1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd0dhbWVTdGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRldHJvbWlubyBvbmUgY2VsbCBkb3duLCBpZiBwb3NzaWJsZVxuICAgICAqL1xuICAgIHRyeU1vdmVEb3duKCkge1xuICAgICAgICBpZiAodGhpcy5ncmlkLmNvbGxpc2lvbih0aGlzLmZhbGxpbmdUZXRyb21pbm8uc2hhcGUsIDAsIDEpKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NHcmlkQ29sbGlzaW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZhbGxpbmdUZXRyb21pbm8ubW92ZSgwLCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgcmVhY2hpbmcgdGhlIGdyaWQgZXZlbnQ6XG4gICAgICovXG4gICAgcHJvY2Vzc0dyaWRDb2xsaXNpb24oKSB7XG4gICAgICAgIC8vIHRoZSB0ZXRyb21pbm8gYmVjb21lcyBwYXJ0IG9mIHRoZSBncmlkIG5vdzpcbiAgICAgICAgdGhpcy5ncmlkLmFkZCh0aGlzLmZhbGxpbmdUZXRyb21pbm8uc2hhcGUpO1xuXG4gICAgICAgIC8vIHByZXZlbnRpbmcgaW50ZXJhY3Rpb25zIHdoaWxlIHdpbiByb3dzIGFyZSBidXJuaW5nOlxuICAgICAgICBpZiAodGhpcy5ncmlkLmhhc1dpblJvd3MoKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRJbnRlcmFjdGl2ZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGV0cm9taW5vIGhpdHMgdGhlIGdyaWQgb24gdGhlIHZlcnkgc3RhcnQgLSBnYW1lIGlzIG92ZXIgYXQgdGhpcyBwb2ludDpcbiAgICAgICAgaWYgKHRoaXMuZmFsbGluZ1RldHJvbWluby55ID09PSAwKSB7XG4gICAgICAgICAgICBhbGVydChcIlRvbyBiYWQgOihcIik7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhcmluZyBjdXJyZW50IHRldHJvbWlub1xuICAgICAgICB0aGlzLmZhbGxpbmdUZXRyb21pbm8uaGlkZSgpO1xuICAgICAgICB0aGlzLmZhbGxpbmdUZXRyb21pbm8gPSBudWxsO1xuICAgIH1cblxuICAgIHRyeU1vdmVIb3Jpem9udGFsbHkoZFg6IG51bWJlcikge1xuICAgICAgICAvLyBtb3ZlIGFuZCBjaGVjayBpZiBpdCdzIG9rXG4gICAgICAgIHRoaXMuZmFsbGluZ1RldHJvbWluby5tb3ZlKGRYLCAwKTtcbiAgICAgICAgLy8gaWYgaXQncyBub3QuLi5cbiAgICAgICAgaWYgKHRoaXMuY29sbGlzaW9uKHRoaXMuZmFsbGluZ1RldHJvbWluby5zaGFwZSkpIHtcbiAgICAgICAgICAgIC8vIHRoZW4gcmV2ZXJ0IHRoZSBvcmlnaW5hbCBtb3Zpbmc6XG4gICAgICAgICAgICB0aGlzLmZhbGxpbmdUZXRyb21pbm8ubW92ZSgtZFgsIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJ5Um90YXRlKCkge1xuICAgICAgICAvLyByb3RhdGUgYW5kIGNoZWNrIGlmIGl0J3Mgb2tcbiAgICAgICAgdGhpcy5mYWxsaW5nVGV0cm9taW5vLnNoYXBlLnJvdGF0ZSh0cnVlKTtcbiAgICAgICAgLy8gaWYgaXQncyBub3QuLi5cbiAgICAgICAgaWYgKHRoaXMuY29sbGlzaW9uKHRoaXMuZmFsbGluZ1RldHJvbWluby5zaGFwZSkpIHtcbiAgICAgICAgICAgIC8vIHRoZW4gcmV2ZXJ0IHRoZSBvcmlnaW5hbCByb3RhdGlvbjpcbiAgICAgICAgICAgIHRoaXMuZmFsbGluZ1RldHJvbWluby5zaGFwZS5yb3RhdGUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcblxuZXhwb3J0IGNsYXNzIExvYWRlciB7XG4gICAgbG9hZGVyOiBQSVhJLkxvYWRlcjtcbiAgICBsb2FkaW5nU2NyZWVuOiBQSVhJLlRleHQ7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IFBJWEkuQXBwbGljYXRpb24sIG9uQXNzZXRzTG9hZGVkOiAoKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMubG9hZGVyID0gYXBwLmxvYWRlcjtcbiAgICAgICAgdGhpcy5sb2FkQXNzZXRzKCk7XG4gICAgICAgIHRoaXMubG9hZGVyLmxvYWQoKCkgPT4ge1xuICAgICAgICAgICAgYXBwLnN0YWdlLnJlbW92ZUNoaWxkKHRoaXMubG9hZGluZ1NjcmVlbik7XG4gICAgICAgICAgICBvbkFzc2V0c0xvYWRlZCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUxvYWRpbmdTY3JlZW4oYXBwLnNjcmVlbi53aWR0aCwgYXBwLnNjcmVlbi5oZWlnaHQpO1xuICAgICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5sb2FkaW5nU2NyZWVuKTtcbiAgICB9XG5cbiAgICBsb2FkQXNzZXRzKCkge1xuICAgICAgICB0aGlzLmxvYWRlci5hZGQoJ2JyaWNrJywgJy4vc3JjL2Fzc2V0cy9icmljay5wbmcnKTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUxvYWRpbmdTY3JlZW4oYXBwV2lkdGg6IG51bWJlciwgYXBwSGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAzNixcbiAgICAgICAgICAgIGZpbGw6ICcjZmZmZmZmJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcGxheVRleHQgPSBuZXcgUElYSS5UZXh0KCdMb2FkaW5nLi4uJywgc3R5bGUpO1xuICAgICAgICBwbGF5VGV4dC54ID0gKGFwcFdpZHRoIC0gcGxheVRleHQud2lkdGgpIC8gMjtcbiAgICAgICAgcGxheVRleHQueSA9IChhcHBIZWlnaHQgLSBwbGF5VGV4dC5oZWlnaHQpIC8gMjtcbiAgICAgICAgdGhpcy5sb2FkaW5nU2NyZWVuID0gcGxheVRleHQ7XG4gICAgfVxufVxuIiwiaW50ZXJmYWNlIEZvckVhY2hDZWxsQ2FsbGJhY2sge1xuICAgIChjZWxsVmFsZTogbnVtYmVyLCByb3dJbmRleDogbnVtYmVyLCBjb2x1bW5JbmRleDogbnVtYmVyKTogdm9pZDtcbn1cblxuLyoqXG4gKiBDb250YWlucyBhbGwgdGhlIG1hdHJpeCB0cmFuc2Zvcm1hdGlvbnMgcmVsYXRlZCBsb2dpY1xuICovXG5leHBvcnQgY2xhc3MgTWF0cml4IHtcblxuICAgIG1hdHJpeDogbnVtYmVyW11bXTtcbiAgICBvZmZzZXRzOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG5cbiAgICBjb25zdHJ1Y3Rvcihyb3dzOiBudW1iZXIsIGNvbHM6IG51bWJlciwgaW5pdFZhbHVlPzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbmV3IEFycmF5KHJvd3MpLmZpbGwoW10pXG4gICAgICAgICAgICAubWFwKCgpID0+IG5ldyBBcnJheShjb2xzKS5maWxsKGluaXRWYWx1ZSkpO1xuICAgIH1cblxuICAgIHJlc2V0KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMub2Zmc2V0cyA9IHt4LCB5fTtcbiAgICB9XG5cbiAgICBhcHBseU9mZnNldHMoZFg6IG51bWJlciwgZFk6IG51bWJlcikge1xuICAgICAgICB0aGlzLm9mZnNldHMueCArPSBkWDtcbiAgICAgICAgdGhpcy5vZmZzZXRzLnkgKz0gZFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogMmQgZm9yRWFjaFxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIGZvckVhY2hDZWxsKGNhbGxiYWNrOiBGb3JFYWNoQ2VsbENhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMubWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCBjb2xsSW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhjZWxsLCByb3dJbmRleCwgY29sbEluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGdpdmVuIG1hdHJpeCB0byBjdXJyZW50OlxuICAgICAqIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBhZGQobWF0cml4OiBNYXRyaXgpIHtcbiAgICAgICAgbWF0cml4LmZvckVhY2hDZWxsKChjZWxsLCByb3csIGNvbGwpID0+IHtcbiAgICAgICAgICAgIC8vIHNraXBwaW5nIGVtcHR5IGNlbGxzOlxuICAgICAgICAgICAgaWYgKGNlbGwgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRyaXhbcm93ICsgbWF0cml4Lm9mZnNldHMueV1bY29sbCArIG1hdHJpeC5vZmZzZXRzLnhdID0gY2VsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgbm9uLWVtcHR5IGNlbGxzIG9mIGdpdmVuIG1hdHJpeCBjb2xsaWRlIHdpdGggY3VycmVudCBvbmU6XG4gICAgICogQHBhcmFtIG1hdHJpeCAtIHRoZSBvbmUgdG8gY2hlY2sgY29sbGlzaW9uIHdpdGhcbiAgICAgKiBAcGFyYW0gZFggLSBjdXN0b20gaG9yaXpvbnRhbCBkaXNwbGFjZW1lbnRcbiAgICAgKiBAcGFyYW0gZFkgLSBjdXN0b20gdmVydGljYWwgZGlzcGxhY2VtZW50XG4gICAgICogQHJldHVybiB0cnVlIGlmIGdpdmVuIG1hdHJpeCBjb2xsaWRlcyBjdXJyZW50OlxuICAgICAqL1xuICAgIGNvbGxpc2lvbihtYXRyaXg6IE1hdHJpeCwgZFggPSAwLCBkWSA9IDApIHtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgbWF0cml4Lm1hdHJpeC5sZW5ndGg7IHJvdysrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2xsID0gMDsgY29sbCA8IG1hdHJpeC5tYXRyaXhbcm93XS5sZW5ndGg7IGNvbGwrKykge1xuICAgICAgICAgICAgICAgIGlmIChtYXRyaXgubWF0cml4W3Jvd11bY29sbF0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBjb2xsICsgbWF0cml4Lm9mZnNldHMueCArIGRYO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gcm93ICsgbWF0cml4Lm9mZnNldHMueSArIGRZO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubWF0cml4W3ldIHx8IHRoaXMubWF0cml4W3ldW3hdID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIGFsbCBub24tZW1wdHkgY2VsbHMgZml0IHdpdGhpbiBnaXZlbiBib3VuZGFyaWVzXG4gICAgICogQHBhcmFtIGJvdW5kWFxuICAgICAqIEBwYXJhbSBib3VuZFlcbiAgICAgKi9cbiAgICBpc0luQm91bmRzKGJvdW5kWDogbnVtYmVyLCBib3VuZFk6IG51bWJlcikge1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLm1hdHJpeC5sZW5ndGg7IHJvdysrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2xsID0gMDsgY29sbCA8IHRoaXMubWF0cml4W3Jvd10ubGVuZ3RoOyBjb2xsKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRyaXhbcm93XVtjb2xsXSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IGNvbGwgKyB0aGlzLm9mZnNldHMueDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IHJvdyArIHRoaXMub2Zmc2V0cy55O1xuICAgICAgICAgICAgICAgICAgICBpZiAoeCA8IDAgfHwgeCA+PSBib3VuZFggfHwgeSA+PSBib3VuZFkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSBtYXRyaXhcbiAgICAgKiBAcGFyYW0gY2xvY2tXaXNlIHRydWUgaWYgY2xvY2t3aXNlIHJvdGF0aW9uIGlzIHJlcXVpcmVkXG4gICAgICogQGV4YW1wbGU6XG4gICAgICogIHx4fCB8IHwgICAgICAgICAgICAgIHwgfHh8eHxcbiAgICAgKiAgfHh8IHwgfCAtPiBjbG9ja1dpc2UgfHh8IHwgfFxuICAgICAqICB8IHx4fCB8ICAgICAgICAgICAgICB8IHwgfCB8XG4gICAgICpcbiAgICAgKiAgfHh8IHwgfCAgICAgICAgICAgICAgICAgICAgIHwgfCB8IHxcbiAgICAgKiAgfHh8IHwgfCAtPiBjb3VudGVyQ2xvY2tXaXNlIHwgfCB8eHxcbiAgICAgKiAgfCB8eHwgfCAgICAgICAgICAgICAgICAgICAgIHx4fHh8IHxcbiAgICAgKi9cbiAgICByb3RhdGUoY2xvY2tXaXNlOiBib29sZWFuKSB7XG4gICAgICAgIC8vIHx4fCB8IHwgICAgfHh8eHwgfFxuICAgICAgICAvLyB8eHwgfCB8IC0+IHwgfCB8eHxcbiAgICAgICAgLy8gfCB8eHwgfCAgICB8IHwgfCB8XG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5tYXRyaXgubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgeTsgeCsrKSB7XG4gICAgICAgICAgICAgICAgW3RoaXMubWF0cml4W3hdW3ldLCB0aGlzLm1hdHJpeFt5XVt4XV0gPSBbdGhpcy5tYXRyaXhbeV1beF0sIHRoaXMubWF0cml4W3hdW3ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNsb2NrV2lzZSA/XG4gICAgICAgICAgICB0aGlzLm1hdHJpeC5mb3JFYWNoKChyb3cgPT4gcm93LnJldmVyc2UoKSkpIDpcbiAgICAgICAgICAgIHRoaXMubWF0cml4LnJldmVyc2UoKTtcbiAgICB9XG5cbiAgICBjbG9uZSgpe1xuICAgICAgICByZXR1cm4gTWF0cml4LmZyb20yZEFycmF5KHRoaXMubWF0cml4KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbTJkQXJyYXkoYXJyOiBudW1iZXJbXVtdKSB7XG4gICAgICAgIC8vIGp1c3QgYSBkdW1teSB2YWx1ZSwgd2lsbCBiZSByZXBsYWNlZCB3aXRoIGFjdHVhbCAyZCBhcnJheTpcbiAgICAgICAgY29uc3QgbWF0cml4ID0gbmV3IE1hdHJpeCgwLCAwKTtcbiAgICAgICAgbWF0cml4Lm1hdHJpeCA9IGFyci5tYXAoaW5uZXJBcnJheSA9PiBpbm5lckFycmF5LnNsaWNlKCkpO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBCTE9DS19TSURFX0xFTkdUSCA9IDQ1O1xuZXhwb3J0IGNvbnN0IFJPV1MgPSAyMDtcbmV4cG9ydCBjb25zdCBDT0xTID0gMTA7XG5cbmV4cG9ydCBjb25zdCBpbmZvUGFuZWxMYXlvdXQgPSB7XG4gICAgV0lEVEg6IDMwMCxcbiAgICBORVhUOiAyMDAsXG4gICAgTEVWRUw6IDQxMCxcbiAgICBCVVJOUzogNjAwLFxuICAgIFRJVExFX09GRlNFVDogLTI1XG59O1xuXG5leHBvcnQgY29uc3QgbGF5b3V0ID0ge1xuICAgIHdpZHRoOiBDT0xTICogQkxPQ0tfU0lERV9MRU5HVEggKyBpbmZvUGFuZWxMYXlvdXQuV0lEVEgsXG4gICAgaGVpZ2h0OiBST1dTICogQkxPQ0tfU0lERV9MRU5HVEhcbn07XG4iLCJleHBvcnQgY29uc3QgQ09MT1JTID0gW1xuICAgIDB4MDAwMDAwLFxuICAgIDB4RkYwMDAwLFxuICAgIDB4MDBGRjAwLFxuICAgIDB4MDAwMEZGLFxuICAgIDB4RkZGRjAwLFxuICAgIDB4MDBGRkZGLFxuICAgIDB4MTBGRjAxLFxuICAgIDB4RjAwMEZGLFxuICAgIDB4MDAwMDAwXG5dO1xuIiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCB7TWF0cml4fSBmcm9tIFwiLi4vdXRpbHMvTWF0cml4XCI7XG5pbXBvcnQge0JMT0NLX1NJREVfTEVOR1RIfSBmcm9tIFwiLi4vY29uZmlnL2xheW91dFwiO1xuaW1wb3J0IHtDT0xPUlN9IGZyb20gXCIuLi9jb25maWcvY29sb3JzXCI7XG5cbmV4cG9ydCBjbGFzcyBHcmlkIGV4dGVuZHMgTWF0cml4IHtcblxuICAgIFdJTl9DT0xPUiA9IDg7XG4gICAgRU1QVFlfQ09MT1IgPSAwO1xuICAgIGNvbHM6IG51bWJlcjtcbiAgICByb3dzOiBudW1iZXI7XG4gICAgZ2Z4OiBQSVhJLkdyYXBoaWNzO1xuXG4gICAgY29uc3RydWN0b3Iocm93czogbnVtYmVyLCBjb2xzOiBudW1iZXIsIHBhcmVudDogUElYSS5Db250YWluZXIpIHtcbiAgICAgICAgc3VwZXIocm93cywgY29scywgMCk7XG4gICAgICAgIHRoaXMuY29scyA9IGNvbHM7XG4gICAgICAgIHRoaXMucm93cyA9IHJvd3M7XG4gICAgICAgIHRoaXMuZ2Z4ID0gdGhpcy5pbml0Q2VsbHNHRlgocGFyZW50KTtcbiAgICAgICAgdGhpcy5hZGRGcmFtZShwYXJlbnQpO1xuICAgIH1cblxuICAgIC8vPGVkaXRvci1mb2xkIGRlc2M9XCJJTklUXCI+XG4gICAgLyoqXG4gICAgICogUElYSS5HcmFwaGljcyB0byByZW5kZXIgY2VsbHMgb246XG4gICAgICogQHBhcmFtIHBhcmVudFxuICAgICAqL1xuICAgIGluaXRDZWxsc0dGWChwYXJlbnQ6IFBJWEkuQ29udGFpbmVyKXtcbiAgICAgICAgY29uc3QgY2VsbHMgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAvLyBpbnN0ZWFkIG9mIG11bHRpcGx5aW5nIG9uIGV2ZXJ5IHJlZHJhdzpcbiAgICAgICAgY2VsbHMuc2NhbGUuc2V0KEJMT0NLX1NJREVfTEVOR1RIKTtcbiAgICAgICAgcmV0dXJuIHBhcmVudC5hZGRDaGlsZChjZWxscyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSnVzdCBhIGZyYW1lIGFyb3VuZCBwbGF5aW5nIGFyZWFcbiAgICAgKiBAcGFyYW0gcGFyZW50XG4gICAgICovXG4gICAgYWRkRnJhbWUocGFyZW50OiBQSVhJLkNvbnRhaW5lcil7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgZnJhbWUubGluZVN0eWxlKDQsIDB4ZGRhYjdjLCAxKTtcbiAgICAgICAgZnJhbWUuZHJhd1JlY3QoMCwgMCwgdGhpcy5jb2xzICogQkxPQ0tfU0lERV9MRU5HVEgsIHRoaXMucm93cyAqIEJMT0NLX1NJREVfTEVOR1RIKTtcbiAgICAgICAgZnJhbWUuZW5kRmlsbCgpO1xuICAgICAgICBwYXJlbnQuYWRkQ2hpbGQoZnJhbWUpO1xuICAgIH1cbiAgICAvLzwvZWRpdG9yLWZvbGQ+XG5cbiAgICAvLzxlZGl0b3ItZm9sZCBkZXNjPVwiV0lOXCI+XG4gICAgLyoqXG4gICAgICogQHJldHVybiBhcnJheSBvZiByb3dzIGluZGV4ZXMsIHRoYXQgdGhhdCBoYXZlIG5vIGJsYW5rIGJsb2Nrc1xuICAgICAqL1xuICAgIGdldEZpbGxlZFJvd3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hdHJpeC5yZWR1Y2UoKHJlc3VsdCwgY3VycmVudCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQuZXZlcnkoY2VsbCA9PiBjZWxsICE9PSB0aGlzLkVNUFRZX0NPTE9SKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwgW10pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN3aXRjaGluZyB3aW4gcm93cyB0byBcIndpblwiIGNvbG9yXG4gICAgICovXG4gICAgYXBwbHlXaW5Sb3dzKCkge1xuICAgICAgICB0aGlzLmdldEZpbGxlZFJvd3MoKS5mb3JFYWNoKHJvd0luZGV4ID0+IHtcbiAgICAgICAgICAgIHRoaXMubWF0cml4W3Jvd0luZGV4XS5maWxsKHRoaXMuV0lOX0NPTE9SKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFzV2luUm93cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmlsbGVkUm93cygpLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGluZyByaWQgb2YgYWxsIHRoZSB3aW4gcm93cyAoYWRkaW5nIGVtcHR5IG9uZXMgb24gdG9wIGluc3RlYWQpOlxuICAgICAqL1xuICAgIGNsZWFyV2luUm93cygpIHtcbiAgICAgICAgdGhpcy5nZXRGaWxsZWRSb3dzKCkuZm9yRWFjaChyb3dJbmRleCA9PiB7XG4gICAgICAgICAgICB0aGlzLm1hdHJpeC5zcGxpY2Uocm93SW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy5tYXRyaXgudW5zaGlmdChuZXcgQXJyYXkodGhpcy5jb2xzKS5maWxsKHRoaXMuRU1QVFlfQ09MT1IpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vPC9lZGl0b3ItZm9sZD5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcmluZyBjdXJyZW50IGdyaWQgc3RhdGU6XG4gICAgICovXG4gICAgcmVkcmF3KCl7XG4gICAgICAgIHRoaXMuZ2Z4LmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5mb3JFYWNoQ2VsbCgoY2VsbCwgcm93SW5kZXgsIGNvbGxJbmRleCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nZnguYmVnaW5GaWxsKENPTE9SU1tjZWxsXSk7XG4gICAgICAgICAgICAvLyBwcm9wZXIgZGltZW5zaW9ucyBhcmUgaGFuZGxlZCBvbiBnZnggaW5pdGlhbGl6YXRpb246XG4gICAgICAgICAgICB0aGlzLmdmeC5kcmF3UmVjdChjb2xsSW5kZXgsIHJvd0luZGV4LCAxLCAxKTtcbiAgICAgICAgICAgIHRoaXMuZ2Z4LmVuZEZpbGwoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVzZXQoKXtcbiAgICAgICAgdGhpcy5mb3JFYWNoQ2VsbCgoY2VsbCwgcm93SW5kZXgsIGNvbGxJbmRleCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYXRyaXhbcm93SW5kZXhdW2NvbGxJbmRleF0gPSB0aGlzLkVNUFRZX0NPTE9SO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gc2NhbGVUb1dpbmRvdyhjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgLy9GaWd1cmUgb3V0IHRoZSBzY2FsZSBhbW91bnQgb24gZWFjaCBheGlzXG4gICAgY29uc3Qgc2NhbGVYID0gd2luZG93LmlubmVyV2lkdGggLyBjYW52YXMub2Zmc2V0V2lkdGg7XG4gICAgY29uc3Qgc2NhbGVZID0gd2luZG93LmlubmVySGVpZ2h0IC8gY2FudmFzLm9mZnNldEhlaWdodDtcblxuICAgIC8vU2NhbGUgdGhlIGNhbnZhcyBiYXNlZCBvbiB3aGljaGV2ZXIgdmFsdWUgaXMgbGVzczogYHNjYWxlWGAgb3IgYHNjYWxlWWBcbiAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKTtcbiAgICBjYW52YXMuc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZShcIiArIHNjYWxlICsgXCIpXCI7XG59XG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0IHtNYXRyaXh9IGZyb20gXCIuLi91dGlscy9NYXRyaXhcIjtcbmltcG9ydCB7QkxPQ0tfU0lERV9MRU5HVEh9IGZyb20gXCIuLi9jb25maWcvbGF5b3V0XCI7XG5pbXBvcnQge0NPTE9SU30gZnJvbSBcIi4uL2NvbmZpZy9jb2xvcnNcIjtcblxuLyoqXG4gKiBUaGUgXCJ0ZXRyb21pbm9cIi1zaGFwZWQgaXRlbSwgY29uc2lzdGluZyBvZiBzZXBhcmF0ZSBzcHJpdGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXRyb21pbm8gZXh0ZW5kcyBQSVhJLkNvbnRhaW5lcntcbiAgICBzaGFwZTogTWF0cml4O1xuXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBQSVhJLkNvbnRhaW5lcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBwYXJlbnQuYWRkQ2hpbGQodGhpcyk7XG4gICAgICAgIC8vIGFwcGx5aW5nIHNjYWxlIG9uY2UsIG9uIGluaXRcbiAgICAgICAgdGhpcy5zY2FsZS5zZXQoQkxPQ0tfU0lERV9MRU5HVEgpO1xuICAgIH1cblxuICAgIHJlc2V0KHNoYXBlOiBNYXRyaXgpIHtcbiAgICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlQ2hpbGRyZW4oKTtcblxuICAgICAgICB0aGlzLnNldHVwSW1hZ2VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkaW5nIHRoZSBuZWVkZWQgbnVtYmVyIG9mIGJyaWNrcy9wbGFjZWhvbGRlcnMsIGRlcGVuZGluZyBvbiBjdXJyZW50IHNoYXBlOlxuICAgICAqL1xuICAgIHNldHVwSW1hZ2VzKCkge1xuICAgICAgICB0aGlzLnNoYXBlLmZvckVhY2hDZWxsKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSgpO1xuICAgICAgICAgICAgLy8gcHJvcGVyIGRpbWVuc2lvbnMgYXJlIGhhbmRsZWQgb24gaW5pdDpcbiAgICAgICAgICAgIHNwcml0ZS53aWR0aCA9IHNwcml0ZS5oZWlnaHQgPSAxO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChzcHJpdGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGN1cnJlbnQgdGV0cm9taW5vIHNoYXBlOlxuICAgICAqL1xuICAgIHJlZHJhdygpIHtcbiAgICAgICAgbGV0IGNlbGxDb3VudCA9IDA7XG5cbiAgICAgICAgdGhpcy5zaGFwZS5mb3JFYWNoQ2VsbCgoY2VsbCwgcm93LCBjb2xsKSA9PiB7XG4gICAgICAgICAgICAvLyB0aGUgc3ByaXRlcyBhcmUgYWRkZWQgdGhyb3VnaCB0aGUgc2FtZSBsb29wLCB0aGVyZWZvcmUgaXQncyBzYWZlIHRvIHJlbHkgb24gMToxIG1hdGNoOlxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gdGhpcy5nZXRDaGlsZEF0KGNlbGxDb3VudCkgYXMgUElYSS5TcHJpdGU7XG5cbiAgICAgICAgICAgIC8vIDAgc3RhbmRzIGZvciBcImVtcHR5IGNlbGxcIlxuICAgICAgICAgICAgc3ByaXRlLnRleHR1cmUgPSBjZWxsID4gMCA/XG4gICAgICAgICAgICAgICAgUElYSS51dGlscy5UZXh0dXJlQ2FjaGVbXCJicmlja1wiXSA6XG4gICAgICAgICAgICAgICAgUElYSS5UZXh0dXJlLkVNUFRZO1xuXG4gICAgICAgICAgICAvLyBwcm9wZXIgZGltZW5zaW9ucyBhcmUgaGFuZGxlZCBvbiBpbml0OlxuICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uLnNldChjb2xsLCByb3cpO1xuXG4gICAgICAgICAgICAvLyBlYWNoIHNoYXBlIGhhcyBpdCdzIG93biBjb2xvcjpcbiAgICAgICAgICAgIHNwcml0ZS50aW50ID0gQ09MT1JTW2NlbGxdO1xuXG4gICAgICAgICAgICBjZWxsQ291bnQrKztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0U2hhcGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhcGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmFzaWNhbGx5LCBlbXVsYXRpbmcgYW5jaG9yLnggPSAwLjUgZm9yIGNvbnRhaW5lcjpcbiAgICAgKi9cbiAgICBhbGlnblRvQ2VudGVyKCkge1xuICAgICAgICB0aGlzLnggPSAtdGhpcy53aWR0aCAvIDI7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtNYXRyaXh9IGZyb20gXCIuLi91dGlscy9NYXRyaXhcIjtcbmltcG9ydCB7VGV0cm9taW5vfSBmcm9tIFwiLi9UZXRyb21pbm9cIjtcbmltcG9ydCB7QkxPQ0tfU0lERV9MRU5HVEgsIENPTFN9IGZyb20gXCIuLi9jb25maWcvbGF5b3V0XCI7XG5cbmV4cG9ydCBjbGFzcyBGYWxsaW5nVGV0cm9taW5vIGV4dGVuZHMgVGV0cm9taW5vIHtcblxuICAgIHJlc2V0KHNoYXBlOiBNYXRyaXgpIHtcbiAgICAgICAgc3VwZXIucmVzZXQoc2hhcGUpO1xuXG4gICAgICAgIHRoaXMuYWxpZ25Ub0NlbnRlcigpO1xuXG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBsYWNlcyB0ZXRyb21pbm8gdG8gdGhlIGNhbnRlciBvZiBwbGF5IGFyZWE6XG4gICAgICovXG4gICAgYWxpZ25Ub0NlbnRlcigpIHtcbiAgICAgICAgY29uc3QgcGxheUFyZWFDZW50ZXIgPSBNYXRoLmZsb29yKENPTFMgLyAyKTtcbiAgICAgICAgY29uc3Qgc2hhcGVDZW50ZXIgPSBNYXRoLmZsb29yKHRoaXMuc2hhcGUubWF0cml4Lmxlbmd0aCAvIDIpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBwbGF5QXJlYUNlbnRlciAtIHNoYXBlQ2VudGVyO1xuXG4gICAgICAgIHRoaXMueSA9IDA7XG4gICAgICAgIHRoaXMueCA9IGNlbnRlciAqIEJMT0NLX1NJREVfTEVOR1RIO1xuICAgICAgICB0aGlzLnNoYXBlLnJlc2V0KGNlbnRlciwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbHlpbmcgYW55IGNoYW5nZXMgdG8gcG9zaXRpb246XG4gICAgICogQHBhcmFtIGRYIGhvcml6b250YWwgZGlzcGxhY2VtZW50XG4gICAgICogQHBhcmFtIGRZIHZlcnRpY2FsIGRpc3BsYWNlbWVudFxuICAgICAqL1xuICAgIG1vdmUoZFg6IG51bWJlciwgZFk6IG51bWJlcikge1xuICAgICAgICB0aGlzLnggKz0gQkxPQ0tfU0lERV9MRU5HVEggKiBkWDtcbiAgICAgICAgdGhpcy55ICs9IEJMT0NLX1NJREVfTEVOR1RIICogZFk7XG5cbiAgICAgICAgLy8gYXBwbHlpbmcgb2Zmc2V0cyB0byB0aGUgbWF0cml4IChuZWVkZWQgZm9yIGNvbGxpc2lvbnMgY2FsY3VsYXRpb25zKTpcbiAgICAgICAgdGhpcy5zaGFwZS5hcHBseU9mZnNldHMoZFgsIGRZKTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzaG93KCkge1xuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7TWF0cml4fSBmcm9tIFwiLi4vdXRpbHMvTWF0cml4XCI7XG5cbmNvbnN0IFNIQVBFUyA9IFtcbiAgICBbXG4gICAgICAgIFswLCAwLCAwLCAwXSxcbiAgICAgICAgWzEsIDEsIDEsIDFdLFxuICAgICAgICBbMCwgMCwgMCwgMF0sXG4gICAgICAgIFswLCAwLCAwLCAwXVxuICAgIF0sXG4gICAgW1xuICAgICAgICBbMiwgMCwgMF0sXG4gICAgICAgIFsyLCAyLCAyXSxcbiAgICAgICAgWzAsIDAsIDBdLFxuICAgIF0sXG4gICAgW1xuICAgICAgICBbMCwgMCwgM10sXG4gICAgICAgIFszLCAzLCAzXSxcbiAgICAgICAgWzAsIDAsIDBdLFxuICAgIF0sXG4gICAgW1xuICAgICAgICBbNCwgNF0sXG4gICAgICAgIFs0LCA0XSxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgWzAsIDUsIDVdLFxuICAgICAgICBbNSwgNSwgMF0sXG4gICAgICAgIFswLCAwLCAwXSxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgWzAsIDYsIDBdLFxuICAgICAgICBbNiwgNiwgNl0sXG4gICAgICAgIFswLCAwLCAwXSxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgWzcsIDcsIDBdLFxuICAgICAgICBbMCwgNywgN10sXG4gICAgICAgIFswLCAwLCAwXSxcbiAgICBdXG5dLm1hcChhcnIgPT4gTWF0cml4LmZyb20yZEFycmF5KGFycikpO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tU2hhcGUoKSB7XG4gICAgcmV0dXJuIFNIQVBFU1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBTSEFQRVMubGVuZ3RoKV07XG59XG4iLCJleHBvcnQgY29uc3QgdGlja2VyQ29uZmlnID0ge1xuICAgIFJBV19USUNLX0RVUkFUSU9OOiAxMDAwLFxuICAgIEJVUk5TX1BFUl9MRVZFTDogMTAsIC8vIHRoZSBudW1iZXIgb2YgbGluZXMgYnVybmVkIHJlcXVpcmVkIHRvIG1ha2UgaXQgdG8gbmV4dCBsZXZlbFxuICAgIExFVkVMUzogW1xuICAgICAgICAxLFxuICAgICAgICAwLjksXG4gICAgICAgIDAuOCxcbiAgICAgICAgMC43LFxuICAgICAgICAwLjYsXG4gICAgICAgIDAuNSxcbiAgICAgICAgMC40LFxuICAgICAgICAwLjMsXG4gICAgICAgIDAuMyxcbiAgICAgICAgMC4yXG4gICAgXVxufTtcbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5pbXBvcnQge1RldHJvbWlub30gZnJvbSBcIi4vVGV0cm9taW5vXCI7XG5pbXBvcnQge2dldFJhbmRvbVNoYXBlfSBmcm9tIFwiLi4vY29uZmlnL3NoYXBlc1wiO1xuaW1wb3J0IHt0aWNrZXJDb25maWd9IGZyb20gXCIuLi9jb25maWcvdGlja2VyXCI7XG5pbXBvcnQge0JMT0NLX1NJREVfTEVOR1RILCBDT0xTLCBpbmZvUGFuZWxMYXlvdXQsIFJPV1N9IGZyb20gXCIuLi9jb25maWcvbGF5b3V0XCI7XG5cbmV4cG9ydCBjbGFzcyBJbmZvUGFuZWwgZXh0ZW5kcyBQSVhJLkNvbnRhaW5lciB7XG5cbiAgICBuZXh0OiBUZXRyb21pbm87XG4gICAgbGV2ZWxWYWx1ZTogbnVtYmVyO1xuICAgIGJ1cm5zVmFsdWU6IG51bWJlcjtcbiAgICBsZXZlbFRleHQ6IFBJWEkuVGV4dDtcbiAgICBidXJuc1RleHQ6IFBJWEkuVGV4dDtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogUElYSS5Db250YWluZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgcGFyZW50LmFkZENoaWxkKHRoaXMpO1xuICAgICAgICAvLyBwbGF5IGFyZWEgd2lkdGggKyBoYWxmIG9mIHBhbmVsIHdpZHRoICh0byBlbnN1cmUgYWxsIGJsb2NrcyBhcmUgZWFzaWx5IGNlbnRlcmVkIGhvcml6b250YWxseSk6XG4gICAgICAgIHRoaXMueCA9IENPTFMgKiBCTE9DS19TSURFX0xFTkdUSCArIGluZm9QYW5lbExheW91dC5XSURUSCAvIDI7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvLzxlZGl0b3ItZm9sZCBkZXNjPVwiSU5JVFwiPlxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaW5pdEJHKCk7XG4gICAgICAgIHRoaXMubmV4dCA9IHRoaXMuaW5pdE5leHRUZXRyb21pbm8oKTtcbiAgICAgICAgdGhpcy5sZXZlbFRleHQgPSB0aGlzLmluaXRUZXh0QmxvY2soaW5mb1BhbmVsTGF5b3V0LkxFVkVMLCBcIkxFVkVMOlwiKTtcbiAgICAgICAgdGhpcy5idXJuc1RleHQgPSB0aGlzLmluaXRUZXh0QmxvY2soaW5mb1BhbmVsTGF5b3V0LkJVUk5TLCBcIlRPVEFMIEJVUk5TOlwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaW1wbHkgZmlsbGluZyB0aGUgZW50aXJlIGxheW91dCB3aXRoIGNvbG9yXG4gICAgICovXG4gICAgaW5pdEJHKCkge1xuICAgICAgICBjb25zdCBnZnggPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICBnZnguYmVnaW5GaWxsKDB4RkZGRkZGLCAwLjMpO1xuICAgICAgICAvLyB0aGUgZW50aXJlIHBhbmVsIGlzIHNoaWZ0ZWQgYnkgaGFsZiBvZiB0aGUgd2lkdGggaG9yaXpvbnRhbGx5LCBmb3IgZWFzZSBjaGlsZHJlbiBvZiBjZW50ZXJpbmcsXG4gICAgICAgIC8vIGNvbXBlbnNhdGluZyBoZXJlOlxuICAgICAgICBnZnguZHJhd1JlY3QoLWluZm9QYW5lbExheW91dC5XSURUSCAvIDIsIDAsIGluZm9QYW5lbExheW91dC5XSURUSCwgUk9XUyAqIEJMT0NLX1NJREVfTEVOR1RIKTtcbiAgICAgICAgZ2Z4LmVuZEZpbGwoKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChnZngpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBcIk5FWFRcIiBibG9jayB3aXRoIHRldHJvbWlubyB0byBiZSBhZGRlZCBhZnRlciBjdXJyZW50bHkgZmFsbGluZyBpcyBkb25lOlxuICAgICAqL1xuICAgIGluaXROZXh0VGV0cm9taW5vKCkge1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy5hZGRDaGlsZChuZXcgUElYSS5Db250YWluZXIoKSk7XG4gICAgICAgIHdyYXBwZXIueSA9IGluZm9QYW5lbExheW91dC5ORVhUO1xuXG4gICAgICAgIHRoaXMuYWRkVGl0bGUod3JhcHBlciwgXCJORVhUXCIpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVGV0cm9taW5vKHdyYXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRpdGxlICsgdmFsdWUgYmxvY2s6XG4gICAgICogQHBhcmFtIG9mZnNldCB2ZXJ0aWNhbCBvZmZzZXQgb2YgdGhlIGJsb2NrXG4gICAgICogQHBhcmFtIHRpdGxlIG5hbWUgb2YgdGhlIGJsb2NrXG4gICAgICovXG4gICAgaW5pdFRleHRCbG9jayhvZmZzZXQ6IG51bWJlciwgdGl0bGU6IHN0cmluZyl7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLmFkZENoaWxkKG5ldyBQSVhJLkNvbnRhaW5lcigpKTtcbiAgICAgICAgd3JhcHBlci55ID0gb2Zmc2V0O1xuXG4gICAgICAgIHRoaXMuYWRkVGl0bGUod3JhcHBlciwgdGl0bGUpO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gbmV3IFBJWEkuVGV4dChcIlwiLCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVGV0cmlzJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAxMDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdGl0bGUgaXMgYWRkZWQgd2l0aCBuZWdhdGl2ZSBvZmZzZXQsIHRoZXJlZm9yZSBubyBhZGRpdGlvbmFsIHBvc2l0aW9uaW5nIG9mIHZhbHVlIGlzIG5lZWRlZDpcbiAgICAgICAgdmFsdWUuYW5jaG9yLnggPSAwLjU7XG5cbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuYWRkQ2hpbGQodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0aXRsZSB0byB0aGUgYmxvY2sgd2l0aCBwcmVkZWZpbmVkIHZlcnRpY2FsIG5lZ2F0aXZlIG9mZnNldCAodG8gbWFrZSBzdXJlIGl0J3MgXCJvbiB0b3BcIiBvZiBibG9jaydzIHZhbHVlKTpcbiAgICAgKiBAcGFyYW0gYmxvY2tcbiAgICAgKiBAcGFyYW0gdGV4dFxuICAgICAqL1xuICAgIGFkZFRpdGxlKGJsb2NrOiBQSVhJLkNvbnRhaW5lciwgdGV4dDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gYmxvY2suYWRkQ2hpbGQobmV3IFBJWEkuVGV4dCh0ZXh0LCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgICAgICAgZm9udFNpemU6IDM2LFxuICAgICAgICAgICAgZmlsbDogJ3doaXRlJyxcbiAgICAgICAgfSkpO1xuICAgICAgICB0aXRsZS5hbmNob3Iuc2V0KDAuNSk7XG4gICAgICAgIHRpdGxlLnkgPSBpbmZvUGFuZWxMYXlvdXQuVElUTEVfT0ZGU0VUO1xuICAgICAgICByZXR1cm4gYmxvY2suYWRkQ2hpbGQodGl0bGUpO1xuICAgIH1cbiAgICAvLzwvZWRpdG9yLWZvbGQ+XG5cbiAgICBnZXROZXh0U2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHQuZ2V0U2hhcGUoKS5jbG9uZSgpO1xuICAgIH1cblxuICAgIGdldExldmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbFZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbGVjdCB0aGUgbmV4dCB0ZXRyb21pbm8gYW5kIHNob3cgaXQgb24gdGhlIHBhbmVsOlxuICAgICAqL1xuICAgIHVwZGF0ZU5leHRUZXRyb21pbm8oKSB7XG4gICAgICAgIHRoaXMubmV4dC5yZXNldChnZXRSYW5kb21TaGFwZSgpKTtcbiAgICAgICAgdGhpcy5uZXh0LnJlZHJhdygpO1xuICAgICAgICB0aGlzLm5leHQuYWxpZ25Ub0NlbnRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dCBibG9ja3MgdmFsdWVzLCBiYXNlZCBvbiBidXJuZWQgcm93cyBudW1iZXJcbiAgICAgKiBAcGFyYW0gYnVybmVkUm93cyBhZGRlZCBidXJuZWQgcm93c1xuICAgICAqL1xuICAgIHVwZGF0ZVZhbHVlcyhidXJuZWRSb3dzOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5idXJuc1ZhbHVlICs9IGJ1cm5lZFJvd3M7XG4gICAgICAgIGNvbnN0IHJhd0xldmVsc1ZhbHVlID0gTWF0aC5mbG9vcih0aGlzLmJ1cm5zVmFsdWUgLyB0aWNrZXJDb25maWcuQlVSTlNfUEVSX0xFVkVMKTtcbiAgICAgICAgdGhpcy5sZXZlbFZhbHVlID0gTWF0aC5taW4ocmF3TGV2ZWxzVmFsdWUsIHRpY2tlckNvbmZpZy5MRVZFTFMubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgdGhpcy5idXJuc1RleHQudGV4dCA9IHRoaXMuYnVybnNWYWx1ZS50b1N0cmluZygpO1xuICAgICAgICAvLyB1c2VyIGNvdW50cyBmcm9tIDEsIG5vdCBmcm9tIDA6XG4gICAgICAgIHRoaXMubGV2ZWxUZXh0LnRleHQgPSAodGhpcy5sZXZlbFZhbHVlICsgMSkudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcmluZyB0aGUgc3RhdGUgdG8gc3RhcnQgZnJvbSBjbGVhciBzaGVldDpcbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5idXJuc1ZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5sZXZlbFZhbHVlID0gMDtcbiAgICAgICAgdGhpcy51cGRhdGVWYWx1ZXMoMCk7XG4gICAgICAgIHRoaXMudXBkYXRlTmV4dFRldHJvbWlubygpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7dGlja2VyQ29uZmlnfSBmcm9tIFwiLi4vY29uZmlnL3RpY2tlclwiO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBoYW5kbGUgZ2FtZSBzcGVlZCwgYmFzZWQgb24gY3VycmVudCBsZXZlbFxuICovXG5leHBvcnQgY2xhc3MgVGlja2Vye1xuXG4gICAgcmF3VGlja0R1cmF0aW9uOiBudW1iZXI7XG4gICAgbGV2ZWxzOiBudW1iZXJbXTtcbiAgICBjdXJyZW50TGV2ZWw6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogdHlwZW9mIHRpY2tlckNvbmZpZykge1xuICAgICAgICB0aGlzLnJhd1RpY2tEdXJhdGlvbiA9IGNvbmZpZy5SQVdfVElDS19EVVJBVElPTjtcbiAgICAgICAgdGhpcy5sZXZlbHMgPSBjb25maWcuTEVWRUxTO1xuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IHRoaXMubGV2ZWxzWzBdO1xuICAgIH1cblxuICAgIGdldFRpY2tEdXJhdGlvbigpe1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdUaWNrRHVyYXRpb24gKiB0aGlzLmN1cnJlbnRMZXZlbDtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50TGV2ZWwoaW5kZXg6IG51bWJlcil7XG4gICAgICAgIHRoaXMuY3VycmVudExldmVsID0gdGhpcy5sZXZlbHNbaW5kZXhdO1xuICAgIH1cbn1cbiIsImltcG9ydCBHYW1lIGZyb20gXCIuL3RzL0dhbWVcIjtcblxubmV3IEdhbWUoKTtcbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5pbXBvcnQge0xvYWRlcn0gZnJvbSBcIi4vTG9hZGVyXCI7XG5pbXBvcnQge01vZGVsLCBUcmFuc2Zvcm1PcHRpb25zfSBmcm9tIFwiLi9Nb2RlbFwiO1xuaW1wb3J0IHtzY2FsZVRvV2luZG93fSBmcm9tIFwiLi91dGlscy9zY2F0ZVRvV2luZG93XCI7XG5pbXBvcnQge0ZhbGxpbmdUZXRyb21pbm99IGZyb20gXCIuL2NvbXBvbmVudHMvRmFsbGluZ1RldHJvbWlub1wiO1xuaW1wb3J0IHtJbmZvUGFuZWx9IGZyb20gXCIuL2NvbXBvbmVudHMvSW5mb1BhbmVsXCI7XG5pbXBvcnQge1RpY2tlcn0gZnJvbSBcIi4vdXRpbHMvVGlja2VyXCI7XG5pbXBvcnQge3RpY2tlckNvbmZpZ30gZnJvbSBcIi4vY29uZmlnL3RpY2tlclwiO1xuaW1wb3J0IHtsYXlvdXR9IGZyb20gXCIuL2NvbmZpZy9sYXlvdXRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XG5cbiAgICBhcHA6IFBJWEkuQXBwbGljYXRpb247XG4gICAgdGlja2VyOiBUaWNrZXI7XG4gICAgZmFsbGluZ1RldHJvbWlubzogRmFsbGluZ1RldHJvbWlubztcbiAgICBpbmZvUGFuZWw6IEluZm9QYW5lbDtcbiAgICBtb2RlbDogTW9kZWw7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hcHAgPSB0aGlzLmluaXRBcHAoKTtcblxuICAgICAgICBuZXcgTG9hZGVyKHRoaXMuYXBwLCAoKSA9PiB0aGlzLnN0YXJ0KCkpO1xuICAgIH1cblxuICAgIGluaXRBcHAoKSB7XG4gICAgICAgIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKHtcbiAgICAgICAgICAgIHdpZHRoOiBsYXlvdXQud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGxheW91dC5oZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcblxuICAgICAgICAvLyBlbnN1cmluZyB0aGUgZ2FtZSBjb3ZlcnMgZW50aXJlIHNjcmVlbiAod2l0aCBhc3BlY3QgcmF0aW8pIG9uIGdhbWUgc3RhcnQ6XG4gICAgICAgIHNjYWxlVG9XaW5kb3coYXBwLnZpZXcpO1xuXG4gICAgICAgIC8vIGVuc3VyaW5nIHRoZSBnYW1lIGNvdmVycyBlbnRpcmUgc2NyZWVuIG9uIHNjcmVlbiBkaW1lbnNpb25zIGNoYW5nZTpcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgc2NhbGVUb1dpbmRvdyhhcHAudmlldyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgfVxuXG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMudGlja2VyID0gbmV3IFRpY2tlcih0aWNrZXJDb25maWcpO1xuICAgICAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsKHRoaXMuYXBwLnN0YWdlLCAoKSA9PiB0aGlzLnJlc2V0KCkpO1xuICAgICAgICB0aGlzLmZhbGxpbmdUZXRyb21pbm8gPSBuZXcgRmFsbGluZ1RldHJvbWlubyh0aGlzLmFwcC5zdGFnZSk7XG4gICAgICAgIHRoaXMuaW5mb1BhbmVsID0gbmV3IEluZm9QYW5lbCh0aGlzLmFwcC5zdGFnZSk7XG5cbiAgICAgICAgdGhpcy5zZXR1cEludGVyYWN0aW9uKCk7XG5cbiAgICAgICAgLy8gaW5maW5pdGUgYXN5bmMgbG9vcCBvZiBjb25zZWN1dGl2ZSBnYW1lIHN0YXRlczpcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5ncmlkLmhhc1dpblJvd3MoKSA/XG4gICAgICAgICAgICB0aGlzLnBsYXlXaW4oKSA6XG4gICAgICAgICAgICB0aGlzLm1vdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaW5nbGUgY2VsbCBkb3dud2FyZHMgbW90aW9uIChhbmQgZmFsbGluZyBpdGVtIHJlc2V0LCBpZiBuZWVkZWQpXG4gICAgICovXG4gICAgbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwuZmFsbGluZ1RldHJvbWlubyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5mYWxsaW5nVGV0cm9taW5vLnJlc2V0KHRoaXMuaW5mb1BhbmVsLmdldE5leHRTaGFwZSgpKTtcbiAgICAgICAgICAgIHRoaXMuaW5mb1BhbmVsLnVwZGF0ZU5leHRUZXRyb21pbm8oKTtcbiAgICAgICAgICAgIHRoaXMubW9kZWwuZmFsbGluZ1RldHJvbWlubyA9IHRoaXMuZmFsbGluZ1RldHJvbWlubztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW9kZWwudHJhbnNmb3JtKFRyYW5zZm9ybU9wdGlvbnMuRE9XTik7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB0aGlzLnRpY2tlci5nZXRUaWNrRHVyYXRpb24oKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZ2hsaWdodCBjdXJyZW50bHkgd2lubmluZyByb3dzOlxuICAgICAqL1xuICAgIHBsYXlXaW4oKSB7XG4gICAgICAgIC8vIHNldCB3aW5uaW5nIHJvd3Mgb24gbWF0cml4OlxuICAgICAgICB0aGlzLm1vZGVsLmdyaWQuYXBwbHlXaW5Sb3dzKCk7XG4gICAgICAgIC8vIGFuZCByZW5kZXIgdGhlbTpcbiAgICAgICAgdGhpcy5tb2RlbC5kcmF3R2FtZVN0YXRlKCk7XG4gICAgICAgIC8vIHVwZGF0ZSBpbmZvO1xuICAgICAgICB0aGlzLmluZm9QYW5lbC51cGRhdGVWYWx1ZXModGhpcy5tb2RlbC5ncmlkLmdldEZpbGxlZFJvd3MoKS5sZW5ndGgpO1xuICAgICAgICAvLyB1cGRhdGUgZ2FtZSBzcGVlZDpcbiAgICAgICAgdGhpcy50aWNrZXIuc2V0Q3VycmVudExldmVsKHRoaXMuaW5mb1BhbmVsLmdldExldmVsKCkpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5ncmlkLmNsZWFyV2luUm93cygpO1xuICAgICAgICAgICAgLy8gaW50ZXJhY3Rpb24gaXMgZGlzYWJsZWQgZHVyaW5nIHdpbiBwcmVzZW50YXRpb24sIGVuYWJsaW5nIG9uY2UgZG9uZTpcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0SW50ZXJhY3RpdmUodHJ1ZSk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0sIHRoaXMudGlja2VyLmdldFRpY2tEdXJhdGlvbigpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dGluZyBpbml0aWFsIGdhbWUgc3RhdGU6XG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMubW9kZWwuZ3JpZC5yZXNldCgpO1xuICAgICAgICB0aGlzLnRpY2tlci5zZXRDdXJyZW50TGV2ZWwoMCk7XG4gICAgICAgIHRoaXMuaW5mb1BhbmVsLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsIHRoZSB1c2VyIGlucHV0cyBhcmUgaGFuZGxlZCBoZXJlIHNvIGZhcjpcbiAgICAgKi9cbiAgICBzZXR1cEludGVyYWN0aW9uKCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKE9iamVjdC52YWx1ZXMoVHJhbnNmb3JtT3B0aW9ucykuaW5jbHVkZXMoZS5jb2RlIGFzIFRyYW5zZm9ybU9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC50cmFuc2Zvcm0oZS5jb2RlIGFzIFRyYW5zZm9ybU9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=